;(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
/*!
 * FullCalendar v1.6.4
 * Docs & License: http://arshaw.com/fullcalendar/
 * (c) 2013 Adam Shaw
 */

/*
 * Use fullcalendar.css for basic styling.
 * For event drag & drop, requires jQuery UI draggable.
 * For event resizing, requires jQuery UI resizable.
 */
 
(function($, undefined) {


;;

var defaults = {

	// display
	defaultView: 'month',
	aspectRatio: 1.35,
	header: {
		left: 'title',
		center: '',
		right: 'today prev,next'
	},
	weekends: true,
	weekNumbers: false,
	weekNumberCalculation: 'iso',
	weekNumberTitle: 'W',
	
	// editing
	//editable: false,
	//disableDragging: false,
	//disableResizing: false,
	
	allDayDefault: true,
	ignoreTimezone: true,
	
	// event ajax
	lazyFetching: true,
	startParam: 'start',
	endParam: 'end',
	
	// time formats
	titleFormat: {
		month: 'MMMM yyyy',
		week: "MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",
		day: 'dddd, MMM d, yyyy'
	},
	columnFormat: {
		month: 'ddd',
		week: 'ddd M/d',
		day: 'dddd M/d'
	},
	timeFormat: { // for event elements
		'': 'h(:mm)t' // default
	},
	
	// locale
	isRTL: false,
	firstDay: 0,
	monthNames: ['January','February','March','April','May','June','July','August','September','October','November','December'],
	monthNamesShort: ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],
	dayNames: ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],
	dayNamesShort: ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],
	buttonText: {
		prev: "<span class='fc-text-arrow'>&lsaquo;</span>",
		next: "<span class='fc-text-arrow'>&rsaquo;</span>",
		prevYear: "<span class='fc-text-arrow'>&laquo;</span>",
		nextYear: "<span class='fc-text-arrow'>&raquo;</span>",
		today: 'today',
		month: 'month',
		week: 'week',
		day: 'day'
	},
	
	// jquery-ui theming
	theme: false,
	buttonIcons: {
		prev: 'circle-triangle-w',
		next: 'circle-triangle-e'
	},
	
	//selectable: false,
	unselectAuto: true,
	
	dropAccept: '*',
	
	handleWindowResize: true
	
};

// right-to-left defaults
var rtlDefaults = {
	header: {
		left: 'next,prev today',
		center: '',
		right: 'title'
	},
	buttonText: {
		prev: "<span class='fc-text-arrow'>&rsaquo;</span>",
		next: "<span class='fc-text-arrow'>&lsaquo;</span>",
		prevYear: "<span class='fc-text-arrow'>&raquo;</span>",
		nextYear: "<span class='fc-text-arrow'>&laquo;</span>"
	},
	buttonIcons: {
		prev: 'circle-triangle-e',
		next: 'circle-triangle-w'
	}
};



;;

var fc = $.fullCalendar = { version: "1.6.4" };
var fcViews = fc.views = {};


$.fn.fullCalendar = function(options) {


	// method calling
	if (typeof options == 'string') {
		var args = Array.prototype.slice.call(arguments, 1);
		var res;
		this.each(function() {
			var calendar = $.data(this, 'fullCalendar');
			if (calendar && $.isFunction(calendar[options])) {
				var r = calendar[options].apply(calendar, args);
				if (res === undefined) {
					res = r;
				}
				if (options == 'destroy') {
					$.removeData(this, 'fullCalendar');
				}
			}
		});
		if (res !== undefined) {
			return res;
		}
		return this;
	}

	options = options || {};
	
	// would like to have this logic in EventManager, but needs to happen before options are recursively extended
	var eventSources = options.eventSources || [];
	delete options.eventSources;
	if (options.events) {
		eventSources.push(options.events);
		delete options.events;
	}
	

	options = $.extend(true, {},
		defaults,
		(options.isRTL || options.isRTL===undefined && defaults.isRTL) ? rtlDefaults : {},
		options
	);
	
	
	this.each(function(i, _element) {
		var element = $(_element);
		var calendar = new Calendar(element, options, eventSources);
		element.data('fullCalendar', calendar); // TODO: look into memory leak implications
		calendar.render();
	});
	
	
	return this;
	
};


// function for adding/overriding defaults
function setDefaults(d) {
	$.extend(true, defaults, d);
}



;;

 
function Calendar(element, options, eventSources) {
	var t = this;
	
	
	// exports
	t.options = options;
	t.render = render;
	t.destroy = destroy;
	t.refetchEvents = refetchEvents;
	t.reportEvents = reportEvents;
	t.reportEventChange = reportEventChange;
	t.rerenderEvents = rerenderEvents;
	t.changeView = changeView;
	t.select = select;
	t.unselect = unselect;
	t.prev = prev;
	t.next = next;
	t.prevYear = prevYear;
	t.nextYear = nextYear;
	t.today = today;
	t.gotoDate = gotoDate;
	t.incrementDate = incrementDate;
	t.formatDate = function(format, date) { return formatDate(format, date, options) };
	t.formatDates = function(format, date1, date2) { return formatDates(format, date1, date2, options) };
	t.getDate = getDate;
	t.getView = getView;
	t.option = option;
	t.trigger = trigger;
	
	
	// imports
	EventManager.call(t, options, eventSources);
	var isFetchNeeded = t.isFetchNeeded;
	var fetchEvents = t.fetchEvents;
	
	
	// locals
	var _element = element[0];
	var header;
	var headerElement;
	var content;
	var tm; // for making theme classes
	var currentView;
	var elementOuterWidth;
	var suggestedViewHeight;
	var resizeUID = 0;
	var ignoreWindowResize = 0;
	var date = new Date();
	var events = [];
	var _dragElement;
	
	
	
	/* Main Rendering
	-----------------------------------------------------------------------------*/
	
	
	setYMD(date, options.year, options.month, options.date);
	
	
	function render(inc) {
		if (!content) {
			initialRender();
		}
		else if (elementVisible()) {
			// mainly for the public API
			calcSize();
			_renderView(inc);
		}
	}
	
	
	function initialRender() {
		tm = options.theme ? 'ui' : 'fc';
		element.addClass('fc');
		if (options.isRTL) {
			element.addClass('fc-rtl');
		}
		else {
			element.addClass('fc-ltr');
		}
		if (options.theme) {
			element.addClass('ui-widget');
		}

		content = $("<div class='fc-content' style='position:relative'/>")
			.prependTo(element);

		header = new Header(t, options);
		headerElement = header.render();
		if (headerElement) {
			element.prepend(headerElement);
		}

		changeView(options.defaultView);

		if (options.handleWindowResize) {
			$(window).resize(windowResize);
		}

		// needed for IE in a 0x0 iframe, b/c when it is resized, never triggers a windowResize
		if (!bodyVisible()) {
			lateRender();
		}
	}
	
	
	// called when we know the calendar couldn't be rendered when it was initialized,
	// but we think it's ready now
	function lateRender() {
		setTimeout(function() { // IE7 needs this so dimensions are calculated correctly
			if (!currentView.start && bodyVisible()) { // !currentView.start makes sure this never happens more than once
				renderView();
			}
		},0);
	}
	
	
	function destroy() {

		if (currentView) {
			trigger('viewDestroy', currentView, currentView, currentView.element);
			currentView.triggerEventDestroy();
		}

		$(window).unbind('resize', windowResize);

		header.destroy();
		content.remove();
		element.removeClass('fc fc-rtl ui-widget');
	}
	
	
	function elementVisible() {
		return element.is(':visible');
	}
	
	
	function bodyVisible() {
		return $('body').is(':visible');
	}
	
	
	
	/* View Rendering
	-----------------------------------------------------------------------------*/
	

	function changeView(newViewName) {
		if (!currentView || newViewName != currentView.name) {
			_changeView(newViewName);
		}
	}


	function _changeView(newViewName) {
		ignoreWindowResize++;

		if (currentView) {
			trigger('viewDestroy', currentView, currentView, currentView.element);
			unselect();
			currentView.triggerEventDestroy(); // trigger 'eventDestroy' for each event
			freezeContentHeight();
			currentView.element.remove();
			header.deactivateButton(currentView.name);
		}

		header.activateButton(newViewName);

		currentView = new fcViews[newViewName](
			$("<div class='fc-view fc-view-" + newViewName + "' style='position:relative'/>")
				.appendTo(content),
			t // the calendar object
		);

		renderView();
		unfreezeContentHeight();

		ignoreWindowResize--;
	}


	function renderView(inc) {
		if (
			!currentView.start || // never rendered before
			inc || date < currentView.start || date >= currentView.end // or new date range
		) {
			if (elementVisible()) {
				_renderView(inc);
			}
		}
	}


	function _renderView(inc) { // assumes elementVisible
		ignoreWindowResize++;

		if (currentView.start) { // already been rendered?
			trigger('viewDestroy', currentView, currentView, currentView.element);
			unselect();
			clearEvents();
		}

		freezeContentHeight();
		currentView.render(date, inc || 0); // the view's render method ONLY renders the skeleton, nothing else
		setSize();
		unfreezeContentHeight();
		(currentView.afterRender || noop)();

		updateTitle();
		updateTodayButton();

		trigger('viewRender', currentView, currentView, currentView.element);
		currentView.trigger('viewDisplay', _element); // deprecated

		ignoreWindowResize--;

		getAndRenderEvents();
	}
	
	

	/* Resizing
	-----------------------------------------------------------------------------*/
	
	
	function updateSize() {
		if (elementVisible()) {
			unselect();
			clearEvents();
			calcSize();
			setSize();
			renderEvents();
		}
	}
	
	
	function calcSize() { // assumes elementVisible
		if (options.contentHeight) {
			suggestedViewHeight = options.contentHeight;
		}
		else if (options.height) {
			suggestedViewHeight = options.height - (headerElement ? headerElement.height() : 0) - vsides(content);
		}
		else {
			suggestedViewHeight = Math.round(content.width() / Math.max(options.aspectRatio, .5));
		}
	}
	
	
	function setSize() { // assumes elementVisible

		if (suggestedViewHeight === undefined) {
			calcSize(); // for first time
				// NOTE: we don't want to recalculate on every renderView because
				// it could result in oscillating heights due to scrollbars.
		}

		ignoreWindowResize++;
		currentView.setHeight(suggestedViewHeight);
		currentView.setWidth(content.width());
		ignoreWindowResize--;

		elementOuterWidth = element.outerWidth();
	}
	
	
	function windowResize() {
		if (!ignoreWindowResize) {
			if (currentView.start) { // view has already been rendered
				var uid = ++resizeUID;
				setTimeout(function() { // add a delay
					if (uid == resizeUID && !ignoreWindowResize && elementVisible()) {
						if (elementOuterWidth != (elementOuterWidth = element.outerWidth())) {
							ignoreWindowResize++; // in case the windowResize callback changes the height
							updateSize();
							currentView.trigger('windowResize', _element);
							ignoreWindowResize--;
						}
					}
				}, 200);
			}else{
				// calendar must have been initialized in a 0x0 iframe that has just been resized
				lateRender();
			}
		}
	}
	
	
	
	/* Event Fetching/Rendering
	-----------------------------------------------------------------------------*/
	// TODO: going forward, most of this stuff should be directly handled by the view


	function refetchEvents() { // can be called as an API method
		clearEvents();
		fetchAndRenderEvents();
	}


	function rerenderEvents(modifiedEventID) { // can be called as an API method
		clearEvents();
		renderEvents(modifiedEventID);
	}


	function renderEvents(modifiedEventID) { // TODO: remove modifiedEventID hack
		if (elementVisible()) {
			currentView.setEventData(events); // for View.js, TODO: unify with renderEvents
			currentView.renderEvents(events, modifiedEventID); // actually render the DOM elements
			currentView.trigger('eventAfterAllRender');
		}
	}


	function clearEvents() {
		currentView.triggerEventDestroy(); // trigger 'eventDestroy' for each event
		currentView.clearEvents(); // actually remove the DOM elements
		currentView.clearEventData(); // for View.js, TODO: unify with clearEvents
	}
	

	function getAndRenderEvents() {
		if (!options.lazyFetching || isFetchNeeded(currentView.visStart, currentView.visEnd)) {
			fetchAndRenderEvents();
		}
		else {
			renderEvents();
		}
	}


	function fetchAndRenderEvents() {
		fetchEvents(currentView.visStart, currentView.visEnd);
			// ... will call reportEvents
			// ... which will call renderEvents
	}

	
	// called when event data arrives
	function reportEvents(_events) {
		events = _events;
		renderEvents();
	}


	// called when a single event's data has been changed
	function reportEventChange(eventID) {
		rerenderEvents(eventID);
	}



	/* Header Updating
	-----------------------------------------------------------------------------*/


	function updateTitle() {
		header.updateTitle(currentView.title);
	}


	function updateTodayButton() {
		var today = new Date();
		if (today >= currentView.start && today < currentView.end) {
			header.disableButton('today');
		}
		else {
			header.enableButton('today');
		}
	}
	


	/* Selection
	-----------------------------------------------------------------------------*/
	

	function select(start, end, allDay) {
		currentView.select(start, end, allDay===undefined ? true : allDay);
	}
	

	function unselect() { // safe to be called before renderView
		if (currentView) {
			currentView.unselect();
		}
	}
	
	
	
	/* Date
	-----------------------------------------------------------------------------*/
	
	
	function prev() {
		renderView(-1);
	}
	
	
	function next() {
		renderView(1);
	}
	
	
	function prevYear() {
		addYears(date, -1);
		renderView();
	}
	
	
	function nextYear() {
		addYears(date, 1);
		renderView();
	}
	
	
	function today() {
		date = new Date();
		renderView();
	}
	
	
	function gotoDate(year, month, dateOfMonth) {
		if (year instanceof Date) {
			date = cloneDate(year); // provided 1 argument, a Date
		}else{
			setYMD(date, year, month, dateOfMonth);
		}
		renderView();
	}
	
	
	function incrementDate(years, months, days) {
		if (years !== undefined) {
			addYears(date, years);
		}
		if (months !== undefined) {
			addMonths(date, months);
		}
		if (days !== undefined) {
			addDays(date, days);
		}
		renderView();
	}
	
	
	function getDate() {
		return cloneDate(date);
	}



	/* Height "Freezing"
	-----------------------------------------------------------------------------*/


	function freezeContentHeight() {
		content.css({
			width: '100%',
			height: content.height(),
			overflow: 'hidden'
		});
	}


	function unfreezeContentHeight() {
		content.css({
			width: '',
			height: '',
			overflow: ''
		});
	}
	
	
	
	/* Misc
	-----------------------------------------------------------------------------*/
	
	
	function getView() {
		return currentView;
	}
	
	
	function option(name, value) {
		if (value === undefined) {
			return options[name];
		}
		if (name == 'height' || name == 'contentHeight' || name == 'aspectRatio') {
			options[name] = value;
			updateSize();
		}
	}
	
	
	function trigger(name, thisObj) {
		if (options[name]) {
			return options[name].apply(
				thisObj || _element,
				Array.prototype.slice.call(arguments, 2)
			);
		}
	}
	
	
	
	/* External Dragging
	------------------------------------------------------------------------*/
	
	if (options.droppable) {
		$(document)
			.bind('dragstart', function(ev, ui) {
				var _e = ev.target;
				var e = $(_e);
				if (!e.parents('.fc').length) { // not already inside a calendar
					var accept = options.dropAccept;
					if ($.isFunction(accept) ? accept.call(_e, e) : e.is(accept)) {
						_dragElement = _e;
						currentView.dragStart(_dragElement, ev, ui);
					}
				}
			})
			.bind('dragstop', function(ev, ui) {
				if (_dragElement) {
					currentView.dragStop(_dragElement, ev, ui);
					_dragElement = null;
				}
			});
	}
	

}

;;

function Header(calendar, options) {
	var t = this;
	
	
	// exports
	t.render = render;
	t.destroy = destroy;
	t.updateTitle = updateTitle;
	t.activateButton = activateButton;
	t.deactivateButton = deactivateButton;
	t.disableButton = disableButton;
	t.enableButton = enableButton;
	
	
	// locals
	var element = $([]);
	var tm;
	


	function render() {
		tm = options.theme ? 'ui' : 'fc';
		var sections = options.header;
		if (sections) {
			element = $("<table class='fc-header' style='width:100%'/>")
				.append(
					$("<tr/>")
						.append(renderSection('left'))
						.append(renderSection('center'))
						.append(renderSection('right'))
				);
			return element;
		}
	}
	
	
	function destroy() {
		element.remove();
	}
	
	
	function renderSection(position) {
		var e = $("<td class='fc-header-" + position + "'/>");
		var buttonStr = options.header[position];
		if (buttonStr) {
			$.each(buttonStr.split(' '), function(i) {
				if (i > 0) {
					e.append("<span class='fc-header-space'/>");
				}
				var prevButton;
				$.each(this.split(','), function(j, buttonName) {
					if (buttonName == 'title') {
						e.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");
						if (prevButton) {
							prevButton.addClass(tm + '-corner-right');
						}
						prevButton = null;
					}else{
						var buttonClick;
						if (calendar[buttonName]) {
							buttonClick = calendar[buttonName]; // calendar method
						}
						else if (fcViews[buttonName]) {
							buttonClick = function() {
								button.removeClass(tm + '-state-hover'); // forget why
								calendar.changeView(buttonName);
							};
						}
						if (buttonClick) {
							var icon = options.theme ? smartProperty(options.buttonIcons, buttonName) : null; // why are we using smartProperty here?
							var text = smartProperty(options.buttonText, buttonName); // why are we using smartProperty here?
							var button = $(
								"<span class='fc-button fc-button-" + buttonName + " " + tm + "-state-default'>" +
									(icon ?
										"<span class='fc-icon-wrap'>" +
											"<span class='ui-icon ui-icon-" + icon + "'/>" +
										"</span>" :
										text
										) +
								"</span>"
								)
								.click(function() {
									if (!button.hasClass(tm + '-state-disabled')) {
										buttonClick();
									}
								})
								.mousedown(function() {
									button
										.not('.' + tm + '-state-active')
										.not('.' + tm + '-state-disabled')
										.addClass(tm + '-state-down');
								})
								.mouseup(function() {
									button.removeClass(tm + '-state-down');
								})
								.hover(
									function() {
										button
											.not('.' + tm + '-state-active')
											.not('.' + tm + '-state-disabled')
											.addClass(tm + '-state-hover');
									},
									function() {
										button
											.removeClass(tm + '-state-hover')
											.removeClass(tm + '-state-down');
									}
								)
								.appendTo(e);
							disableTextSelection(button);
							if (!prevButton) {
								button.addClass(tm + '-corner-left');
							}
							prevButton = button;
						}
					}
				});
				if (prevButton) {
					prevButton.addClass(tm + '-corner-right');
				}
			});
		}
		return e;
	}
	
	
	function updateTitle(html) {
		element.find('h2')
			.html(html);
	}
	
	
	function activateButton(buttonName) {
		element.find('span.fc-button-' + buttonName)
			.addClass(tm + '-state-active');
	}
	
	
	function deactivateButton(buttonName) {
		element.find('span.fc-button-' + buttonName)
			.removeClass(tm + '-state-active');
	}
	
	
	function disableButton(buttonName) {
		element.find('span.fc-button-' + buttonName)
			.addClass(tm + '-state-disabled');
	}
	
	
	function enableButton(buttonName) {
		element.find('span.fc-button-' + buttonName)
			.removeClass(tm + '-state-disabled');
	}


}

;;

fc.sourceNormalizers = [];
fc.sourceFetchers = [];

var ajaxDefaults = {
	dataType: 'json',
	cache: false
};

var eventGUID = 1;


function EventManager(options, _sources) {
	var t = this;
	
	
	// exports
	t.isFetchNeeded = isFetchNeeded;
	t.fetchEvents = fetchEvents;
	t.addEventSource = addEventSource;
	t.removeEventSource = removeEventSource;
	t.updateEvent = updateEvent;
	t.renderEvent = renderEvent;
	t.removeEvents = removeEvents;
	t.clientEvents = clientEvents;
	t.normalizeEvent = normalizeEvent;
	
	
	// imports
	var trigger = t.trigger;
	var getView = t.getView;
	var reportEvents = t.reportEvents;
	
	
	// locals
	var stickySource = { events: [] };
	var sources = [ stickySource ];
	var rangeStart, rangeEnd;
	var currentFetchID = 0;
	var pendingSourceCnt = 0;
	var loadingLevel = 0;
	var cache = [];
	
	
	for (var i=0; i<_sources.length; i++) {
		_addEventSource(_sources[i]);
	}
	
	
	
	/* Fetching
	-----------------------------------------------------------------------------*/
	
	
	function isFetchNeeded(start, end) {
		return !rangeStart || start < rangeStart || end > rangeEnd;
	}
	
	
	function fetchEvents(start, end) {
		rangeStart = start;
		rangeEnd = end;
		cache = [];
		var fetchID = ++currentFetchID;
		var len = sources.length;
		pendingSourceCnt = len;
		for (var i=0; i<len; i++) {
			fetchEventSource(sources[i], fetchID);
		}
	}
	
	
	function fetchEventSource(source, fetchID) {
		_fetchEventSource(source, function(events) {
			if (fetchID == currentFetchID) {
				if (events) {

					if (options.eventDataTransform) {
						events = $.map(events, options.eventDataTransform);
					}
					if (source.eventDataTransform) {
						events = $.map(events, source.eventDataTransform);
					}
					// TODO: this technique is not ideal for static array event sources.
					//  For arrays, we'll want to process all events right in the beginning, then never again.
				
					for (var i=0; i<events.length; i++) {
						events[i].source = source;
						normalizeEvent(events[i]);
					}
					cache = cache.concat(events);
				}
				pendingSourceCnt--;
				if (!pendingSourceCnt) {
					reportEvents(cache);
				}
			}
		});
	}
	
	
	function _fetchEventSource(source, callback) {
		var i;
		var fetchers = fc.sourceFetchers;
		var res;
		for (i=0; i<fetchers.length; i++) {
			res = fetchers[i](source, rangeStart, rangeEnd, callback);
			if (res === true) {
				// the fetcher is in charge. made its own async request
				return;
			}
			else if (typeof res == 'object') {
				// the fetcher returned a new source. process it
				_fetchEventSource(res, callback);
				return;
			}
		}
		var events = source.events;
		if (events) {
			if ($.isFunction(events)) {
				pushLoading();
				events(cloneDate(rangeStart), cloneDate(rangeEnd), function(events) {
					callback(events);
					popLoading();
				});
			}
			else if ($.isArray(events)) {
				callback(events);
			}
			else {
				callback();
			}
		}else{
			var url = source.url;
			if (url) {
				var success = source.success;
				var error = source.error;
				var complete = source.complete;

				// retrieve any outbound GET/POST $.ajax data from the options
				var customData;
				if ($.isFunction(source.data)) {
					// supplied as a function that returns a key/value object
					customData = source.data();
				}
				else {
					// supplied as a straight key/value object
					customData = source.data;
				}

				// use a copy of the custom data so we can modify the parameters
				// and not affect the passed-in object.
				var data = $.extend({}, customData || {});

				var startParam = firstDefined(source.startParam, options.startParam);
				var endParam = firstDefined(source.endParam, options.endParam);
				if (startParam) {
					data[startParam] = Math.round(+rangeStart / 1000);
				}
				if (endParam) {
					data[endParam] = Math.round(+rangeEnd / 1000);
				}

				pushLoading();
				$.ajax($.extend({}, ajaxDefaults, source, {
					data: data,
					success: function(events) {
						events = events || [];
						var res = applyAll(success, this, arguments);
						if ($.isArray(res)) {
							events = res;
						}
						callback(events);
					},
					error: function() {
						applyAll(error, this, arguments);
						callback();
					},
					complete: function() {
						applyAll(complete, this, arguments);
						popLoading();
					}
				}));
			}else{
				callback();
			}
		}
	}
	
	
	
	/* Sources
	-----------------------------------------------------------------------------*/
	

	function addEventSource(source) {
		source = _addEventSource(source);
		if (source) {
			pendingSourceCnt++;
			fetchEventSource(source, currentFetchID); // will eventually call reportEvents
		}
	}
	
	
	function _addEventSource(source) {
		if ($.isFunction(source) || $.isArray(source)) {
			source = { events: source };
		}
		else if (typeof source == 'string') {
			source = { url: source };
		}
		if (typeof source == 'object') {
			normalizeSource(source);
			sources.push(source);
			return source;
		}
	}
	

	function removeEventSource(source) {
		sources = $.grep(sources, function(src) {
			return !isSourcesEqual(src, source);
		});
		// remove all client events from that source
		cache = $.grep(cache, function(e) {
			return !isSourcesEqual(e.source, source);
		});
		reportEvents(cache);
	}
	
	
	
	/* Manipulation
	-----------------------------------------------------------------------------*/
	
	
	function updateEvent(event) { // update an existing event
		var i, len = cache.length, e,
			defaultEventEnd = getView().defaultEventEnd, // getView???
			startDelta = event.start - event._start,
			endDelta = event.end ?
				(event.end - (event._end || defaultEventEnd(event))) // event._end would be null if event.end
				: 0;                                                      // was null and event was just resized
		for (i=0; i<len; i++) {
			e = cache[i];
			if (e._id == event._id && e != event) {
				e.start = new Date(+e.start + startDelta);
				if (event.end) {
					if (e.end) {
						e.end = new Date(+e.end + endDelta);
					}else{
						e.end = new Date(+defaultEventEnd(e) + endDelta);
					}
				}else{
					e.end = null;
				}
				e.title = event.title;
				e.url = event.url;
				e.allDay = event.allDay;
				e.className = event.className;
				e.editable = event.editable;
				e.color = event.color;
				e.backgroundColor = event.backgroundColor;
				e.borderColor = event.borderColor;
				e.textColor = event.textColor;
				normalizeEvent(e);
			}
		}
		normalizeEvent(event);
		reportEvents(cache);
	}
	
	
	function renderEvent(event, stick) {
		normalizeEvent(event);
		if (!event.source) {
			if (stick) {
				stickySource.events.push(event);
				event.source = stickySource;
			}
			cache.push(event);
		}
		reportEvents(cache);
	}
	
	
	function removeEvents(filter) {
		if (!filter) { // remove all
			cache = [];
			// clear all array sources
			for (var i=0; i<sources.length; i++) {
				if ($.isArray(sources[i].events)) {
					sources[i].events = [];
				}
			}
		}else{
			if (!$.isFunction(filter)) { // an event ID
				var id = filter + '';
				filter = function(e) {
					return e._id == id;
				};
			}
			cache = $.grep(cache, filter, true);
			// remove events from array sources
			for (var i=0; i<sources.length; i++) {
				if ($.isArray(sources[i].events)) {
					sources[i].events = $.grep(sources[i].events, filter, true);
				}
			}
		}
		reportEvents(cache);
	}
	
	
	function clientEvents(filter) {
		if ($.isFunction(filter)) {
			return $.grep(cache, filter);
		}
		else if (filter) { // an event ID
			filter += '';
			return $.grep(cache, function(e) {
				return e._id == filter;
			});
		}
		return cache; // else, return all
	}
	
	
	
	/* Loading State
	-----------------------------------------------------------------------------*/
	
	
	function pushLoading() {
		if (!loadingLevel++) {
			trigger('loading', null, true, getView());
		}
	}
	
	
	function popLoading() {
		if (!--loadingLevel) {
			trigger('loading', null, false, getView());
		}
	}
	
	
	
	/* Event Normalization
	-----------------------------------------------------------------------------*/
	
	
	function normalizeEvent(event) {
		var source = event.source || {};
		var ignoreTimezone = firstDefined(source.ignoreTimezone, options.ignoreTimezone);
		event._id = event._id || (event.id === undefined ? '_fc' + eventGUID++ : event.id + '');
		if (event.date) {
			if (!event.start) {
				event.start = event.date;
			}
			delete event.date;
		}
		event._start = cloneDate(event.start = parseDate(event.start, ignoreTimezone));
		event.end = parseDate(event.end, ignoreTimezone);
		if (event.end && event.end <= event.start) {
			event.end = null;
		}
		event._end = event.end ? cloneDate(event.end) : null;
		if (event.allDay === undefined) {
			event.allDay = firstDefined(source.allDayDefault, options.allDayDefault);
		}
		if (event.className) {
			if (typeof event.className == 'string') {
				event.className = event.className.split(/\s+/);
			}
		}else{
			event.className = [];
		}
		// TODO: if there is no start date, return false to indicate an invalid event
	}
	
	
	
	/* Utils
	------------------------------------------------------------------------------*/
	
	
	function normalizeSource(source) {
		if (source.className) {
			// TODO: repeat code, same code for event classNames
			if (typeof source.className == 'string') {
				source.className = source.className.split(/\s+/);
			}
		}else{
			source.className = [];
		}
		var normalizers = fc.sourceNormalizers;
		for (var i=0; i<normalizers.length; i++) {
			normalizers[i](source);
		}
	}
	
	
	function isSourcesEqual(source1, source2) {
		return source1 && source2 && getSourcePrimitive(source1) == getSourcePrimitive(source2);
	}
	
	
	function getSourcePrimitive(source) {
		return ((typeof source == 'object') ? (source.events || source.url) : '') || source;
	}


}

;;


fc.addDays = addDays;
fc.cloneDate = cloneDate;
fc.parseDate = parseDate;
fc.parseISO8601 = parseISO8601;
fc.parseTime = parseTime;
fc.formatDate = formatDate;
fc.formatDates = formatDates;



/* Date Math
-----------------------------------------------------------------------------*/

var dayIDs = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'],
	DAY_MS = 86400000,
	HOUR_MS = 3600000,
	MINUTE_MS = 60000;
	

function addYears(d, n, keepTime) {
	d.setFullYear(d.getFullYear() + n);
	if (!keepTime) {
		clearTime(d);
	}
	return d;
}


function addMonths(d, n, keepTime) { // prevents day overflow/underflow
	if (+d) { // prevent infinite looping on invalid dates
		var m = d.getMonth() + n,
			check = cloneDate(d);
		check.setDate(1);
		check.setMonth(m);
		d.setMonth(m);
		if (!keepTime) {
			clearTime(d);
		}
		while (d.getMonth() != check.getMonth()) {
			d.setDate(d.getDate() + (d < check ? 1 : -1));
		}
	}
	return d;
}


function addDays(d, n, keepTime) { // deals with daylight savings
	if (+d) {
		var dd = d.getDate() + n,
			check = cloneDate(d);
		check.setHours(9); // set to middle of day
		check.setDate(dd);
		d.setDate(dd);
		if (!keepTime) {
			clearTime(d);
		}
		fixDate(d, check);
	}
	return d;
}


function fixDate(d, check) { // force d to be on check's YMD, for daylight savings purposes
	if (+d) { // prevent infinite looping on invalid dates
		while (d.getDate() != check.getDate()) {
			d.setTime(+d + (d < check ? 1 : -1) * HOUR_MS);
		}
	}
}


function addMinutes(d, n) {
	d.setMinutes(d.getMinutes() + n);
	return d;
}


function clearTime(d) {
	d.setHours(0);
	d.setMinutes(0);
	d.setSeconds(0); 
	d.setMilliseconds(0);
	return d;
}


function cloneDate(d, dontKeepTime) {
	if (dontKeepTime) {
		return clearTime(new Date(+d));
	}
	return new Date(+d);
}


function zeroDate() { // returns a Date with time 00:00:00 and dateOfMonth=1
	var i=0, d;
	do {
		d = new Date(1970, i++, 1);
	} while (d.getHours()); // != 0
	return d;
}


function dayDiff(d1, d2) { // d1 - d2
	return Math.round((cloneDate(d1, true) - cloneDate(d2, true)) / DAY_MS);
}


function setYMD(date, y, m, d) {
	if (y !== undefined && y != date.getFullYear()) {
		date.setDate(1);
		date.setMonth(0);
		date.setFullYear(y);
	}
	if (m !== undefined && m != date.getMonth()) {
		date.setDate(1);
		date.setMonth(m);
	}
	if (d !== undefined) {
		date.setDate(d);
	}
}



/* Date Parsing
-----------------------------------------------------------------------------*/


function parseDate(s, ignoreTimezone) { // ignoreTimezone defaults to true
	if (typeof s == 'object') { // already a Date object
		return s;
	}
	if (typeof s == 'number') { // a UNIX timestamp
		return new Date(s * 1000);
	}
	if (typeof s == 'string') {
		if (s.match(/^\d+(\.\d+)?$/)) { // a UNIX timestamp
			return new Date(parseFloat(s) * 1000);
		}
		if (ignoreTimezone === undefined) {
			ignoreTimezone = true;
		}
		return parseISO8601(s, ignoreTimezone) || (s ? new Date(s) : null);
	}
	// TODO: never return invalid dates (like from new Date(<string>)), return null instead
	return null;
}


function parseISO8601(s, ignoreTimezone) { // ignoreTimezone defaults to false
	// derived from http://delete.me.uk/2005/03/iso8601.html
	// TODO: for a know glitch/feature, read tests/issue_206_parseDate_dst.html
	var m = s.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);
	if (!m) {
		return null;
	}
	var date = new Date(m[1], 0, 1);
	if (ignoreTimezone || !m[13]) {
		var check = new Date(m[1], 0, 1, 9, 0);
		if (m[3]) {
			date.setMonth(m[3] - 1);
			check.setMonth(m[3] - 1);
		}
		if (m[5]) {
			date.setDate(m[5]);
			check.setDate(m[5]);
		}
		fixDate(date, check);
		if (m[7]) {
			date.setHours(m[7]);
		}
		if (m[8]) {
			date.setMinutes(m[8]);
		}
		if (m[10]) {
			date.setSeconds(m[10]);
		}
		if (m[12]) {
			date.setMilliseconds(Number("0." + m[12]) * 1000);
		}
		fixDate(date, check);
	}else{
		date.setUTCFullYear(
			m[1],
			m[3] ? m[3] - 1 : 0,
			m[5] || 1
		);
		date.setUTCHours(
			m[7] || 0,
			m[8] || 0,
			m[10] || 0,
			m[12] ? Number("0." + m[12]) * 1000 : 0
		);
		if (m[14]) {
			var offset = Number(m[16]) * 60 + (m[18] ? Number(m[18]) : 0);
			offset *= m[15] == '-' ? 1 : -1;
			date = new Date(+date + (offset * 60 * 1000));
		}
	}
	return date;
}


function parseTime(s) { // returns minutes since start of day
	if (typeof s == 'number') { // an hour
		return s * 60;
	}
	if (typeof s == 'object') { // a Date object
		return s.getHours() * 60 + s.getMinutes();
	}
	var m = s.match(/(\d+)(?::(\d+))?\s*(\w+)?/);
	if (m) {
		var h = parseInt(m[1], 10);
		if (m[3]) {
			h %= 12;
			if (m[3].toLowerCase().charAt(0) == 'p') {
				h += 12;
			}
		}
		return h * 60 + (m[2] ? parseInt(m[2], 10) : 0);
	}
}



/* Date Formatting
-----------------------------------------------------------------------------*/
// TODO: use same function formatDate(date, [date2], format, [options])


function formatDate(date, format, options) {
	return formatDates(date, null, format, options);
}


function formatDates(date1, date2, format, options) {
	options = options || defaults;
	var date = date1,
		otherDate = date2,
		i, len = format.length, c,
		i2, formatter,
		res = '';
	for (i=0; i<len; i++) {
		c = format.charAt(i);
		if (c == "'") {
			for (i2=i+1; i2<len; i2++) {
				if (format.charAt(i2) == "'") {
					if (date) {
						if (i2 == i+1) {
							res += "'";
						}else{
							res += format.substring(i+1, i2);
						}
						i = i2;
					}
					break;
				}
			}
		}
		else if (c == '(') {
			for (i2=i+1; i2<len; i2++) {
				if (format.charAt(i2) == ')') {
					var subres = formatDate(date, format.substring(i+1, i2), options);
					if (parseInt(subres.replace(/\D/, ''), 10)) {
						res += subres;
					}
					i = i2;
					break;
				}
			}
		}
		else if (c == '[') {
			for (i2=i+1; i2<len; i2++) {
				if (format.charAt(i2) == ']') {
					var subformat = format.substring(i+1, i2);
					var subres = formatDate(date, subformat, options);
					if (subres != formatDate(otherDate, subformat, options)) {
						res += subres;
					}
					i = i2;
					break;
				}
			}
		}
		else if (c == '{') {
			date = date2;
			otherDate = date1;
		}
		else if (c == '}') {
			date = date1;
			otherDate = date2;
		}
		else {
			for (i2=len; i2>i; i2--) {
				if (formatter = dateFormatters[format.substring(i, i2)]) {
					if (date) {
						res += formatter(date, options);
					}
					i = i2 - 1;
					break;
				}
			}
			if (i2 == i) {
				if (date) {
					res += c;
				}
			}
		}
	}
	return res;
};


var dateFormatters = {
	s	: function(d)	{ return d.getSeconds() },
	ss	: function(d)	{ return zeroPad(d.getSeconds()) },
	m	: function(d)	{ return d.getMinutes() },
	mm	: function(d)	{ return zeroPad(d.getMinutes()) },
	h	: function(d)	{ return d.getHours() % 12 || 12 },
	hh	: function(d)	{ return zeroPad(d.getHours() % 12 || 12) },
	H	: function(d)	{ return d.getHours() },
	HH	: function(d)	{ return zeroPad(d.getHours()) },
	d	: function(d)	{ return d.getDate() },
	dd	: function(d)	{ return zeroPad(d.getDate()) },
	ddd	: function(d,o)	{ return o.dayNamesShort[d.getDay()] },
	dddd: function(d,o)	{ return o.dayNames[d.getDay()] },
	M	: function(d)	{ return d.getMonth() + 1 },
	MM	: function(d)	{ return zeroPad(d.getMonth() + 1) },
	MMM	: function(d,o)	{ return o.monthNamesShort[d.getMonth()] },
	MMMM: function(d,o)	{ return o.monthNames[d.getMonth()] },
	yy	: function(d)	{ return (d.getFullYear()+'').substring(2) },
	yyyy: function(d)	{ return d.getFullYear() },
	t	: function(d)	{ return d.getHours() < 12 ? 'a' : 'p' },
	tt	: function(d)	{ return d.getHours() < 12 ? 'am' : 'pm' },
	T	: function(d)	{ return d.getHours() < 12 ? 'A' : 'P' },
	TT	: function(d)	{ return d.getHours() < 12 ? 'AM' : 'PM' },
	u	: function(d)	{ return formatDate(d, "yyyy-MM-dd'T'HH:mm:ss'Z'") },
	S	: function(d)	{
		var date = d.getDate();
		if (date > 10 && date < 20) {
			return 'th';
		}
		return ['st', 'nd', 'rd'][date%10-1] || 'th';
	},
	w   : function(d, o) { // local
		return o.weekNumberCalculation(d);
	},
	W   : function(d) { // ISO
		return iso8601Week(d);
	}
};
fc.dateFormatters = dateFormatters;


/* thanks jQuery UI (https://github.com/jquery/jquery-ui/blob/master/ui/jquery.ui.datepicker.js)
 * 
 * Set as calculateWeek to determine the week of the year based on the ISO 8601 definition.
 * `date` - the date to get the week for
 * `number` - the number of the week within the year that contains this date
 */
function iso8601Week(date) {
	var time;
	var checkDate = new Date(date.getTime());

	// Find Thursday of this week starting on Monday
	checkDate.setDate(checkDate.getDate() + 4 - (checkDate.getDay() || 7));

	time = checkDate.getTime();
	checkDate.setMonth(0); // Compare with Jan 1
	checkDate.setDate(1);
	return Math.floor(Math.round((time - checkDate) / 86400000) / 7) + 1;
}


;;

fc.applyAll = applyAll;


/* Event Date Math
-----------------------------------------------------------------------------*/


function exclEndDay(event) {
	if (event.end) {
		return _exclEndDay(event.end, event.allDay);
	}else{
		return addDays(cloneDate(event.start), 1);
	}
}


function _exclEndDay(end, allDay) {
	end = cloneDate(end);
	return allDay || end.getHours() || end.getMinutes() ? addDays(end, 1) : clearTime(end);
	// why don't we check for seconds/ms too?
}



/* Event Element Binding
-----------------------------------------------------------------------------*/


function lazySegBind(container, segs, bindHandlers) {
	container.unbind('mouseover').mouseover(function(ev) {
		var parent=ev.target, e,
			i, seg;
		while (parent != this) {
			e = parent;
			parent = parent.parentNode;
		}
		if ((i = e._fci) !== undefined) {
			e._fci = undefined;
			seg = segs[i];
			bindHandlers(seg.event, seg.element, seg);
			$(ev.target).trigger(ev);
		}
		ev.stopPropagation();
	});
}



/* Element Dimensions
-----------------------------------------------------------------------------*/


function setOuterWidth(element, width, includeMargins) {
	for (var i=0, e; i<element.length; i++) {
		e = $(element[i]);
		e.width(Math.max(0, width - hsides(e, includeMargins)));
	}
}


function setOuterHeight(element, height, includeMargins) {
	for (var i=0, e; i<element.length; i++) {
		e = $(element[i]);
		e.height(Math.max(0, height - vsides(e, includeMargins)));
	}
}


function hsides(element, includeMargins) {
	return hpadding(element) + hborders(element) + (includeMargins ? hmargins(element) : 0);
}


function hpadding(element) {
	return (parseFloat($.css(element[0], 'paddingLeft', true)) || 0) +
	       (parseFloat($.css(element[0], 'paddingRight', true)) || 0);
}


function hmargins(element) {
	return (parseFloat($.css(element[0], 'marginLeft', true)) || 0) +
	       (parseFloat($.css(element[0], 'marginRight', true)) || 0);
}


function hborders(element) {
	return (parseFloat($.css(element[0], 'borderLeftWidth', true)) || 0) +
	       (parseFloat($.css(element[0], 'borderRightWidth', true)) || 0);
}


function vsides(element, includeMargins) {
	return vpadding(element) +  vborders(element) + (includeMargins ? vmargins(element) : 0);
}


function vpadding(element) {
	return (parseFloat($.css(element[0], 'paddingTop', true)) || 0) +
	       (parseFloat($.css(element[0], 'paddingBottom', true)) || 0);
}


function vmargins(element) {
	return (parseFloat($.css(element[0], 'marginTop', true)) || 0) +
	       (parseFloat($.css(element[0], 'marginBottom', true)) || 0);
}


function vborders(element) {
	return (parseFloat($.css(element[0], 'borderTopWidth', true)) || 0) +
	       (parseFloat($.css(element[0], 'borderBottomWidth', true)) || 0);
}



/* Misc Utils
-----------------------------------------------------------------------------*/


//TODO: arraySlice
//TODO: isFunction, grep ?


function noop() { }


function dateCompare(a, b) {
	return a - b;
}


function arrayMax(a) {
	return Math.max.apply(Math, a);
}


function zeroPad(n) {
	return (n < 10 ? '0' : '') + n;
}


function smartProperty(obj, name) { // get a camel-cased/namespaced property of an object
	if (obj[name] !== undefined) {
		return obj[name];
	}
	var parts = name.split(/(?=[A-Z])/),
		i=parts.length-1, res;
	for (; i>=0; i--) {
		res = obj[parts[i].toLowerCase()];
		if (res !== undefined) {
			return res;
		}
	}
	return obj[''];
}


function htmlEscape(s) {
	return s.replace(/&/g, '&amp;')
		.replace(/</g, '&lt;')
		.replace(/>/g, '&gt;')
		.replace(/'/g, '&#039;')
		.replace(/"/g, '&quot;')
		.replace(/\n/g, '<br />');
}


function disableTextSelection(element) {
	element
		.attr('unselectable', 'on')
		.css('MozUserSelect', 'none')
		.bind('selectstart.ui', function() { return false; });
}


/*
function enableTextSelection(element) {
	element
		.attr('unselectable', 'off')
		.css('MozUserSelect', '')
		.unbind('selectstart.ui');
}
*/


function markFirstLast(e) {
	e.children()
		.removeClass('fc-first fc-last')
		.filter(':first-child')
			.addClass('fc-first')
		.end()
		.filter(':last-child')
			.addClass('fc-last');
}


function setDayID(cell, date) {
	cell.each(function(i, _cell) {
		_cell.className = _cell.className.replace(/^fc-\w*/, 'fc-' + dayIDs[date.getDay()]);
		// TODO: make a way that doesn't rely on order of classes
	});
}


function getSkinCss(event, opt) {
	var source = event.source || {};
	var eventColor = event.color;
	var sourceColor = source.color;
	var optionColor = opt('eventColor');
	var backgroundColor =
		event.backgroundColor ||
		eventColor ||
		source.backgroundColor ||
		sourceColor ||
		opt('eventBackgroundColor') ||
		optionColor;
	var borderColor =
		event.borderColor ||
		eventColor ||
		source.borderColor ||
		sourceColor ||
		opt('eventBorderColor') ||
		optionColor;
	var textColor =
		event.textColor ||
		source.textColor ||
		opt('eventTextColor');
	var statements = [];
	if (backgroundColor) {
		statements.push('background-color:' + backgroundColor);
	}
	if (borderColor) {
		statements.push('border-color:' + borderColor);
	}
	if (textColor) {
		statements.push('color:' + textColor);
	}
	return statements.join(';');
}


function applyAll(functions, thisObj, args) {
	if ($.isFunction(functions)) {
		functions = [ functions ];
	}
	if (functions) {
		var i;
		var ret;
		for (i=0; i<functions.length; i++) {
			ret = functions[i].apply(thisObj, args) || ret;
		}
		return ret;
	}
}


function firstDefined() {
	for (var i=0; i<arguments.length; i++) {
		if (arguments[i] !== undefined) {
			return arguments[i];
		}
	}
}


;;

fcViews.month = MonthView;

function MonthView(element, calendar) {
	var t = this;
	
	
	// exports
	t.render = render;
	
	
	// imports
	BasicView.call(t, element, calendar, 'month');
	var opt = t.opt;
	var renderBasic = t.renderBasic;
	var skipHiddenDays = t.skipHiddenDays;
	var getCellsPerWeek = t.getCellsPerWeek;
	var formatDate = calendar.formatDate;
	
	
	function render(date, delta) {

		if (delta) {
			addMonths(date, delta);
			date.setDate(1);
		}

		var firstDay = opt('firstDay');

		var start = cloneDate(date, true);
		start.setDate(1);

		var end = addMonths(cloneDate(start), 1);

		var visStart = cloneDate(start);
		addDays(visStart, -((visStart.getDay() - firstDay + 7) % 7));
		skipHiddenDays(visStart);

		var visEnd = cloneDate(end);
		addDays(visEnd, (7 - visEnd.getDay() + firstDay) % 7);
		skipHiddenDays(visEnd, -1, true);

		var colCnt = getCellsPerWeek();
		var rowCnt = Math.round(dayDiff(visEnd, visStart) / 7); // should be no need for Math.round

		if (opt('weekMode') == 'fixed') {
			addDays(visEnd, (6 - rowCnt) * 7); // add weeks to make up for it
			rowCnt = 6;
		}

		t.title = formatDate(start, opt('titleFormat'));

		t.start = start;
		t.end = end;
		t.visStart = visStart;
		t.visEnd = visEnd;

		renderBasic(rowCnt, colCnt, true);
	}
	
	
}

;;

fcViews.basicWeek = BasicWeekView;

function BasicWeekView(element, calendar) {
	var t = this;
	
	
	// exports
	t.render = render;
	
	
	// imports
	BasicView.call(t, element, calendar, 'basicWeek');
	var opt = t.opt;
	var renderBasic = t.renderBasic;
	var skipHiddenDays = t.skipHiddenDays;
	var getCellsPerWeek = t.getCellsPerWeek;
	var formatDates = calendar.formatDates;
	
	
	function render(date, delta) {

		if (delta) {
			addDays(date, delta * 7);
		}

		var start = addDays(cloneDate(date), -((date.getDay() - opt('firstDay') + 7) % 7));
		var end = addDays(cloneDate(start), 7);

		var visStart = cloneDate(start);
		skipHiddenDays(visStart);

		var visEnd = cloneDate(end);
		skipHiddenDays(visEnd, -1, true);

		var colCnt = getCellsPerWeek();

		t.start = start;
		t.end = end;
		t.visStart = visStart;
		t.visEnd = visEnd;

		t.title = formatDates(
			visStart,
			addDays(cloneDate(visEnd), -1),
			opt('titleFormat')
		);

		renderBasic(1, colCnt, false);
	}
	
	
}

;;

fcViews.basicDay = BasicDayView;


function BasicDayView(element, calendar) {
	var t = this;
	
	
	// exports
	t.render = render;
	
	
	// imports
	BasicView.call(t, element, calendar, 'basicDay');
	var opt = t.opt;
	var renderBasic = t.renderBasic;
	var skipHiddenDays = t.skipHiddenDays;
	var formatDate = calendar.formatDate;
	
	
	function render(date, delta) {

		if (delta) {
			addDays(date, delta);
		}
		skipHiddenDays(date, delta < 0 ? -1 : 1);

		var start = cloneDate(date, true);
		var end = addDays(cloneDate(start), 1);

		t.title = formatDate(date, opt('titleFormat'));

		t.start = t.visStart = start;
		t.end = t.visEnd = end;

		renderBasic(1, 1, false);
	}
	
	
}

;;

setDefaults({
	weekMode: 'fixed'
});


function BasicView(element, calendar, viewName) {
	var t = this;
	
	
	// exports
	t.renderBasic = renderBasic;
	t.setHeight = setHeight;
	t.setWidth = setWidth;
	t.renderDayOverlay = renderDayOverlay;
	t.defaultSelectionEnd = defaultSelectionEnd;
	t.renderSelection = renderSelection;
	t.clearSelection = clearSelection;
	t.reportDayClick = reportDayClick; // for selection (kinda hacky)
	t.dragStart = dragStart;
	t.dragStop = dragStop;
	t.defaultEventEnd = defaultEventEnd;
	t.getHoverListener = function() { return hoverListener };
	t.colLeft = colLeft;
	t.colRight = colRight;
	t.colContentLeft = colContentLeft;
	t.colContentRight = colContentRight;
	t.getIsCellAllDay = function() { return true };
	t.allDayRow = allDayRow;
	t.getRowCnt = function() { return rowCnt };
	t.getColCnt = function() { return colCnt };
	t.getColWidth = function() { return colWidth };
	t.getDaySegmentContainer = function() { return daySegmentContainer };
	
	
	// imports
	View.call(t, element, calendar, viewName);
	OverlayManager.call(t);
	SelectionManager.call(t);
	BasicEventRenderer.call(t);
	var opt = t.opt;
	var trigger = t.trigger;
	var renderOverlay = t.renderOverlay;
	var clearOverlays = t.clearOverlays;
	var daySelectionMousedown = t.daySelectionMousedown;
	var cellToDate = t.cellToDate;
	var dateToCell = t.dateToCell;
	var rangeToSegments = t.rangeToSegments;
	var formatDate = calendar.formatDate;
	
	
	// locals
	
	var table;
	var head;
	var headCells;
	var body;
	var bodyRows;
	var bodyCells;
	var bodyFirstCells;
	var firstRowCellInners;
	var firstRowCellContentInners;
	var daySegmentContainer;
	
	var viewWidth;
	var viewHeight;
	var colWidth;
	var weekNumberWidth;
	
	var rowCnt, colCnt;
	var showNumbers;
	var coordinateGrid;
	var hoverListener;
	var colPositions;
	var colContentPositions;
	
	var tm;
	var colFormat;
	var showWeekNumbers;
	var weekNumberTitle;
	var weekNumberFormat;
	
	
	
	/* Rendering
	------------------------------------------------------------*/
	
	
	disableTextSelection(element.addClass('fc-grid'));
	
	
	function renderBasic(_rowCnt, _colCnt, _showNumbers) {
		rowCnt = _rowCnt;
		colCnt = _colCnt;
		showNumbers = _showNumbers;
		updateOptions();

		if (!body) {
			buildEventContainer();
		}

		buildTable();
	}
	
	
	function updateOptions() {
		tm = opt('theme') ? 'ui' : 'fc';
		colFormat = opt('columnFormat');

		// week # options. (TODO: bad, logic also in other views)
		showWeekNumbers = opt('weekNumbers');
		weekNumberTitle = opt('weekNumberTitle');
		if (opt('weekNumberCalculation') != 'iso') {
			weekNumberFormat = "w";
		}
		else {
			weekNumberFormat = "W";
		}
	}
	
	
	function buildEventContainer() {
		daySegmentContainer =
			$("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>")
				.appendTo(element);
	}
	
	
	function buildTable() {
		var html = buildTableHTML();

		if (table) {
			table.remove();
		}
		table = $(html).appendTo(element);

		head = table.find('thead');
		headCells = head.find('.fc-day-header');
		body = table.find('tbody');
		bodyRows = body.find('tr');
		bodyCells = body.find('.fc-day');
		bodyFirstCells = bodyRows.find('td:first-child');

		firstRowCellInners = bodyRows.eq(0).find('.fc-day > div');
		firstRowCellContentInners = bodyRows.eq(0).find('.fc-day-content > div');
		
		markFirstLast(head.add(head.find('tr'))); // marks first+last tr/th's
		markFirstLast(bodyRows); // marks first+last td's
		bodyRows.eq(0).addClass('fc-first');
		bodyRows.filter(':last').addClass('fc-last');

		bodyCells.each(function(i, _cell) {
			var date = cellToDate(
				Math.floor(i / colCnt),
				i % colCnt
			);
			trigger('dayRender', t, date, $(_cell));
		});

		dayBind(bodyCells);
	}



	/* HTML Building
	-----------------------------------------------------------*/


	function buildTableHTML() {
		var html =
			"<table class='fc-border-separate' style='width:100%' cellspacing='0'>" +
			buildHeadHTML() +
			buildBodyHTML() +
			"</table>";

		return html;
	}


	function buildHeadHTML() {
		var headerClass = tm + "-widget-header";
		var html = '';
		var col;
		var date;

		html += "<thead><tr>";

		if (showWeekNumbers) {
			html +=
				"<th class='fc-week-number " + headerClass + "'>" +
				htmlEscape(weekNumberTitle) +
				"</th>";
		}

		for (col=0; col<colCnt; col++) {
			date = cellToDate(0, col);
			html +=
				"<th class='fc-day-header fc-" + dayIDs[date.getDay()] + " " + headerClass + "'>" +
				htmlEscape(formatDate(date, colFormat)) +
				"</th>";
		}

		html += "</tr></thead>";

		return html;
	}


	function buildBodyHTML() {
		var contentClass = tm + "-widget-content";
		var html = '';
		var row;
		var col;
		var date;

		html += "<tbody>";

		for (row=0; row<rowCnt; row++) {

			html += "<tr class='fc-week'>";

			if (showWeekNumbers) {
				date = cellToDate(row, 0);
				html +=
					"<td class='fc-week-number " + contentClass + "'>" +
					"<div>" +
					htmlEscape(formatDate(date, weekNumberFormat)) +
					"</div>" +
					"</td>";
			}

			for (col=0; col<colCnt; col++) {
				date = cellToDate(row, col);
				html += buildCellHTML(date);
			}

			html += "</tr>";
		}

		html += "</tbody>";

		return html;
	}


	function buildCellHTML(date) {
		var contentClass = tm + "-widget-content";
		var month = t.start.getMonth();
		var today = clearTime(new Date());
		var html = '';
		var classNames = [
			'fc-day',
			'fc-' + dayIDs[date.getDay()],
			contentClass
		];

		if (date.getMonth() != month) {
			classNames.push('fc-other-month');
		}
		if (+date == +today) {
			classNames.push(
				'fc-today',
				tm + '-state-highlight'
			);
		}
		else if (date < today) {
			classNames.push('fc-past');
		}
		else {
			classNames.push('fc-future');
		}

		html +=
			"<td" +
			" class='" + classNames.join(' ') + "'" +
			" data-date='" + formatDate(date, 'yyyy-MM-dd') + "'" +
			">" +
			"<div>";

		if (showNumbers) {
			html += "<div class='fc-day-number'>" + date.getDate() + "</div>";
		}

		html +=
			"<div class='fc-day-content'>" +
			"<div style='position:relative'>&nbsp;</div>" +
			"</div>" +
			"</div>" +
			"</td>";

		return html;
	}



	/* Dimensions
	-----------------------------------------------------------*/
	
	
	function setHeight(height) {
		viewHeight = height;
		
		var bodyHeight = viewHeight - head.height();
		var rowHeight;
		var rowHeightLast;
		var cell;
			
		if (opt('weekMode') == 'variable') {
			rowHeight = rowHeightLast = Math.floor(bodyHeight / (rowCnt==1 ? 2 : 6));
		}else{
			rowHeight = Math.floor(bodyHeight / rowCnt);
			rowHeightLast = bodyHeight - rowHeight * (rowCnt-1);
		}
		
		bodyFirstCells.each(function(i, _cell) {
			if (i < rowCnt) {
				cell = $(_cell);
				cell.find('> div').css(
					'min-height',
					(i==rowCnt-1 ? rowHeightLast : rowHeight) - vsides(cell)
				);
			}
		});
		
	}
	
	
	function setWidth(width) {
		viewWidth = width;
		colPositions.clear();
		colContentPositions.clear();

		weekNumberWidth = 0;
		if (showWeekNumbers) {
			weekNumberWidth = head.find('th.fc-week-number').outerWidth();
		}

		colWidth = Math.floor((viewWidth - weekNumberWidth) / colCnt);
		setOuterWidth(headCells.slice(0, -1), colWidth);
	}
	
	
	
	/* Day clicking and binding
	-----------------------------------------------------------*/
	
	
	function dayBind(days) {
		days.click(dayClick)
			.mousedown(daySelectionMousedown);
	}
	
	
	function dayClick(ev) {
		if (!opt('selectable')) { // if selectable, SelectionManager will worry about dayClick
			var date = parseISO8601($(this).data('date'));
			trigger('dayClick', this, date, true, ev);
		}
	}
	
	
	
	/* Semi-transparent Overlay Helpers
	------------------------------------------------------*/
	// TODO: should be consolidated with AgendaView's methods


	function renderDayOverlay(overlayStart, overlayEnd, refreshCoordinateGrid) { // overlayEnd is exclusive

		if (refreshCoordinateGrid) {
			coordinateGrid.build();
		}

		var segments = rangeToSegments(overlayStart, overlayEnd);

		for (var i=0; i<segments.length; i++) {
			var segment = segments[i];
			dayBind(
				renderCellOverlay(
					segment.row,
					segment.leftCol,
					segment.row,
					segment.rightCol
				)
			);
		}
	}

	
	function renderCellOverlay(row0, col0, row1, col1) { // row1,col1 is inclusive
		var rect = coordinateGrid.rect(row0, col0, row1, col1, element);
		return renderOverlay(rect, element);
	}
	
	
	
	/* Selection
	-----------------------------------------------------------------------*/
	
	
	function defaultSelectionEnd(startDate, allDay) {
		return cloneDate(startDate);
	}
	
	
	function renderSelection(startDate, endDate, allDay) {
		renderDayOverlay(startDate, addDays(cloneDate(endDate), 1), true); // rebuild every time???
	}
	
	
	function clearSelection() {
		clearOverlays();
	}
	
	
	function reportDayClick(date, allDay, ev) {
		var cell = dateToCell(date);
		var _element = bodyCells[cell.row*colCnt + cell.col];
		trigger('dayClick', _element, date, allDay, ev);
	}
	
	
	
	/* External Dragging
	-----------------------------------------------------------------------*/
	
	
	function dragStart(_dragElement, ev, ui) {
		hoverListener.start(function(cell) {
			clearOverlays();
			if (cell) {
				renderCellOverlay(cell.row, cell.col, cell.row, cell.col);
			}
		}, ev);
	}
	
	
	function dragStop(_dragElement, ev, ui) {
		var cell = hoverListener.stop();
		clearOverlays();
		if (cell) {
			var d = cellToDate(cell);
			trigger('drop', _dragElement, d, true, ev, ui);
		}
	}
	
	
	
	/* Utilities
	--------------------------------------------------------*/
	
	
	function defaultEventEnd(event) {
		return cloneDate(event.start);
	}
	
	
	coordinateGrid = new CoordinateGrid(function(rows, cols) {
		var e, n, p;
		headCells.each(function(i, _e) {
			e = $(_e);
			n = e.offset().left;
			if (i) {
				p[1] = n;
			}
			p = [n];
			cols[i] = p;
		});
		p[1] = n + e.outerWidth();
		bodyRows.each(function(i, _e) {
			if (i < rowCnt) {
				e = $(_e);
				n = e.offset().top;
				if (i) {
					p[1] = n;
				}
				p = [n];
				rows[i] = p;
			}
		});
		p[1] = n + e.outerHeight();
	});
	
	
	hoverListener = new HoverListener(coordinateGrid);
	
	colPositions = new HorizontalPositionCache(function(col) {
		return firstRowCellInners.eq(col);
	});

	colContentPositions = new HorizontalPositionCache(function(col) {
		return firstRowCellContentInners.eq(col);
	});


	function colLeft(col) {
		return colPositions.left(col);
	}


	function colRight(col) {
		return colPositions.right(col);
	}
	
	
	function colContentLeft(col) {
		return colContentPositions.left(col);
	}
	
	
	function colContentRight(col) {
		return colContentPositions.right(col);
	}
	
	
	function allDayRow(i) {
		return bodyRows.eq(i);
	}
	
}

;;

function BasicEventRenderer() {
	var t = this;
	
	
	// exports
	t.renderEvents = renderEvents;
	t.clearEvents = clearEvents;
	

	// imports
	DayEventRenderer.call(t);

	
	function renderEvents(events, modifiedEventId) {
		t.renderDayEvents(events, modifiedEventId);
	}
	
	
	function clearEvents() {
		t.getDaySegmentContainer().empty();
	}


	// TODO: have this class (and AgendaEventRenderer) be responsible for creating the event container div

}

;;

fcViews.agendaWeek = AgendaWeekView;

function AgendaWeekView(element, calendar) {
	var t = this;
	
	
	// exports
	t.render = render;
	
	
	// imports
	AgendaView.call(t, element, calendar, 'agendaWeek');
	var opt = t.opt;
	var renderAgenda = t.renderAgenda;
	var skipHiddenDays = t.skipHiddenDays;
	var getCellsPerWeek = t.getCellsPerWeek;
	var formatDates = calendar.formatDates;

	
	function render(date, delta) {

		if (delta) {
			addDays(date, delta * 7);
		}

		var start = addDays(cloneDate(date), -((date.getDay() - opt('firstDay') + 7) % 7));
		var end = addDays(cloneDate(start), 7);

		var visStart = cloneDate(start);
		skipHiddenDays(visStart);

		var visEnd = cloneDate(end);
		skipHiddenDays(visEnd, -1, true);

		var colCnt = getCellsPerWeek();

		t.title = formatDates(
			visStart,
			addDays(cloneDate(visEnd), -1),
			opt('titleFormat')
		);

		t.start = start;
		t.end = end;
		t.visStart = visStart;
		t.visEnd = visEnd;

		renderAgenda(colCnt);
	}

}

;;

fcViews.agendaDay = AgendaDayView;


function AgendaDayView(element, calendar) {
	var t = this;
	
	
	// exports
	t.render = render;
	
	
	// imports
	AgendaView.call(t, element, calendar, 'agendaDay');
	var opt = t.opt;
	var renderAgenda = t.renderAgenda;
	var skipHiddenDays = t.skipHiddenDays;
	var formatDate = calendar.formatDate;
	
	
	function render(date, delta) {

		if (delta) {
			addDays(date, delta);
		}
		skipHiddenDays(date, delta < 0 ? -1 : 1);

		var start = cloneDate(date, true);
		var end = addDays(cloneDate(start), 1);

		t.title = formatDate(date, opt('titleFormat'));

		t.start = t.visStart = start;
		t.end = t.visEnd = end;

		renderAgenda(1);
	}
	

}

;;

setDefaults({
	allDaySlot: true,
	allDayText: 'all-day',
	firstHour: 6,
	slotMinutes: 30,
	defaultEventMinutes: 120,
	axisFormat: 'h(:mm)tt',
	timeFormat: {
		agenda: 'h:mm{ - h:mm}'
	},
	dragOpacity: {
		agenda: .5
	},
	minTime: 0,
	maxTime: 24,
	slotEventOverlap: true
});


// TODO: make it work in quirks mode (event corners, all-day height)
// TODO: test liquid width, especially in IE6


function AgendaView(element, calendar, viewName) {
	var t = this;
	
	
	// exports
	t.renderAgenda = renderAgenda;
	t.setWidth = setWidth;
	t.setHeight = setHeight;
	t.afterRender = afterRender;
	t.defaultEventEnd = defaultEventEnd;
	t.timePosition = timePosition;
	t.getIsCellAllDay = getIsCellAllDay;
	t.allDayRow = getAllDayRow;
	t.getCoordinateGrid = function() { return coordinateGrid }; // specifically for AgendaEventRenderer
	t.getHoverListener = function() { return hoverListener };
	t.colLeft = colLeft;
	t.colRight = colRight;
	t.colContentLeft = colContentLeft;
	t.colContentRight = colContentRight;
	t.getDaySegmentContainer = function() { return daySegmentContainer };
	t.getSlotSegmentContainer = function() { return slotSegmentContainer };
	t.getMinMinute = function() { return minMinute };
	t.getMaxMinute = function() { return maxMinute };
	t.getSlotContainer = function() { return slotContainer };
	t.getRowCnt = function() { return 1 };
	t.getColCnt = function() { return colCnt };
	t.getColWidth = function() { return colWidth };
	t.getSnapHeight = function() { return snapHeight };
	t.getSnapMinutes = function() { return snapMinutes };
	t.defaultSelectionEnd = defaultSelectionEnd;
	t.renderDayOverlay = renderDayOverlay;
	t.renderSelection = renderSelection;
	t.clearSelection = clearSelection;
	t.reportDayClick = reportDayClick; // selection mousedown hack
	t.dragStart = dragStart;
	t.dragStop = dragStop;
	
	
	// imports
	View.call(t, element, calendar, viewName);
	OverlayManager.call(t);
	SelectionManager.call(t);
	AgendaEventRenderer.call(t);
	var opt = t.opt;
	var trigger = t.trigger;
	var renderOverlay = t.renderOverlay;
	var clearOverlays = t.clearOverlays;
	var reportSelection = t.reportSelection;
	var unselect = t.unselect;
	var daySelectionMousedown = t.daySelectionMousedown;
	var slotSegHtml = t.slotSegHtml;
	var cellToDate = t.cellToDate;
	var dateToCell = t.dateToCell;
	var rangeToSegments = t.rangeToSegments;
	var formatDate = calendar.formatDate;
	
	
	// locals
	
	var dayTable;
	var dayHead;
	var dayHeadCells;
	var dayBody;
	var dayBodyCells;
	var dayBodyCellInners;
	var dayBodyCellContentInners;
	var dayBodyFirstCell;
	var dayBodyFirstCellStretcher;
	var slotLayer;
	var daySegmentContainer;
	var allDayTable;
	var allDayRow;
	var slotScroller;
	var slotContainer;
	var slotSegmentContainer;
	var slotTable;
	var selectionHelper;
	
	var viewWidth;
	var viewHeight;
	var axisWidth;
	var colWidth;
	var gutterWidth;
	var slotHeight; // TODO: what if slotHeight changes? (see issue 650)

	var snapMinutes;
	var snapRatio; // ratio of number of "selection" slots to normal slots. (ex: 1, 2, 4)
	var snapHeight; // holds the pixel hight of a "selection" slot
	
	var colCnt;
	var slotCnt;
	var coordinateGrid;
	var hoverListener;
	var colPositions;
	var colContentPositions;
	var slotTopCache = {};
	
	var tm;
	var rtl;
	var minMinute, maxMinute;
	var colFormat;
	var showWeekNumbers;
	var weekNumberTitle;
	var weekNumberFormat;
	

	
	/* Rendering
	-----------------------------------------------------------------------------*/
	
	
	disableTextSelection(element.addClass('fc-agenda'));
	
	
	function renderAgenda(c) {
		colCnt = c;
		updateOptions();

		if (!dayTable) { // first time rendering?
			buildSkeleton(); // builds day table, slot area, events containers
		}
		else {
			buildDayTable(); // rebuilds day table
		}
	}
	
	
	function updateOptions() {

		tm = opt('theme') ? 'ui' : 'fc';
		rtl = opt('isRTL')
		minMinute = parseTime(opt('minTime'));
		maxMinute = parseTime(opt('maxTime'));
		colFormat = opt('columnFormat');

		// week # options. (TODO: bad, logic also in other views)
		showWeekNumbers = opt('weekNumbers');
		weekNumberTitle = opt('weekNumberTitle');
		if (opt('weekNumberCalculation') != 'iso') {
			weekNumberFormat = "w";
		}
		else {
			weekNumberFormat = "W";
		}

		snapMinutes = opt('snapMinutes') || opt('slotMinutes');
	}



	/* Build DOM
	-----------------------------------------------------------------------*/


	function buildSkeleton() {
		var headerClass = tm + "-widget-header";
		var contentClass = tm + "-widget-content";
		var s;
		var d;
		var i;
		var maxd;
		var minutes;
		var slotNormal = opt('slotMinutes') % 15 == 0;
		
		buildDayTable();
		
		slotLayer =
			$("<div style='position:absolute;z-index:2;left:0;width:100%'/>")
				.appendTo(element);
				
		if (opt('allDaySlot')) {
		
			daySegmentContainer =
				$("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>")
					.appendTo(slotLayer);
		
			s =
				"<table style='width:100%' class='fc-agenda-allday' cellspacing='0'>" +
				"<tr>" +
				"<th class='" + headerClass + " fc-agenda-axis'>" + opt('allDayText') + "</th>" +
				"<td>" +
				"<div class='fc-day-content'><div style='position:relative'/></div>" +
				"</td>" +
				"<th class='" + headerClass + " fc-agenda-gutter'>&nbsp;</th>" +
				"</tr>" +
				"</table>";
			allDayTable = $(s).appendTo(slotLayer);
			allDayRow = allDayTable.find('tr');
			
			dayBind(allDayRow.find('td'));
			
			slotLayer.append(
				"<div class='fc-agenda-divider " + headerClass + "'>" +
				"<div class='fc-agenda-divider-inner'/>" +
				"</div>"
			);
			
		}else{
		
			daySegmentContainer = $([]); // in jQuery 1.4, we can just do $()
		
		}
		
		slotScroller =
			$("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>")
				.appendTo(slotLayer);
				
		slotContainer =
			$("<div style='position:relative;width:100%;overflow:hidden'/>")
				.appendTo(slotScroller);
				
		slotSegmentContainer =
			$("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>")
				.appendTo(slotContainer);
		
		s =
			"<table class='fc-agenda-slots' style='width:100%' cellspacing='0'>" +
			"<tbody>";
		d = zeroDate();
		maxd = addMinutes(cloneDate(d), maxMinute);
		addMinutes(d, minMinute);
		slotCnt = 0;
		for (i=0; d < maxd; i++) {
			minutes = d.getMinutes();
			s +=
				"<tr class='fc-slot" + i + ' ' + (!minutes ? '' : 'fc-minor') + "'>" +
				"<th class='fc-agenda-axis " + headerClass + "'>" +
				((!slotNormal || !minutes) ? formatDate(d, opt('axisFormat')) : '&nbsp;') +
				"</th>" +
				"<td class='" + contentClass + "'>" +
				"<div style='position:relative'>&nbsp;</div>" +
				"</td>" +
				"</tr>";
			addMinutes(d, opt('slotMinutes'));
			slotCnt++;
		}
		s +=
			"</tbody>" +
			"</table>";
		slotTable = $(s).appendTo(slotContainer);
		
		slotBind(slotTable.find('td'));
	}



	/* Build Day Table
	-----------------------------------------------------------------------*/


	function buildDayTable() {
		var html = buildDayTableHTML();

		if (dayTable) {
			dayTable.remove();
		}
		dayTable = $(html).appendTo(element);

		dayHead = dayTable.find('thead');
		dayHeadCells = dayHead.find('th').slice(1, -1); // exclude gutter
		dayBody = dayTable.find('tbody');
		dayBodyCells = dayBody.find('td').slice(0, -1); // exclude gutter
		dayBodyCellInners = dayBodyCells.find('> div');
		dayBodyCellContentInners = dayBodyCells.find('.fc-day-content > div');

		dayBodyFirstCell = dayBodyCells.eq(0);
		dayBodyFirstCellStretcher = dayBodyCellInners.eq(0);
		
		markFirstLast(dayHead.add(dayHead.find('tr')));
		markFirstLast(dayBody.add(dayBody.find('tr')));

		// TODO: now that we rebuild the cells every time, we should call dayRender
	}


	function buildDayTableHTML() {
		var html =
			"<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>" +
			buildDayTableHeadHTML() +
			buildDayTableBodyHTML() +
			"</table>";

		return html;
	}


	function buildDayTableHeadHTML() {
		var headerClass = tm + "-widget-header";
		var date;
		var html = '';
		var weekText;
		var col;

		html +=
			"<thead>" +
			"<tr>";

		if (showWeekNumbers) {
			date = cellToDate(0, 0);
			weekText = formatDate(date, weekNumberFormat);
			if (rtl) {
				weekText += weekNumberTitle;
			}
			else {
				weekText = weekNumberTitle + weekText;
			}
			html +=
				"<th class='fc-agenda-axis fc-week-number " + headerClass + "'>" +
				htmlEscape(weekText) +
				"</th>";
		}
		else {
			html += "<th class='fc-agenda-axis " + headerClass + "'>&nbsp;</th>";
		}

		for (col=0; col<colCnt; col++) {
			date = cellToDate(0, col);
			html +=
				"<th class='fc-" + dayIDs[date.getDay()] + " fc-col" + col + ' ' + headerClass + "'>" +
				htmlEscape(formatDate(date, colFormat)) +
				"</th>";
		}

		html +=
			"<th class='fc-agenda-gutter " + headerClass + "'>&nbsp;</th>" +
			"</tr>" +
			"</thead>";

		return html;
	}


	function buildDayTableBodyHTML() {
		var headerClass = tm + "-widget-header"; // TODO: make these when updateOptions() called
		var contentClass = tm + "-widget-content";
		var date;
		var today = clearTime(new Date());
		var col;
		var cellsHTML;
		var cellHTML;
		var classNames;
		var html = '';

		html +=
			"<tbody>" +
			"<tr>" +
			"<th class='fc-agenda-axis " + headerClass + "'>&nbsp;</th>";

		cellsHTML = '';

		for (col=0; col<colCnt; col++) {

			date = cellToDate(0, col);

			classNames = [
				'fc-col' + col,
				'fc-' + dayIDs[date.getDay()],
				contentClass
			];
			if (+date == +today) {
				classNames.push(
					tm + '-state-highlight',
					'fc-today'
				);
			}
			else if (date < today) {
				classNames.push('fc-past');
			}
			else {
				classNames.push('fc-future');
			}

			cellHTML =
				"<td class='" + classNames.join(' ') + "'>" +
				"<div>" +
				"<div class='fc-day-content'>" +
				"<div style='position:relative'>&nbsp;</div>" +
				"</div>" +
				"</div>" +
				"</td>";

			cellsHTML += cellHTML;
		}

		html += cellsHTML;
		html +=
			"<td class='fc-agenda-gutter " + contentClass + "'>&nbsp;</td>" +
			"</tr>" +
			"</tbody>";

		return html;
	}


	// TODO: data-date on the cells

	
	
	/* Dimensions
	-----------------------------------------------------------------------*/

	
	function setHeight(height) {
		if (height === undefined) {
			height = viewHeight;
		}
		viewHeight = height;
		slotTopCache = {};
	
		var headHeight = dayBody.position().top;
		var allDayHeight = slotScroller.position().top; // including divider
		var bodyHeight = Math.min( // total body height, including borders
			height - headHeight,   // when scrollbars
			slotTable.height() + allDayHeight + 1 // when no scrollbars. +1 for bottom border
		);

		dayBodyFirstCellStretcher
			.height(bodyHeight - vsides(dayBodyFirstCell));
		
		slotLayer.css('top', headHeight);
		
		slotScroller.height(bodyHeight - allDayHeight - 1);
		
		// the stylesheet guarantees that the first row has no border.
		// this allows .height() to work well cross-browser.
		slotHeight = slotTable.find('tr:first').height() + 1; // +1 for bottom border

		snapRatio = opt('slotMinutes') / snapMinutes;
		snapHeight = slotHeight / snapRatio;
	}
	
	
	function setWidth(width) {
		viewWidth = width;
		colPositions.clear();
		colContentPositions.clear();

		var axisFirstCells = dayHead.find('th:first');
		if (allDayTable) {
			axisFirstCells = axisFirstCells.add(allDayTable.find('th:first'));
		}
		axisFirstCells = axisFirstCells.add(slotTable.find('th:first'));
		
		axisWidth = 0;
		setOuterWidth(
			axisFirstCells
				.width('')
				.each(function(i, _cell) {
					axisWidth = Math.max(axisWidth, $(_cell).outerWidth());
				}),
			axisWidth
		);
		
		var gutterCells = dayTable.find('.fc-agenda-gutter');
		if (allDayTable) {
			gutterCells = gutterCells.add(allDayTable.find('th.fc-agenda-gutter'));
		}

		var slotTableWidth = slotScroller[0].clientWidth; // needs to be done after axisWidth (for IE7)
		
		gutterWidth = slotScroller.width() - slotTableWidth;
		if (gutterWidth) {
			setOuterWidth(gutterCells, gutterWidth);
			gutterCells
				.show()
				.prev()
				.removeClass('fc-last');
		}else{
			gutterCells
				.hide()
				.prev()
				.addClass('fc-last');
		}
		
		colWidth = Math.floor((slotTableWidth - axisWidth) / colCnt);
		setOuterWidth(dayHeadCells.slice(0, -1), colWidth);
	}
	


	/* Scrolling
	-----------------------------------------------------------------------*/


	function resetScroll() {
		var d0 = zeroDate();
		var scrollDate = cloneDate(d0);
		scrollDate.setHours(opt('firstHour'));
		var top = timePosition(d0, scrollDate) + 1; // +1 for the border
		function scroll() {
			slotScroller.scrollTop(top);
		}
		scroll();
		setTimeout(scroll, 0); // overrides any previous scroll state made by the browser
	}


	function afterRender() { // after the view has been freshly rendered and sized
		resetScroll();
	}
	
	
	
	/* Slot/Day clicking and binding
	-----------------------------------------------------------------------*/
	

	function dayBind(cells) {
		cells.click(slotClick)
			.mousedown(daySelectionMousedown);
	}


	function slotBind(cells) {
		cells.click(slotClick)
			.mousedown(slotSelectionMousedown);
	}
	
	
	function slotClick(ev) {
		if (!opt('selectable')) { // if selectable, SelectionManager will worry about dayClick
			var col = Math.min(colCnt-1, Math.floor((ev.pageX - dayTable.offset().left - axisWidth) / colWidth));
			var date = cellToDate(0, col);
			var rowMatch = this.parentNode.className.match(/fc-slot(\d+)/); // TODO: maybe use data
			if (rowMatch) {
				var mins = parseInt(rowMatch[1]) * opt('slotMinutes');
				var hours = Math.floor(mins/60);
				date.setHours(hours);
				date.setMinutes(mins%60 + minMinute);
				trigger('dayClick', dayBodyCells[col], date, false, ev);
			}else{
				trigger('dayClick', dayBodyCells[col], date, true, ev);
			}
		}
	}
	
	
	
	/* Semi-transparent Overlay Helpers
	-----------------------------------------------------*/
	// TODO: should be consolidated with BasicView's methods


	function renderDayOverlay(overlayStart, overlayEnd, refreshCoordinateGrid) { // overlayEnd is exclusive

		if (refreshCoordinateGrid) {
			coordinateGrid.build();
		}

		var segments = rangeToSegments(overlayStart, overlayEnd);

		for (var i=0; i<segments.length; i++) {
			var segment = segments[i];
			dayBind(
				renderCellOverlay(
					segment.row,
					segment.leftCol,
					segment.row,
					segment.rightCol
				)
			);
		}
	}
	
	
	function renderCellOverlay(row0, col0, row1, col1) { // only for all-day?
		var rect = coordinateGrid.rect(row0, col0, row1, col1, slotLayer);
		return renderOverlay(rect, slotLayer);
	}
	

	function renderSlotOverlay(overlayStart, overlayEnd) {
		for (var i=0; i<colCnt; i++) {
			var dayStart = cellToDate(0, i);
			var dayEnd = addDays(cloneDate(dayStart), 1);
			var stretchStart = new Date(Math.max(dayStart, overlayStart));
			var stretchEnd = new Date(Math.min(dayEnd, overlayEnd));
			if (stretchStart < stretchEnd) {
				var rect = coordinateGrid.rect(0, i, 0, i, slotContainer); // only use it for horizontal coords
				var top = timePosition(dayStart, stretchStart);
				var bottom = timePosition(dayStart, stretchEnd);
				rect.top = top;
				rect.height = bottom - top;
				slotBind(
					renderOverlay(rect, slotContainer)
				);
			}
		}
	}
	
	
	
	/* Coordinate Utilities
	-----------------------------------------------------------------------------*/
	
	
	coordinateGrid = new CoordinateGrid(function(rows, cols) {
		var e, n, p;
		dayHeadCells.each(function(i, _e) {
			e = $(_e);
			n = e.offset().left;
			if (i) {
				p[1] = n;
			}
			p = [n];
			cols[i] = p;
		});
		p[1] = n + e.outerWidth();
		if (opt('allDaySlot')) {
			e = allDayRow;
			n = e.offset().top;
			rows[0] = [n, n+e.outerHeight()];
		}
		var slotTableTop = slotContainer.offset().top;
		var slotScrollerTop = slotScroller.offset().top;
		var slotScrollerBottom = slotScrollerTop + slotScroller.outerHeight();
		function constrain(n) {
			return Math.max(slotScrollerTop, Math.min(slotScrollerBottom, n));
		}
		for (var i=0; i<slotCnt*snapRatio; i++) { // adapt slot count to increased/decreased selection slot count
			rows.push([
				constrain(slotTableTop + snapHeight*i),
				constrain(slotTableTop + snapHeight*(i+1))
			]);
		}
	});
	
	
	hoverListener = new HoverListener(coordinateGrid);
	
	colPositions = new HorizontalPositionCache(function(col) {
		return dayBodyCellInners.eq(col);
	});
	
	colContentPositions = new HorizontalPositionCache(function(col) {
		return dayBodyCellContentInners.eq(col);
	});
	
	
	function colLeft(col) {
		return colPositions.left(col);
	}


	function colContentLeft(col) {
		return colContentPositions.left(col);
	}


	function colRight(col) {
		return colPositions.right(col);
	}
	
	
	function colContentRight(col) {
		return colContentPositions.right(col);
	}


	function getIsCellAllDay(cell) {
		return opt('allDaySlot') && !cell.row;
	}


	function realCellToDate(cell) { // ugh "real" ... but blame it on our abuse of the "cell" system
		var d = cellToDate(0, cell.col);
		var slotIndex = cell.row;
		if (opt('allDaySlot')) {
			slotIndex--;
		}
		if (slotIndex >= 0) {
			addMinutes(d, minMinute + slotIndex * snapMinutes);
		}
		return d;
	}
	
	
	// get the Y coordinate of the given time on the given day (both Date objects)
	function timePosition(day, time) { // both date objects. day holds 00:00 of current day
		day = cloneDate(day, true);
		if (time < addMinutes(cloneDate(day), minMinute)) {
			return 0;
		}
		if (time >= addMinutes(cloneDate(day), maxMinute)) {
			return slotTable.height();
		}
		var slotMinutes = opt('slotMinutes'),
			minutes = time.getHours()*60 + time.getMinutes() - minMinute,
			slotI = Math.floor(minutes / slotMinutes),
			slotTop = slotTopCache[slotI];
		if (slotTop === undefined) {
			slotTop = slotTopCache[slotI] =
				slotTable.find('tr').eq(slotI).find('td div')[0].offsetTop;
				// .eq() is faster than ":eq()" selector
				// [0].offsetTop is faster than .position().top (do we really need this optimization?)
				// a better optimization would be to cache all these divs
		}
		return Math.max(0, Math.round(
			slotTop - 1 + slotHeight * ((minutes % slotMinutes) / slotMinutes)
		));
	}
	
	
	function getAllDayRow(index) {
		return allDayRow;
	}
	
	
	function defaultEventEnd(event) {
		var start = cloneDate(event.start);
		if (event.allDay) {
			return start;
		}
		return addMinutes(start, opt('defaultEventMinutes'));
	}
	
	
	
	/* Selection
	---------------------------------------------------------------------------------*/
	
	
	function defaultSelectionEnd(startDate, allDay) {
		if (allDay) {
			return cloneDate(startDate);
		}
		return addMinutes(cloneDate(startDate), opt('slotMinutes'));
	}
	
	
	function renderSelection(startDate, endDate, allDay) { // only for all-day
		if (allDay) {
			if (opt('allDaySlot')) {
				renderDayOverlay(startDate, addDays(cloneDate(endDate), 1), true);
			}
		}else{
			renderSlotSelection(startDate, endDate);
		}
	}
	
	
	function renderSlotSelection(startDate, endDate) {
		var helperOption = opt('selectHelper');
		coordinateGrid.build();
		if (helperOption) {
			var col = dateToCell(startDate).col;
			if (col >= 0 && col < colCnt) { // only works when times are on same day
				var rect = coordinateGrid.rect(0, col, 0, col, slotContainer); // only for horizontal coords
				var top = timePosition(startDate, startDate);
				var bottom = timePosition(startDate, endDate);
				if (bottom > top) { // protect against selections that are entirely before or after visible range
					rect.top = top;
					rect.height = bottom - top;
					rect.left += 2;
					rect.width -= 5;
					if ($.isFunction(helperOption)) {
						var helperRes = helperOption(startDate, endDate);
						if (helperRes) {
							rect.position = 'absolute';
							selectionHelper = $(helperRes)
								.css(rect)
								.appendTo(slotContainer);
						}
					}else{
						rect.isStart = true; // conside rect a "seg" now
						rect.isEnd = true;   //
						selectionHelper = $(slotSegHtml(
							{
								title: '',
								start: startDate,
								end: endDate,
								className: ['fc-select-helper'],
								editable: false
							},
							rect
						));
						selectionHelper.css('opacity', opt('dragOpacity'));
					}
					if (selectionHelper) {
						slotBind(selectionHelper);
						slotContainer.append(selectionHelper);
						setOuterWidth(selectionHelper, rect.width, true); // needs to be after appended
						setOuterHeight(selectionHelper, rect.height, true);
					}
				}
			}
		}else{
			renderSlotOverlay(startDate, endDate);
		}
	}
	
	
	function clearSelection() {
		clearOverlays();
		if (selectionHelper) {
			selectionHelper.remove();
			selectionHelper = null;
		}
	}
	
	
	function slotSelectionMousedown(ev) {
		if (ev.which == 1 && opt('selectable')) { // ev.which==1 means left mouse button
			unselect(ev);
			var dates;
			hoverListener.start(function(cell, origCell) {
				clearSelection();
				if (cell && cell.col == origCell.col && !getIsCellAllDay(cell)) {
					var d1 = realCellToDate(origCell);
					var d2 = realCellToDate(cell);
					dates = [
						d1,
						addMinutes(cloneDate(d1), snapMinutes), // calculate minutes depending on selection slot minutes 
						d2,
						addMinutes(cloneDate(d2), snapMinutes)
					].sort(dateCompare);
					renderSlotSelection(dates[0], dates[3]);
				}else{
					dates = null;
				}
			}, ev);
			$(document).one('mouseup', function(ev) {
				hoverListener.stop();
				if (dates) {
					if (+dates[0] == +dates[1]) {
						reportDayClick(dates[0], false, ev);
					}
					reportSelection(dates[0], dates[3], false, ev);
				}
			});
		}
	}


	function reportDayClick(date, allDay, ev) {
		trigger('dayClick', dayBodyCells[dateToCell(date).col], date, allDay, ev);
	}
	
	
	
	/* External Dragging
	--------------------------------------------------------------------------------*/
	
	
	function dragStart(_dragElement, ev, ui) {
		hoverListener.start(function(cell) {
			clearOverlays();
			if (cell) {
				if (getIsCellAllDay(cell)) {
					renderCellOverlay(cell.row, cell.col, cell.row, cell.col);
				}else{
					var d1 = realCellToDate(cell);
					var d2 = addMinutes(cloneDate(d1), opt('defaultEventMinutes'));
					renderSlotOverlay(d1, d2);
				}
			}
		}, ev);
	}
	
	
	function dragStop(_dragElement, ev, ui) {
		var cell = hoverListener.stop();
		clearOverlays();
		if (cell) {
			trigger('drop', _dragElement, realCellToDate(cell), getIsCellAllDay(cell), ev, ui);
		}
	}
	

}

;;

function AgendaEventRenderer() {
	var t = this;
	
	
	// exports
	t.renderEvents = renderEvents;
	t.clearEvents = clearEvents;
	t.slotSegHtml = slotSegHtml;
	
	
	// imports
	DayEventRenderer.call(t);
	var opt = t.opt;
	var trigger = t.trigger;
	var isEventDraggable = t.isEventDraggable;
	var isEventResizable = t.isEventResizable;
	var eventEnd = t.eventEnd;
	var eventElementHandlers = t.eventElementHandlers;
	var setHeight = t.setHeight;
	var getDaySegmentContainer = t.getDaySegmentContainer;
	var getSlotSegmentContainer = t.getSlotSegmentContainer;
	var getHoverListener = t.getHoverListener;
	var getMaxMinute = t.getMaxMinute;
	var getMinMinute = t.getMinMinute;
	var timePosition = t.timePosition;
	var getIsCellAllDay = t.getIsCellAllDay;
	var colContentLeft = t.colContentLeft;
	var colContentRight = t.colContentRight;
	var cellToDate = t.cellToDate;
	var getColCnt = t.getColCnt;
	var getColWidth = t.getColWidth;
	var getSnapHeight = t.getSnapHeight;
	var getSnapMinutes = t.getSnapMinutes;
	var getSlotContainer = t.getSlotContainer;
	var reportEventElement = t.reportEventElement;
	var showEvents = t.showEvents;
	var hideEvents = t.hideEvents;
	var eventDrop = t.eventDrop;
	var eventResize = t.eventResize;
	var renderDayOverlay = t.renderDayOverlay;
	var clearOverlays = t.clearOverlays;
	var renderDayEvents = t.renderDayEvents;
	var calendar = t.calendar;
	var formatDate = calendar.formatDate;
	var formatDates = calendar.formatDates;


	// overrides
	t.draggableDayEvent = draggableDayEvent;

	
	
	/* Rendering
	----------------------------------------------------------------------------*/
	

	function renderEvents(events, modifiedEventId) {
		var i, len=events.length,
			dayEvents=[],
			slotEvents=[];
		for (i=0; i<len; i++) {
			if (events[i].allDay) {
				dayEvents.push(events[i]);
			}else{
				slotEvents.push(events[i]);
			}
		}

		if (opt('allDaySlot')) {
			renderDayEvents(dayEvents, modifiedEventId);
			setHeight(); // no params means set to viewHeight
		}

		renderSlotSegs(compileSlotSegs(slotEvents), modifiedEventId);
	}
	
	
	function clearEvents() {
		getDaySegmentContainer().empty();
		getSlotSegmentContainer().empty();
	}

	
	function compileSlotSegs(events) {
		var colCnt = getColCnt(),
			minMinute = getMinMinute(),
			maxMinute = getMaxMinute(),
			d,
			visEventEnds = $.map(events, slotEventEnd),
			i,
			j, seg,
			colSegs,
			segs = [];

		for (i=0; i<colCnt; i++) {

			d = cellToDate(0, i);
			addMinutes(d, minMinute);

			colSegs = sliceSegs(
				events,
				visEventEnds,
				d,
				addMinutes(cloneDate(d), maxMinute-minMinute)
			);

			colSegs = placeSlotSegs(colSegs); // returns a new order

			for (j=0; j<colSegs.length; j++) {
				seg = colSegs[j];
				seg.col = i;
				segs.push(seg);
			}
		}

		return segs;
	}


	function sliceSegs(events, visEventEnds, start, end) {
		var segs = [],
			i, len=events.length, event,
			eventStart, eventEnd,
			segStart, segEnd,
			isStart, isEnd;
		for (i=0; i<len; i++) {
			event = events[i];
			eventStart = event.start;
			eventEnd = visEventEnds[i];
			if (eventEnd > start && eventStart < end) {
				if (eventStart < start) {
					segStart = cloneDate(start);
					isStart = false;
				}else{
					segStart = eventStart;
					isStart = true;
				}
				if (eventEnd > end) {
					segEnd = cloneDate(end);
					isEnd = false;
				}else{
					segEnd = eventEnd;
					isEnd = true;
				}
				segs.push({
					event: event,
					start: segStart,
					end: segEnd,
					isStart: isStart,
					isEnd: isEnd
				});
			}
		}
		return segs.sort(compareSlotSegs);
	}


	function slotEventEnd(event) {
		if (event.end) {
			return cloneDate(event.end);
		}else{
			return addMinutes(cloneDate(event.start), opt('defaultEventMinutes'));
		}
	}
	
	
	// renders events in the 'time slots' at the bottom
	// TODO: when we refactor this, when user returns `false` eventRender, don't have empty space
	// TODO: refactor will include using pixels to detect collisions instead of dates (handy for seg cmp)
	
	function renderSlotSegs(segs, modifiedEventId) {
	
		var i, segCnt=segs.length, seg,
			event,
			top,
			bottom,
			columnLeft,
			columnRight,
			columnWidth,
			width,
			left,
			right,
			html = '',
			eventElements,
			eventElement,
			triggerRes,
			titleElement,
			height,
			slotSegmentContainer = getSlotSegmentContainer(),
			isRTL = opt('isRTL');
			
		// calculate position/dimensions, create html
		for (i=0; i<segCnt; i++) {
			seg = segs[i];
			event = seg.event;
			top = timePosition(seg.start, seg.start);
			bottom = timePosition(seg.start, seg.end);
			columnLeft = colContentLeft(seg.col);
			columnRight = colContentRight(seg.col);
			columnWidth = columnRight - columnLeft;

			// shave off space on right near scrollbars (2.5%)
			// TODO: move this to CSS somehow
			columnRight -= columnWidth * .025;
			columnWidth = columnRight - columnLeft;

			width = columnWidth * (seg.forwardCoord - seg.backwardCoord);

			if (opt('slotEventOverlap')) {
				// double the width while making sure resize handle is visible
				// (assumed to be 20px wide)
				width = Math.max(
					(width - (20/2)) * 2,
					width // narrow columns will want to make the segment smaller than
						// the natural width. don't allow it
				);
			}

			if (isRTL) {
				right = columnRight - seg.backwardCoord * columnWidth;
				left = right - width;
			}
			else {
				left = columnLeft + seg.backwardCoord * columnWidth;
				right = left + width;
			}

			// make sure horizontal coordinates are in bounds
			left = Math.max(left, columnLeft);
			right = Math.min(right, columnRight);
			width = right - left;

			seg.top = top;
			seg.left = left;
			seg.outerWidth = width;
			seg.outerHeight = bottom - top;
			html += slotSegHtml(event, seg);
		}

		slotSegmentContainer[0].innerHTML = html; // faster than html()
		eventElements = slotSegmentContainer.children();
		
		// retrieve elements, run through eventRender callback, bind event handlers
		for (i=0; i<segCnt; i++) {
			seg = segs[i];
			event = seg.event;
			eventElement = $(eventElements[i]); // faster than eq()
			triggerRes = trigger('eventRender', event, event, eventElement);
			if (triggerRes === false) {
				eventElement.remove();
			}else{
				if (triggerRes && triggerRes !== true) {
					eventElement.remove();
					eventElement = $(triggerRes)
						.css({
							position: 'absolute',
							top: seg.top,
							left: seg.left
						})
						.appendTo(slotSegmentContainer);
				}
				seg.element = eventElement;
				if (event._id === modifiedEventId) {
					bindSlotSeg(event, eventElement, seg);
				}else{
					eventElement[0]._fci = i; // for lazySegBind
				}
				reportEventElement(event, eventElement);
			}
		}
		
		lazySegBind(slotSegmentContainer, segs, bindSlotSeg);
		
		// record event sides and title positions
		for (i=0; i<segCnt; i++) {
			seg = segs[i];
			if (eventElement = seg.element) {
				seg.vsides = vsides(eventElement, true);
				seg.hsides = hsides(eventElement, true);
				titleElement = eventElement.find('.fc-event-title');
				if (titleElement.length) {
					seg.contentTop = titleElement[0].offsetTop;
				}
			}
		}
		
		// set all positions/dimensions at once
		for (i=0; i<segCnt; i++) {
			seg = segs[i];
			if (eventElement = seg.element) {
				eventElement[0].style.width = Math.max(0, seg.outerWidth - seg.hsides) + 'px';
				height = Math.max(0, seg.outerHeight - seg.vsides);
				eventElement[0].style.height = height + 'px';
				event = seg.event;
				if (seg.contentTop !== undefined && height - seg.contentTop < 10) {
					// not enough room for title, put it in the time (TODO: maybe make both display:inline instead)
					eventElement.find('div.fc-event-time')
						.text(formatDate(event.start, opt('timeFormat')) + ' - ' + event.title);
					eventElement.find('div.fc-event-title')
						.remove();
				}
				trigger('eventAfterRender', event, event, eventElement);
			}
		}
					
	}
	
	
	function slotSegHtml(event, seg) {
		var html = "<";
		var url = event.url;
		var skinCss = getSkinCss(event, opt);
		var classes = ['fc-event', 'fc-event-vert'];
		if (isEventDraggable(event)) {
			classes.push('fc-event-draggable');
		}
		if (seg.isStart) {
			classes.push('fc-event-start');
		}
		if (seg.isEnd) {
			classes.push('fc-event-end');
		}
		classes = classes.concat(event.className);
		if (event.source) {
			classes = classes.concat(event.source.className || []);
		}
		if (url) {
			html += "a href='" + htmlEscape(event.url) + "'";
		}else{
			html += "div";
		}
		html +=
			" class='" + classes.join(' ') + "'" +
			" style=" +
				"'" +
				"position:absolute;" +
				"top:" + seg.top + "px;" +
				"left:" + seg.left + "px;" +
				skinCss +
				"'" +
			">" +
			"<div class='fc-event-inner'>" +
			"<div class='fc-event-time'>" +
			htmlEscape(formatDates(event.start, event.end, opt('timeFormat'))) +
			"</div>" +
			"<div class='fc-event-title'>" +
			htmlEscape(event.title || '') +
			"</div>" +
			"</div>" +
			"<div class='fc-event-bg'></div>";
		if (seg.isEnd && isEventResizable(event)) {
			html +=
				"<div class='ui-resizable-handle ui-resizable-s'>=</div>";
		}
		html +=
			"</" + (url ? "a" : "div") + ">";
		return html;
	}
	
	
	function bindSlotSeg(event, eventElement, seg) {
		var timeElement = eventElement.find('div.fc-event-time');
		if (isEventDraggable(event)) {
			draggableSlotEvent(event, eventElement, timeElement);
		}
		if (seg.isEnd && isEventResizable(event)) {
			resizableSlotEvent(event, eventElement, timeElement);
		}
		eventElementHandlers(event, eventElement);
	}
	
	
	
	/* Dragging
	-----------------------------------------------------------------------------------*/
	
	
	// when event starts out FULL-DAY
	// overrides DayEventRenderer's version because it needs to account for dragging elements
	// to and from the slot area.
	
	function draggableDayEvent(event, eventElement, seg) {
		var isStart = seg.isStart;
		var origWidth;
		var revert;
		var allDay = true;
		var dayDelta;
		var hoverListener = getHoverListener();
		var colWidth = getColWidth();
		var snapHeight = getSnapHeight();
		var snapMinutes = getSnapMinutes();
		var minMinute = getMinMinute();
		eventElement.draggable({
			opacity: opt('dragOpacity', 'month'), // use whatever the month view was using
			revertDuration: opt('dragRevertDuration'),
			start: function(ev, ui) {
				trigger('eventDragStart', eventElement, event, ev, ui);
				hideEvents(event, eventElement);
				origWidth = eventElement.width();
				hoverListener.start(function(cell, origCell) {
					clearOverlays();
					if (cell) {
						revert = false;
						var origDate = cellToDate(0, origCell.col);
						var date = cellToDate(0, cell.col);
						dayDelta = dayDiff(date, origDate);
						if (!cell.row) {
							// on full-days
							renderDayOverlay(
								addDays(cloneDate(event.start), dayDelta),
								addDays(exclEndDay(event), dayDelta)
							);
							resetElement();
						}else{
							// mouse is over bottom slots
							if (isStart) {
								if (allDay) {
									// convert event to temporary slot-event
									eventElement.width(colWidth - 10); // don't use entire width
									setOuterHeight(
										eventElement,
										snapHeight * Math.round(
											(event.end ? ((event.end - event.start) / MINUTE_MS) : opt('defaultEventMinutes')) /
												snapMinutes
										)
									);
									eventElement.draggable('option', 'grid', [colWidth, 1]);
									allDay = false;
								}
							}else{
								revert = true;
							}
						}
						revert = revert || (allDay && !dayDelta);
					}else{
						resetElement();
						revert = true;
					}
					eventElement.draggable('option', 'revert', revert);
				}, ev, 'drag');
			},
			stop: function(ev, ui) {
				hoverListener.stop();
				clearOverlays();
				trigger('eventDragStop', eventElement, event, ev, ui);
				if (revert) {
					// hasn't moved or is out of bounds (draggable has already reverted)
					resetElement();
					eventElement.css('filter', ''); // clear IE opacity side-effects
					showEvents(event, eventElement);
				}else{
					// changed!
					var minuteDelta = 0;
					if (!allDay) {
						minuteDelta = Math.round((eventElement.offset().top - getSlotContainer().offset().top) / snapHeight)
							* snapMinutes
							+ minMinute
							- (event.start.getHours() * 60 + event.start.getMinutes());
					}
					eventDrop(this, event, dayDelta, minuteDelta, allDay, ev, ui);
				}
			}
		});
		function resetElement() {
			if (!allDay) {
				eventElement
					.width(origWidth)
					.height('')
					.draggable('option', 'grid', null);
				allDay = true;
			}
		}
	}
	
	
	// when event starts out IN TIMESLOTS
	
	function draggableSlotEvent(event, eventElement, timeElement) {
		var coordinateGrid = t.getCoordinateGrid();
		var colCnt = getColCnt();
		var colWidth = getColWidth();
		var snapHeight = getSnapHeight();
		var snapMinutes = getSnapMinutes();

		// states
		var origPosition; // original position of the element, not the mouse
		var origCell;
		var isInBounds, prevIsInBounds;
		var isAllDay, prevIsAllDay;
		var colDelta, prevColDelta;
		var dayDelta; // derived from colDelta
		var minuteDelta, prevMinuteDelta;

		eventElement.draggable({
			scroll: false,
			grid: [ colWidth, snapHeight ],
			axis: colCnt==1 ? 'y' : false,
			opacity: opt('dragOpacity'),
			revertDuration: opt('dragRevertDuration'),
			start: function(ev, ui) {

				trigger('eventDragStart', eventElement, event, ev, ui);
				hideEvents(event, eventElement);

				coordinateGrid.build();

				// initialize states
				origPosition = eventElement.position();
				origCell = coordinateGrid.cell(ev.pageX, ev.pageY);
				isInBounds = prevIsInBounds = true;
				isAllDay = prevIsAllDay = getIsCellAllDay(origCell);
				colDelta = prevColDelta = 0;
				dayDelta = 0;
				minuteDelta = prevMinuteDelta = 0;

			},
			drag: function(ev, ui) {

				// NOTE: this `cell` value is only useful for determining in-bounds and all-day.
				// Bad for anything else due to the discrepancy between the mouse position and the
				// element position while snapping. (problem revealed in PR #55)
				//
				// PS- the problem exists for draggableDayEvent() when dragging an all-day event to a slot event.
				// We should overhaul the dragging system and stop relying on jQuery UI.
				var cell = coordinateGrid.cell(ev.pageX, ev.pageY);

				// update states
				isInBounds = !!cell;
				if (isInBounds) {
					isAllDay = getIsCellAllDay(cell);

					// calculate column delta
					colDelta = Math.round((ui.position.left - origPosition.left) / colWidth);
					if (colDelta != prevColDelta) {
						// calculate the day delta based off of the original clicked column and the column delta
						var origDate = cellToDate(0, origCell.col);
						var col = origCell.col + colDelta;
						col = Math.max(0, col);
						col = Math.min(colCnt-1, col);
						var date = cellToDate(0, col);
						dayDelta = dayDiff(date, origDate);
					}

					// calculate minute delta (only if over slots)
					if (!isAllDay) {
						minuteDelta = Math.round((ui.position.top - origPosition.top) / snapHeight) * snapMinutes;
					}
				}

				// any state changes?
				if (
					isInBounds != prevIsInBounds ||
					isAllDay != prevIsAllDay ||
					colDelta != prevColDelta ||
					minuteDelta != prevMinuteDelta
				) {

					updateUI();

					// update previous states for next time
					prevIsInBounds = isInBounds;
					prevIsAllDay = isAllDay;
					prevColDelta = colDelta;
					prevMinuteDelta = minuteDelta;
				}

				// if out-of-bounds, revert when done, and vice versa.
				eventElement.draggable('option', 'revert', !isInBounds);

			},
			stop: function(ev, ui) {

				clearOverlays();
				trigger('eventDragStop', eventElement, event, ev, ui);

				if (isInBounds && (isAllDay || dayDelta || minuteDelta)) { // changed!
					eventDrop(this, event, dayDelta, isAllDay ? 0 : minuteDelta, isAllDay, ev, ui);
				}
				else { // either no change or out-of-bounds (draggable has already reverted)

					// reset states for next time, and for updateUI()
					isInBounds = true;
					isAllDay = false;
					colDelta = 0;
					dayDelta = 0;
					minuteDelta = 0;

					updateUI();
					eventElement.css('filter', ''); // clear IE opacity side-effects

					// sometimes fast drags make event revert to wrong position, so reset.
					// also, if we dragged the element out of the area because of snapping,
					// but the *mouse* is still in bounds, we need to reset the position.
					eventElement.css(origPosition);

					showEvents(event, eventElement);
				}
			}
		});

		function updateUI() {
			clearOverlays();
			if (isInBounds) {
				if (isAllDay) {
					timeElement.hide();
					eventElement.draggable('option', 'grid', null); // disable grid snapping
					renderDayOverlay(
						addDays(cloneDate(event.start), dayDelta),
						addDays(exclEndDay(event), dayDelta)
					);
				}
				else {
					updateTimeText(minuteDelta);
					timeElement.css('display', ''); // show() was causing display=inline
					eventElement.draggable('option', 'grid', [colWidth, snapHeight]); // re-enable grid snapping
				}
			}
		}

		function updateTimeText(minuteDelta) {
			var newStart = addMinutes(cloneDate(event.start), minuteDelta);
			var newEnd;
			if (event.end) {
				newEnd = addMinutes(cloneDate(event.end), minuteDelta);
			}
			timeElement.text(formatDates(newStart, newEnd, opt('timeFormat')));
		}

	}
	
	
	
	/* Resizing
	--------------------------------------------------------------------------------------*/
	
	
	function resizableSlotEvent(event, eventElement, timeElement) {
		var snapDelta, prevSnapDelta;
		var snapHeight = getSnapHeight();
		var snapMinutes = getSnapMinutes();
		eventElement.resizable({
			handles: {
				s: '.ui-resizable-handle'
			},
			grid: snapHeight,
			start: function(ev, ui) {
				snapDelta = prevSnapDelta = 0;
				hideEvents(event, eventElement);
				trigger('eventResizeStart', this, event, ev, ui);
			},
			resize: function(ev, ui) {
				// don't rely on ui.size.height, doesn't take grid into account
				snapDelta = Math.round((Math.max(snapHeight, eventElement.height()) - ui.originalSize.height) / snapHeight);
				if (snapDelta != prevSnapDelta) {
					timeElement.text(
						formatDates(
							event.start,
							(!snapDelta && !event.end) ? null : // no change, so don't display time range
								addMinutes(eventEnd(event), snapMinutes*snapDelta),
							opt('timeFormat')
						)
					);
					prevSnapDelta = snapDelta;
				}
			},
			stop: function(ev, ui) {
				trigger('eventResizeStop', this, event, ev, ui);
				if (snapDelta) {
					eventResize(this, event, 0, snapMinutes*snapDelta, ev, ui);
				}else{
					showEvents(event, eventElement);
					// BUG: if event was really short, need to put title back in span
				}
			}
		});
	}
	

}



/* Agenda Event Segment Utilities
-----------------------------------------------------------------------------*/


// Sets the seg.backwardCoord and seg.forwardCoord on each segment and returns a new
// list in the order they should be placed into the DOM (an implicit z-index).
function placeSlotSegs(segs) {
	var levels = buildSlotSegLevels(segs);
	var level0 = levels[0];
	var i;

	computeForwardSlotSegs(levels);

	if (level0) {

		for (i=0; i<level0.length; i++) {
			computeSlotSegPressures(level0[i]);
		}

		for (i=0; i<level0.length; i++) {
			computeSlotSegCoords(level0[i], 0, 0);
		}
	}

	return flattenSlotSegLevels(levels);
}


// Builds an array of segments "levels". The first level will be the leftmost tier of segments
// if the calendar is left-to-right, or the rightmost if the calendar is right-to-left.
function buildSlotSegLevels(segs) {
	var levels = [];
	var i, seg;
	var j;

	for (i=0; i<segs.length; i++) {
		seg = segs[i];

		// go through all the levels and stop on the first level where there are no collisions
		for (j=0; j<levels.length; j++) {
			if (!computeSlotSegCollisions(seg, levels[j]).length) {
				break;
			}
		}

		(levels[j] || (levels[j] = [])).push(seg);
	}

	return levels;
}


// For every segment, figure out the other segments that are in subsequent
// levels that also occupy the same vertical space. Accumulate in seg.forwardSegs
function computeForwardSlotSegs(levels) {
	var i, level;
	var j, seg;
	var k;

	for (i=0; i<levels.length; i++) {
		level = levels[i];

		for (j=0; j<level.length; j++) {
			seg = level[j];

			seg.forwardSegs = [];
			for (k=i+1; k<levels.length; k++) {
				computeSlotSegCollisions(seg, levels[k], seg.forwardSegs);
			}
		}
	}
}


// Figure out which path forward (via seg.forwardSegs) results in the longest path until
// the furthest edge is reached. The number of segments in this path will be seg.forwardPressure
function computeSlotSegPressures(seg) {
	var forwardSegs = seg.forwardSegs;
	var forwardPressure = 0;
	var i, forwardSeg;

	if (seg.forwardPressure === undefined) { // not already computed

		for (i=0; i<forwardSegs.length; i++) {
			forwardSeg = forwardSegs[i];

			// figure out the child's maximum forward path
			computeSlotSegPressures(forwardSeg);

			// either use the existing maximum, or use the child's forward pressure
			// plus one (for the forwardSeg itself)
			forwardPressure = Math.max(
				forwardPressure,
				1 + forwardSeg.forwardPressure
			);
		}

		seg.forwardPressure = forwardPressure;
	}
}


// Calculate seg.forwardCoord and seg.backwardCoord for the segment, where both values range
// from 0 to 1. If the calendar is left-to-right, the seg.backwardCoord maps to "left" and
// seg.forwardCoord maps to "right" (via percentage). Vice-versa if the calendar is right-to-left.
//
// The segment might be part of a "series", which means consecutive segments with the same pressure
// who's width is unknown until an edge has been hit. `seriesBackwardPressure` is the number of
// segments behind this one in the current series, and `seriesBackwardCoord` is the starting
// coordinate of the first segment in the series.
function computeSlotSegCoords(seg, seriesBackwardPressure, seriesBackwardCoord) {
	var forwardSegs = seg.forwardSegs;
	var i;

	if (seg.forwardCoord === undefined) { // not already computed

		if (!forwardSegs.length) {

			// if there are no forward segments, this segment should butt up against the edge
			seg.forwardCoord = 1;
		}
		else {

			// sort highest pressure first
			forwardSegs.sort(compareForwardSlotSegs);

			// this segment's forwardCoord will be calculated from the backwardCoord of the
			// highest-pressure forward segment.
			computeSlotSegCoords(forwardSegs[0], seriesBackwardPressure + 1, seriesBackwardCoord);
			seg.forwardCoord = forwardSegs[0].backwardCoord;
		}

		// calculate the backwardCoord from the forwardCoord. consider the series
		seg.backwardCoord = seg.forwardCoord -
			(seg.forwardCoord - seriesBackwardCoord) / // available width for series
			(seriesBackwardPressure + 1); // # of segments in the series

		// use this segment's coordinates to computed the coordinates of the less-pressurized
		// forward segments
		for (i=0; i<forwardSegs.length; i++) {
			computeSlotSegCoords(forwardSegs[i], 0, seg.forwardCoord);
		}
	}
}


// Outputs a flat array of segments, from lowest to highest level
function flattenSlotSegLevels(levels) {
	var segs = [];
	var i, level;
	var j;

	for (i=0; i<levels.length; i++) {
		level = levels[i];

		for (j=0; j<level.length; j++) {
			segs.push(level[j]);
		}
	}

	return segs;
}


// Find all the segments in `otherSegs` that vertically collide with `seg`.
// Append into an optionally-supplied `results` array and return.
function computeSlotSegCollisions(seg, otherSegs, results) {
	results = results || [];

	for (var i=0; i<otherSegs.length; i++) {
		if (isSlotSegCollision(seg, otherSegs[i])) {
			results.push(otherSegs[i]);
		}
	}

	return results;
}


// Do these segments occupy the same vertical space?
function isSlotSegCollision(seg1, seg2) {
	return seg1.end > seg2.start && seg1.start < seg2.end;
}


// A cmp function for determining which forward segment to rely on more when computing coordinates.
function compareForwardSlotSegs(seg1, seg2) {
	// put higher-pressure first
	return seg2.forwardPressure - seg1.forwardPressure ||
		// put segments that are closer to initial edge first (and favor ones with no coords yet)
		(seg1.backwardCoord || 0) - (seg2.backwardCoord || 0) ||
		// do normal sorting...
		compareSlotSegs(seg1, seg2);
}


// A cmp function for determining which segment should be closer to the initial edge
// (the left edge on a left-to-right calendar).
function compareSlotSegs(seg1, seg2) {
	return seg1.start - seg2.start || // earlier start time goes first
		(seg2.end - seg2.start) - (seg1.end - seg1.start) || // tie? longer-duration goes first
		(seg1.event.title || '').localeCompare(seg2.event.title); // tie? alphabetically by title
}


;;


function View(element, calendar, viewName) {
	var t = this;
	
	
	// exports
	t.element = element;
	t.calendar = calendar;
	t.name = viewName;
	t.opt = opt;
	t.trigger = trigger;
	t.isEventDraggable = isEventDraggable;
	t.isEventResizable = isEventResizable;
	t.setEventData = setEventData;
	t.clearEventData = clearEventData;
	t.eventEnd = eventEnd;
	t.reportEventElement = reportEventElement;
	t.triggerEventDestroy = triggerEventDestroy;
	t.eventElementHandlers = eventElementHandlers;
	t.showEvents = showEvents;
	t.hideEvents = hideEvents;
	t.eventDrop = eventDrop;
	t.eventResize = eventResize;
	// t.title
	// t.start, t.end
	// t.visStart, t.visEnd
	
	
	// imports
	var defaultEventEnd = t.defaultEventEnd;
	var normalizeEvent = calendar.normalizeEvent; // in EventManager
	var reportEventChange = calendar.reportEventChange;
	
	
	// locals
	var eventsByID = {}; // eventID mapped to array of events (there can be multiple b/c of repeating events)
	var eventElementsByID = {}; // eventID mapped to array of jQuery elements
	var eventElementCouples = []; // array of objects, { event, element } // TODO: unify with segment system
	var options = calendar.options;
	
	
	
	function opt(name, viewNameOverride) {
		var v = options[name];
		if ($.isPlainObject(v)) {
			return smartProperty(v, viewNameOverride || viewName);
		}
		return v;
	}

	
	function trigger(name, thisObj) {
		return calendar.trigger.apply(
			calendar,
			[name, thisObj || t].concat(Array.prototype.slice.call(arguments, 2), [t])
		);
	}
	


	/* Event Editable Boolean Calculations
	------------------------------------------------------------------------------*/

	
	function isEventDraggable(event) {
		var source = event.source || {};
		return firstDefined(
				event.startEditable,
				source.startEditable,
				opt('eventStartEditable'),
				event.editable,
				source.editable,
				opt('editable')
			)
			&& !opt('disableDragging'); // deprecated
	}
	
	
	function isEventResizable(event) { // but also need to make sure the seg.isEnd == true
		var source = event.source || {};
		return firstDefined(
				event.durationEditable,
				source.durationEditable,
				opt('eventDurationEditable'),
				event.editable,
				source.editable,
				opt('editable')
			)
			&& !opt('disableResizing'); // deprecated
	}
	
	
	
	/* Event Data
	------------------------------------------------------------------------------*/
	
	
	function setEventData(events) { // events are already normalized at this point
		eventsByID = {};
		var i, len=events.length, event;
		for (i=0; i<len; i++) {
			event = events[i];
			if (eventsByID[event._id]) {
				eventsByID[event._id].push(event);
			}else{
				eventsByID[event._id] = [event];
			}
		}
	}


	function clearEventData() {
		eventsByID = {};
		eventElementsByID = {};
		eventElementCouples = [];
	}
	
	
	// returns a Date object for an event's end
	function eventEnd(event) {
		return event.end ? cloneDate(event.end) : defaultEventEnd(event);
	}
	
	
	
	/* Event Elements
	------------------------------------------------------------------------------*/
	
	
	// report when view creates an element for an event
	function reportEventElement(event, element) {
		eventElementCouples.push({ event: event, element: element });
		if (eventElementsByID[event._id]) {
			eventElementsByID[event._id].push(element);
		}else{
			eventElementsByID[event._id] = [element];
		}
	}


	function triggerEventDestroy() {
		$.each(eventElementCouples, function(i, couple) {
			t.trigger('eventDestroy', couple.event, couple.event, couple.element);
		});
	}
	
	
	// attaches eventClick, eventMouseover, eventMouseout
	function eventElementHandlers(event, eventElement) {
		eventElement
			.click(function(ev) {
				if (!eventElement.hasClass('ui-draggable-dragging') &&
					!eventElement.hasClass('ui-resizable-resizing')) {
						return trigger('eventClick', this, event, ev);
					}
			})
			.hover(
				function(ev) {
					trigger('eventMouseover', this, event, ev);
				},
				function(ev) {
					trigger('eventMouseout', this, event, ev);
				}
			);
		// TODO: don't fire eventMouseover/eventMouseout *while* dragging is occuring (on subject element)
		// TODO: same for resizing
	}
	
	
	function showEvents(event, exceptElement) {
		eachEventElement(event, exceptElement, 'show');
	}
	
	
	function hideEvents(event, exceptElement) {
		eachEventElement(event, exceptElement, 'hide');
	}
	
	
	function eachEventElement(event, exceptElement, funcName) {
		// NOTE: there may be multiple events per ID (repeating events)
		// and multiple segments per event
		var elements = eventElementsByID[event._id],
			i, len = elements.length;
		for (i=0; i<len; i++) {
			if (!exceptElement || elements[i][0] != exceptElement[0]) {
				elements[i][funcName]();
			}
		}
	}
	
	
	
	/* Event Modification Reporting
	---------------------------------------------------------------------------------*/
	
	
	function eventDrop(e, event, dayDelta, minuteDelta, allDay, ev, ui) {
		var oldAllDay = event.allDay;
		var eventId = event._id;
		moveEvents(eventsByID[eventId], dayDelta, minuteDelta, allDay);
		trigger(
			'eventDrop',
			e,
			event,
			dayDelta,
			minuteDelta,
			allDay,
			function() {
				// TODO: investigate cases where this inverse technique might not work
				moveEvents(eventsByID[eventId], -dayDelta, -minuteDelta, oldAllDay);
				reportEventChange(eventId);
			},
			ev,
			ui
		);
		reportEventChange(eventId);
	}
	
	
	function eventResize(e, event, dayDelta, minuteDelta, ev, ui) {
		var eventId = event._id;
		elongateEvents(eventsByID[eventId], dayDelta, minuteDelta);
		trigger(
			'eventResize',
			e,
			event,
			dayDelta,
			minuteDelta,
			function() {
				// TODO: investigate cases where this inverse technique might not work
				elongateEvents(eventsByID[eventId], -dayDelta, -minuteDelta);
				reportEventChange(eventId);
			},
			ev,
			ui
		);
		reportEventChange(eventId);
	}
	
	
	
	/* Event Modification Math
	---------------------------------------------------------------------------------*/
	
	
	function moveEvents(events, dayDelta, minuteDelta, allDay) {
		minuteDelta = minuteDelta || 0;
		for (var e, len=events.length, i=0; i<len; i++) {
			e = events[i];
			if (allDay !== undefined) {
				e.allDay = allDay;
			}
			addMinutes(addDays(e.start, dayDelta, true), minuteDelta);
			if (e.end) {
				e.end = addMinutes(addDays(e.end, dayDelta, true), minuteDelta);
			}
			normalizeEvent(e, options);
		}
	}
	
	
	function elongateEvents(events, dayDelta, minuteDelta) {
		minuteDelta = minuteDelta || 0;
		for (var e, len=events.length, i=0; i<len; i++) {
			e = events[i];
			e.end = addMinutes(addDays(eventEnd(e), dayDelta, true), minuteDelta);
			normalizeEvent(e, options);
		}
	}



	// ====================================================================================================
	// Utilities for day "cells"
	// ====================================================================================================
	// The "basic" views are completely made up of day cells.
	// The "agenda" views have day cells at the top "all day" slot.
	// This was the obvious common place to put these utilities, but they should be abstracted out into
	// a more meaningful class (like DayEventRenderer).
	// ====================================================================================================


	// For determining how a given "cell" translates into a "date":
	//
	// 1. Convert the "cell" (row and column) into a "cell offset" (the # of the cell, cronologically from the first).
	//    Keep in mind that column indices are inverted with isRTL. This is taken into account.
	//
	// 2. Convert the "cell offset" to a "day offset" (the # of days since the first visible day in the view).
	//
	// 3. Convert the "day offset" into a "date" (a JavaScript Date object).
	//
	// The reverse transformation happens when transforming a date into a cell.


	// exports
	t.isHiddenDay = isHiddenDay;
	t.skipHiddenDays = skipHiddenDays;
	t.getCellsPerWeek = getCellsPerWeek;
	t.dateToCell = dateToCell;
	t.dateToDayOffset = dateToDayOffset;
	t.dayOffsetToCellOffset = dayOffsetToCellOffset;
	t.cellOffsetToCell = cellOffsetToCell;
	t.cellToDate = cellToDate;
	t.cellToCellOffset = cellToCellOffset;
	t.cellOffsetToDayOffset = cellOffsetToDayOffset;
	t.dayOffsetToDate = dayOffsetToDate;
	t.rangeToSegments = rangeToSegments;


	// internals
	var hiddenDays = opt('hiddenDays') || []; // array of day-of-week indices that are hidden
	var isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)
	var cellsPerWeek;
	var dayToCellMap = []; // hash from dayIndex -> cellIndex, for one week
	var cellToDayMap = []; // hash from cellIndex -> dayIndex, for one week
	var isRTL = opt('isRTL');


	// initialize important internal variables
	(function() {

		if (opt('weekends') === false) {
			hiddenDays.push(0, 6); // 0=sunday, 6=saturday
		}

		// Loop through a hypothetical week and determine which
		// days-of-week are hidden. Record in both hashes (one is the reverse of the other).
		for (var dayIndex=0, cellIndex=0; dayIndex<7; dayIndex++) {
			dayToCellMap[dayIndex] = cellIndex;
			isHiddenDayHash[dayIndex] = $.inArray(dayIndex, hiddenDays) != -1;
			if (!isHiddenDayHash[dayIndex]) {
				cellToDayMap[cellIndex] = dayIndex;
				cellIndex++;
			}
		}

		cellsPerWeek = cellIndex;
		if (!cellsPerWeek) {
			throw 'invalid hiddenDays'; // all days were hidden? bad.
		}

	})();


	// Is the current day hidden?
	// `day` is a day-of-week index (0-6), or a Date object
	function isHiddenDay(day) {
		if (typeof day == 'object') {
			day = day.getDay();
		}
		return isHiddenDayHash[day];
	}


	function getCellsPerWeek() {
		return cellsPerWeek;
	}


	// Keep incrementing the current day until it is no longer a hidden day.
	// If the initial value of `date` is not a hidden day, don't do anything.
	// Pass `isExclusive` as `true` if you are dealing with an end date.
	// `inc` defaults to `1` (increment one day forward each time)
	function skipHiddenDays(date, inc, isExclusive) {
		inc = inc || 1;
		while (
			isHiddenDayHash[ ( date.getDay() + (isExclusive ? inc : 0) + 7 ) % 7 ]
		) {
			addDays(date, inc);
		}
	}


	//
	// TRANSFORMATIONS: cell -> cell offset -> day offset -> date
	//

	// cell -> date (combines all transformations)
	// Possible arguments:
	// - row, col
	// - { row:#, col: # }
	function cellToDate() {
		var cellOffset = cellToCellOffset.apply(null, arguments);
		var dayOffset = cellOffsetToDayOffset(cellOffset);
		var date = dayOffsetToDate(dayOffset);
		return date;
	}

	// cell -> cell offset
	// Possible arguments:
	// - row, col
	// - { row:#, col:# }
	function cellToCellOffset(row, col) {
		var colCnt = t.getColCnt();

		// rtl variables. wish we could pre-populate these. but where?
		var dis = isRTL ? -1 : 1;
		var dit = isRTL ? colCnt - 1 : 0;

		if (typeof row == 'object') {
			col = row.col;
			row = row.row;
		}
		var cellOffset = row * colCnt + (col * dis + dit); // column, adjusted for RTL (dis & dit)

		return cellOffset;
	}

	// cell offset -> day offset
	function cellOffsetToDayOffset(cellOffset) {
		var day0 = t.visStart.getDay(); // first date's day of week
		cellOffset += dayToCellMap[day0]; // normlize cellOffset to beginning-of-week
		return Math.floor(cellOffset / cellsPerWeek) * 7 // # of days from full weeks
			+ cellToDayMap[ // # of days from partial last week
				(cellOffset % cellsPerWeek + cellsPerWeek) % cellsPerWeek // crazy math to handle negative cellOffsets
			]
			- day0; // adjustment for beginning-of-week normalization
	}

	// day offset -> date (JavaScript Date object)
	function dayOffsetToDate(dayOffset) {
		var date = cloneDate(t.visStart);
		addDays(date, dayOffset);
		return date;
	}


	//
	// TRANSFORMATIONS: date -> day offset -> cell offset -> cell
	//

	// date -> cell (combines all transformations)
	function dateToCell(date) {
		var dayOffset = dateToDayOffset(date);
		var cellOffset = dayOffsetToCellOffset(dayOffset);
		var cell = cellOffsetToCell(cellOffset);
		return cell;
	}

	// date -> day offset
	function dateToDayOffset(date) {
		return dayDiff(date, t.visStart);
	}

	// day offset -> cell offset
	function dayOffsetToCellOffset(dayOffset) {
		var day0 = t.visStart.getDay(); // first date's day of week
		dayOffset += day0; // normalize dayOffset to beginning-of-week
		return Math.floor(dayOffset / 7) * cellsPerWeek // # of cells from full weeks
			+ dayToCellMap[ // # of cells from partial last week
				(dayOffset % 7 + 7) % 7 // crazy math to handle negative dayOffsets
			]
			- dayToCellMap[day0]; // adjustment for beginning-of-week normalization
	}

	// cell offset -> cell (object with row & col keys)
	function cellOffsetToCell(cellOffset) {
		var colCnt = t.getColCnt();

		// rtl variables. wish we could pre-populate these. but where?
		var dis = isRTL ? -1 : 1;
		var dit = isRTL ? colCnt - 1 : 0;

		var row = Math.floor(cellOffset / colCnt);
		var col = ((cellOffset % colCnt + colCnt) % colCnt) * dis + dit; // column, adjusted for RTL (dis & dit)
		return {
			row: row,
			col: col
		};
	}


	//
	// Converts a date range into an array of segment objects.
	// "Segments" are horizontal stretches of time, sliced up by row.
	// A segment object has the following properties:
	// - row
	// - cols
	// - isStart
	// - isEnd
	//
	function rangeToSegments(startDate, endDate) {
		var rowCnt = t.getRowCnt();
		var colCnt = t.getColCnt();
		var segments = []; // array of segments to return

		// day offset for given date range
		var rangeDayOffsetStart = dateToDayOffset(startDate);
		var rangeDayOffsetEnd = dateToDayOffset(endDate); // exclusive

		// first and last cell offset for the given date range
		// "last" implies inclusivity
		var rangeCellOffsetFirst = dayOffsetToCellOffset(rangeDayOffsetStart);
		var rangeCellOffsetLast = dayOffsetToCellOffset(rangeDayOffsetEnd) - 1;

		// loop through all the rows in the view
		for (var row=0; row<rowCnt; row++) {

			// first and last cell offset for the row
			var rowCellOffsetFirst = row * colCnt;
			var rowCellOffsetLast = rowCellOffsetFirst + colCnt - 1;

			// get the segment's cell offsets by constraining the range's cell offsets to the bounds of the row
			var segmentCellOffsetFirst = Math.max(rangeCellOffsetFirst, rowCellOffsetFirst);
			var segmentCellOffsetLast = Math.min(rangeCellOffsetLast, rowCellOffsetLast);

			// make sure segment's offsets are valid and in view
			if (segmentCellOffsetFirst <= segmentCellOffsetLast) {

				// translate to cells
				var segmentCellFirst = cellOffsetToCell(segmentCellOffsetFirst);
				var segmentCellLast = cellOffsetToCell(segmentCellOffsetLast);

				// view might be RTL, so order by leftmost column
				var cols = [ segmentCellFirst.col, segmentCellLast.col ].sort();

				// Determine if segment's first/last cell is the beginning/end of the date range.
				// We need to compare "day offset" because "cell offsets" are often ambiguous and
				// can translate to multiple days, and an edge case reveals itself when we the
				// range's first cell is hidden (we don't want isStart to be true).
				var isStart = cellOffsetToDayOffset(segmentCellOffsetFirst) == rangeDayOffsetStart;
				var isEnd = cellOffsetToDayOffset(segmentCellOffsetLast) + 1 == rangeDayOffsetEnd; // +1 for comparing exclusively

				segments.push({
					row: row,
					leftCol: cols[0],
					rightCol: cols[1],
					isStart: isStart,
					isEnd: isEnd
				});
			}
		}

		return segments;
	}
	

}

;;

function DayEventRenderer() {
	var t = this;

	
	// exports
	t.renderDayEvents = renderDayEvents;
	t.draggableDayEvent = draggableDayEvent; // made public so that subclasses can override
	t.resizableDayEvent = resizableDayEvent; // "
	
	
	// imports
	var opt = t.opt;
	var trigger = t.trigger;
	var isEventDraggable = t.isEventDraggable;
	var isEventResizable = t.isEventResizable;
	var eventEnd = t.eventEnd;
	var reportEventElement = t.reportEventElement;
	var eventElementHandlers = t.eventElementHandlers;
	var showEvents = t.showEvents;
	var hideEvents = t.hideEvents;
	var eventDrop = t.eventDrop;
	var eventResize = t.eventResize;
	var getRowCnt = t.getRowCnt;
	var getColCnt = t.getColCnt;
	var getColWidth = t.getColWidth;
	var allDayRow = t.allDayRow; // TODO: rename
	var colLeft = t.colLeft;
	var colRight = t.colRight;
	var colContentLeft = t.colContentLeft;
	var colContentRight = t.colContentRight;
	var dateToCell = t.dateToCell;
	var getDaySegmentContainer = t.getDaySegmentContainer;
	var formatDates = t.calendar.formatDates;
	var renderDayOverlay = t.renderDayOverlay;
	var clearOverlays = t.clearOverlays;
	var clearSelection = t.clearSelection;
	var getHoverListener = t.getHoverListener;
	var rangeToSegments = t.rangeToSegments;
	var cellToDate = t.cellToDate;
	var cellToCellOffset = t.cellToCellOffset;
	var cellOffsetToDayOffset = t.cellOffsetToDayOffset;
	var dateToDayOffset = t.dateToDayOffset;
	var dayOffsetToCellOffset = t.dayOffsetToCellOffset;


	// Render `events` onto the calendar, attach mouse event handlers, and call the `eventAfterRender` callback for each.
	// Mouse event will be lazily applied, except if the event has an ID of `modifiedEventId`.
	// Can only be called when the event container is empty (because it wipes out all innerHTML).
	function renderDayEvents(events, modifiedEventId) {

		// do the actual rendering. Receive the intermediate "segment" data structures.
		var segments = _renderDayEvents(
			events,
			false, // don't append event elements
			true // set the heights of the rows
		);

		// report the elements to the View, for general drag/resize utilities
		segmentElementEach(segments, function(segment, element) {
			reportEventElement(segment.event, element);
		});

		// attach mouse handlers
		attachHandlers(segments, modifiedEventId);

		// call `eventAfterRender` callback for each event
		segmentElementEach(segments, function(segment, element) {
			trigger('eventAfterRender', segment.event, segment.event, element);
		});
	}


	// Render an event on the calendar, but don't report them anywhere, and don't attach mouse handlers.
	// Append this event element to the event container, which might already be populated with events.
	// If an event's segment will have row equal to `adjustRow`, then explicitly set its top coordinate to `adjustTop`.
	// This hack is used to maintain continuity when user is manually resizing an event.
	// Returns an array of DOM elements for the event.
	function renderTempDayEvent(event, adjustRow, adjustTop) {

		// actually render the event. `true` for appending element to container.
		// Recieve the intermediate "segment" data structures.
		var segments = _renderDayEvents(
			[ event ],
			true, // append event elements
			false // don't set the heights of the rows
		);

		var elements = [];

		// Adjust certain elements' top coordinates
		segmentElementEach(segments, function(segment, element) {
			if (segment.row === adjustRow) {
				element.css('top', adjustTop);
			}
			elements.push(element[0]); // accumulate DOM nodes
		});

		return elements;
	}


	// Render events onto the calendar. Only responsible for the VISUAL aspect.
	// Not responsible for attaching handlers or calling callbacks.
	// Set `doAppend` to `true` for rendering elements without clearing the existing container.
	// Set `doRowHeights` to allow setting the height of each row, to compensate for vertical event overflow.
	function _renderDayEvents(events, doAppend, doRowHeights) {

		// where the DOM nodes will eventually end up
		var finalContainer = getDaySegmentContainer();

		// the container where the initial HTML will be rendered.
		// If `doAppend`==true, uses a temporary container.
		var renderContainer = doAppend ? $("<div/>") : finalContainer;

		var segments = buildSegments(events);
		var html;
		var elements;

		// calculate the desired `left` and `width` properties on each segment object
		calculateHorizontals(segments);

		// build the HTML string. relies on `left` property
		html = buildHTML(segments);

		// render the HTML. innerHTML is considerably faster than jQuery's .html()
		renderContainer[0].innerHTML = html;

		// retrieve the individual elements
		elements = renderContainer.children();

		// if we were appending, and thus using a temporary container,
		// re-attach elements to the real container.
		if (doAppend) {
			finalContainer.append(elements);
		}

		// assigns each element to `segment.event`, after filtering them through user callbacks
		resolveElements(segments, elements);

		// Calculate the left and right padding+margin for each element.
		// We need this for setting each element's desired outer width, because of the W3C box model.
		// It's important we do this in a separate pass from acually setting the width on the DOM elements
		// because alternating reading/writing dimensions causes reflow for every iteration.
		segmentElementEach(segments, function(segment, element) {
			segment.hsides = hsides(element, true); // include margins = `true`
		});

		// Set the width of each element
		segmentElementEach(segments, function(segment, element) {
			element.width(
				Math.max(0, segment.outerWidth - segment.hsides)
			);
		});

		// Grab each element's outerHeight (setVerticals uses this).
		// To get an accurate reading, it's important to have each element's width explicitly set already.
		segmentElementEach(segments, function(segment, element) {
			segment.outerHeight = element.outerHeight(true); // include margins = `true`
		});

		// Set the top coordinate on each element (requires segment.outerHeight)
		setVerticals(segments, doRowHeights);

		return segments;
	}


	// Generate an array of "segments" for all events.
	function buildSegments(events) {
		var segments = [];
		for (var i=0; i<events.length; i++) {
			var eventSegments = buildSegmentsForEvent(events[i]);
			segments.push.apply(segments, eventSegments); // append an array to an array
		}
		return segments;
	}


	// Generate an array of segments for a single event.
	// A "segment" is the same data structure that View.rangeToSegments produces,
	// with the addition of the `event` property being set to reference the original event.
	function buildSegmentsForEvent(event) {
		var startDate = event.start;
		var endDate = exclEndDay(event);
		var segments = rangeToSegments(startDate, endDate);
		for (var i=0; i<segments.length; i++) {
			segments[i].event = event;
		}
		return segments;
	}


	// Sets the `left` and `outerWidth` property of each segment.
	// These values are the desired dimensions for the eventual DOM elements.
	function calculateHorizontals(segments) {
		var isRTL = opt('isRTL');
		for (var i=0; i<segments.length; i++) {
			var segment = segments[i];

			// Determine functions used for calulating the elements left/right coordinates,
			// depending on whether the view is RTL or not.
			// NOTE:
			// colLeft/colRight returns the coordinate butting up the edge of the cell.
			// colContentLeft/colContentRight is indented a little bit from the edge.
			var leftFunc = (isRTL ? segment.isEnd : segment.isStart) ? colContentLeft : colLeft;
			var rightFunc = (isRTL ? segment.isStart : segment.isEnd) ? colContentRight : colRight;

			var left = leftFunc(segment.leftCol);
			var right = rightFunc(segment.rightCol);
			segment.left = left;
			segment.outerWidth = right - left;
		}
	}


	// Build a concatenated HTML string for an array of segments
	function buildHTML(segments) {
		var html = '';
		for (var i=0; i<segments.length; i++) {
			html += buildHTMLForSegment(segments[i]);
		}
		return html;
	}


	// Build an HTML string for a single segment.
	// Relies on the following properties:
	// - `segment.event` (from `buildSegmentsForEvent`)
	// - `segment.left` (from `calculateHorizontals`)
	function buildHTMLForSegment(segment) {
		var html = '';
		var isRTL = opt('isRTL');
		var event = segment.event;
		var url = event.url;

		// generate the list of CSS classNames
		var classNames = [ 'fc-event', 'fc-event-hori' ];
		if (isEventDraggable(event)) {
			classNames.push('fc-event-draggable');
		}
		if (segment.isStart) {
			classNames.push('fc-event-start');
		}
		if (segment.isEnd) {
			classNames.push('fc-event-end');
		}
		// use the event's configured classNames
		// guaranteed to be an array via `normalizeEvent`
		classNames = classNames.concat(event.className);
		if (event.source) {
			// use the event's source's classNames, if specified
			classNames = classNames.concat(event.source.className || []);
		}

		// generate a semicolon delimited CSS string for any of the "skin" properties
		// of the event object (`backgroundColor`, `borderColor` and such)
		var skinCss = getSkinCss(event, opt);

		if (url) {
			html += "<a href='" + htmlEscape(url) + "'";
		}else{
			html += "<div";
		}
		html +=
			" class='" + classNames.join(' ') + "'" +
			" style=" +
				"'" +
				"position:absolute;" +
				"left:" + segment.left + "px;" +
				skinCss +
				"'" +
			">" +
			"<div class='fc-event-inner'>";
		if (!event.allDay && segment.isStart) {
			html +=
				"<span class='fc-event-time'>" +
				htmlEscape(
					formatDates(event.start, event.end, opt('timeFormat'))
				) +
				"</span>";
		}
		html +=
			"<span class='fc-event-title'>" +
			htmlEscape(event.title || '') +
			"</span>" +
			"</div>";
		if (segment.isEnd && isEventResizable(event)) {
			html +=
				"<div class='ui-resizable-handle ui-resizable-" + (isRTL ? 'w' : 'e') + "'>" +
				"&nbsp;&nbsp;&nbsp;" + // makes hit area a lot better for IE6/7
				"</div>";
		}
		html += "</" + (url ? "a" : "div") + ">";

		// TODO:
		// When these elements are initially rendered, they will be briefly visibile on the screen,
		// even though their widths/heights are not set.
		// SOLUTION: initially set them as visibility:hidden ?

		return html;
	}


	// Associate each segment (an object) with an element (a jQuery object),
	// by setting each `segment.element`.
	// Run each element through the `eventRender` filter, which allows developers to
	// modify an existing element, supply a new one, or cancel rendering.
	function resolveElements(segments, elements) {
		for (var i=0; i<segments.length; i++) {
			var segment = segments[i];
			var event = segment.event;
			var element = elements.eq(i);

			// call the trigger with the original element
			var triggerRes = trigger('eventRender', event, event, element);

			if (triggerRes === false) {
				// if `false`, remove the event from the DOM and don't assign it to `segment.event`
				element.remove();
			}
			else {
				if (triggerRes && triggerRes !== true) {
					// the trigger returned a new element, but not `true` (which means keep the existing element)

					// re-assign the important CSS dimension properties that were already assigned in `buildHTMLForSegment`
					triggerRes = $(triggerRes)
						.css({
							position: 'absolute',
							left: segment.left
						});

					element.replaceWith(triggerRes);
					element = triggerRes;
				}

				segment.element = element;
			}
		}
	}



	/* Top-coordinate Methods
	-------------------------------------------------------------------------------------------------*/


	// Sets the "top" CSS property for each element.
	// If `doRowHeights` is `true`, also sets each row's first cell to an explicit height,
	// so that if elements vertically overflow, the cell expands vertically to compensate.
	function setVerticals(segments, doRowHeights) {
		var rowContentHeights = calculateVerticals(segments); // also sets segment.top
		var rowContentElements = getRowContentElements(); // returns 1 inner div per row
		var rowContentTops = [];

		// Set each row's height by setting height of first inner div
		if (doRowHeights) {
			for (var i=0; i<rowContentElements.length; i++) {
				rowContentElements[i].height(rowContentHeights[i]);
			}
		}

		// Get each row's top, relative to the views's origin.
		// Important to do this after setting each row's height.
		for (var i=0; i<rowContentElements.length; i++) {
			rowContentTops.push(
				rowContentElements[i].position().top
			);
		}

		// Set each segment element's CSS "top" property.
		// Each segment object has a "top" property, which is relative to the row's top, but...
		segmentElementEach(segments, function(segment, element) {
			element.css(
				'top',
				rowContentTops[segment.row] + segment.top // ...now, relative to views's origin
			);
		});
	}


	// Calculate the "top" coordinate for each segment, relative to the "top" of the row.
	// Also, return an array that contains the "content" height for each row
	// (the height displaced by the vertically stacked events in the row).
	// Requires segments to have their `outerHeight` property already set.
	function calculateVerticals(segments) {
		var rowCnt = getRowCnt();
		var colCnt = getColCnt();
		var rowContentHeights = []; // content height for each row
		var segmentRows = buildSegmentRows(segments); // an array of segment arrays, one for each row

		for (var rowI=0; rowI<rowCnt; rowI++) {
			var segmentRow = segmentRows[rowI];

			// an array of running total heights for each column.
			// initialize with all zeros.
			var colHeights = [];
			for (var colI=0; colI<colCnt; colI++) {
				colHeights.push(0);
			}

			// loop through every segment
			for (var segmentI=0; segmentI<segmentRow.length; segmentI++) {
				var segment = segmentRow[segmentI];

				// find the segment's top coordinate by looking at the max height
				// of all the columns the segment will be in.
				segment.top = arrayMax(
					colHeights.slice(
						segment.leftCol,
						segment.rightCol + 1 // make exclusive for slice
					)
				);

				// adjust the columns to account for the segment's height
				for (var colI=segment.leftCol; colI<=segment.rightCol; colI++) {
					colHeights[colI] = segment.top + segment.outerHeight;
				}
			}

			// the tallest column in the row should be the "content height"
			rowContentHeights.push(arrayMax(colHeights));
		}

		return rowContentHeights;
	}


	// Build an array of segment arrays, each representing the segments that will
	// be in a row of the grid, sorted by which event should be closest to the top.
	function buildSegmentRows(segments) {
		var rowCnt = getRowCnt();
		var segmentRows = [];
		var segmentI;
		var segment;
		var rowI;

		// group segments by row
		for (segmentI=0; segmentI<segments.length; segmentI++) {
			segment = segments[segmentI];
			rowI = segment.row;
			if (segment.element) { // was rendered?
				if (segmentRows[rowI]) {
					// already other segments. append to array
					segmentRows[rowI].push(segment);
				}
				else {
					// first segment in row. create new array
					segmentRows[rowI] = [ segment ];
				}
			}
		}

		// sort each row
		for (rowI=0; rowI<rowCnt; rowI++) {
			segmentRows[rowI] = sortSegmentRow(
				segmentRows[rowI] || [] // guarantee an array, even if no segments
			);
		}

		return segmentRows;
	}


	// Sort an array of segments according to which segment should appear closest to the top
	function sortSegmentRow(segments) {
		var sortedSegments = [];

		// build the subrow array
		var subrows = buildSegmentSubrows(segments);

		// flatten it
		for (var i=0; i<subrows.length; i++) {
			sortedSegments.push.apply(sortedSegments, subrows[i]); // append an array to an array
		}

		return sortedSegments;
	}


	// Take an array of segments, which are all assumed to be in the same row,
	// and sort into subrows.
	function buildSegmentSubrows(segments) {

		// Give preference to elements with certain criteria, so they have
		// a chance to be closer to the top.
		segments.sort(compareDaySegments);

		var subrows = [];
		for (var i=0; i<segments.length; i++) {
			var segment = segments[i];

			// loop through subrows, starting with the topmost, until the segment
			// doesn't collide with other segments.
			for (var j=0; j<subrows.length; j++) {
				if (!isDaySegmentCollision(segment, subrows[j])) {
					break;
				}
			}
			// `j` now holds the desired subrow index
			if (subrows[j]) {
				subrows[j].push(segment);
			}
			else {
				subrows[j] = [ segment ];
			}
		}

		return subrows;
	}


	// Return an array of jQuery objects for the placeholder content containers of each row.
	// The content containers don't actually contain anything, but their dimensions should match
	// the events that are overlaid on top.
	function getRowContentElements() {
		var i;
		var rowCnt = getRowCnt();
		var rowDivs = [];
		for (i=0; i<rowCnt; i++) {
			rowDivs[i] = allDayRow(i)
				.find('div.fc-day-content > div');
		}
		return rowDivs;
	}



	/* Mouse Handlers
	---------------------------------------------------------------------------------------------------*/
	// TODO: better documentation!


	function attachHandlers(segments, modifiedEventId) {
		var segmentContainer = getDaySegmentContainer();

		segmentElementEach(segments, function(segment, element, i) {
			var event = segment.event;
			if (event._id === modifiedEventId) {
				bindDaySeg(event, element, segment);
			}else{
				element[0]._fci = i; // for lazySegBind
			}
		});

		lazySegBind(segmentContainer, segments, bindDaySeg);
	}


	function bindDaySeg(event, eventElement, segment) {

		if (isEventDraggable(event)) {
			t.draggableDayEvent(event, eventElement, segment); // use `t` so subclasses can override
		}

		if (
			segment.isEnd && // only allow resizing on the final segment for an event
			isEventResizable(event)
		) {
			t.resizableDayEvent(event, eventElement, segment); // use `t` so subclasses can override
		}

		// attach all other handlers.
		// needs to be after, because resizableDayEvent might stopImmediatePropagation on click
		eventElementHandlers(event, eventElement);
	}

	
	function draggableDayEvent(event, eventElement) {
		var hoverListener = getHoverListener();
		var dayDelta;
		eventElement.draggable({
			delay: 50,
			opacity: opt('dragOpacity'),
			revertDuration: opt('dragRevertDuration'),
			start: function(ev, ui) {
				trigger('eventDragStart', eventElement, event, ev, ui);
				hideEvents(event, eventElement);
				hoverListener.start(function(cell, origCell, rowDelta, colDelta) {
					eventElement.draggable('option', 'revert', !cell || !rowDelta && !colDelta);
					clearOverlays();
					if (cell) {
						var origDate = cellToDate(origCell);
						var date = cellToDate(cell);
						dayDelta = dayDiff(date, origDate);
						renderDayOverlay(
							addDays(cloneDate(event.start), dayDelta),
							addDays(exclEndDay(event), dayDelta)
						);
					}else{
						dayDelta = 0;
					}
				}, ev, 'drag');
			},
			stop: function(ev, ui) {
				hoverListener.stop();
				clearOverlays();
				trigger('eventDragStop', eventElement, event, ev, ui);
				if (dayDelta) {
					eventDrop(this, event, dayDelta, 0, event.allDay, ev, ui);
				}else{
					eventElement.css('filter', ''); // clear IE opacity side-effects
					showEvents(event, eventElement);
				}
			}
		});
	}

	
	function resizableDayEvent(event, element, segment) {
		var isRTL = opt('isRTL');
		var direction = isRTL ? 'w' : 'e';
		var handle = element.find('.ui-resizable-' + direction); // TODO: stop using this class because we aren't using jqui for this
		var isResizing = false;
		
		// TODO: look into using jquery-ui mouse widget for this stuff
		disableTextSelection(element); // prevent native <a> selection for IE
		element
			.mousedown(function(ev) { // prevent native <a> selection for others
				ev.preventDefault();
			})
			.click(function(ev) {
				if (isResizing) {
					ev.preventDefault(); // prevent link from being visited (only method that worked in IE6)
					ev.stopImmediatePropagation(); // prevent fullcalendar eventClick handler from being called
					                               // (eventElementHandlers needs to be bound after resizableDayEvent)
				}
			});
		
		handle.mousedown(function(ev) {
			if (ev.which != 1) {
				return; // needs to be left mouse button
			}
			isResizing = true;
			var hoverListener = getHoverListener();
			var rowCnt = getRowCnt();
			var colCnt = getColCnt();
			var elementTop = element.css('top');
			var dayDelta;
			var helpers;
			var eventCopy = $.extend({}, event);
			var minCellOffset = dayOffsetToCellOffset( dateToDayOffset(event.start) );
			clearSelection();
			$('body')
				.css('cursor', direction + '-resize')
				.one('mouseup', mouseup);
			trigger('eventResizeStart', this, event, ev);
			hoverListener.start(function(cell, origCell) {
				if (cell) {

					var origCellOffset = cellToCellOffset(origCell);
					var cellOffset = cellToCellOffset(cell);

					// don't let resizing move earlier than start date cell
					cellOffset = Math.max(cellOffset, minCellOffset);

					dayDelta =
						cellOffsetToDayOffset(cellOffset) -
						cellOffsetToDayOffset(origCellOffset);

					if (dayDelta) {
						eventCopy.end = addDays(eventEnd(event), dayDelta, true);
						var oldHelpers = helpers;

						helpers = renderTempDayEvent(eventCopy, segment.row, elementTop);
						helpers = $(helpers); // turn array into a jQuery object

						helpers.find('*').css('cursor', direction + '-resize');
						if (oldHelpers) {
							oldHelpers.remove();
						}

						hideEvents(event);
					}
					else {
						if (helpers) {
							showEvents(event);
							helpers.remove();
							helpers = null;
						}
					}
					clearOverlays();
					renderDayOverlay( // coordinate grid already rebuilt with hoverListener.start()
						event.start,
						addDays( exclEndDay(event), dayDelta )
						// TODO: instead of calling renderDayOverlay() with dates,
						// call _renderDayOverlay (or whatever) with cell offsets.
					);
				}
			}, ev);
			
			function mouseup(ev) {
				trigger('eventResizeStop', this, event, ev);
				$('body').css('cursor', '');
				hoverListener.stop();
				clearOverlays();
				if (dayDelta) {
					eventResize(this, event, dayDelta, 0, ev);
					// event redraw will clear helpers
				}
				// otherwise, the drag handler already restored the old events
				
				setTimeout(function() { // make this happen after the element's click event
					isResizing = false;
				},0);
			}
		});
	}
	

}



/* Generalized Segment Utilities
-------------------------------------------------------------------------------------------------*/


function isDaySegmentCollision(segment, otherSegments) {
	for (var i=0; i<otherSegments.length; i++) {
		var otherSegment = otherSegments[i];
		if (
			otherSegment.leftCol <= segment.rightCol &&
			otherSegment.rightCol >= segment.leftCol
		) {
			return true;
		}
	}
	return false;
}


function segmentElementEach(segments, callback) { // TODO: use in AgendaView?
	for (var i=0; i<segments.length; i++) {
		var segment = segments[i];
		var element = segment.element;
		if (element) {
			callback(segment, element, i);
		}
	}
}


// A cmp function for determining which segments should appear higher up
function compareDaySegments(a, b) {
	return (b.rightCol - b.leftCol) - (a.rightCol - a.leftCol) || // put wider events first
		b.event.allDay - a.event.allDay || // if tie, put all-day events first (booleans cast to 0/1)
		a.event.start - b.event.start || // if a tie, sort by event start date
		(a.event.title || '').localeCompare(b.event.title) // if a tie, sort by event title
}


;;

//BUG: unselect needs to be triggered when events are dragged+dropped

function SelectionManager() {
	var t = this;
	
	
	// exports
	t.select = select;
	t.unselect = unselect;
	t.reportSelection = reportSelection;
	t.daySelectionMousedown = daySelectionMousedown;
	
	
	// imports
	var opt = t.opt;
	var trigger = t.trigger;
	var defaultSelectionEnd = t.defaultSelectionEnd;
	var renderSelection = t.renderSelection;
	var clearSelection = t.clearSelection;
	
	
	// locals
	var selected = false;



	// unselectAuto
	if (opt('selectable') && opt('unselectAuto')) {
		$(document).mousedown(function(ev) {
			var ignore = opt('unselectCancel');
			if (ignore) {
				if ($(ev.target).parents(ignore).length) { // could be optimized to stop after first match
					return;
				}
			}
			unselect(ev);
		});
	}
	

	function select(startDate, endDate, allDay) {
		unselect();
		if (!endDate) {
			endDate = defaultSelectionEnd(startDate, allDay);
		}
		renderSelection(startDate, endDate, allDay);
		reportSelection(startDate, endDate, allDay);
	}
	
	
	function unselect(ev) {
		if (selected) {
			selected = false;
			clearSelection();
			trigger('unselect', null, ev);
		}
	}
	
	
	function reportSelection(startDate, endDate, allDay, ev) {
		selected = true;
		trigger('select', null, startDate, endDate, allDay, ev);
	}
	
	
	function daySelectionMousedown(ev) { // not really a generic manager method, oh well
		var cellToDate = t.cellToDate;
		var getIsCellAllDay = t.getIsCellAllDay;
		var hoverListener = t.getHoverListener();
		var reportDayClick = t.reportDayClick; // this is hacky and sort of weird
		if (ev.which == 1 && opt('selectable')) { // which==1 means left mouse button
			unselect(ev);
			var _mousedownElement = this;
			var dates;
			hoverListener.start(function(cell, origCell) { // TODO: maybe put cellToDate/getIsCellAllDay info in cell
				clearSelection();
				if (cell && getIsCellAllDay(cell)) {
					dates = [ cellToDate(origCell), cellToDate(cell) ].sort(dateCompare);
					renderSelection(dates[0], dates[1], true);
				}else{
					dates = null;
				}
			}, ev);
			$(document).one('mouseup', function(ev) {
				hoverListener.stop();
				if (dates) {
					if (+dates[0] == +dates[1]) {
						reportDayClick(dates[0], true, ev);
					}
					reportSelection(dates[0], dates[1], true, ev);
				}
			});
		}
	}


}

;;
 
function OverlayManager() {
	var t = this;
	
	
	// exports
	t.renderOverlay = renderOverlay;
	t.clearOverlays = clearOverlays;
	
	
	// locals
	var usedOverlays = [];
	var unusedOverlays = [];
	
	
	function renderOverlay(rect, parent) {
		var e = unusedOverlays.shift();
		if (!e) {
			e = $("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>");
		}
		if (e[0].parentNode != parent[0]) {
			e.appendTo(parent);
		}
		usedOverlays.push(e.css(rect).show());
		return e;
	}
	

	function clearOverlays() {
		var e;
		while (e = usedOverlays.shift()) {
			unusedOverlays.push(e.hide().unbind());
		}
	}


}

;;

function CoordinateGrid(buildFunc) {

	var t = this;
	var rows;
	var cols;
	
	
	t.build = function() {
		rows = [];
		cols = [];
		buildFunc(rows, cols);
	};
	
	
	t.cell = function(x, y) {
		var rowCnt = rows.length;
		var colCnt = cols.length;
		var i, r=-1, c=-1;
		for (i=0; i<rowCnt; i++) {
			if (y >= rows[i][0] && y < rows[i][1]) {
				r = i;
				break;
			}
		}
		for (i=0; i<colCnt; i++) {
			if (x >= cols[i][0] && x < cols[i][1]) {
				c = i;
				break;
			}
		}
		return (r>=0 && c>=0) ? { row:r, col:c } : null;
	};
	
	
	t.rect = function(row0, col0, row1, col1, originElement) { // row1,col1 is inclusive
		var origin = originElement.offset();
		return {
			top: rows[row0][0] - origin.top,
			left: cols[col0][0] - origin.left,
			width: cols[col1][1] - cols[col0][0],
			height: rows[row1][1] - rows[row0][0]
		};
	};

}

;;

function HoverListener(coordinateGrid) {


	var t = this;
	var bindType;
	var change;
	var firstCell;
	var cell;
	
	
	t.start = function(_change, ev, _bindType) {
		change = _change;
		firstCell = cell = null;
		coordinateGrid.build();
		mouse(ev);
		bindType = _bindType || 'mousemove';
		$(document).bind(bindType, mouse);
	};
	
	
	function mouse(ev) {
		_fixUIEvent(ev); // see below
		var newCell = coordinateGrid.cell(ev.pageX, ev.pageY);
		if (!newCell != !cell || newCell && (newCell.row != cell.row || newCell.col != cell.col)) {
			if (newCell) {
				if (!firstCell) {
					firstCell = newCell;
				}
				change(newCell, firstCell, newCell.row-firstCell.row, newCell.col-firstCell.col);
			}else{
				change(newCell, firstCell);
			}
			cell = newCell;
		}
	}
	
	
	t.stop = function() {
		$(document).unbind(bindType, mouse);
		return cell;
	};
	
	
}



// this fix was only necessary for jQuery UI 1.8.16 (and jQuery 1.7 or 1.7.1)
// upgrading to jQuery UI 1.8.17 (and using either jQuery 1.7 or 1.7.1) fixed the problem
// but keep this in here for 1.8.16 users
// and maybe remove it down the line

function _fixUIEvent(event) { // for issue 1168
	if (event.pageX === undefined) {
		event.pageX = event.originalEvent.pageX;
		event.pageY = event.originalEvent.pageY;
	}
}
;;

function HorizontalPositionCache(getElement) {

	var t = this,
		elements = {},
		lefts = {},
		rights = {};
		
	function e(i) {
		return elements[i] = elements[i] || getElement(i);
	}
	
	t.left = function(i) {
		return lefts[i] = lefts[i] === undefined ? e(i).position().left : lefts[i];
	};
	
	t.right = function(i) {
		return rights[i] = rights[i] === undefined ? t.left(i) + e(i).width() : rights[i];
	};
	
	t.clear = function() {
		elements = {};
		lefts = {};
		rights = {};
	};
	
}

;;

})(jQuery);
},{}],2:[function(require,module,exports){
/*!
 * jQuery UI Core 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
(function( $, undefined ) {

var uuid = 0,
	runiqueId = /^ui-id-\d+$/;

// $.ui might exist from components with no dependencies, e.g., $.ui.position
$.ui = $.ui || {};

$.extend( $.ui, {
	version: "1.10.3",

	keyCode: {
		BACKSPACE: 8,
		COMMA: 188,
		DELETE: 46,
		DOWN: 40,
		END: 35,
		ENTER: 13,
		ESCAPE: 27,
		HOME: 36,
		LEFT: 37,
		NUMPAD_ADD: 107,
		NUMPAD_DECIMAL: 110,
		NUMPAD_DIVIDE: 111,
		NUMPAD_ENTER: 108,
		NUMPAD_MULTIPLY: 106,
		NUMPAD_SUBTRACT: 109,
		PAGE_DOWN: 34,
		PAGE_UP: 33,
		PERIOD: 190,
		RIGHT: 39,
		SPACE: 32,
		TAB: 9,
		UP: 38
	}
});

// plugins
$.fn.extend({
	focus: (function( orig ) {
		return function( delay, fn ) {
			return typeof delay === "number" ?
				this.each(function() {
					var elem = this;
					setTimeout(function() {
						$( elem ).focus();
						if ( fn ) {
							fn.call( elem );
						}
					}, delay );
				}) :
				orig.apply( this, arguments );
		};
	})( $.fn.focus ),

	scrollParent: function() {
		var scrollParent;
		if (($.ui.ie && (/(static|relative)/).test(this.css("position"))) || (/absolute/).test(this.css("position"))) {
			scrollParent = this.parents().filter(function() {
				return (/(relative|absolute|fixed)/).test($.css(this,"position")) && (/(auto|scroll)/).test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"));
			}).eq(0);
		} else {
			scrollParent = this.parents().filter(function() {
				return (/(auto|scroll)/).test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"));
			}).eq(0);
		}

		return (/fixed/).test(this.css("position")) || !scrollParent.length ? $(document) : scrollParent;
	},

	zIndex: function( zIndex ) {
		if ( zIndex !== undefined ) {
			return this.css( "zIndex", zIndex );
		}

		if ( this.length ) {
			var elem = $( this[ 0 ] ), position, value;
			while ( elem.length && elem[ 0 ] !== document ) {
				// Ignore z-index if position is set to a value where z-index is ignored by the browser
				// This makes behavior of this function consistent across browsers
				// WebKit always returns auto if the element is positioned
				position = elem.css( "position" );
				if ( position === "absolute" || position === "relative" || position === "fixed" ) {
					// IE returns 0 when zIndex is not specified
					// other browsers return a string
					// we ignore the case of nested elements with an explicit value of 0
					// <div style="z-index: -10;"><div style="z-index: 0;"></div></div>
					value = parseInt( elem.css( "zIndex" ), 10 );
					if ( !isNaN( value ) && value !== 0 ) {
						return value;
					}
				}
				elem = elem.parent();
			}
		}

		return 0;
	},

	uniqueId: function() {
		return this.each(function() {
			if ( !this.id ) {
				this.id = "ui-id-" + (++uuid);
			}
		});
	},

	removeUniqueId: function() {
		return this.each(function() {
			if ( runiqueId.test( this.id ) ) {
				$( this ).removeAttr( "id" );
			}
		});
	}
});

// selectors
function focusable( element, isTabIndexNotNaN ) {
	var map, mapName, img,
		nodeName = element.nodeName.toLowerCase();
	if ( "area" === nodeName ) {
		map = element.parentNode;
		mapName = map.name;
		if ( !element.href || !mapName || map.nodeName.toLowerCase() !== "map" ) {
			return false;
		}
		img = $( "img[usemap=#" + mapName + "]" )[0];
		return !!img && visible( img );
	}
	return ( /input|select|textarea|button|object/.test( nodeName ) ?
		!element.disabled :
		"a" === nodeName ?
			element.href || isTabIndexNotNaN :
			isTabIndexNotNaN) &&
		// the element and all of its ancestors must be visible
		visible( element );
}

function visible( element ) {
	return $.expr.filters.visible( element ) &&
		!$( element ).parents().addBack().filter(function() {
			return $.css( this, "visibility" ) === "hidden";
		}).length;
}

$.extend( $.expr[ ":" ], {
	data: $.expr.createPseudo ?
		$.expr.createPseudo(function( dataName ) {
			return function( elem ) {
				return !!$.data( elem, dataName );
			};
		}) :
		// support: jQuery <1.8
		function( elem, i, match ) {
			return !!$.data( elem, match[ 3 ] );
		},

	focusable: function( element ) {
		return focusable( element, !isNaN( $.attr( element, "tabindex" ) ) );
	},

	tabbable: function( element ) {
		var tabIndex = $.attr( element, "tabindex" ),
			isTabIndexNaN = isNaN( tabIndex );
		return ( isTabIndexNaN || tabIndex >= 0 ) && focusable( element, !isTabIndexNaN );
	}
});

// support: jQuery <1.8
if ( !$( "<a>" ).outerWidth( 1 ).jquery ) {
	$.each( [ "Width", "Height" ], function( i, name ) {
		var side = name === "Width" ? [ "Left", "Right" ] : [ "Top", "Bottom" ],
			type = name.toLowerCase(),
			orig = {
				innerWidth: $.fn.innerWidth,
				innerHeight: $.fn.innerHeight,
				outerWidth: $.fn.outerWidth,
				outerHeight: $.fn.outerHeight
			};

		function reduce( elem, size, border, margin ) {
			$.each( side, function() {
				size -= parseFloat( $.css( elem, "padding" + this ) ) || 0;
				if ( border ) {
					size -= parseFloat( $.css( elem, "border" + this + "Width" ) ) || 0;
				}
				if ( margin ) {
					size -= parseFloat( $.css( elem, "margin" + this ) ) || 0;
				}
			});
			return size;
		}

		$.fn[ "inner" + name ] = function( size ) {
			if ( size === undefined ) {
				return orig[ "inner" + name ].call( this );
			}

			return this.each(function() {
				$( this ).css( type, reduce( this, size ) + "px" );
			});
		};

		$.fn[ "outer" + name] = function( size, margin ) {
			if ( typeof size !== "number" ) {
				return orig[ "outer" + name ].call( this, size );
			}

			return this.each(function() {
				$( this).css( type, reduce( this, size, true, margin ) + "px" );
			});
		};
	});
}

// support: jQuery <1.8
if ( !$.fn.addBack ) {
	$.fn.addBack = function( selector ) {
		return this.add( selector == null ?
			this.prevObject : this.prevObject.filter( selector )
		);
	};
}

// support: jQuery 1.6.1, 1.6.2 (http://bugs.jquery.com/ticket/9413)
if ( $( "<a>" ).data( "a-b", "a" ).removeData( "a-b" ).data( "a-b" ) ) {
	$.fn.removeData = (function( removeData ) {
		return function( key ) {
			if ( arguments.length ) {
				return removeData.call( this, $.camelCase( key ) );
			} else {
				return removeData.call( this );
			}
		};
	})( $.fn.removeData );
}





// deprecated
$.ui.ie = !!/msie [\w.]+/.exec( navigator.userAgent.toLowerCase() );

$.support.selectstart = "onselectstart" in document.createElement( "div" );
$.fn.extend({
	disableSelection: function() {
		return this.bind( ( $.support.selectstart ? "selectstart" : "mousedown" ) +
			".ui-disableSelection", function( event ) {
				event.preventDefault();
			});
	},

	enableSelection: function() {
		return this.unbind( ".ui-disableSelection" );
	}
});

$.extend( $.ui, {
	// $.ui.plugin is deprecated. Use $.widget() extensions instead.
	plugin: {
		add: function( module, option, set ) {
			var i,
				proto = $.ui[ module ].prototype;
			for ( i in set ) {
				proto.plugins[ i ] = proto.plugins[ i ] || [];
				proto.plugins[ i ].push( [ option, set[ i ] ] );
			}
		},
		call: function( instance, name, args ) {
			var i,
				set = instance.plugins[ name ];
			if ( !set || !instance.element[ 0 ].parentNode || instance.element[ 0 ].parentNode.nodeType === 11 ) {
				return;
			}

			for ( i = 0; i < set.length; i++ ) {
				if ( instance.options[ set[ i ][ 0 ] ] ) {
					set[ i ][ 1 ].apply( instance.element, args );
				}
			}
		}
	},

	// only used by resizable
	hasScroll: function( el, a ) {

		//If overflow is hidden, the element might have extra content, but the user wants to hide it
		if ( $( el ).css( "overflow" ) === "hidden") {
			return false;
		}

		var scroll = ( a && a === "left" ) ? "scrollLeft" : "scrollTop",
			has = false;

		if ( el[ scroll ] > 0 ) {
			return true;
		}

		// TODO: determine which cases actually cause this to happen
		// if the element doesn't have the scroll set, see if it's possible to
		// set the scroll
		el[ scroll ] = 1;
		has = ( el[ scroll ] > 0 );
		el[ scroll ] = 0;
		return has;
	}
});

})( jQuery );

},{}],3:[function(require,module,exports){
/*!
 * jQuery UI Draggable 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function( $, undefined ) {

$.widget("ui.draggable", $.ui.mouse, {
	version: "1.10.3",
	widgetEventPrefix: "drag",
	options: {
		addClasses: true,
		appendTo: "parent",
		axis: false,
		connectToSortable: false,
		containment: false,
		cursor: "auto",
		cursorAt: false,
		grid: false,
		handle: false,
		helper: "original",
		iframeFix: false,
		opacity: false,
		refreshPositions: false,
		revert: false,
		revertDuration: 500,
		scope: "default",
		scroll: true,
		scrollSensitivity: 20,
		scrollSpeed: 20,
		snap: false,
		snapMode: "both",
		snapTolerance: 20,
		stack: false,
		zIndex: false,

		// callbacks
		drag: null,
		start: null,
		stop: null
	},
	_create: function() {

		if (this.options.helper === "original" && !(/^(?:r|a|f)/).test(this.element.css("position"))) {
			this.element[0].style.position = "relative";
		}
		if (this.options.addClasses){
			this.element.addClass("ui-draggable");
		}
		if (this.options.disabled){
			this.element.addClass("ui-draggable-disabled");
		}

		this._mouseInit();

	},

	_destroy: function() {
		this.element.removeClass( "ui-draggable ui-draggable-dragging ui-draggable-disabled" );
		this._mouseDestroy();
	},

	_mouseCapture: function(event) {

		var o = this.options;

		// among others, prevent a drag on a resizable-handle
		if (this.helper || o.disabled || $(event.target).closest(".ui-resizable-handle").length > 0) {
			return false;
		}

		//Quit if we're not on a valid handle
		this.handle = this._getHandle(event);
		if (!this.handle) {
			return false;
		}

		$(o.iframeFix === true ? "iframe" : o.iframeFix).each(function() {
			$("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>")
			.css({
				width: this.offsetWidth+"px", height: this.offsetHeight+"px",
				position: "absolute", opacity: "0.001", zIndex: 1000
			})
			.css($(this).offset())
			.appendTo("body");
		});

		return true;

	},

	_mouseStart: function(event) {

		var o = this.options;

		//Create and append the visible helper
		this.helper = this._createHelper(event);

		this.helper.addClass("ui-draggable-dragging");

		//Cache the helper size
		this._cacheHelperProportions();

		//If ddmanager is used for droppables, set the global draggable
		if($.ui.ddmanager) {
			$.ui.ddmanager.current = this;
		}

		/*
		 * - Position generation -
		 * This block generates everything position related - it's the core of draggables.
		 */

		//Cache the margins of the original element
		this._cacheMargins();

		//Store the helper's css position
		this.cssPosition = this.helper.css( "position" );
		this.scrollParent = this.helper.scrollParent();
		this.offsetParent = this.helper.offsetParent();
		this.offsetParentCssPosition = this.offsetParent.css( "position" );

		//The element's absolute position on the page minus margins
		this.offset = this.positionAbs = this.element.offset();
		this.offset = {
			top: this.offset.top - this.margins.top,
			left: this.offset.left - this.margins.left
		};

		//Reset scroll cache
		this.offset.scroll = false;

		$.extend(this.offset, {
			click: { //Where the click happened, relative to the element
				left: event.pageX - this.offset.left,
				top: event.pageY - this.offset.top
			},
			parent: this._getParentOffset(),
			relative: this._getRelativeOffset() //This is a relative to absolute position minus the actual position calculation - only used for relative positioned helper
		});

		//Generate the original position
		this.originalPosition = this.position = this._generatePosition(event);
		this.originalPageX = event.pageX;
		this.originalPageY = event.pageY;

		//Adjust the mouse offset relative to the helper if "cursorAt" is supplied
		(o.cursorAt && this._adjustOffsetFromHelper(o.cursorAt));

		//Set a containment if given in the options
		this._setContainment();

		//Trigger event + callbacks
		if(this._trigger("start", event) === false) {
			this._clear();
			return false;
		}

		//Recache the helper size
		this._cacheHelperProportions();

		//Prepare the droppable offsets
		if ($.ui.ddmanager && !o.dropBehaviour) {
			$.ui.ddmanager.prepareOffsets(this, event);
		}


		this._mouseDrag(event, true); //Execute the drag once - this causes the helper not to be visible before getting its correct position

		//If the ddmanager is used for droppables, inform the manager that dragging has started (see #5003)
		if ( $.ui.ddmanager ) {
			$.ui.ddmanager.dragStart(this, event);
		}

		return true;
	},

	_mouseDrag: function(event, noPropagation) {
		// reset any necessary cached properties (see #5009)
		if ( this.offsetParentCssPosition === "fixed" ) {
			this.offset.parent = this._getParentOffset();
		}

		//Compute the helpers position
		this.position = this._generatePosition(event);
		this.positionAbs = this._convertPositionTo("absolute");

		//Call plugins and callbacks and use the resulting position if something is returned
		if (!noPropagation) {
			var ui = this._uiHash();
			if(this._trigger("drag", event, ui) === false) {
				this._mouseUp({});
				return false;
			}
			this.position = ui.position;
		}

		if(!this.options.axis || this.options.axis !== "y") {
			this.helper[0].style.left = this.position.left+"px";
		}
		if(!this.options.axis || this.options.axis !== "x") {
			this.helper[0].style.top = this.position.top+"px";
		}
		if($.ui.ddmanager) {
			$.ui.ddmanager.drag(this, event);
		}

		return false;
	},

	_mouseStop: function(event) {

		//If we are using droppables, inform the manager about the drop
		var that = this,
			dropped = false;
		if ($.ui.ddmanager && !this.options.dropBehaviour) {
			dropped = $.ui.ddmanager.drop(this, event);
		}

		//if a drop comes from outside (a sortable)
		if(this.dropped) {
			dropped = this.dropped;
			this.dropped = false;
		}

		//if the original element is no longer in the DOM don't bother to continue (see #8269)
		if ( this.options.helper === "original" && !$.contains( this.element[ 0 ].ownerDocument, this.element[ 0 ] ) ) {
			return false;
		}

		if((this.options.revert === "invalid" && !dropped) || (this.options.revert === "valid" && dropped) || this.options.revert === true || ($.isFunction(this.options.revert) && this.options.revert.call(this.element, dropped))) {
			$(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function() {
				if(that._trigger("stop", event) !== false) {
					that._clear();
				}
			});
		} else {
			if(this._trigger("stop", event) !== false) {
				this._clear();
			}
		}

		return false;
	},

	_mouseUp: function(event) {
		//Remove frame helpers
		$("div.ui-draggable-iframeFix").each(function() {
			this.parentNode.removeChild(this);
		});

		//If the ddmanager is used for droppables, inform the manager that dragging has stopped (see #5003)
		if( $.ui.ddmanager ) {
			$.ui.ddmanager.dragStop(this, event);
		}

		return $.ui.mouse.prototype._mouseUp.call(this, event);
	},

	cancel: function() {

		if(this.helper.is(".ui-draggable-dragging")) {
			this._mouseUp({});
		} else {
			this._clear();
		}

		return this;

	},

	_getHandle: function(event) {
		return this.options.handle ?
			!!$( event.target ).closest( this.element.find( this.options.handle ) ).length :
			true;
	},

	_createHelper: function(event) {

		var o = this.options,
			helper = $.isFunction(o.helper) ? $(o.helper.apply(this.element[0], [event])) : (o.helper === "clone" ? this.element.clone().removeAttr("id") : this.element);

		if(!helper.parents("body").length) {
			helper.appendTo((o.appendTo === "parent" ? this.element[0].parentNode : o.appendTo));
		}

		if(helper[0] !== this.element[0] && !(/(fixed|absolute)/).test(helper.css("position"))) {
			helper.css("position", "absolute");
		}

		return helper;

	},

	_adjustOffsetFromHelper: function(obj) {
		if (typeof obj === "string") {
			obj = obj.split(" ");
		}
		if ($.isArray(obj)) {
			obj = {left: +obj[0], top: +obj[1] || 0};
		}
		if ("left" in obj) {
			this.offset.click.left = obj.left + this.margins.left;
		}
		if ("right" in obj) {
			this.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;
		}
		if ("top" in obj) {
			this.offset.click.top = obj.top + this.margins.top;
		}
		if ("bottom" in obj) {
			this.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;
		}
	},

	_getParentOffset: function() {

		//Get the offsetParent and cache its position
		var po = this.offsetParent.offset();

		// This is a special case where we need to modify a offset calculated on start, since the following happened:
		// 1. The position of the helper is absolute, so it's position is calculated based on the next positioned parent
		// 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't the document, which means that
		//    the scroll is included in the initial calculation of the offset of the parent, and never recalculated upon drag
		if(this.cssPosition === "absolute" && this.scrollParent[0] !== document && $.contains(this.scrollParent[0], this.offsetParent[0])) {
			po.left += this.scrollParent.scrollLeft();
			po.top += this.scrollParent.scrollTop();
		}

		//This needs to be actually done for all browsers, since pageX/pageY includes this information
		//Ugly IE fix
		if((this.offsetParent[0] === document.body) ||
			(this.offsetParent[0].tagName && this.offsetParent[0].tagName.toLowerCase() === "html" && $.ui.ie)) {
			po = { top: 0, left: 0 };
		}

		return {
			top: po.top + (parseInt(this.offsetParent.css("borderTopWidth"),10) || 0),
			left: po.left + (parseInt(this.offsetParent.css("borderLeftWidth"),10) || 0)
		};

	},

	_getRelativeOffset: function() {

		if(this.cssPosition === "relative") {
			var p = this.element.position();
			return {
				top: p.top - (parseInt(this.helper.css("top"),10) || 0) + this.scrollParent.scrollTop(),
				left: p.left - (parseInt(this.helper.css("left"),10) || 0) + this.scrollParent.scrollLeft()
			};
		} else {
			return { top: 0, left: 0 };
		}

	},

	_cacheMargins: function() {
		this.margins = {
			left: (parseInt(this.element.css("marginLeft"),10) || 0),
			top: (parseInt(this.element.css("marginTop"),10) || 0),
			right: (parseInt(this.element.css("marginRight"),10) || 0),
			bottom: (parseInt(this.element.css("marginBottom"),10) || 0)
		};
	},

	_cacheHelperProportions: function() {
		this.helperProportions = {
			width: this.helper.outerWidth(),
			height: this.helper.outerHeight()
		};
	},

	_setContainment: function() {

		var over, c, ce,
			o = this.options;

		if ( !o.containment ) {
			this.containment = null;
			return;
		}

		if ( o.containment === "window" ) {
			this.containment = [
				$( window ).scrollLeft() - this.offset.relative.left - this.offset.parent.left,
				$( window ).scrollTop() - this.offset.relative.top - this.offset.parent.top,
				$( window ).scrollLeft() + $( window ).width() - this.helperProportions.width - this.margins.left,
				$( window ).scrollTop() + ( $( window ).height() || document.body.parentNode.scrollHeight ) - this.helperProportions.height - this.margins.top
			];
			return;
		}

		if ( o.containment === "document") {
			this.containment = [
				0,
				0,
				$( document ).width() - this.helperProportions.width - this.margins.left,
				( $( document ).height() || document.body.parentNode.scrollHeight ) - this.helperProportions.height - this.margins.top
			];
			return;
		}

		if ( o.containment.constructor === Array ) {
			this.containment = o.containment;
			return;
		}

		if ( o.containment === "parent" ) {
			o.containment = this.helper[ 0 ].parentNode;
		}

		c = $( o.containment );
		ce = c[ 0 ];

		if( !ce ) {
			return;
		}

		over = c.css( "overflow" ) !== "hidden";

		this.containment = [
			( parseInt( c.css( "borderLeftWidth" ), 10 ) || 0 ) + ( parseInt( c.css( "paddingLeft" ), 10 ) || 0 ),
			( parseInt( c.css( "borderTopWidth" ), 10 ) || 0 ) + ( parseInt( c.css( "paddingTop" ), 10 ) || 0 ) ,
			( over ? Math.max( ce.scrollWidth, ce.offsetWidth ) : ce.offsetWidth ) - ( parseInt( c.css( "borderRightWidth" ), 10 ) || 0 ) - ( parseInt( c.css( "paddingRight" ), 10 ) || 0 ) - this.helperProportions.width - this.margins.left - this.margins.right,
			( over ? Math.max( ce.scrollHeight, ce.offsetHeight ) : ce.offsetHeight ) - ( parseInt( c.css( "borderBottomWidth" ), 10 ) || 0 ) - ( parseInt( c.css( "paddingBottom" ), 10 ) || 0 ) - this.helperProportions.height - this.margins.top  - this.margins.bottom
		];
		this.relative_container = c;
	},

	_convertPositionTo: function(d, pos) {

		if(!pos) {
			pos = this.position;
		}

		var mod = d === "absolute" ? 1 : -1,
			scroll = this.cssPosition === "absolute" && !( this.scrollParent[ 0 ] !== document && $.contains( this.scrollParent[ 0 ], this.offsetParent[ 0 ] ) ) ? this.offsetParent : this.scrollParent;

		//Cache the scroll
		if (!this.offset.scroll) {
			this.offset.scroll = {top : scroll.scrollTop(), left : scroll.scrollLeft()};
		}

		return {
			top: (
				pos.top	+																// The absolute mouse position
				this.offset.relative.top * mod +										// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.parent.top * mod -										// The offsetParent's offset without borders (offset + border)
				( ( this.cssPosition === "fixed" ? -this.scrollParent.scrollTop() : this.offset.scroll.top ) * mod )
			),
			left: (
				pos.left +																// The absolute mouse position
				this.offset.relative.left * mod +										// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.parent.left * mod	-										// The offsetParent's offset without borders (offset + border)
				( ( this.cssPosition === "fixed" ? -this.scrollParent.scrollLeft() : this.offset.scroll.left ) * mod )
			)
		};

	},

	_generatePosition: function(event) {

		var containment, co, top, left,
			o = this.options,
			scroll = this.cssPosition === "absolute" && !( this.scrollParent[ 0 ] !== document && $.contains( this.scrollParent[ 0 ], this.offsetParent[ 0 ] ) ) ? this.offsetParent : this.scrollParent,
			pageX = event.pageX,
			pageY = event.pageY;

		//Cache the scroll
		if (!this.offset.scroll) {
			this.offset.scroll = {top : scroll.scrollTop(), left : scroll.scrollLeft()};
		}

		/*
		 * - Position constraining -
		 * Constrain the position to a mix of grid, containment.
		 */

		// If we are not dragging yet, we won't check for options
		if ( this.originalPosition ) {
			if ( this.containment ) {
				if ( this.relative_container ){
					co = this.relative_container.offset();
					containment = [
						this.containment[ 0 ] + co.left,
						this.containment[ 1 ] + co.top,
						this.containment[ 2 ] + co.left,
						this.containment[ 3 ] + co.top
					];
				}
				else {
					containment = this.containment;
				}

				if(event.pageX - this.offset.click.left < containment[0]) {
					pageX = containment[0] + this.offset.click.left;
				}
				if(event.pageY - this.offset.click.top < containment[1]) {
					pageY = containment[1] + this.offset.click.top;
				}
				if(event.pageX - this.offset.click.left > containment[2]) {
					pageX = containment[2] + this.offset.click.left;
				}
				if(event.pageY - this.offset.click.top > containment[3]) {
					pageY = containment[3] + this.offset.click.top;
				}
			}

			if(o.grid) {
				//Check for grid elements set to 0 to prevent divide by 0 error causing invalid argument errors in IE (see ticket #6950)
				top = o.grid[1] ? this.originalPageY + Math.round((pageY - this.originalPageY) / o.grid[1]) * o.grid[1] : this.originalPageY;
				pageY = containment ? ((top - this.offset.click.top >= containment[1] || top - this.offset.click.top > containment[3]) ? top : ((top - this.offset.click.top >= containment[1]) ? top - o.grid[1] : top + o.grid[1])) : top;

				left = o.grid[0] ? this.originalPageX + Math.round((pageX - this.originalPageX) / o.grid[0]) * o.grid[0] : this.originalPageX;
				pageX = containment ? ((left - this.offset.click.left >= containment[0] || left - this.offset.click.left > containment[2]) ? left : ((left - this.offset.click.left >= containment[0]) ? left - o.grid[0] : left + o.grid[0])) : left;
			}

		}

		return {
			top: (
				pageY -																	// The absolute mouse position
				this.offset.click.top	-												// Click offset (relative to the element)
				this.offset.relative.top -												// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.parent.top +												// The offsetParent's offset without borders (offset + border)
				( this.cssPosition === "fixed" ? -this.scrollParent.scrollTop() : this.offset.scroll.top )
			),
			left: (
				pageX -																	// The absolute mouse position
				this.offset.click.left -												// Click offset (relative to the element)
				this.offset.relative.left -												// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.parent.left +												// The offsetParent's offset without borders (offset + border)
				( this.cssPosition === "fixed" ? -this.scrollParent.scrollLeft() : this.offset.scroll.left )
			)
		};

	},

	_clear: function() {
		this.helper.removeClass("ui-draggable-dragging");
		if(this.helper[0] !== this.element[0] && !this.cancelHelperRemoval) {
			this.helper.remove();
		}
		this.helper = null;
		this.cancelHelperRemoval = false;
	},

	// From now on bulk stuff - mainly helpers

	_trigger: function(type, event, ui) {
		ui = ui || this._uiHash();
		$.ui.plugin.call(this, type, [event, ui]);
		//The absolute position has to be recalculated after plugins
		if(type === "drag") {
			this.positionAbs = this._convertPositionTo("absolute");
		}
		return $.Widget.prototype._trigger.call(this, type, event, ui);
	},

	plugins: {},

	_uiHash: function() {
		return {
			helper: this.helper,
			position: this.position,
			originalPosition: this.originalPosition,
			offset: this.positionAbs
		};
	}

});

$.ui.plugin.add("draggable", "connectToSortable", {
	start: function(event, ui) {

		var inst = $(this).data("ui-draggable"), o = inst.options,
			uiSortable = $.extend({}, ui, { item: inst.element });
		inst.sortables = [];
		$(o.connectToSortable).each(function() {
			var sortable = $.data(this, "ui-sortable");
			if (sortable && !sortable.options.disabled) {
				inst.sortables.push({
					instance: sortable,
					shouldRevert: sortable.options.revert
				});
				sortable.refreshPositions();	// Call the sortable's refreshPositions at drag start to refresh the containerCache since the sortable container cache is used in drag and needs to be up to date (this will ensure it's initialised as well as being kept in step with any changes that might have happened on the page).
				sortable._trigger("activate", event, uiSortable);
			}
		});

	},
	stop: function(event, ui) {

		//If we are still over the sortable, we fake the stop event of the sortable, but also remove helper
		var inst = $(this).data("ui-draggable"),
			uiSortable = $.extend({}, ui, { item: inst.element });

		$.each(inst.sortables, function() {
			if(this.instance.isOver) {

				this.instance.isOver = 0;

				inst.cancelHelperRemoval = true; //Don't remove the helper in the draggable instance
				this.instance.cancelHelperRemoval = false; //Remove it in the sortable instance (so sortable plugins like revert still work)

				//The sortable revert is supported, and we have to set a temporary dropped variable on the draggable to support revert: "valid/invalid"
				if(this.shouldRevert) {
					this.instance.options.revert = this.shouldRevert;
				}

				//Trigger the stop of the sortable
				this.instance._mouseStop(event);

				this.instance.options.helper = this.instance.options._helper;

				//If the helper has been the original item, restore properties in the sortable
				if(inst.options.helper === "original") {
					this.instance.currentItem.css({ top: "auto", left: "auto" });
				}

			} else {
				this.instance.cancelHelperRemoval = false; //Remove the helper in the sortable instance
				this.instance._trigger("deactivate", event, uiSortable);
			}

		});

	},
	drag: function(event, ui) {

		var inst = $(this).data("ui-draggable"), that = this;

		$.each(inst.sortables, function() {

			var innermostIntersecting = false,
				thisSortable = this;

			//Copy over some variables to allow calling the sortable's native _intersectsWith
			this.instance.positionAbs = inst.positionAbs;
			this.instance.helperProportions = inst.helperProportions;
			this.instance.offset.click = inst.offset.click;

			if(this.instance._intersectsWith(this.instance.containerCache)) {
				innermostIntersecting = true;
				$.each(inst.sortables, function () {
					this.instance.positionAbs = inst.positionAbs;
					this.instance.helperProportions = inst.helperProportions;
					this.instance.offset.click = inst.offset.click;
					if (this !== thisSortable &&
						this.instance._intersectsWith(this.instance.containerCache) &&
						$.contains(thisSortable.instance.element[0], this.instance.element[0])
					) {
						innermostIntersecting = false;
					}
					return innermostIntersecting;
				});
			}


			if(innermostIntersecting) {
				//If it intersects, we use a little isOver variable and set it once, so our move-in stuff gets fired only once
				if(!this.instance.isOver) {

					this.instance.isOver = 1;
					//Now we fake the start of dragging for the sortable instance,
					//by cloning the list group item, appending it to the sortable and using it as inst.currentItem
					//We can then fire the start event of the sortable with our passed browser event, and our own helper (so it doesn't create a new one)
					this.instance.currentItem = $(that).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item", true);
					this.instance.options._helper = this.instance.options.helper; //Store helper option to later restore it
					this.instance.options.helper = function() { return ui.helper[0]; };

					event.target = this.instance.currentItem[0];
					this.instance._mouseCapture(event, true);
					this.instance._mouseStart(event, true, true);

					//Because the browser event is way off the new appended portlet, we modify a couple of variables to reflect the changes
					this.instance.offset.click.top = inst.offset.click.top;
					this.instance.offset.click.left = inst.offset.click.left;
					this.instance.offset.parent.left -= inst.offset.parent.left - this.instance.offset.parent.left;
					this.instance.offset.parent.top -= inst.offset.parent.top - this.instance.offset.parent.top;

					inst._trigger("toSortable", event);
					inst.dropped = this.instance.element; //draggable revert needs that
					//hack so receive/update callbacks work (mostly)
					inst.currentItem = inst.element;
					this.instance.fromOutside = inst;

				}

				//Provided we did all the previous steps, we can fire the drag event of the sortable on every draggable drag, when it intersects with the sortable
				if(this.instance.currentItem) {
					this.instance._mouseDrag(event);
				}

			} else {

				//If it doesn't intersect with the sortable, and it intersected before,
				//we fake the drag stop of the sortable, but make sure it doesn't remove the helper by using cancelHelperRemoval
				if(this.instance.isOver) {

					this.instance.isOver = 0;
					this.instance.cancelHelperRemoval = true;

					//Prevent reverting on this forced stop
					this.instance.options.revert = false;

					// The out event needs to be triggered independently
					this.instance._trigger("out", event, this.instance._uiHash(this.instance));

					this.instance._mouseStop(event, true);
					this.instance.options.helper = this.instance.options._helper;

					//Now we remove our currentItem, the list group clone again, and the placeholder, and animate the helper back to it's original size
					this.instance.currentItem.remove();
					if(this.instance.placeholder) {
						this.instance.placeholder.remove();
					}

					inst._trigger("fromSortable", event);
					inst.dropped = false; //draggable revert needs that
				}

			}

		});

	}
});

$.ui.plugin.add("draggable", "cursor", {
	start: function() {
		var t = $("body"), o = $(this).data("ui-draggable").options;
		if (t.css("cursor")) {
			o._cursor = t.css("cursor");
		}
		t.css("cursor", o.cursor);
	},
	stop: function() {
		var o = $(this).data("ui-draggable").options;
		if (o._cursor) {
			$("body").css("cursor", o._cursor);
		}
	}
});

$.ui.plugin.add("draggable", "opacity", {
	start: function(event, ui) {
		var t = $(ui.helper), o = $(this).data("ui-draggable").options;
		if(t.css("opacity")) {
			o._opacity = t.css("opacity");
		}
		t.css("opacity", o.opacity);
	},
	stop: function(event, ui) {
		var o = $(this).data("ui-draggable").options;
		if(o._opacity) {
			$(ui.helper).css("opacity", o._opacity);
		}
	}
});

$.ui.plugin.add("draggable", "scroll", {
	start: function() {
		var i = $(this).data("ui-draggable");
		if(i.scrollParent[0] !== document && i.scrollParent[0].tagName !== "HTML") {
			i.overflowOffset = i.scrollParent.offset();
		}
	},
	drag: function( event ) {

		var i = $(this).data("ui-draggable"), o = i.options, scrolled = false;

		if(i.scrollParent[0] !== document && i.scrollParent[0].tagName !== "HTML") {

			if(!o.axis || o.axis !== "x") {
				if((i.overflowOffset.top + i.scrollParent[0].offsetHeight) - event.pageY < o.scrollSensitivity) {
					i.scrollParent[0].scrollTop = scrolled = i.scrollParent[0].scrollTop + o.scrollSpeed;
				} else if(event.pageY - i.overflowOffset.top < o.scrollSensitivity) {
					i.scrollParent[0].scrollTop = scrolled = i.scrollParent[0].scrollTop - o.scrollSpeed;
				}
			}

			if(!o.axis || o.axis !== "y") {
				if((i.overflowOffset.left + i.scrollParent[0].offsetWidth) - event.pageX < o.scrollSensitivity) {
					i.scrollParent[0].scrollLeft = scrolled = i.scrollParent[0].scrollLeft + o.scrollSpeed;
				} else if(event.pageX - i.overflowOffset.left < o.scrollSensitivity) {
					i.scrollParent[0].scrollLeft = scrolled = i.scrollParent[0].scrollLeft - o.scrollSpeed;
				}
			}

		} else {

			if(!o.axis || o.axis !== "x") {
				if(event.pageY - $(document).scrollTop() < o.scrollSensitivity) {
					scrolled = $(document).scrollTop($(document).scrollTop() - o.scrollSpeed);
				} else if($(window).height() - (event.pageY - $(document).scrollTop()) < o.scrollSensitivity) {
					scrolled = $(document).scrollTop($(document).scrollTop() + o.scrollSpeed);
				}
			}

			if(!o.axis || o.axis !== "y") {
				if(event.pageX - $(document).scrollLeft() < o.scrollSensitivity) {
					scrolled = $(document).scrollLeft($(document).scrollLeft() - o.scrollSpeed);
				} else if($(window).width() - (event.pageX - $(document).scrollLeft()) < o.scrollSensitivity) {
					scrolled = $(document).scrollLeft($(document).scrollLeft() + o.scrollSpeed);
				}
			}

		}

		if(scrolled !== false && $.ui.ddmanager && !o.dropBehaviour) {
			$.ui.ddmanager.prepareOffsets(i, event);
		}

	}
});

$.ui.plugin.add("draggable", "snap", {
	start: function() {

		var i = $(this).data("ui-draggable"),
			o = i.options;

		i.snapElements = [];

		$(o.snap.constructor !== String ? ( o.snap.items || ":data(ui-draggable)" ) : o.snap).each(function() {
			var $t = $(this),
				$o = $t.offset();
			if(this !== i.element[0]) {
				i.snapElements.push({
					item: this,
					width: $t.outerWidth(), height: $t.outerHeight(),
					top: $o.top, left: $o.left
				});
			}
		});

	},
	drag: function(event, ui) {

		var ts, bs, ls, rs, l, r, t, b, i, first,
			inst = $(this).data("ui-draggable"),
			o = inst.options,
			d = o.snapTolerance,
			x1 = ui.offset.left, x2 = x1 + inst.helperProportions.width,
			y1 = ui.offset.top, y2 = y1 + inst.helperProportions.height;

		for (i = inst.snapElements.length - 1; i >= 0; i--){

			l = inst.snapElements[i].left;
			r = l + inst.snapElements[i].width;
			t = inst.snapElements[i].top;
			b = t + inst.snapElements[i].height;

			if ( x2 < l - d || x1 > r + d || y2 < t - d || y1 > b + d || !$.contains( inst.snapElements[ i ].item.ownerDocument, inst.snapElements[ i ].item ) ) {
				if(inst.snapElements[i].snapping) {
					(inst.options.snap.release && inst.options.snap.release.call(inst.element, event, $.extend(inst._uiHash(), { snapItem: inst.snapElements[i].item })));
				}
				inst.snapElements[i].snapping = false;
				continue;
			}

			if(o.snapMode !== "inner") {
				ts = Math.abs(t - y2) <= d;
				bs = Math.abs(b - y1) <= d;
				ls = Math.abs(l - x2) <= d;
				rs = Math.abs(r - x1) <= d;
				if(ts) {
					ui.position.top = inst._convertPositionTo("relative", { top: t - inst.helperProportions.height, left: 0 }).top - inst.margins.top;
				}
				if(bs) {
					ui.position.top = inst._convertPositionTo("relative", { top: b, left: 0 }).top - inst.margins.top;
				}
				if(ls) {
					ui.position.left = inst._convertPositionTo("relative", { top: 0, left: l - inst.helperProportions.width }).left - inst.margins.left;
				}
				if(rs) {
					ui.position.left = inst._convertPositionTo("relative", { top: 0, left: r }).left - inst.margins.left;
				}
			}

			first = (ts || bs || ls || rs);

			if(o.snapMode !== "outer") {
				ts = Math.abs(t - y1) <= d;
				bs = Math.abs(b - y2) <= d;
				ls = Math.abs(l - x1) <= d;
				rs = Math.abs(r - x2) <= d;
				if(ts) {
					ui.position.top = inst._convertPositionTo("relative", { top: t, left: 0 }).top - inst.margins.top;
				}
				if(bs) {
					ui.position.top = inst._convertPositionTo("relative", { top: b - inst.helperProportions.height, left: 0 }).top - inst.margins.top;
				}
				if(ls) {
					ui.position.left = inst._convertPositionTo("relative", { top: 0, left: l }).left - inst.margins.left;
				}
				if(rs) {
					ui.position.left = inst._convertPositionTo("relative", { top: 0, left: r - inst.helperProportions.width }).left - inst.margins.left;
				}
			}

			if(!inst.snapElements[i].snapping && (ts || bs || ls || rs || first)) {
				(inst.options.snap.snap && inst.options.snap.snap.call(inst.element, event, $.extend(inst._uiHash(), { snapItem: inst.snapElements[i].item })));
			}
			inst.snapElements[i].snapping = (ts || bs || ls || rs || first);

		}

	}
});

$.ui.plugin.add("draggable", "stack", {
	start: function() {
		var min,
			o = this.data("ui-draggable").options,
			group = $.makeArray($(o.stack)).sort(function(a,b) {
				return (parseInt($(a).css("zIndex"),10) || 0) - (parseInt($(b).css("zIndex"),10) || 0);
			});

		if (!group.length) { return; }

		min = parseInt($(group[0]).css("zIndex"), 10) || 0;
		$(group).each(function(i) {
			$(this).css("zIndex", min + i);
		});
		this.css("zIndex", (min + group.length));
	}
});

$.ui.plugin.add("draggable", "zIndex", {
	start: function(event, ui) {
		var t = $(ui.helper), o = $(this).data("ui-draggable").options;
		if(t.css("zIndex")) {
			o._zIndex = t.css("zIndex");
		}
		t.css("zIndex", o.zIndex);
	},
	stop: function(event, ui) {
		var o = $(this).data("ui-draggable").options;
		if(o._zIndex) {
			$(ui.helper).css("zIndex", o._zIndex);
		}
	}
});

})(jQuery);

},{}],4:[function(require,module,exports){
/*!
 * jQuery UI Mouse 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function( $, undefined ) {

var mouseHandled = false;
$( document ).mouseup( function() {
	mouseHandled = false;
});

$.widget("ui.mouse", {
	version: "1.10.3",
	options: {
		cancel: "input,textarea,button,select,option",
		distance: 1,
		delay: 0
	},
	_mouseInit: function() {
		var that = this;

		this.element
			.bind("mousedown."+this.widgetName, function(event) {
				return that._mouseDown(event);
			})
			.bind("click."+this.widgetName, function(event) {
				if (true === $.data(event.target, that.widgetName + ".preventClickEvent")) {
					$.removeData(event.target, that.widgetName + ".preventClickEvent");
					event.stopImmediatePropagation();
					return false;
				}
			});

		this.started = false;
	},

	// TODO: make sure destroying one instance of mouse doesn't mess with
	// other instances of mouse
	_mouseDestroy: function() {
		this.element.unbind("."+this.widgetName);
		if ( this._mouseMoveDelegate ) {
			$(document)
				.unbind("mousemove."+this.widgetName, this._mouseMoveDelegate)
				.unbind("mouseup."+this.widgetName, this._mouseUpDelegate);
		}
	},

	_mouseDown: function(event) {
		// don't let more than one widget handle mouseStart
		if( mouseHandled ) { return; }

		// we may have missed mouseup (out of window)
		(this._mouseStarted && this._mouseUp(event));

		this._mouseDownEvent = event;

		var that = this,
			btnIsLeft = (event.which === 1),
			// event.target.nodeName works around a bug in IE 8 with
			// disabled inputs (#7620)
			elIsCancel = (typeof this.options.cancel === "string" && event.target.nodeName ? $(event.target).closest(this.options.cancel).length : false);
		if (!btnIsLeft || elIsCancel || !this._mouseCapture(event)) {
			return true;
		}

		this.mouseDelayMet = !this.options.delay;
		if (!this.mouseDelayMet) {
			this._mouseDelayTimer = setTimeout(function() {
				that.mouseDelayMet = true;
			}, this.options.delay);
		}

		if (this._mouseDistanceMet(event) && this._mouseDelayMet(event)) {
			this._mouseStarted = (this._mouseStart(event) !== false);
			if (!this._mouseStarted) {
				event.preventDefault();
				return true;
			}
		}

		// Click event may never have fired (Gecko & Opera)
		if (true === $.data(event.target, this.widgetName + ".preventClickEvent")) {
			$.removeData(event.target, this.widgetName + ".preventClickEvent");
		}

		// these delegates are required to keep context
		this._mouseMoveDelegate = function(event) {
			return that._mouseMove(event);
		};
		this._mouseUpDelegate = function(event) {
			return that._mouseUp(event);
		};
		$(document)
			.bind("mousemove."+this.widgetName, this._mouseMoveDelegate)
			.bind("mouseup."+this.widgetName, this._mouseUpDelegate);

		event.preventDefault();

		mouseHandled = true;
		return true;
	},

	_mouseMove: function(event) {
		// IE mouseup check - mouseup happened when mouse was out of window
		if ($.ui.ie && ( !document.documentMode || document.documentMode < 9 ) && !event.button) {
			return this._mouseUp(event);
		}

		if (this._mouseStarted) {
			this._mouseDrag(event);
			return event.preventDefault();
		}

		if (this._mouseDistanceMet(event) && this._mouseDelayMet(event)) {
			this._mouseStarted =
				(this._mouseStart(this._mouseDownEvent, event) !== false);
			(this._mouseStarted ? this._mouseDrag(event) : this._mouseUp(event));
		}

		return !this._mouseStarted;
	},

	_mouseUp: function(event) {
		$(document)
			.unbind("mousemove."+this.widgetName, this._mouseMoveDelegate)
			.unbind("mouseup."+this.widgetName, this._mouseUpDelegate);

		if (this._mouseStarted) {
			this._mouseStarted = false;

			if (event.target === this._mouseDownEvent.target) {
				$.data(event.target, this.widgetName + ".preventClickEvent", true);
			}

			this._mouseStop(event);
		}

		return false;
	},

	_mouseDistanceMet: function(event) {
		return (Math.max(
				Math.abs(this._mouseDownEvent.pageX - event.pageX),
				Math.abs(this._mouseDownEvent.pageY - event.pageY)
			) >= this.options.distance
		);
	},

	_mouseDelayMet: function(/* event */) {
		return this.mouseDelayMet;
	},

	// These are placeholder methods, to be overriden by extending plugin
	_mouseStart: function(/* event */) {},
	_mouseDrag: function(/* event */) {},
	_mouseStop: function(/* event */) {},
	_mouseCapture: function(/* event */) { return true; }
});

})(jQuery);

},{}],5:[function(require,module,exports){
/*!
 * jQuery UI Resizable 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function( $, undefined ) {

function num(v) {
	return parseInt(v, 10) || 0;
}

function isNumber(value) {
	return !isNaN(parseInt(value, 10));
}

$.widget("ui.resizable", $.ui.mouse, {
	version: "1.10.3",
	widgetEventPrefix: "resize",
	options: {
		alsoResize: false,
		animate: false,
		animateDuration: "slow",
		animateEasing: "swing",
		aspectRatio: false,
		autoHide: false,
		containment: false,
		ghost: false,
		grid: false,
		handles: "e,s,se",
		helper: false,
		maxHeight: null,
		maxWidth: null,
		minHeight: 10,
		minWidth: 10,
		// See #7960
		zIndex: 90,

		// callbacks
		resize: null,
		start: null,
		stop: null
	},
	_create: function() {

		var n, i, handle, axis, hname,
			that = this,
			o = this.options;
		this.element.addClass("ui-resizable");

		$.extend(this, {
			_aspectRatio: !!(o.aspectRatio),
			aspectRatio: o.aspectRatio,
			originalElement: this.element,
			_proportionallyResizeElements: [],
			_helper: o.helper || o.ghost || o.animate ? o.helper || "ui-resizable-helper" : null
		});

		//Wrap the element if it cannot hold child nodes
		if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)) {

			//Create a wrapper element and set the wrapper to the new current internal element
			this.element.wrap(
				$("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({
					position: this.element.css("position"),
					width: this.element.outerWidth(),
					height: this.element.outerHeight(),
					top: this.element.css("top"),
					left: this.element.css("left")
				})
			);

			//Overwrite the original this.element
			this.element = this.element.parent().data(
				"ui-resizable", this.element.data("ui-resizable")
			);

			this.elementIsWrapper = true;

			//Move margins to the wrapper
			this.element.css({ marginLeft: this.originalElement.css("marginLeft"), marginTop: this.originalElement.css("marginTop"), marginRight: this.originalElement.css("marginRight"), marginBottom: this.originalElement.css("marginBottom") });
			this.originalElement.css({ marginLeft: 0, marginTop: 0, marginRight: 0, marginBottom: 0});

			//Prevent Safari textarea resize
			this.originalResizeStyle = this.originalElement.css("resize");
			this.originalElement.css("resize", "none");

			//Push the actual element to our proportionallyResize internal array
			this._proportionallyResizeElements.push(this.originalElement.css({ position: "static", zoom: 1, display: "block" }));

			// avoid IE jump (hard set the margin)
			this.originalElement.css({ margin: this.originalElement.css("margin") });

			// fix handlers offset
			this._proportionallyResize();

		}

		this.handles = o.handles || (!$(".ui-resizable-handle", this.element).length ? "e,s,se" : { n: ".ui-resizable-n", e: ".ui-resizable-e", s: ".ui-resizable-s", w: ".ui-resizable-w", se: ".ui-resizable-se", sw: ".ui-resizable-sw", ne: ".ui-resizable-ne", nw: ".ui-resizable-nw" });
		if(this.handles.constructor === String) {

			if ( this.handles === "all") {
				this.handles = "n,e,s,w,se,sw,ne,nw";
			}

			n = this.handles.split(",");
			this.handles = {};

			for(i = 0; i < n.length; i++) {

				handle = $.trim(n[i]);
				hname = "ui-resizable-"+handle;
				axis = $("<div class='ui-resizable-handle " + hname + "'></div>");

				// Apply zIndex to all handles - see #7960
				axis.css({ zIndex: o.zIndex });

				//TODO : What's going on here?
				if ("se" === handle) {
					axis.addClass("ui-icon ui-icon-gripsmall-diagonal-se");
				}

				//Insert into internal handles object and append to element
				this.handles[handle] = ".ui-resizable-"+handle;
				this.element.append(axis);
			}

		}

		this._renderAxis = function(target) {

			var i, axis, padPos, padWrapper;

			target = target || this.element;

			for(i in this.handles) {

				if(this.handles[i].constructor === String) {
					this.handles[i] = $(this.handles[i], this.element).show();
				}

				//Apply pad to wrapper element, needed to fix axis position (textarea, inputs, scrolls)
				if (this.elementIsWrapper && this.originalElement[0].nodeName.match(/textarea|input|select|button/i)) {

					axis = $(this.handles[i], this.element);

					//Checking the correct pad and border
					padWrapper = /sw|ne|nw|se|n|s/.test(i) ? axis.outerHeight() : axis.outerWidth();

					//The padding type i have to apply...
					padPos = [ "padding",
						/ne|nw|n/.test(i) ? "Top" :
						/se|sw|s/.test(i) ? "Bottom" :
						/^e$/.test(i) ? "Right" : "Left" ].join("");

					target.css(padPos, padWrapper);

					this._proportionallyResize();

				}

				//TODO: What's that good for? There's not anything to be executed left
				if(!$(this.handles[i]).length) {
					continue;
				}
			}
		};

		//TODO: make renderAxis a prototype function
		this._renderAxis(this.element);

		this._handles = $(".ui-resizable-handle", this.element)
			.disableSelection();

		//Matching axis name
		this._handles.mouseover(function() {
			if (!that.resizing) {
				if (this.className) {
					axis = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);
				}
				//Axis, default = se
				that.axis = axis && axis[1] ? axis[1] : "se";
			}
		});

		//If we want to auto hide the elements
		if (o.autoHide) {
			this._handles.hide();
			$(this.element)
				.addClass("ui-resizable-autohide")
				.mouseenter(function() {
					if (o.disabled) {
						return;
					}
					$(this).removeClass("ui-resizable-autohide");
					that._handles.show();
				})
				.mouseleave(function(){
					if (o.disabled) {
						return;
					}
					if (!that.resizing) {
						$(this).addClass("ui-resizable-autohide");
						that._handles.hide();
					}
				});
		}

		//Initialize the mouse interaction
		this._mouseInit();

	},

	_destroy: function() {

		this._mouseDestroy();

		var wrapper,
			_destroy = function(exp) {
				$(exp).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing")
					.removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove();
			};

		//TODO: Unwrap at same DOM position
		if (this.elementIsWrapper) {
			_destroy(this.element);
			wrapper = this.element;
			this.originalElement.css({
				position: wrapper.css("position"),
				width: wrapper.outerWidth(),
				height: wrapper.outerHeight(),
				top: wrapper.css("top"),
				left: wrapper.css("left")
			}).insertAfter( wrapper );
			wrapper.remove();
		}

		this.originalElement.css("resize", this.originalResizeStyle);
		_destroy(this.originalElement);

		return this;
	},

	_mouseCapture: function(event) {
		var i, handle,
			capture = false;

		for (i in this.handles) {
			handle = $(this.handles[i])[0];
			if (handle === event.target || $.contains(handle, event.target)) {
				capture = true;
			}
		}

		return !this.options.disabled && capture;
	},

	_mouseStart: function(event) {

		var curleft, curtop, cursor,
			o = this.options,
			iniPos = this.element.position(),
			el = this.element;

		this.resizing = true;

		// bugfix for http://dev.jquery.com/ticket/1749
		if ( (/absolute/).test( el.css("position") ) ) {
			el.css({ position: "absolute", top: el.css("top"), left: el.css("left") });
		} else if (el.is(".ui-draggable")) {
			el.css({ position: "absolute", top: iniPos.top, left: iniPos.left });
		}

		this._renderProxy();

		curleft = num(this.helper.css("left"));
		curtop = num(this.helper.css("top"));

		if (o.containment) {
			curleft += $(o.containment).scrollLeft() || 0;
			curtop += $(o.containment).scrollTop() || 0;
		}

		//Store needed variables
		this.offset = this.helper.offset();
		this.position = { left: curleft, top: curtop };
		this.size = this._helper ? { width: el.outerWidth(), height: el.outerHeight() } : { width: el.width(), height: el.height() };
		this.originalSize = this._helper ? { width: el.outerWidth(), height: el.outerHeight() } : { width: el.width(), height: el.height() };
		this.originalPosition = { left: curleft, top: curtop };
		this.sizeDiff = { width: el.outerWidth() - el.width(), height: el.outerHeight() - el.height() };
		this.originalMousePosition = { left: event.pageX, top: event.pageY };

		//Aspect Ratio
		this.aspectRatio = (typeof o.aspectRatio === "number") ? o.aspectRatio : ((this.originalSize.width / this.originalSize.height) || 1);

		cursor = $(".ui-resizable-" + this.axis).css("cursor");
		$("body").css("cursor", cursor === "auto" ? this.axis + "-resize" : cursor);

		el.addClass("ui-resizable-resizing");
		this._propagate("start", event);
		return true;
	},

	_mouseDrag: function(event) {

		//Increase performance, avoid regex
		var data,
			el = this.helper, props = {},
			smp = this.originalMousePosition,
			a = this.axis,
			prevTop = this.position.top,
			prevLeft = this.position.left,
			prevWidth = this.size.width,
			prevHeight = this.size.height,
			dx = (event.pageX-smp.left)||0,
			dy = (event.pageY-smp.top)||0,
			trigger = this._change[a];

		if (!trigger) {
			return false;
		}

		// Calculate the attrs that will be change
		data = trigger.apply(this, [event, dx, dy]);

		// Put this in the mouseDrag handler since the user can start pressing shift while resizing
		this._updateVirtualBoundaries(event.shiftKey);
		if (this._aspectRatio || event.shiftKey) {
			data = this._updateRatio(data, event);
		}

		data = this._respectSize(data, event);

		this._updateCache(data);

		// plugins callbacks need to be called first
		this._propagate("resize", event);

		if (this.position.top !== prevTop) {
			props.top = this.position.top + "px";
		}
		if (this.position.left !== prevLeft) {
			props.left = this.position.left + "px";
		}
		if (this.size.width !== prevWidth) {
			props.width = this.size.width + "px";
		}
		if (this.size.height !== prevHeight) {
			props.height = this.size.height + "px";
		}
		el.css(props);

		if (!this._helper && this._proportionallyResizeElements.length) {
			this._proportionallyResize();
		}

		// Call the user callback if the element was resized
		if ( ! $.isEmptyObject(props) ) {
			this._trigger("resize", event, this.ui());
		}

		return false;
	},

	_mouseStop: function(event) {

		this.resizing = false;
		var pr, ista, soffseth, soffsetw, s, left, top,
			o = this.options, that = this;

		if(this._helper) {

			pr = this._proportionallyResizeElements;
			ista = pr.length && (/textarea/i).test(pr[0].nodeName);
			soffseth = ista && $.ui.hasScroll(pr[0], "left") /* TODO - jump height */ ? 0 : that.sizeDiff.height;
			soffsetw = ista ? 0 : that.sizeDiff.width;

			s = { width: (that.helper.width()  - soffsetw), height: (that.helper.height() - soffseth) };
			left = (parseInt(that.element.css("left"), 10) + (that.position.left - that.originalPosition.left)) || null;
			top = (parseInt(that.element.css("top"), 10) + (that.position.top - that.originalPosition.top)) || null;

			if (!o.animate) {
				this.element.css($.extend(s, { top: top, left: left }));
			}

			that.helper.height(that.size.height);
			that.helper.width(that.size.width);

			if (this._helper && !o.animate) {
				this._proportionallyResize();
			}
		}

		$("body").css("cursor", "auto");

		this.element.removeClass("ui-resizable-resizing");

		this._propagate("stop", event);

		if (this._helper) {
			this.helper.remove();
		}

		return false;

	},

	_updateVirtualBoundaries: function(forceAspectRatio) {
		var pMinWidth, pMaxWidth, pMinHeight, pMaxHeight, b,
			o = this.options;

		b = {
			minWidth: isNumber(o.minWidth) ? o.minWidth : 0,
			maxWidth: isNumber(o.maxWidth) ? o.maxWidth : Infinity,
			minHeight: isNumber(o.minHeight) ? o.minHeight : 0,
			maxHeight: isNumber(o.maxHeight) ? o.maxHeight : Infinity
		};

		if(this._aspectRatio || forceAspectRatio) {
			// We want to create an enclosing box whose aspect ration is the requested one
			// First, compute the "projected" size for each dimension based on the aspect ratio and other dimension
			pMinWidth = b.minHeight * this.aspectRatio;
			pMinHeight = b.minWidth / this.aspectRatio;
			pMaxWidth = b.maxHeight * this.aspectRatio;
			pMaxHeight = b.maxWidth / this.aspectRatio;

			if(pMinWidth > b.minWidth) {
				b.minWidth = pMinWidth;
			}
			if(pMinHeight > b.minHeight) {
				b.minHeight = pMinHeight;
			}
			if(pMaxWidth < b.maxWidth) {
				b.maxWidth = pMaxWidth;
			}
			if(pMaxHeight < b.maxHeight) {
				b.maxHeight = pMaxHeight;
			}
		}
		this._vBoundaries = b;
	},

	_updateCache: function(data) {
		this.offset = this.helper.offset();
		if (isNumber(data.left)) {
			this.position.left = data.left;
		}
		if (isNumber(data.top)) {
			this.position.top = data.top;
		}
		if (isNumber(data.height)) {
			this.size.height = data.height;
		}
		if (isNumber(data.width)) {
			this.size.width = data.width;
		}
	},

	_updateRatio: function( data ) {

		var cpos = this.position,
			csize = this.size,
			a = this.axis;

		if (isNumber(data.height)) {
			data.width = (data.height * this.aspectRatio);
		} else if (isNumber(data.width)) {
			data.height = (data.width / this.aspectRatio);
		}

		if (a === "sw") {
			data.left = cpos.left + (csize.width - data.width);
			data.top = null;
		}
		if (a === "nw") {
			data.top = cpos.top + (csize.height - data.height);
			data.left = cpos.left + (csize.width - data.width);
		}

		return data;
	},

	_respectSize: function( data ) {

		var o = this._vBoundaries,
			a = this.axis,
			ismaxw = isNumber(data.width) && o.maxWidth && (o.maxWidth < data.width), ismaxh = isNumber(data.height) && o.maxHeight && (o.maxHeight < data.height),
			isminw = isNumber(data.width) && o.minWidth && (o.minWidth > data.width), isminh = isNumber(data.height) && o.minHeight && (o.minHeight > data.height),
			dw = this.originalPosition.left + this.originalSize.width,
			dh = this.position.top + this.size.height,
			cw = /sw|nw|w/.test(a), ch = /nw|ne|n/.test(a);
		if (isminw) {
			data.width = o.minWidth;
		}
		if (isminh) {
			data.height = o.minHeight;
		}
		if (ismaxw) {
			data.width = o.maxWidth;
		}
		if (ismaxh) {
			data.height = o.maxHeight;
		}

		if (isminw && cw) {
			data.left = dw - o.minWidth;
		}
		if (ismaxw && cw) {
			data.left = dw - o.maxWidth;
		}
		if (isminh && ch) {
			data.top = dh - o.minHeight;
		}
		if (ismaxh && ch) {
			data.top = dh - o.maxHeight;
		}

		// fixing jump error on top/left - bug #2330
		if (!data.width && !data.height && !data.left && data.top) {
			data.top = null;
		} else if (!data.width && !data.height && !data.top && data.left) {
			data.left = null;
		}

		return data;
	},

	_proportionallyResize: function() {

		if (!this._proportionallyResizeElements.length) {
			return;
		}

		var i, j, borders, paddings, prel,
			element = this.helper || this.element;

		for ( i=0; i < this._proportionallyResizeElements.length; i++) {

			prel = this._proportionallyResizeElements[i];

			if (!this.borderDif) {
				this.borderDif = [];
				borders = [prel.css("borderTopWidth"), prel.css("borderRightWidth"), prel.css("borderBottomWidth"), prel.css("borderLeftWidth")];
				paddings = [prel.css("paddingTop"), prel.css("paddingRight"), prel.css("paddingBottom"), prel.css("paddingLeft")];

				for ( j = 0; j < borders.length; j++ ) {
					this.borderDif[ j ] = ( parseInt( borders[ j ], 10 ) || 0 ) + ( parseInt( paddings[ j ], 10 ) || 0 );
				}
			}

			prel.css({
				height: (element.height() - this.borderDif[0] - this.borderDif[2]) || 0,
				width: (element.width() - this.borderDif[1] - this.borderDif[3]) || 0
			});

		}

	},

	_renderProxy: function() {

		var el = this.element, o = this.options;
		this.elementOffset = el.offset();

		if(this._helper) {

			this.helper = this.helper || $("<div style='overflow:hidden;'></div>");

			this.helper.addClass(this._helper).css({
				width: this.element.outerWidth() - 1,
				height: this.element.outerHeight() - 1,
				position: "absolute",
				left: this.elementOffset.left +"px",
				top: this.elementOffset.top +"px",
				zIndex: ++o.zIndex //TODO: Don't modify option
			});

			this.helper
				.appendTo("body")
				.disableSelection();

		} else {
			this.helper = this.element;
		}

	},

	_change: {
		e: function(event, dx) {
			return { width: this.originalSize.width + dx };
		},
		w: function(event, dx) {
			var cs = this.originalSize, sp = this.originalPosition;
			return { left: sp.left + dx, width: cs.width - dx };
		},
		n: function(event, dx, dy) {
			var cs = this.originalSize, sp = this.originalPosition;
			return { top: sp.top + dy, height: cs.height - dy };
		},
		s: function(event, dx, dy) {
			return { height: this.originalSize.height + dy };
		},
		se: function(event, dx, dy) {
			return $.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [event, dx, dy]));
		},
		sw: function(event, dx, dy) {
			return $.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [event, dx, dy]));
		},
		ne: function(event, dx, dy) {
			return $.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [event, dx, dy]));
		},
		nw: function(event, dx, dy) {
			return $.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [event, dx, dy]));
		}
	},

	_propagate: function(n, event) {
		$.ui.plugin.call(this, n, [event, this.ui()]);
		(n !== "resize" && this._trigger(n, event, this.ui()));
	},

	plugins: {},

	ui: function() {
		return {
			originalElement: this.originalElement,
			element: this.element,
			helper: this.helper,
			position: this.position,
			size: this.size,
			originalSize: this.originalSize,
			originalPosition: this.originalPosition
		};
	}

});

/*
 * Resizable Extensions
 */

$.ui.plugin.add("resizable", "animate", {

	stop: function( event ) {
		var that = $(this).data("ui-resizable"),
			o = that.options,
			pr = that._proportionallyResizeElements,
			ista = pr.length && (/textarea/i).test(pr[0].nodeName),
			soffseth = ista && $.ui.hasScroll(pr[0], "left") /* TODO - jump height */ ? 0 : that.sizeDiff.height,
			soffsetw = ista ? 0 : that.sizeDiff.width,
			style = { width: (that.size.width - soffsetw), height: (that.size.height - soffseth) },
			left = (parseInt(that.element.css("left"), 10) + (that.position.left - that.originalPosition.left)) || null,
			top = (parseInt(that.element.css("top"), 10) + (that.position.top - that.originalPosition.top)) || null;

		that.element.animate(
			$.extend(style, top && left ? { top: top, left: left } : {}), {
				duration: o.animateDuration,
				easing: o.animateEasing,
				step: function() {

					var data = {
						width: parseInt(that.element.css("width"), 10),
						height: parseInt(that.element.css("height"), 10),
						top: parseInt(that.element.css("top"), 10),
						left: parseInt(that.element.css("left"), 10)
					};

					if (pr && pr.length) {
						$(pr[0]).css({ width: data.width, height: data.height });
					}

					// propagating resize, and updating values for each animation step
					that._updateCache(data);
					that._propagate("resize", event);

				}
			}
		);
	}

});

$.ui.plugin.add("resizable", "containment", {

	start: function() {
		var element, p, co, ch, cw, width, height,
			that = $(this).data("ui-resizable"),
			o = that.options,
			el = that.element,
			oc = o.containment,
			ce = (oc instanceof $) ? oc.get(0) : (/parent/.test(oc)) ? el.parent().get(0) : oc;

		if (!ce) {
			return;
		}

		that.containerElement = $(ce);

		if (/document/.test(oc) || oc === document) {
			that.containerOffset = { left: 0, top: 0 };
			that.containerPosition = { left: 0, top: 0 };

			that.parentData = {
				element: $(document), left: 0, top: 0,
				width: $(document).width(), height: $(document).height() || document.body.parentNode.scrollHeight
			};
		}

		// i'm a node, so compute top, left, right, bottom
		else {
			element = $(ce);
			p = [];
			$([ "Top", "Right", "Left", "Bottom" ]).each(function(i, name) { p[i] = num(element.css("padding" + name)); });

			that.containerOffset = element.offset();
			that.containerPosition = element.position();
			that.containerSize = { height: (element.innerHeight() - p[3]), width: (element.innerWidth() - p[1]) };

			co = that.containerOffset;
			ch = that.containerSize.height;
			cw = that.containerSize.width;
			width = ($.ui.hasScroll(ce, "left") ? ce.scrollWidth : cw );
			height = ($.ui.hasScroll(ce) ? ce.scrollHeight : ch);

			that.parentData = {
				element: ce, left: co.left, top: co.top, width: width, height: height
			};
		}
	},

	resize: function( event ) {
		var woset, hoset, isParent, isOffsetRelative,
			that = $(this).data("ui-resizable"),
			o = that.options,
			co = that.containerOffset, cp = that.position,
			pRatio = that._aspectRatio || event.shiftKey,
			cop = { top:0, left:0 }, ce = that.containerElement;

		if (ce[0] !== document && (/static/).test(ce.css("position"))) {
			cop = co;
		}

		if (cp.left < (that._helper ? co.left : 0)) {
			that.size.width = that.size.width + (that._helper ? (that.position.left - co.left) : (that.position.left - cop.left));
			if (pRatio) {
				that.size.height = that.size.width / that.aspectRatio;
			}
			that.position.left = o.helper ? co.left : 0;
		}

		if (cp.top < (that._helper ? co.top : 0)) {
			that.size.height = that.size.height + (that._helper ? (that.position.top - co.top) : that.position.top);
			if (pRatio) {
				that.size.width = that.size.height * that.aspectRatio;
			}
			that.position.top = that._helper ? co.top : 0;
		}

		that.offset.left = that.parentData.left+that.position.left;
		that.offset.top = that.parentData.top+that.position.top;

		woset = Math.abs( (that._helper ? that.offset.left - cop.left : (that.offset.left - cop.left)) + that.sizeDiff.width );
		hoset = Math.abs( (that._helper ? that.offset.top - cop.top : (that.offset.top - co.top)) + that.sizeDiff.height );

		isParent = that.containerElement.get(0) === that.element.parent().get(0);
		isOffsetRelative = /relative|absolute/.test(that.containerElement.css("position"));

		if(isParent && isOffsetRelative) {
			woset -= that.parentData.left;
		}

		if (woset + that.size.width >= that.parentData.width) {
			that.size.width = that.parentData.width - woset;
			if (pRatio) {
				that.size.height = that.size.width / that.aspectRatio;
			}
		}

		if (hoset + that.size.height >= that.parentData.height) {
			that.size.height = that.parentData.height - hoset;
			if (pRatio) {
				that.size.width = that.size.height * that.aspectRatio;
			}
		}
	},

	stop: function(){
		var that = $(this).data("ui-resizable"),
			o = that.options,
			co = that.containerOffset,
			cop = that.containerPosition,
			ce = that.containerElement,
			helper = $(that.helper),
			ho = helper.offset(),
			w = helper.outerWidth() - that.sizeDiff.width,
			h = helper.outerHeight() - that.sizeDiff.height;

		if (that._helper && !o.animate && (/relative/).test(ce.css("position"))) {
			$(this).css({ left: ho.left - cop.left - co.left, width: w, height: h });
		}

		if (that._helper && !o.animate && (/static/).test(ce.css("position"))) {
			$(this).css({ left: ho.left - cop.left - co.left, width: w, height: h });
		}

	}
});

$.ui.plugin.add("resizable", "alsoResize", {

	start: function () {
		var that = $(this).data("ui-resizable"),
			o = that.options,
			_store = function (exp) {
				$(exp).each(function() {
					var el = $(this);
					el.data("ui-resizable-alsoresize", {
						width: parseInt(el.width(), 10), height: parseInt(el.height(), 10),
						left: parseInt(el.css("left"), 10), top: parseInt(el.css("top"), 10)
					});
				});
			};

		if (typeof(o.alsoResize) === "object" && !o.alsoResize.parentNode) {
			if (o.alsoResize.length) { o.alsoResize = o.alsoResize[0]; _store(o.alsoResize); }
			else { $.each(o.alsoResize, function (exp) { _store(exp); }); }
		}else{
			_store(o.alsoResize);
		}
	},

	resize: function (event, ui) {
		var that = $(this).data("ui-resizable"),
			o = that.options,
			os = that.originalSize,
			op = that.originalPosition,
			delta = {
				height: (that.size.height - os.height) || 0, width: (that.size.width - os.width) || 0,
				top: (that.position.top - op.top) || 0, left: (that.position.left - op.left) || 0
			},

			_alsoResize = function (exp, c) {
				$(exp).each(function() {
					var el = $(this), start = $(this).data("ui-resizable-alsoresize"), style = {},
						css = c && c.length ? c : el.parents(ui.originalElement[0]).length ? ["width", "height"] : ["width", "height", "top", "left"];

					$.each(css, function (i, prop) {
						var sum = (start[prop]||0) + (delta[prop]||0);
						if (sum && sum >= 0) {
							style[prop] = sum || null;
						}
					});

					el.css(style);
				});
			};

		if (typeof(o.alsoResize) === "object" && !o.alsoResize.nodeType) {
			$.each(o.alsoResize, function (exp, c) { _alsoResize(exp, c); });
		}else{
			_alsoResize(o.alsoResize);
		}
	},

	stop: function () {
		$(this).removeData("resizable-alsoresize");
	}
});

$.ui.plugin.add("resizable", "ghost", {

	start: function() {

		var that = $(this).data("ui-resizable"), o = that.options, cs = that.size;

		that.ghost = that.originalElement.clone();
		that.ghost
			.css({ opacity: 0.25, display: "block", position: "relative", height: cs.height, width: cs.width, margin: 0, left: 0, top: 0 })
			.addClass("ui-resizable-ghost")
			.addClass(typeof o.ghost === "string" ? o.ghost : "");

		that.ghost.appendTo(that.helper);

	},

	resize: function(){
		var that = $(this).data("ui-resizable");
		if (that.ghost) {
			that.ghost.css({ position: "relative", height: that.size.height, width: that.size.width });
		}
	},

	stop: function() {
		var that = $(this).data("ui-resizable");
		if (that.ghost && that.helper) {
			that.helper.get(0).removeChild(that.ghost.get(0));
		}
	}

});

$.ui.plugin.add("resizable", "grid", {

	resize: function() {
		var that = $(this).data("ui-resizable"),
			o = that.options,
			cs = that.size,
			os = that.originalSize,
			op = that.originalPosition,
			a = that.axis,
			grid = typeof o.grid === "number" ? [o.grid, o.grid] : o.grid,
			gridX = (grid[0]||1),
			gridY = (grid[1]||1),
			ox = Math.round((cs.width - os.width) / gridX) * gridX,
			oy = Math.round((cs.height - os.height) / gridY) * gridY,
			newWidth = os.width + ox,
			newHeight = os.height + oy,
			isMaxWidth = o.maxWidth && (o.maxWidth < newWidth),
			isMaxHeight = o.maxHeight && (o.maxHeight < newHeight),
			isMinWidth = o.minWidth && (o.minWidth > newWidth),
			isMinHeight = o.minHeight && (o.minHeight > newHeight);

		o.grid = grid;

		if (isMinWidth) {
			newWidth = newWidth + gridX;
		}
		if (isMinHeight) {
			newHeight = newHeight + gridY;
		}
		if (isMaxWidth) {
			newWidth = newWidth - gridX;
		}
		if (isMaxHeight) {
			newHeight = newHeight - gridY;
		}

		if (/^(se|s|e)$/.test(a)) {
			that.size.width = newWidth;
			that.size.height = newHeight;
		} else if (/^(ne)$/.test(a)) {
			that.size.width = newWidth;
			that.size.height = newHeight;
			that.position.top = op.top - oy;
		} else if (/^(sw)$/.test(a)) {
			that.size.width = newWidth;
			that.size.height = newHeight;
			that.position.left = op.left - ox;
		} else {
			that.size.width = newWidth;
			that.size.height = newHeight;
			that.position.top = op.top - oy;
			that.position.left = op.left - ox;
		}
	}

});

})(jQuery);

},{}],6:[function(require,module,exports){
/*!
 * jQuery UI Widget 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
(function( $, undefined ) {

var uuid = 0,
	slice = Array.prototype.slice,
	_cleanData = $.cleanData;
$.cleanData = function( elems ) {
	for ( var i = 0, elem; (elem = elems[i]) != null; i++ ) {
		try {
			$( elem ).triggerHandler( "remove" );
		// http://bugs.jquery.com/ticket/8235
		} catch( e ) {}
	}
	_cleanData( elems );
};

$.widget = function( name, base, prototype ) {
	var fullName, existingConstructor, constructor, basePrototype,
		// proxiedPrototype allows the provided prototype to remain unmodified
		// so that it can be used as a mixin for multiple widgets (#8876)
		proxiedPrototype = {},
		namespace = name.split( "." )[ 0 ];

	name = name.split( "." )[ 1 ];
	fullName = namespace + "-" + name;

	if ( !prototype ) {
		prototype = base;
		base = $.Widget;
	}

	// create selector for plugin
	$.expr[ ":" ][ fullName.toLowerCase() ] = function( elem ) {
		return !!$.data( elem, fullName );
	};

	$[ namespace ] = $[ namespace ] || {};
	existingConstructor = $[ namespace ][ name ];
	constructor = $[ namespace ][ name ] = function( options, element ) {
		// allow instantiation without "new" keyword
		if ( !this._createWidget ) {
			return new constructor( options, element );
		}

		// allow instantiation without initializing for simple inheritance
		// must use "new" keyword (the code above always passes args)
		if ( arguments.length ) {
			this._createWidget( options, element );
		}
	};
	// extend with the existing constructor to carry over any static properties
	$.extend( constructor, existingConstructor, {
		version: prototype.version,
		// copy the object used to create the prototype in case we need to
		// redefine the widget later
		_proto: $.extend( {}, prototype ),
		// track widgets that inherit from this widget in case this widget is
		// redefined after a widget inherits from it
		_childConstructors: []
	});

	basePrototype = new base();
	// we need to make the options hash a property directly on the new instance
	// otherwise we'll modify the options hash on the prototype that we're
	// inheriting from
	basePrototype.options = $.widget.extend( {}, basePrototype.options );
	$.each( prototype, function( prop, value ) {
		if ( !$.isFunction( value ) ) {
			proxiedPrototype[ prop ] = value;
			return;
		}
		proxiedPrototype[ prop ] = (function() {
			var _super = function() {
					return base.prototype[ prop ].apply( this, arguments );
				},
				_superApply = function( args ) {
					return base.prototype[ prop ].apply( this, args );
				};
			return function() {
				var __super = this._super,
					__superApply = this._superApply,
					returnValue;

				this._super = _super;
				this._superApply = _superApply;

				returnValue = value.apply( this, arguments );

				this._super = __super;
				this._superApply = __superApply;

				return returnValue;
			};
		})();
	});
	constructor.prototype = $.widget.extend( basePrototype, {
		// TODO: remove support for widgetEventPrefix
		// always use the name + a colon as the prefix, e.g., draggable:start
		// don't prefix for widgets that aren't DOM-based
		widgetEventPrefix: existingConstructor ? basePrototype.widgetEventPrefix : name
	}, proxiedPrototype, {
		constructor: constructor,
		namespace: namespace,
		widgetName: name,
		widgetFullName: fullName
	});

	// If this widget is being redefined then we need to find all widgets that
	// are inheriting from it and redefine all of them so that they inherit from
	// the new version of this widget. We're essentially trying to replace one
	// level in the prototype chain.
	if ( existingConstructor ) {
		$.each( existingConstructor._childConstructors, function( i, child ) {
			var childPrototype = child.prototype;

			// redefine the child widget using the same prototype that was
			// originally used, but inherit from the new version of the base
			$.widget( childPrototype.namespace + "." + childPrototype.widgetName, constructor, child._proto );
		});
		// remove the list of existing child constructors from the old constructor
		// so the old child constructors can be garbage collected
		delete existingConstructor._childConstructors;
	} else {
		base._childConstructors.push( constructor );
	}

	$.widget.bridge( name, constructor );
};

$.widget.extend = function( target ) {
	var input = slice.call( arguments, 1 ),
		inputIndex = 0,
		inputLength = input.length,
		key,
		value;
	for ( ; inputIndex < inputLength; inputIndex++ ) {
		for ( key in input[ inputIndex ] ) {
			value = input[ inputIndex ][ key ];
			if ( input[ inputIndex ].hasOwnProperty( key ) && value !== undefined ) {
				// Clone objects
				if ( $.isPlainObject( value ) ) {
					target[ key ] = $.isPlainObject( target[ key ] ) ?
						$.widget.extend( {}, target[ key ], value ) :
						// Don't extend strings, arrays, etc. with objects
						$.widget.extend( {}, value );
				// Copy everything else by reference
				} else {
					target[ key ] = value;
				}
			}
		}
	}
	return target;
};

$.widget.bridge = function( name, object ) {
	var fullName = object.prototype.widgetFullName || name;
	$.fn[ name ] = function( options ) {
		var isMethodCall = typeof options === "string",
			args = slice.call( arguments, 1 ),
			returnValue = this;

		// allow multiple hashes to be passed on init
		options = !isMethodCall && args.length ?
			$.widget.extend.apply( null, [ options ].concat(args) ) :
			options;

		if ( isMethodCall ) {
			this.each(function() {
				var methodValue,
					instance = $.data( this, fullName );
				if ( !instance ) {
					return $.error( "cannot call methods on " + name + " prior to initialization; " +
						"attempted to call method '" + options + "'" );
				}
				if ( !$.isFunction( instance[options] ) || options.charAt( 0 ) === "_" ) {
					return $.error( "no such method '" + options + "' for " + name + " widget instance" );
				}
				methodValue = instance[ options ].apply( instance, args );
				if ( methodValue !== instance && methodValue !== undefined ) {
					returnValue = methodValue && methodValue.jquery ?
						returnValue.pushStack( methodValue.get() ) :
						methodValue;
					return false;
				}
			});
		} else {
			this.each(function() {
				var instance = $.data( this, fullName );
				if ( instance ) {
					instance.option( options || {} )._init();
				} else {
					$.data( this, fullName, new object( options, this ) );
				}
			});
		}

		return returnValue;
	};
};

$.Widget = function( /* options, element */ ) {};
$.Widget._childConstructors = [];

$.Widget.prototype = {
	widgetName: "widget",
	widgetEventPrefix: "",
	defaultElement: "<div>",
	options: {
		disabled: false,

		// callbacks
		create: null
	},
	_createWidget: function( options, element ) {
		element = $( element || this.defaultElement || this )[ 0 ];
		this.element = $( element );
		this.uuid = uuid++;
		this.eventNamespace = "." + this.widgetName + this.uuid;
		this.options = $.widget.extend( {},
			this.options,
			this._getCreateOptions(),
			options );

		this.bindings = $();
		this.hoverable = $();
		this.focusable = $();

		if ( element !== this ) {
			$.data( element, this.widgetFullName, this );
			this._on( true, this.element, {
				remove: function( event ) {
					if ( event.target === element ) {
						this.destroy();
					}
				}
			});
			this.document = $( element.style ?
				// element within the document
				element.ownerDocument :
				// element is window or document
				element.document || element );
			this.window = $( this.document[0].defaultView || this.document[0].parentWindow );
		}

		this._create();
		this._trigger( "create", null, this._getCreateEventData() );
		this._init();
	},
	_getCreateOptions: $.noop,
	_getCreateEventData: $.noop,
	_create: $.noop,
	_init: $.noop,

	destroy: function() {
		this._destroy();
		// we can probably remove the unbind calls in 2.0
		// all event bindings should go through this._on()
		this.element
			.unbind( this.eventNamespace )
			// 1.9 BC for #7810
			// TODO remove dual storage
			.removeData( this.widgetName )
			.removeData( this.widgetFullName )
			// support: jquery <1.6.3
			// http://bugs.jquery.com/ticket/9413
			.removeData( $.camelCase( this.widgetFullName ) );
		this.widget()
			.unbind( this.eventNamespace )
			.removeAttr( "aria-disabled" )
			.removeClass(
				this.widgetFullName + "-disabled " +
				"ui-state-disabled" );

		// clean up events and states
		this.bindings.unbind( this.eventNamespace );
		this.hoverable.removeClass( "ui-state-hover" );
		this.focusable.removeClass( "ui-state-focus" );
	},
	_destroy: $.noop,

	widget: function() {
		return this.element;
	},

	option: function( key, value ) {
		var options = key,
			parts,
			curOption,
			i;

		if ( arguments.length === 0 ) {
			// don't return a reference to the internal hash
			return $.widget.extend( {}, this.options );
		}

		if ( typeof key === "string" ) {
			// handle nested keys, e.g., "foo.bar" => { foo: { bar: ___ } }
			options = {};
			parts = key.split( "." );
			key = parts.shift();
			if ( parts.length ) {
				curOption = options[ key ] = $.widget.extend( {}, this.options[ key ] );
				for ( i = 0; i < parts.length - 1; i++ ) {
					curOption[ parts[ i ] ] = curOption[ parts[ i ] ] || {};
					curOption = curOption[ parts[ i ] ];
				}
				key = parts.pop();
				if ( value === undefined ) {
					return curOption[ key ] === undefined ? null : curOption[ key ];
				}
				curOption[ key ] = value;
			} else {
				if ( value === undefined ) {
					return this.options[ key ] === undefined ? null : this.options[ key ];
				}
				options[ key ] = value;
			}
		}

		this._setOptions( options );

		return this;
	},
	_setOptions: function( options ) {
		var key;

		for ( key in options ) {
			this._setOption( key, options[ key ] );
		}

		return this;
	},
	_setOption: function( key, value ) {
		this.options[ key ] = value;

		if ( key === "disabled" ) {
			this.widget()
				.toggleClass( this.widgetFullName + "-disabled ui-state-disabled", !!value )
				.attr( "aria-disabled", value );
			this.hoverable.removeClass( "ui-state-hover" );
			this.focusable.removeClass( "ui-state-focus" );
		}

		return this;
	},

	enable: function() {
		return this._setOption( "disabled", false );
	},
	disable: function() {
		return this._setOption( "disabled", true );
	},

	_on: function( suppressDisabledCheck, element, handlers ) {
		var delegateElement,
			instance = this;

		// no suppressDisabledCheck flag, shuffle arguments
		if ( typeof suppressDisabledCheck !== "boolean" ) {
			handlers = element;
			element = suppressDisabledCheck;
			suppressDisabledCheck = false;
		}

		// no element argument, shuffle and use this.element
		if ( !handlers ) {
			handlers = element;
			element = this.element;
			delegateElement = this.widget();
		} else {
			// accept selectors, DOM elements
			element = delegateElement = $( element );
			this.bindings = this.bindings.add( element );
		}

		$.each( handlers, function( event, handler ) {
			function handlerProxy() {
				// allow widgets to customize the disabled handling
				// - disabled as an array instead of boolean
				// - disabled class as method for disabling individual parts
				if ( !suppressDisabledCheck &&
						( instance.options.disabled === true ||
							$( this ).hasClass( "ui-state-disabled" ) ) ) {
					return;
				}
				return ( typeof handler === "string" ? instance[ handler ] : handler )
					.apply( instance, arguments );
			}

			// copy the guid so direct unbinding works
			if ( typeof handler !== "string" ) {
				handlerProxy.guid = handler.guid =
					handler.guid || handlerProxy.guid || $.guid++;
			}

			var match = event.match( /^(\w+)\s*(.*)$/ ),
				eventName = match[1] + instance.eventNamespace,
				selector = match[2];
			if ( selector ) {
				delegateElement.delegate( selector, eventName, handlerProxy );
			} else {
				element.bind( eventName, handlerProxy );
			}
		});
	},

	_off: function( element, eventName ) {
		eventName = (eventName || "").split( " " ).join( this.eventNamespace + " " ) + this.eventNamespace;
		element.unbind( eventName ).undelegate( eventName );
	},

	_delay: function( handler, delay ) {
		function handlerProxy() {
			return ( typeof handler === "string" ? instance[ handler ] : handler )
				.apply( instance, arguments );
		}
		var instance = this;
		return setTimeout( handlerProxy, delay || 0 );
	},

	_hoverable: function( element ) {
		this.hoverable = this.hoverable.add( element );
		this._on( element, {
			mouseenter: function( event ) {
				$( event.currentTarget ).addClass( "ui-state-hover" );
			},
			mouseleave: function( event ) {
				$( event.currentTarget ).removeClass( "ui-state-hover" );
			}
		});
	},

	_focusable: function( element ) {
		this.focusable = this.focusable.add( element );
		this._on( element, {
			focusin: function( event ) {
				$( event.currentTarget ).addClass( "ui-state-focus" );
			},
			focusout: function( event ) {
				$( event.currentTarget ).removeClass( "ui-state-focus" );
			}
		});
	},

	_trigger: function( type, event, data ) {
		var prop, orig,
			callback = this.options[ type ];

		data = data || {};
		event = $.Event( event );
		event.type = ( type === this.widgetEventPrefix ?
			type :
			this.widgetEventPrefix + type ).toLowerCase();
		// the original event may come from any element
		// so we need to reset the target on the new event
		event.target = this.element[ 0 ];

		// copy original event properties over to the new event
		orig = event.originalEvent;
		if ( orig ) {
			for ( prop in orig ) {
				if ( !( prop in event ) ) {
					event[ prop ] = orig[ prop ];
				}
			}
		}

		this.element.trigger( event, data );
		return !( $.isFunction( callback ) &&
			callback.apply( this.element[0], [ event ].concat( data ) ) === false ||
			event.isDefaultPrevented() );
	}
};

$.each( { show: "fadeIn", hide: "fadeOut" }, function( method, defaultEffect ) {
	$.Widget.prototype[ "_" + method ] = function( element, options, callback ) {
		if ( typeof options === "string" ) {
			options = { effect: options };
		}
		var hasOptions,
			effectName = !options ?
				method :
				options === true || typeof options === "number" ?
					defaultEffect :
					options.effect || defaultEffect;
		options = options || {};
		if ( typeof options === "number" ) {
			options = { duration: options };
		}
		hasOptions = !$.isEmptyObject( options );
		options.complete = callback;
		if ( options.delay ) {
			element.delay( options.delay );
		}
		if ( hasOptions && $.effects && $.effects.effect[ effectName ] ) {
			element[ method ]( options );
		} else if ( effectName !== method && element[ effectName ] ) {
			element[ effectName ]( options.duration, options.easing, callback );
		} else {
			element.queue(function( next ) {
				$( this )[ method ]();
				if ( callback ) {
					callback.call( element[ 0 ] );
				}
				next();
			});
		}
	};
});

})( jQuery );

},{}],7:[function(require,module,exports){
require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
exports.readIEEE754 = function(buffer, offset, isBE, mLen, nBytes) {
  var e, m,
      eLen = nBytes * 8 - mLen - 1,
      eMax = (1 << eLen) - 1,
      eBias = eMax >> 1,
      nBits = -7,
      i = isBE ? 0 : (nBytes - 1),
      d = isBE ? 1 : -1,
      s = buffer[offset + i];

  i += d;

  e = s & ((1 << (-nBits)) - 1);
  s >>= (-nBits);
  nBits += eLen;
  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8);

  m = e & ((1 << (-nBits)) - 1);
  e >>= (-nBits);
  nBits += mLen;
  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8);

  if (e === 0) {
    e = 1 - eBias;
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity);
  } else {
    m = m + Math.pow(2, mLen);
    e = e - eBias;
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen);
};

exports.writeIEEE754 = function(buffer, value, offset, isBE, mLen, nBytes) {
  var e, m, c,
      eLen = nBytes * 8 - mLen - 1,
      eMax = (1 << eLen) - 1,
      eBias = eMax >> 1,
      rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0),
      i = isBE ? (nBytes - 1) : 0,
      d = isBE ? -1 : 1,
      s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0;

  value = Math.abs(value);

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0;
    e = eMax;
  } else {
    e = Math.floor(Math.log(value) / Math.LN2);
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--;
      c *= 2;
    }
    if (e + eBias >= 1) {
      value += rt / c;
    } else {
      value += rt * Math.pow(2, 1 - eBias);
    }
    if (value * c >= 2) {
      e++;
      c /= 2;
    }

    if (e + eBias >= eMax) {
      m = 0;
      e = eMax;
    } else if (e + eBias >= 1) {
      m = (value * c - 1) * Math.pow(2, mLen);
      e = e + eBias;
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);
      e = 0;
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8);

  e = (e << mLen) | m;
  eLen += mLen;
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8);

  buffer[offset + i - d] |= s * 128;
};

},{}],"q9TxCC":[function(require,module,exports){
var assert;
exports.Buffer = Buffer;
exports.SlowBuffer = Buffer;
Buffer.poolSize = 8192;
exports.INSPECT_MAX_BYTES = 50;

function stringtrim(str) {
  if (str.trim) return str.trim();
  return str.replace(/^\s+|\s+$/g, '');
}

function Buffer(subject, encoding, offset) {
  if(!assert) assert= require('assert');
  if (!(this instanceof Buffer)) {
    return new Buffer(subject, encoding, offset);
  }
  this.parent = this;
  this.offset = 0;

  // Work-around: node's base64 implementation
  // allows for non-padded strings while base64-js
  // does not..
  if (encoding == "base64" && typeof subject == "string") {
    subject = stringtrim(subject);
    while (subject.length % 4 != 0) {
      subject = subject + "="; 
    }
  }

  var type;

  // Are we slicing?
  if (typeof offset === 'number') {
    this.length = coerce(encoding);
    // slicing works, with limitations (no parent tracking/update)
    // check https://github.com/toots/buffer-browserify/issues/19
    for (var i = 0; i < this.length; i++) {
        this[i] = subject.get(i+offset);
    }
  } else {
    // Find the length
    switch (type = typeof subject) {
      case 'number':
        this.length = coerce(subject);
        break;

      case 'string':
        this.length = Buffer.byteLength(subject, encoding);
        break;

      case 'object': // Assume object is an array
        this.length = coerce(subject.length);
        break;

      default:
        throw new Error('First argument needs to be a number, ' +
                        'array or string.');
    }

    // Treat array-ish objects as a byte array.
    if (isArrayIsh(subject)) {
      for (var i = 0; i < this.length; i++) {
        if (subject instanceof Buffer) {
          this[i] = subject.readUInt8(i);
        }
        else {
          this[i] = subject[i];
        }
      }
    } else if (type == 'string') {
      // We are a string
      this.length = this.write(subject, 0, encoding);
    } else if (type === 'number') {
      for (var i = 0; i < this.length; i++) {
        this[i] = 0;
      }
    }
  }
}

Buffer.prototype.get = function get(i) {
  if (i < 0 || i >= this.length) throw new Error('oob');
  return this[i];
};

Buffer.prototype.set = function set(i, v) {
  if (i < 0 || i >= this.length) throw new Error('oob');
  return this[i] = v;
};

Buffer.byteLength = function (str, encoding) {
  switch (encoding || "utf8") {
    case 'hex':
      return str.length / 2;

    case 'utf8':
    case 'utf-8':
      return utf8ToBytes(str).length;

    case 'ascii':
    case 'binary':
      return str.length;

    case 'base64':
      return base64ToBytes(str).length;

    default:
      throw new Error('Unknown encoding');
  }
};

Buffer.prototype.utf8Write = function (string, offset, length) {
  var bytes, pos;
  return Buffer._charsWritten =  blitBuffer(utf8ToBytes(string), this, offset, length);
};

Buffer.prototype.asciiWrite = function (string, offset, length) {
  var bytes, pos;
  return Buffer._charsWritten =  blitBuffer(asciiToBytes(string), this, offset, length);
};

Buffer.prototype.binaryWrite = Buffer.prototype.asciiWrite;

Buffer.prototype.base64Write = function (string, offset, length) {
  var bytes, pos;
  return Buffer._charsWritten = blitBuffer(base64ToBytes(string), this, offset, length);
};

Buffer.prototype.base64Slice = function (start, end) {
  var bytes = Array.prototype.slice.apply(this, arguments)
  return require("base64-js").fromByteArray(bytes);
};

Buffer.prototype.utf8Slice = function () {
  var bytes = Array.prototype.slice.apply(this, arguments);
  var res = "";
  var tmp = "";
  var i = 0;
  while (i < bytes.length) {
    if (bytes[i] <= 0x7F) {
      res += decodeUtf8Char(tmp) + String.fromCharCode(bytes[i]);
      tmp = "";
    } else
      tmp += "%" + bytes[i].toString(16);

    i++;
  }

  return res + decodeUtf8Char(tmp);
}

Buffer.prototype.asciiSlice = function () {
  var bytes = Array.prototype.slice.apply(this, arguments);
  var ret = "";
  for (var i = 0; i < bytes.length; i++)
    ret += String.fromCharCode(bytes[i]);
  return ret;
}

Buffer.prototype.binarySlice = Buffer.prototype.asciiSlice;

Buffer.prototype.inspect = function() {
  var out = [],
      len = this.length;
  for (var i = 0; i < len; i++) {
    out[i] = toHex(this[i]);
    if (i == exports.INSPECT_MAX_BYTES) {
      out[i + 1] = '...';
      break;
    }
  }
  return '<Buffer ' + out.join(' ') + '>';
};


Buffer.prototype.hexSlice = function(start, end) {
  var len = this.length;

  if (!start || start < 0) start = 0;
  if (!end || end < 0 || end > len) end = len;

  var out = '';
  for (var i = start; i < end; i++) {
    out += toHex(this[i]);
  }
  return out;
};


Buffer.prototype.toString = function(encoding, start, end) {
  encoding = String(encoding || 'utf8').toLowerCase();
  start = +start || 0;
  if (typeof end == 'undefined') end = this.length;

  // Fastpath empty strings
  if (+end == start) {
    return '';
  }

  switch (encoding) {
    case 'hex':
      return this.hexSlice(start, end);

    case 'utf8':
    case 'utf-8':
      return this.utf8Slice(start, end);

    case 'ascii':
      return this.asciiSlice(start, end);

    case 'binary':
      return this.binarySlice(start, end);

    case 'base64':
      return this.base64Slice(start, end);

    case 'ucs2':
    case 'ucs-2':
      return this.ucs2Slice(start, end);

    default:
      throw new Error('Unknown encoding');
  }
};


Buffer.prototype.hexWrite = function(string, offset, length) {
  offset = +offset || 0;
  var remaining = this.length - offset;
  if (!length) {
    length = remaining;
  } else {
    length = +length;
    if (length > remaining) {
      length = remaining;
    }
  }

  // must be an even number of digits
  var strLen = string.length;
  if (strLen % 2) {
    throw new Error('Invalid hex string');
  }
  if (length > strLen / 2) {
    length = strLen / 2;
  }
  for (var i = 0; i < length; i++) {
    var byte = parseInt(string.substr(i * 2, 2), 16);
    if (isNaN(byte)) throw new Error('Invalid hex string');
    this[offset + i] = byte;
  }
  Buffer._charsWritten = i * 2;
  return i;
};


Buffer.prototype.write = function(string, offset, length, encoding) {
  // Support both (string, offset, length, encoding)
  // and the legacy (string, encoding, offset, length)
  if (isFinite(offset)) {
    if (!isFinite(length)) {
      encoding = length;
      length = undefined;
    }
  } else {  // legacy
    var swap = encoding;
    encoding = offset;
    offset = length;
    length = swap;
  }

  offset = +offset || 0;
  var remaining = this.length - offset;
  if (!length) {
    length = remaining;
  } else {
    length = +length;
    if (length > remaining) {
      length = remaining;
    }
  }
  encoding = String(encoding || 'utf8').toLowerCase();

  switch (encoding) {
    case 'hex':
      return this.hexWrite(string, offset, length);

    case 'utf8':
    case 'utf-8':
      return this.utf8Write(string, offset, length);

    case 'ascii':
      return this.asciiWrite(string, offset, length);

    case 'binary':
      return this.binaryWrite(string, offset, length);

    case 'base64':
      return this.base64Write(string, offset, length);

    case 'ucs2':
    case 'ucs-2':
      return this.ucs2Write(string, offset, length);

    default:
      throw new Error('Unknown encoding');
  }
};

// slice(start, end)
function clamp(index, len, defaultValue) {
  if (typeof index !== 'number') return defaultValue;
  index = ~~index;  // Coerce to integer.
  if (index >= len) return len;
  if (index >= 0) return index;
  index += len;
  if (index >= 0) return index;
  return 0;
}

Buffer.prototype.slice = function(start, end) {
  var len = this.length;
  start = clamp(start, len, 0);
  end = clamp(end, len, len);
  return new Buffer(this, end - start, +start);
};

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function(target, target_start, start, end) {
  var source = this;
  start || (start = 0);
  if (end === undefined || isNaN(end)) {
    end = this.length;
  }
  target_start || (target_start = 0);

  if (end < start) throw new Error('sourceEnd < sourceStart');

  // Copy 0 bytes; we're done
  if (end === start) return 0;
  if (target.length == 0 || source.length == 0) return 0;

  if (target_start < 0 || target_start >= target.length) {
    throw new Error('targetStart out of bounds');
  }

  if (start < 0 || start >= source.length) {
    throw new Error('sourceStart out of bounds');
  }

  if (end < 0 || end > source.length) {
    throw new Error('sourceEnd out of bounds');
  }

  // Are we oob?
  if (end > this.length) {
    end = this.length;
  }

  if (target.length - target_start < end - start) {
    end = target.length - target_start + start;
  }

  var temp = [];
  for (var i=start; i<end; i++) {
    assert.ok(typeof this[i] !== 'undefined', "copying undefined buffer bytes!");
    temp.push(this[i]);
  }

  for (var i=target_start; i<target_start+temp.length; i++) {
    target[i] = temp[i-target_start];
  }
};

// fill(value, start=0, end=buffer.length)
Buffer.prototype.fill = function fill(value, start, end) {
  value || (value = 0);
  start || (start = 0);
  end || (end = this.length);

  if (typeof value === 'string') {
    value = value.charCodeAt(0);
  }
  if (!(typeof value === 'number') || isNaN(value)) {
    throw new Error('value is not a number');
  }

  if (end < start) throw new Error('end < start');

  // Fill 0 bytes; we're done
  if (end === start) return 0;
  if (this.length == 0) return 0;

  if (start < 0 || start >= this.length) {
    throw new Error('start out of bounds');
  }

  if (end < 0 || end > this.length) {
    throw new Error('end out of bounds');
  }

  for (var i = start; i < end; i++) {
    this[i] = value;
  }
}

// Static methods
Buffer.isBuffer = function isBuffer(b) {
  return b instanceof Buffer || b instanceof Buffer;
};

Buffer.concat = function (list, totalLength) {
  if (!isArray(list)) {
    throw new Error("Usage: Buffer.concat(list, [totalLength])\n \
      list should be an Array.");
  }

  if (list.length === 0) {
    return new Buffer(0);
  } else if (list.length === 1) {
    return list[0];
  }

  if (typeof totalLength !== 'number') {
    totalLength = 0;
    for (var i = 0; i < list.length; i++) {
      var buf = list[i];
      totalLength += buf.length;
    }
  }

  var buffer = new Buffer(totalLength);
  var pos = 0;
  for (var i = 0; i < list.length; i++) {
    var buf = list[i];
    buf.copy(buffer, pos);
    pos += buf.length;
  }
  return buffer;
};

Buffer.isEncoding = function(encoding) {
  switch ((encoding + '').toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'binary':
    case 'base64':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
    case 'raw':
      return true;

    default:
      return false;
  }
};

// helpers

function coerce(length) {
  // Coerce length to a number (possibly NaN), round up
  // in case it's fractional (e.g. 123.456) then do a
  // double negate to coerce a NaN to 0. Easy, right?
  length = ~~Math.ceil(+length);
  return length < 0 ? 0 : length;
}

function isArray(subject) {
  return (Array.isArray ||
    function(subject){
      return {}.toString.apply(subject) == '[object Array]'
    })
    (subject)
}

function isArrayIsh(subject) {
  return isArray(subject) || Buffer.isBuffer(subject) ||
         subject && typeof subject === 'object' &&
         typeof subject.length === 'number';
}

function toHex(n) {
  if (n < 16) return '0' + n.toString(16);
  return n.toString(16);
}

function utf8ToBytes(str) {
  var byteArray = [];
  for (var i = 0; i < str.length; i++)
    if (str.charCodeAt(i) <= 0x7F)
      byteArray.push(str.charCodeAt(i));
    else {
      var h = encodeURIComponent(str.charAt(i)).substr(1).split('%');
      for (var j = 0; j < h.length; j++)
        byteArray.push(parseInt(h[j], 16));
    }

  return byteArray;
}

function asciiToBytes(str) {
  var byteArray = []
  for (var i = 0; i < str.length; i++ )
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push( str.charCodeAt(i) & 0xFF );

  return byteArray;
}

function base64ToBytes(str) {
  return require("base64-js").toByteArray(str);
}

function blitBuffer(src, dst, offset, length) {
  var pos, i = 0;
  while (i < length) {
    if ((i+offset >= dst.length) || (i >= src.length))
      break;

    dst[i + offset] = src[i];
    i++;
  }
  return i;
}

function decodeUtf8Char(str) {
  try {
    return decodeURIComponent(str);
  } catch (err) {
    return String.fromCharCode(0xFFFD); // UTF 8 invalid char
  }
}

// read/write bit-twiddling

Buffer.prototype.readUInt8 = function(offset, noAssert) {
  var buffer = this;

  if (!noAssert) {
    assert.ok(offset !== undefined && offset !== null,
        'missing offset');

    assert.ok(offset < buffer.length,
        'Trying to read beyond buffer length');
  }

  if (offset >= buffer.length) return;

  return buffer[offset];
};

function readUInt16(buffer, offset, isBigEndian, noAssert) {
  var val = 0;


  if (!noAssert) {
    assert.ok(typeof (isBigEndian) === 'boolean',
        'missing or invalid endian');

    assert.ok(offset !== undefined && offset !== null,
        'missing offset');

    assert.ok(offset + 1 < buffer.length,
        'Trying to read beyond buffer length');
  }

  if (offset >= buffer.length) return 0;

  if (isBigEndian) {
    val = buffer[offset] << 8;
    if (offset + 1 < buffer.length) {
      val |= buffer[offset + 1];
    }
  } else {
    val = buffer[offset];
    if (offset + 1 < buffer.length) {
      val |= buffer[offset + 1] << 8;
    }
  }

  return val;
}

Buffer.prototype.readUInt16LE = function(offset, noAssert) {
  return readUInt16(this, offset, false, noAssert);
};

Buffer.prototype.readUInt16BE = function(offset, noAssert) {
  return readUInt16(this, offset, true, noAssert);
};

function readUInt32(buffer, offset, isBigEndian, noAssert) {
  var val = 0;

  if (!noAssert) {
    assert.ok(typeof (isBigEndian) === 'boolean',
        'missing or invalid endian');

    assert.ok(offset !== undefined && offset !== null,
        'missing offset');

    assert.ok(offset + 3 < buffer.length,
        'Trying to read beyond buffer length');
  }

  if (offset >= buffer.length) return 0;

  if (isBigEndian) {
    if (offset + 1 < buffer.length)
      val = buffer[offset + 1] << 16;
    if (offset + 2 < buffer.length)
      val |= buffer[offset + 2] << 8;
    if (offset + 3 < buffer.length)
      val |= buffer[offset + 3];
    val = val + (buffer[offset] << 24 >>> 0);
  } else {
    if (offset + 2 < buffer.length)
      val = buffer[offset + 2] << 16;
    if (offset + 1 < buffer.length)
      val |= buffer[offset + 1] << 8;
    val |= buffer[offset];
    if (offset + 3 < buffer.length)
      val = val + (buffer[offset + 3] << 24 >>> 0);
  }

  return val;
}

Buffer.prototype.readUInt32LE = function(offset, noAssert) {
  return readUInt32(this, offset, false, noAssert);
};

Buffer.prototype.readUInt32BE = function(offset, noAssert) {
  return readUInt32(this, offset, true, noAssert);
};


/*
 * Signed integer types, yay team! A reminder on how two's complement actually
 * works. The first bit is the signed bit, i.e. tells us whether or not the
 * number should be positive or negative. If the two's complement value is
 * positive, then we're done, as it's equivalent to the unsigned representation.
 *
 * Now if the number is positive, you're pretty much done, you can just leverage
 * the unsigned translations and return those. Unfortunately, negative numbers
 * aren't quite that straightforward.
 *
 * At first glance, one might be inclined to use the traditional formula to
 * translate binary numbers between the positive and negative values in two's
 * complement. (Though it doesn't quite work for the most negative value)
 * Mainly:
 *  - invert all the bits
 *  - add one to the result
 *
 * Of course, this doesn't quite work in Javascript. Take for example the value
 * of -128. This could be represented in 16 bits (big-endian) as 0xff80. But of
 * course, Javascript will do the following:
 *
 * > ~0xff80
 * -65409
 *
 * Whoh there, Javascript, that's not quite right. But wait, according to
 * Javascript that's perfectly correct. When Javascript ends up seeing the
 * constant 0xff80, it has no notion that it is actually a signed number. It
 * assumes that we've input the unsigned value 0xff80. Thus, when it does the
 * binary negation, it casts it into a signed value, (positive 0xff80). Then
 * when you perform binary negation on that, it turns it into a negative number.
 *
 * Instead, we're going to have to use the following general formula, that works
 * in a rather Javascript friendly way. I'm glad we don't support this kind of
 * weird numbering scheme in the kernel.
 *
 * (BIT-MAX - (unsigned)val + 1) * -1
 *
 * The astute observer, may think that this doesn't make sense for 8-bit numbers
 * (really it isn't necessary for them). However, when you get 16-bit numbers,
 * you do. Let's go back to our prior example and see how this will look:
 *
 * (0xffff - 0xff80 + 1) * -1
 * (0x007f + 1) * -1
 * (0x0080) * -1
 */
Buffer.prototype.readInt8 = function(offset, noAssert) {
  var buffer = this;
  var neg;

  if (!noAssert) {
    assert.ok(offset !== undefined && offset !== null,
        'missing offset');

    assert.ok(offset < buffer.length,
        'Trying to read beyond buffer length');
  }

  if (offset >= buffer.length) return;

  neg = buffer[offset] & 0x80;
  if (!neg) {
    return (buffer[offset]);
  }

  return ((0xff - buffer[offset] + 1) * -1);
};

function readInt16(buffer, offset, isBigEndian, noAssert) {
  var neg, val;

  if (!noAssert) {
    assert.ok(typeof (isBigEndian) === 'boolean',
        'missing or invalid endian');

    assert.ok(offset !== undefined && offset !== null,
        'missing offset');

    assert.ok(offset + 1 < buffer.length,
        'Trying to read beyond buffer length');
  }

  val = readUInt16(buffer, offset, isBigEndian, noAssert);
  neg = val & 0x8000;
  if (!neg) {
    return val;
  }

  return (0xffff - val + 1) * -1;
}

Buffer.prototype.readInt16LE = function(offset, noAssert) {
  return readInt16(this, offset, false, noAssert);
};

Buffer.prototype.readInt16BE = function(offset, noAssert) {
  return readInt16(this, offset, true, noAssert);
};

function readInt32(buffer, offset, isBigEndian, noAssert) {
  var neg, val;

  if (!noAssert) {
    assert.ok(typeof (isBigEndian) === 'boolean',
        'missing or invalid endian');

    assert.ok(offset !== undefined && offset !== null,
        'missing offset');

    assert.ok(offset + 3 < buffer.length,
        'Trying to read beyond buffer length');
  }

  val = readUInt32(buffer, offset, isBigEndian, noAssert);
  neg = val & 0x80000000;
  if (!neg) {
    return (val);
  }

  return (0xffffffff - val + 1) * -1;
}

Buffer.prototype.readInt32LE = function(offset, noAssert) {
  return readInt32(this, offset, false, noAssert);
};

Buffer.prototype.readInt32BE = function(offset, noAssert) {
  return readInt32(this, offset, true, noAssert);
};

function readFloat(buffer, offset, isBigEndian, noAssert) {
  if (!noAssert) {
    assert.ok(typeof (isBigEndian) === 'boolean',
        'missing or invalid endian');

    assert.ok(offset + 3 < buffer.length,
        'Trying to read beyond buffer length');
  }

  return require('./buffer_ieee754').readIEEE754(buffer, offset, isBigEndian,
      23, 4);
}

Buffer.prototype.readFloatLE = function(offset, noAssert) {
  return readFloat(this, offset, false, noAssert);
};

Buffer.prototype.readFloatBE = function(offset, noAssert) {
  return readFloat(this, offset, true, noAssert);
};

function readDouble(buffer, offset, isBigEndian, noAssert) {
  if (!noAssert) {
    assert.ok(typeof (isBigEndian) === 'boolean',
        'missing or invalid endian');

    assert.ok(offset + 7 < buffer.length,
        'Trying to read beyond buffer length');
  }

  return require('./buffer_ieee754').readIEEE754(buffer, offset, isBigEndian,
      52, 8);
}

Buffer.prototype.readDoubleLE = function(offset, noAssert) {
  return readDouble(this, offset, false, noAssert);
};

Buffer.prototype.readDoubleBE = function(offset, noAssert) {
  return readDouble(this, offset, true, noAssert);
};


/*
 * We have to make sure that the value is a valid integer. This means that it is
 * non-negative. It has no fractional component and that it does not exceed the
 * maximum allowed value.
 *
 *      value           The number to check for validity
 *
 *      max             The maximum value
 */
function verifuint(value, max) {
  assert.ok(typeof (value) == 'number',
      'cannot write a non-number as a number');

  assert.ok(value >= 0,
      'specified a negative value for writing an unsigned value');

  assert.ok(value <= max, 'value is larger than maximum value for type');

  assert.ok(Math.floor(value) === value, 'value has a fractional component');
}

Buffer.prototype.writeUInt8 = function(value, offset, noAssert) {
  var buffer = this;

  if (!noAssert) {
    assert.ok(value !== undefined && value !== null,
        'missing value');

    assert.ok(offset !== undefined && offset !== null,
        'missing offset');

    assert.ok(offset < buffer.length,
        'trying to write beyond buffer length');

    verifuint(value, 0xff);
  }

  if (offset < buffer.length) {
    buffer[offset] = value;
  }
};

function writeUInt16(buffer, value, offset, isBigEndian, noAssert) {
  if (!noAssert) {
    assert.ok(value !== undefined && value !== null,
        'missing value');

    assert.ok(typeof (isBigEndian) === 'boolean',
        'missing or invalid endian');

    assert.ok(offset !== undefined && offset !== null,
        'missing offset');

    assert.ok(offset + 1 < buffer.length,
        'trying to write beyond buffer length');

    verifuint(value, 0xffff);
  }

  for (var i = 0; i < Math.min(buffer.length - offset, 2); i++) {
    buffer[offset + i] =
        (value & (0xff << (8 * (isBigEndian ? 1 - i : i)))) >>>
            (isBigEndian ? 1 - i : i) * 8;
  }

}

Buffer.prototype.writeUInt16LE = function(value, offset, noAssert) {
  writeUInt16(this, value, offset, false, noAssert);
};

Buffer.prototype.writeUInt16BE = function(value, offset, noAssert) {
  writeUInt16(this, value, offset, true, noAssert);
};

function writeUInt32(buffer, value, offset, isBigEndian, noAssert) {
  if (!noAssert) {
    assert.ok(value !== undefined && value !== null,
        'missing value');

    assert.ok(typeof (isBigEndian) === 'boolean',
        'missing or invalid endian');

    assert.ok(offset !== undefined && offset !== null,
        'missing offset');

    assert.ok(offset + 3 < buffer.length,
        'trying to write beyond buffer length');

    verifuint(value, 0xffffffff);
  }

  for (var i = 0; i < Math.min(buffer.length - offset, 4); i++) {
    buffer[offset + i] =
        (value >>> (isBigEndian ? 3 - i : i) * 8) & 0xff;
  }
}

Buffer.prototype.writeUInt32LE = function(value, offset, noAssert) {
  writeUInt32(this, value, offset, false, noAssert);
};

Buffer.prototype.writeUInt32BE = function(value, offset, noAssert) {
  writeUInt32(this, value, offset, true, noAssert);
};


/*
 * We now move onto our friends in the signed number category. Unlike unsigned
 * numbers, we're going to have to worry a bit more about how we put values into
 * arrays. Since we are only worrying about signed 32-bit values, we're in
 * slightly better shape. Unfortunately, we really can't do our favorite binary
 * & in this system. It really seems to do the wrong thing. For example:
 *
 * > -32 & 0xff
 * 224
 *
 * What's happening above is really: 0xe0 & 0xff = 0xe0. However, the results of
 * this aren't treated as a signed number. Ultimately a bad thing.
 *
 * What we're going to want to do is basically create the unsigned equivalent of
 * our representation and pass that off to the wuint* functions. To do that
 * we're going to do the following:
 *
 *  - if the value is positive
 *      we can pass it directly off to the equivalent wuint
 *  - if the value is negative
 *      we do the following computation:
 *         mb + val + 1, where
 *         mb   is the maximum unsigned value in that byte size
 *         val  is the Javascript negative integer
 *
 *
 * As a concrete value, take -128. In signed 16 bits this would be 0xff80. If
 * you do out the computations:
 *
 * 0xffff - 128 + 1
 * 0xffff - 127
 * 0xff80
 *
 * You can then encode this value as the signed version. This is really rather
 * hacky, but it should work and get the job done which is our goal here.
 */

/*
 * A series of checks to make sure we actually have a signed 32-bit number
 */
function verifsint(value, max, min) {
  assert.ok(typeof (value) == 'number',
      'cannot write a non-number as a number');

  assert.ok(value <= max, 'value larger than maximum allowed value');

  assert.ok(value >= min, 'value smaller than minimum allowed value');

  assert.ok(Math.floor(value) === value, 'value has a fractional component');
}

function verifIEEE754(value, max, min) {
  assert.ok(typeof (value) == 'number',
      'cannot write a non-number as a number');

  assert.ok(value <= max, 'value larger than maximum allowed value');

  assert.ok(value >= min, 'value smaller than minimum allowed value');
}

Buffer.prototype.writeInt8 = function(value, offset, noAssert) {
  var buffer = this;

  if (!noAssert) {
    assert.ok(value !== undefined && value !== null,
        'missing value');

    assert.ok(offset !== undefined && offset !== null,
        'missing offset');

    assert.ok(offset < buffer.length,
        'Trying to write beyond buffer length');

    verifsint(value, 0x7f, -0x80);
  }

  if (value >= 0) {
    buffer.writeUInt8(value, offset, noAssert);
  } else {
    buffer.writeUInt8(0xff + value + 1, offset, noAssert);
  }
};

function writeInt16(buffer, value, offset, isBigEndian, noAssert) {
  if (!noAssert) {
    assert.ok(value !== undefined && value !== null,
        'missing value');

    assert.ok(typeof (isBigEndian) === 'boolean',
        'missing or invalid endian');

    assert.ok(offset !== undefined && offset !== null,
        'missing offset');

    assert.ok(offset + 1 < buffer.length,
        'Trying to write beyond buffer length');

    verifsint(value, 0x7fff, -0x8000);
  }

  if (value >= 0) {
    writeUInt16(buffer, value, offset, isBigEndian, noAssert);
  } else {
    writeUInt16(buffer, 0xffff + value + 1, offset, isBigEndian, noAssert);
  }
}

Buffer.prototype.writeInt16LE = function(value, offset, noAssert) {
  writeInt16(this, value, offset, false, noAssert);
};

Buffer.prototype.writeInt16BE = function(value, offset, noAssert) {
  writeInt16(this, value, offset, true, noAssert);
};

function writeInt32(buffer, value, offset, isBigEndian, noAssert) {
  if (!noAssert) {
    assert.ok(value !== undefined && value !== null,
        'missing value');

    assert.ok(typeof (isBigEndian) === 'boolean',
        'missing or invalid endian');

    assert.ok(offset !== undefined && offset !== null,
        'missing offset');

    assert.ok(offset + 3 < buffer.length,
        'Trying to write beyond buffer length');

    verifsint(value, 0x7fffffff, -0x80000000);
  }

  if (value >= 0) {
    writeUInt32(buffer, value, offset, isBigEndian, noAssert);
  } else {
    writeUInt32(buffer, 0xffffffff + value + 1, offset, isBigEndian, noAssert);
  }
}

Buffer.prototype.writeInt32LE = function(value, offset, noAssert) {
  writeInt32(this, value, offset, false, noAssert);
};

Buffer.prototype.writeInt32BE = function(value, offset, noAssert) {
  writeInt32(this, value, offset, true, noAssert);
};

function writeFloat(buffer, value, offset, isBigEndian, noAssert) {
  if (!noAssert) {
    assert.ok(value !== undefined && value !== null,
        'missing value');

    assert.ok(typeof (isBigEndian) === 'boolean',
        'missing or invalid endian');

    assert.ok(offset !== undefined && offset !== null,
        'missing offset');

    assert.ok(offset + 3 < buffer.length,
        'Trying to write beyond buffer length');

    verifIEEE754(value, 3.4028234663852886e+38, -3.4028234663852886e+38);
  }

  require('./buffer_ieee754').writeIEEE754(buffer, value, offset, isBigEndian,
      23, 4);
}

Buffer.prototype.writeFloatLE = function(value, offset, noAssert) {
  writeFloat(this, value, offset, false, noAssert);
};

Buffer.prototype.writeFloatBE = function(value, offset, noAssert) {
  writeFloat(this, value, offset, true, noAssert);
};

function writeDouble(buffer, value, offset, isBigEndian, noAssert) {
  if (!noAssert) {
    assert.ok(value !== undefined && value !== null,
        'missing value');

    assert.ok(typeof (isBigEndian) === 'boolean',
        'missing or invalid endian');

    assert.ok(offset !== undefined && offset !== null,
        'missing offset');

    assert.ok(offset + 7 < buffer.length,
        'Trying to write beyond buffer length');

    verifIEEE754(value, 1.7976931348623157E+308, -1.7976931348623157E+308);
  }

  require('./buffer_ieee754').writeIEEE754(buffer, value, offset, isBigEndian,
      52, 8);
}

Buffer.prototype.writeDoubleLE = function(value, offset, noAssert) {
  writeDouble(this, value, offset, false, noAssert);
};

Buffer.prototype.writeDoubleBE = function(value, offset, noAssert) {
  writeDouble(this, value, offset, true, noAssert);
};

},{"./buffer_ieee754":1,"assert":6,"base64-js":4}],"buffer-browserify":[function(require,module,exports){
module.exports=require('q9TxCC');
},{}],4:[function(require,module,exports){
(function (exports) {
	'use strict';

	var lookup = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';

	function b64ToByteArray(b64) {
		var i, j, l, tmp, placeHolders, arr;
	
		if (b64.length % 4 > 0) {
			throw 'Invalid string. Length must be a multiple of 4';
		}

		// the number of equal signs (place holders)
		// if there are two placeholders, than the two characters before it
		// represent one byte
		// if there is only one, then the three characters before it represent 2 bytes
		// this is just a cheap hack to not do indexOf twice
		placeHolders = b64.indexOf('=');
		placeHolders = placeHolders > 0 ? b64.length - placeHolders : 0;

		// base64 is 4/3 + up to two characters of the original data
		arr = [];//new Uint8Array(b64.length * 3 / 4 - placeHolders);

		// if there are placeholders, only get up to the last complete 4 chars
		l = placeHolders > 0 ? b64.length - 4 : b64.length;

		for (i = 0, j = 0; i < l; i += 4, j += 3) {
			tmp = (lookup.indexOf(b64[i]) << 18) | (lookup.indexOf(b64[i + 1]) << 12) | (lookup.indexOf(b64[i + 2]) << 6) | lookup.indexOf(b64[i + 3]);
			arr.push((tmp & 0xFF0000) >> 16);
			arr.push((tmp & 0xFF00) >> 8);
			arr.push(tmp & 0xFF);
		}

		if (placeHolders === 2) {
			tmp = (lookup.indexOf(b64[i]) << 2) | (lookup.indexOf(b64[i + 1]) >> 4);
			arr.push(tmp & 0xFF);
		} else if (placeHolders === 1) {
			tmp = (lookup.indexOf(b64[i]) << 10) | (lookup.indexOf(b64[i + 1]) << 4) | (lookup.indexOf(b64[i + 2]) >> 2);
			arr.push((tmp >> 8) & 0xFF);
			arr.push(tmp & 0xFF);
		}

		return arr;
	}

	function uint8ToBase64(uint8) {
		var i,
			extraBytes = uint8.length % 3, // if we have 1 byte left, pad 2 bytes
			output = "",
			temp, length;

		function tripletToBase64 (num) {
			return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F];
		};

		// go through the array every three bytes, we'll deal with trailing stuff later
		for (i = 0, length = uint8.length - extraBytes; i < length; i += 3) {
			temp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2]);
			output += tripletToBase64(temp);
		}

		// pad the end with zeros, but make sure to not forget the extra bytes
		switch (extraBytes) {
			case 1:
				temp = uint8[uint8.length - 1];
				output += lookup[temp >> 2];
				output += lookup[(temp << 4) & 0x3F];
				output += '==';
				break;
			case 2:
				temp = (uint8[uint8.length - 2] << 8) + (uint8[uint8.length - 1]);
				output += lookup[temp >> 10];
				output += lookup[(temp >> 4) & 0x3F];
				output += lookup[(temp << 2) & 0x3F];
				output += '=';
				break;
		}

		return output;
	}

	module.exports.toByteArray = b64ToByteArray;
	module.exports.fromByteArray = uint8ToBase64;
}());

},{}],5:[function(require,module,exports){


//
// The shims in this file are not fully implemented shims for the ES5
// features, but do work for the particular usecases there is in
// the other modules.
//

var toString = Object.prototype.toString;
var hasOwnProperty = Object.prototype.hasOwnProperty;

// Array.isArray is supported in IE9
function isArray(xs) {
  return toString.call(xs) === '[object Array]';
}
exports.isArray = typeof Array.isArray === 'function' ? Array.isArray : isArray;

// Array.prototype.indexOf is supported in IE9
exports.indexOf = function indexOf(xs, x) {
  if (xs.indexOf) return xs.indexOf(x);
  for (var i = 0; i < xs.length; i++) {
    if (x === xs[i]) return i;
  }
  return -1;
};

// Array.prototype.filter is supported in IE9
exports.filter = function filter(xs, fn) {
  if (xs.filter) return xs.filter(fn);
  var res = [];
  for (var i = 0; i < xs.length; i++) {
    if (fn(xs[i], i, xs)) res.push(xs[i]);
  }
  return res;
};

// Array.prototype.forEach is supported in IE9
exports.forEach = function forEach(xs, fn, self) {
  if (xs.forEach) return xs.forEach(fn, self);
  for (var i = 0; i < xs.length; i++) {
    fn.call(self, xs[i], i, xs);
  }
};

// Array.prototype.map is supported in IE9
exports.map = function map(xs, fn) {
  if (xs.map) return xs.map(fn);
  var out = new Array(xs.length);
  for (var i = 0; i < xs.length; i++) {
    out[i] = fn(xs[i], i, xs);
  }
  return out;
};

// Array.prototype.reduce is supported in IE9
exports.reduce = function reduce(array, callback, opt_initialValue) {
  if (array.reduce) return array.reduce(callback, opt_initialValue);
  var value, isValueSet = false;

  if (2 < arguments.length) {
    value = opt_initialValue;
    isValueSet = true;
  }
  for (var i = 0, l = array.length; l > i; ++i) {
    if (array.hasOwnProperty(i)) {
      if (isValueSet) {
        value = callback(value, array[i], i, array);
      }
      else {
        value = array[i];
        isValueSet = true;
      }
    }
  }

  return value;
};

// String.prototype.substr - negative index don't work in IE8
if ('ab'.substr(-1) !== 'b') {
  exports.substr = function (str, start, length) {
    // did we get a negative start, calculate how much it is from the beginning of the string
    if (start < 0) start = str.length + start;

    // call the original function
    return str.substr(start, length);
  };
} else {
  exports.substr = function (str, start, length) {
    return str.substr(start, length);
  };
}

// String.prototype.trim is supported in IE9
exports.trim = function (str) {
  if (str.trim) return str.trim();
  return str.replace(/^\s+|\s+$/g, '');
};

// Function.prototype.bind is supported in IE9
exports.bind = function () {
  var args = Array.prototype.slice.call(arguments);
  var fn = args.shift();
  if (fn.bind) return fn.bind.apply(fn, args);
  var self = args.shift();
  return function () {
    fn.apply(self, args.concat([Array.prototype.slice.call(arguments)]));
  };
};

// Object.create is supported in IE9
function create(prototype, properties) {
  var object;
  if (prototype === null) {
    object = { '__proto__' : null };
  }
  else {
    if (typeof prototype !== 'object') {
      throw new TypeError(
        'typeof prototype[' + (typeof prototype) + '] != \'object\''
      );
    }
    var Type = function () {};
    Type.prototype = prototype;
    object = new Type();
    object.__proto__ = prototype;
  }
  if (typeof properties !== 'undefined' && Object.defineProperties) {
    Object.defineProperties(object, properties);
  }
  return object;
}
exports.create = typeof Object.create === 'function' ? Object.create : create;

// Object.keys and Object.getOwnPropertyNames is supported in IE9 however
// they do show a description and number property on Error objects
function notObject(object) {
  return ((typeof object != "object" && typeof object != "function") || object === null);
}

function keysShim(object) {
  if (notObject(object)) {
    throw new TypeError("Object.keys called on a non-object");
  }

  var result = [];
  for (var name in object) {
    if (hasOwnProperty.call(object, name)) {
      result.push(name);
    }
  }
  return result;
}

// getOwnPropertyNames is almost the same as Object.keys one key feature
//  is that it returns hidden properties, since that can't be implemented,
//  this feature gets reduced so it just shows the length property on arrays
function propertyShim(object) {
  if (notObject(object)) {
    throw new TypeError("Object.getOwnPropertyNames called on a non-object");
  }

  var result = keysShim(object);
  if (exports.isArray(object) && exports.indexOf(object, 'length') === -1) {
    result.push('length');
  }
  return result;
}

var keys = typeof Object.keys === 'function' ? Object.keys : keysShim;
var getOwnPropertyNames = typeof Object.getOwnPropertyNames === 'function' ?
  Object.getOwnPropertyNames : propertyShim;

if (new Error().hasOwnProperty('description')) {
  var ERROR_PROPERTY_FILTER = function (obj, array) {
    if (toString.call(obj) === '[object Error]') {
      array = exports.filter(array, function (name) {
        return name !== 'description' && name !== 'number' && name !== 'message';
      });
    }
    return array;
  };

  exports.keys = function (object) {
    return ERROR_PROPERTY_FILTER(object, keys(object));
  };
  exports.getOwnPropertyNames = function (object) {
    return ERROR_PROPERTY_FILTER(object, getOwnPropertyNames(object));
  };
} else {
  exports.keys = keys;
  exports.getOwnPropertyNames = getOwnPropertyNames;
}

// Object.getOwnPropertyDescriptor - supported in IE8 but only on dom elements
function valueObject(value, key) {
  return { value: value[key] };
}

if (typeof Object.getOwnPropertyDescriptor === 'function') {
  try {
    Object.getOwnPropertyDescriptor({'a': 1}, 'a');
    exports.getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
  } catch (e) {
    // IE8 dom element issue - use a try catch and default to valueObject
    exports.getOwnPropertyDescriptor = function (value, key) {
      try {
        return Object.getOwnPropertyDescriptor(value, key);
      } catch (e) {
        return valueObject(value, key);
      }
    };
  }
} else {
  exports.getOwnPropertyDescriptor = valueObject;
}

},{}],6:[function(require,module,exports){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

// UTILITY
var util = require('util');
var shims = require('_shims');
var pSlice = Array.prototype.slice;

// 1. The assert module provides functions that throw
// AssertionError's when particular conditions are not met. The
// assert module must conform to the following interface.

var assert = module.exports = ok;

// 2. The AssertionError is defined in assert.
// new assert.AssertionError({ message: message,
//                             actual: actual,
//                             expected: expected })

assert.AssertionError = function AssertionError(options) {
  this.name = 'AssertionError';
  this.actual = options.actual;
  this.expected = options.expected;
  this.operator = options.operator;
  this.message = options.message || getMessage(this);
};

// assert.AssertionError instanceof Error
util.inherits(assert.AssertionError, Error);

function replacer(key, value) {
  if (util.isUndefined(value)) {
    return '' + value;
  }
  if (util.isNumber(value) && (isNaN(value) || !isFinite(value))) {
    return value.toString();
  }
  if (util.isFunction(value) || util.isRegExp(value)) {
    return value.toString();
  }
  return value;
}

function truncate(s, n) {
  if (util.isString(s)) {
    return s.length < n ? s : s.slice(0, n);
  } else {
    return s;
  }
}

function getMessage(self) {
  return truncate(JSON.stringify(self.actual, replacer), 128) + ' ' +
         self.operator + ' ' +
         truncate(JSON.stringify(self.expected, replacer), 128);
}

// At present only the three keys mentioned above are used and
// understood by the spec. Implementations or sub modules can pass
// other keys to the AssertionError's constructor - they will be
// ignored.

// 3. All of the following functions must throw an AssertionError
// when a corresponding condition is not met, with a message that
// may be undefined if not provided.  All assertion methods provide
// both the actual and expected values to the assertion error for
// display purposes.

function fail(actual, expected, message, operator, stackStartFunction) {
  throw new assert.AssertionError({
    message: message,
    actual: actual,
    expected: expected,
    operator: operator,
    stackStartFunction: stackStartFunction
  });
}

// EXTENSION! allows for well behaved errors defined elsewhere.
assert.fail = fail;

// 4. Pure assertion tests whether a value is truthy, as determined
// by !!guard.
// assert.ok(guard, message_opt);
// This statement is equivalent to assert.equal(true, !!guard,
// message_opt);. To test strictly for the value true, use
// assert.strictEqual(true, guard, message_opt);.

function ok(value, message) {
  if (!value) fail(value, true, message, '==', assert.ok);
}
assert.ok = ok;

// 5. The equality assertion tests shallow, coercive equality with
// ==.
// assert.equal(actual, expected, message_opt);

assert.equal = function equal(actual, expected, message) {
  if (actual != expected) fail(actual, expected, message, '==', assert.equal);
};

// 6. The non-equality assertion tests for whether two objects are not equal
// with != assert.notEqual(actual, expected, message_opt);

assert.notEqual = function notEqual(actual, expected, message) {
  if (actual == expected) {
    fail(actual, expected, message, '!=', assert.notEqual);
  }
};

// 7. The equivalence assertion tests a deep equality relation.
// assert.deepEqual(actual, expected, message_opt);

assert.deepEqual = function deepEqual(actual, expected, message) {
  if (!_deepEqual(actual, expected)) {
    fail(actual, expected, message, 'deepEqual', assert.deepEqual);
  }
};

function _deepEqual(actual, expected) {
  // 7.1. All identical values are equivalent, as determined by ===.
  if (actual === expected) {
    return true;

  } else if (util.isBuffer(actual) && util.isBuffer(expected)) {
    if (actual.length != expected.length) return false;

    for (var i = 0; i < actual.length; i++) {
      if (actual[i] !== expected[i]) return false;
    }

    return true;

  // 7.2. If the expected value is a Date object, the actual value is
  // equivalent if it is also a Date object that refers to the same time.
  } else if (util.isDate(actual) && util.isDate(expected)) {
    return actual.getTime() === expected.getTime();

  // 7.3 If the expected value is a RegExp object, the actual value is
  // equivalent if it is also a RegExp object with the same source and
  // properties (`global`, `multiline`, `lastIndex`, `ignoreCase`).
  } else if (util.isRegExp(actual) && util.isRegExp(expected)) {
    return actual.source === expected.source &&
           actual.global === expected.global &&
           actual.multiline === expected.multiline &&
           actual.lastIndex === expected.lastIndex &&
           actual.ignoreCase === expected.ignoreCase;

  // 7.4. Other pairs that do not both pass typeof value == 'object',
  // equivalence is determined by ==.
  } else if (!util.isObject(actual) && !util.isObject(expected)) {
    return actual == expected;

  // 7.5 For all other Object pairs, including Array objects, equivalence is
  // determined by having the same number of owned properties (as verified
  // with Object.prototype.hasOwnProperty.call), the same set of keys
  // (although not necessarily the same order), equivalent values for every
  // corresponding key, and an identical 'prototype' property. Note: this
  // accounts for both named and indexed properties on Arrays.
  } else {
    return objEquiv(actual, expected);
  }
}

function isArguments(object) {
  return Object.prototype.toString.call(object) == '[object Arguments]';
}

function objEquiv(a, b) {
  if (util.isNullOrUndefined(a) || util.isNullOrUndefined(b))
    return false;
  // an identical 'prototype' property.
  if (a.prototype !== b.prototype) return false;
  //~~~I've managed to break Object.keys through screwy arguments passing.
  //   Converting to array solves the problem.
  if (isArguments(a)) {
    if (!isArguments(b)) {
      return false;
    }
    a = pSlice.call(a);
    b = pSlice.call(b);
    return _deepEqual(a, b);
  }
  try {
    var ka = shims.keys(a),
        kb = shims.keys(b),
        key, i;
  } catch (e) {//happens when one is a string literal and the other isn't
    return false;
  }
  // having the same number of owned properties (keys incorporates
  // hasOwnProperty)
  if (ka.length != kb.length)
    return false;
  //the same set of keys (although not necessarily the same order),
  ka.sort();
  kb.sort();
  //~~~cheap key test
  for (i = ka.length - 1; i >= 0; i--) {
    if (ka[i] != kb[i])
      return false;
  }
  //equivalent values for every corresponding key, and
  //~~~possibly expensive deep test
  for (i = ka.length - 1; i >= 0; i--) {
    key = ka[i];
    if (!_deepEqual(a[key], b[key])) return false;
  }
  return true;
}

// 8. The non-equivalence assertion tests for any deep inequality.
// assert.notDeepEqual(actual, expected, message_opt);

assert.notDeepEqual = function notDeepEqual(actual, expected, message) {
  if (_deepEqual(actual, expected)) {
    fail(actual, expected, message, 'notDeepEqual', assert.notDeepEqual);
  }
};

// 9. The strict equality assertion tests strict equality, as determined by ===.
// assert.strictEqual(actual, expected, message_opt);

assert.strictEqual = function strictEqual(actual, expected, message) {
  if (actual !== expected) {
    fail(actual, expected, message, '===', assert.strictEqual);
  }
};

// 10. The strict non-equality assertion tests for strict inequality, as
// determined by !==.  assert.notStrictEqual(actual, expected, message_opt);

assert.notStrictEqual = function notStrictEqual(actual, expected, message) {
  if (actual === expected) {
    fail(actual, expected, message, '!==', assert.notStrictEqual);
  }
};

function expectedException(actual, expected) {
  if (!actual || !expected) {
    return false;
  }

  if (Object.prototype.toString.call(expected) == '[object RegExp]') {
    return expected.test(actual);
  } else if (actual instanceof expected) {
    return true;
  } else if (expected.call({}, actual) === true) {
    return true;
  }

  return false;
}

function _throws(shouldThrow, block, expected, message) {
  var actual;

  if (util.isString(expected)) {
    message = expected;
    expected = null;
  }

  try {
    block();
  } catch (e) {
    actual = e;
  }

  message = (expected && expected.name ? ' (' + expected.name + ').' : '.') +
            (message ? ' ' + message : '.');

  if (shouldThrow && !actual) {
    fail(actual, expected, 'Missing expected exception' + message);
  }

  if (!shouldThrow && expectedException(actual, expected)) {
    fail(actual, expected, 'Got unwanted exception' + message);
  }

  if ((shouldThrow && actual && expected &&
      !expectedException(actual, expected)) || (!shouldThrow && actual)) {
    throw actual;
  }
}

// 11. Expected to throw an error:
// assert.throws(block, Error_opt, message_opt);

assert.throws = function(block, /*optional*/error, /*optional*/message) {
  _throws.apply(this, [true].concat(pSlice.call(arguments)));
};

// EXTENSION! This is annoying to write outside this module.
assert.doesNotThrow = function(block, /*optional*/message) {
  _throws.apply(this, [false].concat(pSlice.call(arguments)));
};

assert.ifError = function(err) { if (err) {throw err;}};
},{"_shims":5,"util":7}],7:[function(require,module,exports){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

var shims = require('_shims');

var formatRegExp = /%[sdj%]/g;
exports.format = function(f) {
  if (!isString(f)) {
    var objects = [];
    for (var i = 0; i < arguments.length; i++) {
      objects.push(inspect(arguments[i]));
    }
    return objects.join(' ');
  }

  var i = 1;
  var args = arguments;
  var len = args.length;
  var str = String(f).replace(formatRegExp, function(x) {
    if (x === '%%') return '%';
    if (i >= len) return x;
    switch (x) {
      case '%s': return String(args[i++]);
      case '%d': return Number(args[i++]);
      case '%j':
        try {
          return JSON.stringify(args[i++]);
        } catch (_) {
          return '[Circular]';
        }
      default:
        return x;
    }
  });
  for (var x = args[i]; i < len; x = args[++i]) {
    if (isNull(x) || !isObject(x)) {
      str += ' ' + x;
    } else {
      str += ' ' + inspect(x);
    }
  }
  return str;
};

/**
 * Echos the value of a value. Trys to print the value out
 * in the best way possible given the different types.
 *
 * @param {Object} obj The object to print out.
 * @param {Object} opts Optional options object that alters the output.
 */
/* legacy: obj, showHidden, depth, colors*/
function inspect(obj, opts) {
  // default options
  var ctx = {
    seen: [],
    stylize: stylizeNoColor
  };
  // legacy...
  if (arguments.length >= 3) ctx.depth = arguments[2];
  if (arguments.length >= 4) ctx.colors = arguments[3];
  if (isBoolean(opts)) {
    // legacy...
    ctx.showHidden = opts;
  } else if (opts) {
    // got an "options" object
    exports._extend(ctx, opts);
  }
  // set default options
  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;
  if (isUndefined(ctx.depth)) ctx.depth = 2;
  if (isUndefined(ctx.colors)) ctx.colors = false;
  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;
  if (ctx.colors) ctx.stylize = stylizeWithColor;
  return formatValue(ctx, obj, ctx.depth);
}
exports.inspect = inspect;


// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics
inspect.colors = {
  'bold' : [1, 22],
  'italic' : [3, 23],
  'underline' : [4, 24],
  'inverse' : [7, 27],
  'white' : [37, 39],
  'grey' : [90, 39],
  'black' : [30, 39],
  'blue' : [34, 39],
  'cyan' : [36, 39],
  'green' : [32, 39],
  'magenta' : [35, 39],
  'red' : [31, 39],
  'yellow' : [33, 39]
};

// Don't use 'blue' not visible on cmd.exe
inspect.styles = {
  'special': 'cyan',
  'number': 'yellow',
  'boolean': 'yellow',
  'undefined': 'grey',
  'null': 'bold',
  'string': 'green',
  'date': 'magenta',
  // "name": intentionally not styling
  'regexp': 'red'
};


function stylizeWithColor(str, styleType) {
  var style = inspect.styles[styleType];

  if (style) {
    return '\u001b[' + inspect.colors[style][0] + 'm' + str +
           '\u001b[' + inspect.colors[style][1] + 'm';
  } else {
    return str;
  }
}


function stylizeNoColor(str, styleType) {
  return str;
}


function arrayToHash(array) {
  var hash = {};

  shims.forEach(array, function(val, idx) {
    hash[val] = true;
  });

  return hash;
}


function formatValue(ctx, value, recurseTimes) {
  // Provide a hook for user-specified inspect functions.
  // Check that value is an object with an inspect function on it
  if (ctx.customInspect &&
      value &&
      isFunction(value.inspect) &&
      // Filter out the util module, it's inspect function is special
      value.inspect !== exports.inspect &&
      // Also filter out any prototype objects using the circular check.
      !(value.constructor && value.constructor.prototype === value)) {
    var ret = value.inspect(recurseTimes);
    if (!isString(ret)) {
      ret = formatValue(ctx, ret, recurseTimes);
    }
    return ret;
  }

  // Primitive types cannot have properties
  var primitive = formatPrimitive(ctx, value);
  if (primitive) {
    return primitive;
  }

  // Look up the keys of the object.
  var keys = shims.keys(value);
  var visibleKeys = arrayToHash(keys);

  if (ctx.showHidden) {
    keys = shims.getOwnPropertyNames(value);
  }

  // Some type of object without properties can be shortcutted.
  if (keys.length === 0) {
    if (isFunction(value)) {
      var name = value.name ? ': ' + value.name : '';
      return ctx.stylize('[Function' + name + ']', 'special');
    }
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    }
    if (isDate(value)) {
      return ctx.stylize(Date.prototype.toString.call(value), 'date');
    }
    if (isError(value)) {
      return formatError(value);
    }
  }

  var base = '', array = false, braces = ['{', '}'];

  // Make Array say that they are Array
  if (isArray(value)) {
    array = true;
    braces = ['[', ']'];
  }

  // Make functions say that they are functions
  if (isFunction(value)) {
    var n = value.name ? ': ' + value.name : '';
    base = ' [Function' + n + ']';
  }

  // Make RegExps say that they are RegExps
  if (isRegExp(value)) {
    base = ' ' + RegExp.prototype.toString.call(value);
  }

  // Make dates with properties first say the date
  if (isDate(value)) {
    base = ' ' + Date.prototype.toUTCString.call(value);
  }

  // Make error with message first say the error
  if (isError(value)) {
    base = ' ' + formatError(value);
  }

  if (keys.length === 0 && (!array || value.length == 0)) {
    return braces[0] + base + braces[1];
  }

  if (recurseTimes < 0) {
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    } else {
      return ctx.stylize('[Object]', 'special');
    }
  }

  ctx.seen.push(value);

  var output;
  if (array) {
    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);
  } else {
    output = keys.map(function(key) {
      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);
    });
  }

  ctx.seen.pop();

  return reduceToSingleString(output, base, braces);
}


function formatPrimitive(ctx, value) {
  if (isUndefined(value))
    return ctx.stylize('undefined', 'undefined');
  if (isString(value)) {
    var simple = '\'' + JSON.stringify(value).replace(/^"|"$/g, '')
                                             .replace(/'/g, "\\'")
                                             .replace(/\\"/g, '"') + '\'';
    return ctx.stylize(simple, 'string');
  }
  if (isNumber(value))
    return ctx.stylize('' + value, 'number');
  if (isBoolean(value))
    return ctx.stylize('' + value, 'boolean');
  // For some reason typeof null is "object", so special case here.
  if (isNull(value))
    return ctx.stylize('null', 'null');
}


function formatError(value) {
  return '[' + Error.prototype.toString.call(value) + ']';
}


function formatArray(ctx, value, recurseTimes, visibleKeys, keys) {
  var output = [];
  for (var i = 0, l = value.length; i < l; ++i) {
    if (hasOwnProperty(value, String(i))) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          String(i), true));
    } else {
      output.push('');
    }
  }

  shims.forEach(keys, function(key) {
    if (!key.match(/^\d+$/)) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          key, true));
    }
  });
  return output;
}


function formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {
  var name, str, desc;
  desc = shims.getOwnPropertyDescriptor(value, key) || { value: value[key] };
  if (desc.get) {
    if (desc.set) {
      str = ctx.stylize('[Getter/Setter]', 'special');
    } else {
      str = ctx.stylize('[Getter]', 'special');
    }
  } else {
    if (desc.set) {
      str = ctx.stylize('[Setter]', 'special');
    }
  }

  if (!hasOwnProperty(visibleKeys, key)) {
    name = '[' + key + ']';
  }
  if (!str) {
    if (shims.indexOf(ctx.seen, desc.value) < 0) {
      if (isNull(recurseTimes)) {
        str = formatValue(ctx, desc.value, null);
      } else {
        str = formatValue(ctx, desc.value, recurseTimes - 1);
      }
      if (str.indexOf('\n') > -1) {
        if (array) {
          str = str.split('\n').map(function(line) {
            return '  ' + line;
          }).join('\n').substr(2);
        } else {
          str = '\n' + str.split('\n').map(function(line) {
            return '   ' + line;
          }).join('\n');
        }
      }
    } else {
      str = ctx.stylize('[Circular]', 'special');
    }
  }
  if (isUndefined(name)) {
    if (array && key.match(/^\d+$/)) {
      return str;
    }
    name = JSON.stringify('' + key);
    if (name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)) {
      name = name.substr(1, name.length - 2);
      name = ctx.stylize(name, 'name');
    } else {
      name = name.replace(/'/g, "\\'")
                 .replace(/\\"/g, '"')
                 .replace(/(^"|"$)/g, "'");
      name = ctx.stylize(name, 'string');
    }
  }

  return name + ': ' + str;
}


function reduceToSingleString(output, base, braces) {
  var numLinesEst = 0;
  var length = shims.reduce(output, function(prev, cur) {
    numLinesEst++;
    if (cur.indexOf('\n') >= 0) numLinesEst++;
    return prev + cur.replace(/\u001b\[\d\d?m/g, '').length + 1;
  }, 0);

  if (length > 60) {
    return braces[0] +
           (base === '' ? '' : base + '\n ') +
           ' ' +
           output.join(',\n  ') +
           ' ' +
           braces[1];
  }

  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];
}


// NOTE: These type checking functions intentionally don't use `instanceof`
// because it is fragile and can be easily faked with `Object.create()`.
function isArray(ar) {
  return shims.isArray(ar);
}
exports.isArray = isArray;

function isBoolean(arg) {
  return typeof arg === 'boolean';
}
exports.isBoolean = isBoolean;

function isNull(arg) {
  return arg === null;
}
exports.isNull = isNull;

function isNullOrUndefined(arg) {
  return arg == null;
}
exports.isNullOrUndefined = isNullOrUndefined;

function isNumber(arg) {
  return typeof arg === 'number';
}
exports.isNumber = isNumber;

function isString(arg) {
  return typeof arg === 'string';
}
exports.isString = isString;

function isSymbol(arg) {
  return typeof arg === 'symbol';
}
exports.isSymbol = isSymbol;

function isUndefined(arg) {
  return arg === void 0;
}
exports.isUndefined = isUndefined;

function isRegExp(re) {
  return isObject(re) && objectToString(re) === '[object RegExp]';
}
exports.isRegExp = isRegExp;

function isObject(arg) {
  return typeof arg === 'object' && arg;
}
exports.isObject = isObject;

function isDate(d) {
  return isObject(d) && objectToString(d) === '[object Date]';
}
exports.isDate = isDate;

function isError(e) {
  return isObject(e) && objectToString(e) === '[object Error]';
}
exports.isError = isError;

function isFunction(arg) {
  return typeof arg === 'function';
}
exports.isFunction = isFunction;

function isPrimitive(arg) {
  return arg === null ||
         typeof arg === 'boolean' ||
         typeof arg === 'number' ||
         typeof arg === 'string' ||
         typeof arg === 'symbol' ||  // ES6 symbol
         typeof arg === 'undefined';
}
exports.isPrimitive = isPrimitive;

function isBuffer(arg) {
  return arg instanceof Buffer;
}
exports.isBuffer = isBuffer;

function objectToString(o) {
  return Object.prototype.toString.call(o);
}


function pad(n) {
  return n < 10 ? '0' + n.toString(10) : n.toString(10);
}


var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',
              'Oct', 'Nov', 'Dec'];

// 26 Feb 16:19:34
function timestamp() {
  var d = new Date();
  var time = [pad(d.getHours()),
              pad(d.getMinutes()),
              pad(d.getSeconds())].join(':');
  return [d.getDate(), months[d.getMonth()], time].join(' ');
}


// log is just a thin wrapper to console.log that prepends a timestamp
exports.log = function() {
  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));
};


/**
 * Inherit the prototype methods from one constructor into another.
 *
 * The Function.prototype.inherits from lang.js rewritten as a standalone
 * function (not on Function.prototype). NOTE: If this file is to be loaded
 * during bootstrapping this function needs to be rewritten using some native
 * functions as prototype setup using normal JavaScript does not work as
 * expected during bootstrapping (see mirror.js in r114903).
 *
 * @param {function} ctor Constructor function which needs to inherit the
 *     prototype.
 * @param {function} superCtor Constructor function to inherit prototype from.
 */
exports.inherits = function(ctor, superCtor) {
  ctor.super_ = superCtor;
  ctor.prototype = shims.create(superCtor.prototype, {
    constructor: {
      value: ctor,
      enumerable: false,
      writable: true,
      configurable: true
    }
  });
};

exports._extend = function(origin, add) {
  // Don't do anything if add isn't an object
  if (!add || !isObject(add)) return origin;

  var keys = shims.keys(add);
  var i = keys.length;
  while (i--) {
    origin[keys[i]] = add[keys[i]];
  }
  return origin;
};

function hasOwnProperty(obj, prop) {
  return Object.prototype.hasOwnProperty.call(obj, prop);
}

},{"_shims":5}]},{},[])
;;module.exports=require("buffer-browserify")

},{}],8:[function(require,module,exports){
// Uses Node, AMD or browser globals to create a module.

// If you want something that will work in other stricter CommonJS environments,
// or if you need to create a circular dependency, see commonJsStrict.js

// Defines a module "returnExports" that depends another module called "b".
// Note that the name of the module is implied by the file name. It is best
// if the file name and the exported global have matching names.

// If the 'b' module also uses this type of boilerplate, then
// in the browser, it will create a global .b that is used below.

// If you do not want to support the browser global path, then you
// can remove the `root` use and the passing `this` as the first arg to
// the top function.

(function (root, factory) {
    if (typeof exports === 'object') {
        // Node. Does not work with strict CommonJS, but
        // only CommonJS-like enviroments that support module.exports,
        // like Node.
        module.exports = factory();
    } else if (typeof define === 'function' && define.amd) {
        // AMD. Register as an anonymous module.
        define([], factory);
    } else {
        // Browser globals
        root.returnExports = factory();
    }
}(this, function () {/*!
 * jQuery JavaScript Library v1.8.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: Thu Aug 30 2012 17:17:22 GMT-0400 (Eastern Daylight Time)
 */
return (function( window, undefined ) {
var
	// A central reference to the root jQuery(document)
	rootjQuery,

	// The deferred used on DOM ready
	readyList,

	// Use the correct document accordingly with window argument (sandbox)
	document = window.document,
	location = window.location,
	navigator = window.navigator,

	// Map over jQuery in case of overwrite
	_jQuery = window.jQuery,

	// Map over the $ in case of overwrite
	_$ = window.$,

	// Save a reference to some core methods
	core_push = Array.prototype.push,
	core_slice = Array.prototype.slice,
	core_indexOf = Array.prototype.indexOf,
	core_toString = Object.prototype.toString,
	core_hasOwn = Object.prototype.hasOwnProperty,
	core_trim = String.prototype.trim,

	// Define a local copy of jQuery
	jQuery = function( selector, context ) {
		// The jQuery object is actually just the init constructor 'enhanced'
		return new jQuery.fn.init( selector, context, rootjQuery );
	},

	// Used for matching numbers
	core_pnum = /[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,

	// Used for detecting and trimming whitespace
	core_rnotwhite = /\S/,
	core_rspace = /\s+/,

	// Make sure we trim BOM and NBSP (here's looking at you, Safari 5.0 and IE)
	rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,

	// A simple way to check for HTML strings
	// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)
	rquickExpr = /^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,

	// Match a standalone tag
	rsingleTag = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,

	// JSON RegExp
	rvalidchars = /^[\],:{}\s]*$/,
	rvalidbraces = /(?:^|:|,)(?:\s*\[)+/g,
	rvalidescape = /\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,
	rvalidtokens = /"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,

	// Matches dashed string for camelizing
	rmsPrefix = /^-ms-/,
	rdashAlpha = /-([\da-z])/gi,

	// Used by jQuery.camelCase as callback to replace()
	fcamelCase = function( all, letter ) {
		return ( letter + "" ).toUpperCase();
	},

	// The ready event handler and self cleanup method
	DOMContentLoaded = function() {
		if ( document.addEventListener ) {
			document.removeEventListener( "DOMContentLoaded", DOMContentLoaded, false );
			jQuery.ready();
		} else if ( document.readyState === "complete" ) {
			// we're here because readyState === "complete" in oldIE
			// which is good enough for us to call the dom ready!
			document.detachEvent( "onreadystatechange", DOMContentLoaded );
			jQuery.ready();
		}
	},

	// [[Class]] -> type pairs
	class2type = {};

jQuery.fn = jQuery.prototype = {
	constructor: jQuery,
	init: function( selector, context, rootjQuery ) {
		var match, elem, ret, doc;

		// Handle $(""), $(null), $(undefined), $(false)
		if ( !selector ) {
			return this;
		}

		// Handle $(DOMElement)
		if ( selector.nodeType ) {
			this.context = this[0] = selector;
			this.length = 1;
			return this;
		}

		// Handle HTML strings
		if ( typeof selector === "string" ) {
			if ( selector.charAt(0) === "<" && selector.charAt( selector.length - 1 ) === ">" && selector.length >= 3 ) {
				// Assume that strings that start and end with <> are HTML and skip the regex check
				match = [ null, selector, null ];

			} else {
				match = rquickExpr.exec( selector );
			}

			// Match html or make sure no context is specified for #id
			if ( match && (match[1] || !context) ) {

				// HANDLE: $(html) -> $(array)
				if ( match[1] ) {
					context = context instanceof jQuery ? context[0] : context;
					doc = ( context && context.nodeType ? context.ownerDocument || context : document );

					// scripts is true for back-compat
					selector = jQuery.parseHTML( match[1], doc, true );
					if ( rsingleTag.test( match[1] ) && jQuery.isPlainObject( context ) ) {
						this.attr.call( selector, context, true );
					}

					return jQuery.merge( this, selector );

				// HANDLE: $(#id)
				} else {
					elem = document.getElementById( match[2] );

					// Check parentNode to catch when Blackberry 4.6 returns
					// nodes that are no longer in the document #6963
					if ( elem && elem.parentNode ) {
						// Handle the case where IE and Opera return items
						// by name instead of ID
						if ( elem.id !== match[2] ) {
							return rootjQuery.find( selector );
						}

						// Otherwise, we inject the element directly into the jQuery object
						this.length = 1;
						this[0] = elem;
					}

					this.context = document;
					this.selector = selector;
					return this;
				}

			// HANDLE: $(expr, $(...))
			} else if ( !context || context.jquery ) {
				return ( context || rootjQuery ).find( selector );

			// HANDLE: $(expr, context)
			// (which is just equivalent to: $(context).find(expr)
			} else {
				return this.constructor( context ).find( selector );
			}

		// HANDLE: $(function)
		// Shortcut for document ready
		} else if ( jQuery.isFunction( selector ) ) {
			return rootjQuery.ready( selector );
		}

		if ( selector.selector !== undefined ) {
			this.selector = selector.selector;
			this.context = selector.context;
		}

		return jQuery.makeArray( selector, this );
	},

	// Start with an empty selector
	selector: "",

	// The current version of jQuery being used
	jquery: "1.8.1",

	// The default length of a jQuery object is 0
	length: 0,

	// The number of elements contained in the matched element set
	size: function() {
		return this.length;
	},

	toArray: function() {
		return core_slice.call( this );
	},

	// Get the Nth element in the matched element set OR
	// Get the whole matched element set as a clean array
	get: function( num ) {
		return num == null ?

			// Return a 'clean' array
			this.toArray() :

			// Return just the object
			( num < 0 ? this[ this.length + num ] : this[ num ] );
	},

	// Take an array of elements and push it onto the stack
	// (returning the new matched element set)
	pushStack: function( elems, name, selector ) {

		// Build a new jQuery matched element set
		var ret = jQuery.merge( this.constructor(), elems );

		// Add the old object onto the stack (as a reference)
		ret.prevObject = this;

		ret.context = this.context;

		if ( name === "find" ) {
			ret.selector = this.selector + ( this.selector ? " " : "" ) + selector;
		} else if ( name ) {
			ret.selector = this.selector + "." + name + "(" + selector + ")";
		}

		// Return the newly-formed element set
		return ret;
	},

	// Execute a callback for every element in the matched set.
	// (You can seed the arguments with an array of args, but this is
	// only used internally.)
	each: function( callback, args ) {
		return jQuery.each( this, callback, args );
	},

	ready: function( fn ) {
		// Add the callback
		jQuery.ready.promise().done( fn );

		return this;
	},

	eq: function( i ) {
		i = +i;
		return i === -1 ?
			this.slice( i ) :
			this.slice( i, i + 1 );
	},

	first: function() {
		return this.eq( 0 );
	},

	last: function() {
		return this.eq( -1 );
	},

	slice: function() {
		return this.pushStack( core_slice.apply( this, arguments ),
			"slice", core_slice.call(arguments).join(",") );
	},

	map: function( callback ) {
		return this.pushStack( jQuery.map(this, function( elem, i ) {
			return callback.call( elem, i, elem );
		}));
	},

	end: function() {
		return this.prevObject || this.constructor(null);
	},

	// For internal use only.
	// Behaves like an Array's method, not like a jQuery method.
	push: core_push,
	sort: [].sort,
	splice: [].splice
};

// Give the init function the jQuery prototype for later instantiation
jQuery.fn.init.prototype = jQuery.fn;

jQuery.extend = jQuery.fn.extend = function() {
	var options, name, src, copy, copyIsArray, clone,
		target = arguments[0] || {},
		i = 1,
		length = arguments.length,
		deep = false;

	// Handle a deep copy situation
	if ( typeof target === "boolean" ) {
		deep = target;
		target = arguments[1] || {};
		// skip the boolean and the target
		i = 2;
	}

	// Handle case when target is a string or something (possible in deep copy)
	if ( typeof target !== "object" && !jQuery.isFunction(target) ) {
		target = {};
	}

	// extend jQuery itself if only one argument is passed
	if ( length === i ) {
		target = this;
		--i;
	}

	for ( ; i < length; i++ ) {
		// Only deal with non-null/undefined values
		if ( (options = arguments[ i ]) != null ) {
			// Extend the base object
			for ( name in options ) {
				src = target[ name ];
				copy = options[ name ];

				// Prevent never-ending loop
				if ( target === copy ) {
					continue;
				}

				// Recurse if we're merging plain objects or arrays
				if ( deep && copy && ( jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy)) ) ) {
					if ( copyIsArray ) {
						copyIsArray = false;
						clone = src && jQuery.isArray(src) ? src : [];

					} else {
						clone = src && jQuery.isPlainObject(src) ? src : {};
					}

					// Never move original objects, clone them
					target[ name ] = jQuery.extend( deep, clone, copy );

				// Don't bring in undefined values
				} else if ( copy !== undefined ) {
					target[ name ] = copy;
				}
			}
		}
	}

	// Return the modified object
	return target;
};

jQuery.extend({
	noConflict: function( deep ) {
		if ( window.$ === jQuery ) {
			window.$ = _$;
		}

		if ( deep && window.jQuery === jQuery ) {
			window.jQuery = _jQuery;
		}

		return jQuery;
	},

	// Is the DOM ready to be used? Set to true once it occurs.
	isReady: false,

	// A counter to track how many items to wait for before
	// the ready event fires. See #6781
	readyWait: 1,

	// Hold (or release) the ready event
	holdReady: function( hold ) {
		if ( hold ) {
			jQuery.readyWait++;
		} else {
			jQuery.ready( true );
		}
	},

	// Handle when the DOM is ready
	ready: function( wait ) {

		// Abort if there are pending holds or we're already ready
		if ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {
			return;
		}

		// Make sure body exists, at least, in case IE gets a little overzealous (ticket #5443).
		if ( !document.body ) {
			return setTimeout( jQuery.ready, 1 );
		}

		// Remember that the DOM is ready
		jQuery.isReady = true;

		// If a normal DOM Ready event fired, decrement, and wait if need be
		if ( wait !== true && --jQuery.readyWait > 0 ) {
			return;
		}

		// If there are functions bound, to execute
		readyList.resolveWith( document, [ jQuery ] );

		// Trigger any bound ready events
		if ( jQuery.fn.trigger ) {
			jQuery( document ).trigger("ready").off("ready");
		}
	},

	// See test/unit/core.js for details concerning isFunction.
	// Since version 1.3, DOM methods and functions like alert
	// aren't supported. They return false on IE (#2968).
	isFunction: function( obj ) {
		return jQuery.type(obj) === "function";
	},

	isArray: Array.isArray || function( obj ) {
		return jQuery.type(obj) === "array";
	},

	isWindow: function( obj ) {
		return obj != null && obj == obj.window;
	},

	isNumeric: function( obj ) {
		return !isNaN( parseFloat(obj) ) && isFinite( obj );
	},

	type: function( obj ) {
		return obj == null ?
			String( obj ) :
			class2type[ core_toString.call(obj) ] || "object";
	},

	isPlainObject: function( obj ) {
		// Must be an Object.
		// Because of IE, we also have to check the presence of the constructor property.
		// Make sure that DOM nodes and window objects don't pass through, as well
		if ( !obj || jQuery.type(obj) !== "object" || obj.nodeType || jQuery.isWindow( obj ) ) {
			return false;
		}

		try {
			// Not own constructor property must be Object
			if ( obj.constructor &&
				!core_hasOwn.call(obj, "constructor") &&
				!core_hasOwn.call(obj.constructor.prototype, "isPrototypeOf") ) {
				return false;
			}
		} catch ( e ) {
			// IE8,9 Will throw exceptions on certain host objects #9897
			return false;
		}

		// Own properties are enumerated firstly, so to speed up,
		// if last one is own, then all properties are own.

		var key;
		for ( key in obj ) {}

		return key === undefined || core_hasOwn.call( obj, key );
	},

	isEmptyObject: function( obj ) {
		var name;
		for ( name in obj ) {
			return false;
		}
		return true;
	},

	error: function( msg ) {
		throw new Error( msg );
	},

	// data: string of html
	// context (optional): If specified, the fragment will be created in this context, defaults to document
	// scripts (optional): If true, will include scripts passed in the html string
	parseHTML: function( data, context, scripts ) {
		var parsed;
		if ( !data || typeof data !== "string" ) {
			return null;
		}
		if ( typeof context === "boolean" ) {
			scripts = context;
			context = 0;
		}
		context = context || document;

		// Single tag
		if ( (parsed = rsingleTag.exec( data )) ) {
			return [ context.createElement( parsed[1] ) ];
		}

		parsed = jQuery.buildFragment( [ data ], context, scripts ? null : [] );
		return jQuery.merge( [],
			(parsed.cacheable ? jQuery.clone( parsed.fragment ) : parsed.fragment).childNodes );
	},

	parseJSON: function( data ) {
		if ( !data || typeof data !== "string") {
			return null;
		}

		// Make sure leading/trailing whitespace is removed (IE can't handle it)
		data = jQuery.trim( data );

		// Attempt to parse using the native JSON parser first
		if ( window.JSON && window.JSON.parse ) {
			return window.JSON.parse( data );
		}

		// Make sure the incoming data is actual JSON
		// Logic borrowed from http://json.org/json2.js
		if ( rvalidchars.test( data.replace( rvalidescape, "@" )
			.replace( rvalidtokens, "]" )
			.replace( rvalidbraces, "")) ) {

			return ( new Function( "return " + data ) )();

		}
		jQuery.error( "Invalid JSON: " + data );
	},

	// Cross-browser xml parsing
	parseXML: function( data ) {
		var xml, tmp;
		if ( !data || typeof data !== "string" ) {
			return null;
		}
		try {
			if ( window.DOMParser ) { // Standard
				tmp = new DOMParser();
				xml = tmp.parseFromString( data , "text/xml" );
			} else { // IE
				xml = new ActiveXObject( "Microsoft.XMLDOM" );
				xml.async = "false";
				xml.loadXML( data );
			}
		} catch( e ) {
			xml = undefined;
		}
		if ( !xml || !xml.documentElement || xml.getElementsByTagName( "parsererror" ).length ) {
			jQuery.error( "Invalid XML: " + data );
		}
		return xml;
	},

	noop: function() {},

	// Evaluates a script in a global context
	// Workarounds based on findings by Jim Driscoll
	// http://weblogs.java.net/blog/driscoll/archive/2009/09/08/eval-javascript-global-context
	globalEval: function( data ) {
		if ( data && core_rnotwhite.test( data ) ) {
			// We use execScript on Internet Explorer
			// We use an anonymous function so that context is window
			// rather than jQuery in Firefox
			( window.execScript || function( data ) {
				window[ "eval" ].call( window, data );
			} )( data );
		}
	},

	// Convert dashed to camelCase; used by the css and data modules
	// Microsoft forgot to hump their vendor prefix (#9572)
	camelCase: function( string ) {
		return string.replace( rmsPrefix, "ms-" ).replace( rdashAlpha, fcamelCase );
	},

	nodeName: function( elem, name ) {
		return elem.nodeName && elem.nodeName.toUpperCase() === name.toUpperCase();
	},

	// args is for internal usage only
	each: function( obj, callback, args ) {
		var name,
			i = 0,
			length = obj.length,
			isObj = length === undefined || jQuery.isFunction( obj );

		if ( args ) {
			if ( isObj ) {
				for ( name in obj ) {
					if ( callback.apply( obj[ name ], args ) === false ) {
						break;
					}
				}
			} else {
				for ( ; i < length; ) {
					if ( callback.apply( obj[ i++ ], args ) === false ) {
						break;
					}
				}
			}

		// A special, fast, case for the most common use of each
		} else {
			if ( isObj ) {
				for ( name in obj ) {
					if ( callback.call( obj[ name ], name, obj[ name ] ) === false ) {
						break;
					}
				}
			} else {
				for ( ; i < length; ) {
					if ( callback.call( obj[ i ], i, obj[ i++ ] ) === false ) {
						break;
					}
				}
			}
		}

		return obj;
	},

	// Use native String.trim function wherever possible
	trim: core_trim && !core_trim.call("\uFEFF\xA0") ?
		function( text ) {
			return text == null ?
				"" :
				core_trim.call( text );
		} :

		// Otherwise use our own trimming functionality
		function( text ) {
			return text == null ?
				"" :
				text.toString().replace( rtrim, "" );
		},

	// results is for internal usage only
	makeArray: function( arr, results ) {
		var type,
			ret = results || [];

		if ( arr != null ) {
			// The window, strings (and functions) also have 'length'
			// Tweaked logic slightly to handle Blackberry 4.7 RegExp issues #6930
			type = jQuery.type( arr );

			if ( arr.length == null || type === "string" || type === "function" || type === "regexp" || jQuery.isWindow( arr ) ) {
				core_push.call( ret, arr );
			} else {
				jQuery.merge( ret, arr );
			}
		}

		return ret;
	},

	inArray: function( elem, arr, i ) {
		var len;

		if ( arr ) {
			if ( core_indexOf ) {
				return core_indexOf.call( arr, elem, i );
			}

			len = arr.length;
			i = i ? i < 0 ? Math.max( 0, len + i ) : i : 0;

			for ( ; i < len; i++ ) {
				// Skip accessing in sparse arrays
				if ( i in arr && arr[ i ] === elem ) {
					return i;
				}
			}
		}

		return -1;
	},

	merge: function( first, second ) {
		var l = second.length,
			i = first.length,
			j = 0;

		if ( typeof l === "number" ) {
			for ( ; j < l; j++ ) {
				first[ i++ ] = second[ j ];
			}

		} else {
			while ( second[j] !== undefined ) {
				first[ i++ ] = second[ j++ ];
			}
		}

		first.length = i;

		return first;
	},

	grep: function( elems, callback, inv ) {
		var retVal,
			ret = [],
			i = 0,
			length = elems.length;
		inv = !!inv;

		// Go through the array, only saving the items
		// that pass the validator function
		for ( ; i < length; i++ ) {
			retVal = !!callback( elems[ i ], i );
			if ( inv !== retVal ) {
				ret.push( elems[ i ] );
			}
		}

		return ret;
	},

	// arg is for internal usage only
	map: function( elems, callback, arg ) {
		var value, key,
			ret = [],
			i = 0,
			length = elems.length,
			// jquery objects are treated as arrays
			isArray = elems instanceof jQuery || length !== undefined && typeof length === "number" && ( ( length > 0 && elems[ 0 ] && elems[ length -1 ] ) || length === 0 || jQuery.isArray( elems ) ) ;

		// Go through the array, translating each of the items to their
		if ( isArray ) {
			for ( ; i < length; i++ ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret[ ret.length ] = value;
				}
			}

		// Go through every key on the object,
		} else {
			for ( key in elems ) {
				value = callback( elems[ key ], key, arg );

				if ( value != null ) {
					ret[ ret.length ] = value;
				}
			}
		}

		// Flatten any nested arrays
		return ret.concat.apply( [], ret );
	},

	// A global GUID counter for objects
	guid: 1,

	// Bind a function to a context, optionally partially applying any
	// arguments.
	proxy: function( fn, context ) {
		var tmp, args, proxy;

		if ( typeof context === "string" ) {
			tmp = fn[ context ];
			context = fn;
			fn = tmp;
		}

		// Quick check to determine if target is callable, in the spec
		// this throws a TypeError, but we will just return undefined.
		if ( !jQuery.isFunction( fn ) ) {
			return undefined;
		}

		// Simulated bind
		args = core_slice.call( arguments, 2 );
		proxy = function() {
			return fn.apply( context, args.concat( core_slice.call( arguments ) ) );
		};

		// Set the guid of unique handler to the same of original handler, so it can be removed
		proxy.guid = fn.guid = fn.guid || proxy.guid || jQuery.guid++;

		return proxy;
	},

	// Multifunctional method to get and set values of a collection
	// The value/s can optionally be executed if it's a function
	access: function( elems, fn, key, value, chainable, emptyGet, pass ) {
		var exec,
			bulk = key == null,
			i = 0,
			length = elems.length;

		// Sets many values
		if ( key && typeof key === "object" ) {
			for ( i in key ) {
				jQuery.access( elems, fn, i, key[i], 1, emptyGet, value );
			}
			chainable = 1;

		// Sets one value
		} else if ( value !== undefined ) {
			// Optionally, function values get executed if exec is true
			exec = pass === undefined && jQuery.isFunction( value );

			if ( bulk ) {
				// Bulk operations only iterate when executing function values
				if ( exec ) {
					exec = fn;
					fn = function( elem, key, value ) {
						return exec.call( jQuery( elem ), value );
					};

				// Otherwise they run against the entire set
				} else {
					fn.call( elems, value );
					fn = null;
				}
			}

			if ( fn ) {
				for (; i < length; i++ ) {
					fn( elems[i], key, exec ? value.call( elems[i], i, fn( elems[i], key ) ) : value, pass );
				}
			}

			chainable = 1;
		}

		return chainable ?
			elems :

			// Gets
			bulk ?
				fn.call( elems ) :
				length ? fn( elems[0], key ) : emptyGet;
	},

	now: function() {
		return ( new Date() ).getTime();
	}
});

jQuery.ready.promise = function( obj ) {
	if ( !readyList ) {

		readyList = jQuery.Deferred();

		// Catch cases where $(document).ready() is called after the browser event has already occurred.
		// we once tried to use readyState "interactive" here, but it caused issues like the one
		// discovered by ChrisS here: http://bugs.jquery.com/ticket/12282#comment:15
		if ( document.readyState === "complete" ) {
			// Handle it asynchronously to allow scripts the opportunity to delay ready
			setTimeout( jQuery.ready, 1 );

		// Standards-based browsers support DOMContentLoaded
		} else if ( document.addEventListener ) {
			// Use the handy event callback
			document.addEventListener( "DOMContentLoaded", DOMContentLoaded, false );

			// A fallback to window.onload, that will always work
			window.addEventListener( "load", jQuery.ready, false );

		// If IE event model is used
		} else {
			// Ensure firing before onload, maybe late but safe also for iframes
			document.attachEvent( "onreadystatechange", DOMContentLoaded );

			// A fallback to window.onload, that will always work
			window.attachEvent( "onload", jQuery.ready );

			// If IE and not a frame
			// continually check to see if the document is ready
			var top = false;

			try {
				top = window.frameElement == null && document.documentElement;
			} catch(e) {}

			if ( top && top.doScroll ) {
				(function doScrollCheck() {
					if ( !jQuery.isReady ) {

						try {
							// Use the trick by Diego Perini
							// http://javascript.nwbox.com/IEContentLoaded/
							top.doScroll("left");
						} catch(e) {
							return setTimeout( doScrollCheck, 50 );
						}

						// and execute any waiting functions
						jQuery.ready();
					}
				})();
			}
		}
	}
	return readyList.promise( obj );
};

// Populate the class2type map
jQuery.each("Boolean Number String Function Array Date RegExp Object".split(" "), function(i, name) {
	class2type[ "[object " + name + "]" ] = name.toLowerCase();
});

// All jQuery objects should point back to these
rootjQuery = jQuery(document);
// String to Object options format cache
var optionsCache = {};

// Convert String-formatted options into Object-formatted ones and store in cache
function createOptions( options ) {
	var object = optionsCache[ options ] = {};
	jQuery.each( options.split( core_rspace ), function( _, flag ) {
		object[ flag ] = true;
	});
	return object;
}

/*
 * Create a callback list using the following parameters:
 *
 *	options: an optional list of space-separated options that will change how
 *			the callback list behaves or a more traditional option object
 *
 * By default a callback list will act like an event callback list and can be
 * "fired" multiple times.
 *
 * Possible options:
 *
 *	once:			will ensure the callback list can only be fired once (like a Deferred)
 *
 *	memory:			will keep track of previous values and will call any callback added
 *					after the list has been fired right away with the latest "memorized"
 *					values (like a Deferred)
 *
 *	unique:			will ensure a callback can only be added once (no duplicate in the list)
 *
 *	stopOnFalse:	interrupt callings when a callback returns false
 *
 */
jQuery.Callbacks = function( options ) {

	// Convert options from String-formatted to Object-formatted if needed
	// (we check in cache first)
	options = typeof options === "string" ?
		( optionsCache[ options ] || createOptions( options ) ) :
		jQuery.extend( {}, options );

	var // Last fire value (for non-forgettable lists)
		memory,
		// Flag to know if list was already fired
		fired,
		// Flag to know if list is currently firing
		firing,
		// First callback to fire (used internally by add and fireWith)
		firingStart,
		// End of the loop when firing
		firingLength,
		// Index of currently firing callback (modified by remove if needed)
		firingIndex,
		// Actual callback list
		list = [],
		// Stack of fire calls for repeatable lists
		stack = !options.once && [],
		// Fire callbacks
		fire = function( data ) {
			memory = options.memory && data;
			fired = true;
			firingIndex = firingStart || 0;
			firingStart = 0;
			firingLength = list.length;
			firing = true;
			for ( ; list && firingIndex < firingLength; firingIndex++ ) {
				if ( list[ firingIndex ].apply( data[ 0 ], data[ 1 ] ) === false && options.stopOnFalse ) {
					memory = false; // To prevent further calls using add
					break;
				}
			}
			firing = false;
			if ( list ) {
				if ( stack ) {
					if ( stack.length ) {
						fire( stack.shift() );
					}
				} else if ( memory ) {
					list = [];
				} else {
					self.disable();
				}
			}
		},
		// Actual Callbacks object
		self = {
			// Add a callback or a collection of callbacks to the list
			add: function() {
				if ( list ) {
					// First, we save the current length
					var start = list.length;
					(function add( args ) {
						jQuery.each( args, function( _, arg ) {
							var type = jQuery.type( arg );
							if ( type === "function" && ( !options.unique || !self.has( arg ) ) ) {
								list.push( arg );
							} else if ( arg && arg.length && type !== "string" ) {
								// Inspect recursively
								add( arg );
							}
						});
					})( arguments );
					// Do we need to add the callbacks to the
					// current firing batch?
					if ( firing ) {
						firingLength = list.length;
					// With memory, if we're not firing then
					// we should call right away
					} else if ( memory ) {
						firingStart = start;
						fire( memory );
					}
				}
				return this;
			},
			// Remove a callback from the list
			remove: function() {
				if ( list ) {
					jQuery.each( arguments, function( _, arg ) {
						var index;
						while( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {
							list.splice( index, 1 );
							// Handle firing indexes
							if ( firing ) {
								if ( index <= firingLength ) {
									firingLength--;
								}
								if ( index <= firingIndex ) {
									firingIndex--;
								}
							}
						}
					});
				}
				return this;
			},
			// Control if a given callback is in the list
			has: function( fn ) {
				return jQuery.inArray( fn, list ) > -1;
			},
			// Remove all callbacks from the list
			empty: function() {
				list = [];
				return this;
			},
			// Have the list do nothing anymore
			disable: function() {
				list = stack = memory = undefined;
				return this;
			},
			// Is it disabled?
			disabled: function() {
				return !list;
			},
			// Lock the list in its current state
			lock: function() {
				stack = undefined;
				if ( !memory ) {
					self.disable();
				}
				return this;
			},
			// Is it locked?
			locked: function() {
				return !stack;
			},
			// Call all callbacks with the given context and arguments
			fireWith: function( context, args ) {
				args = args || [];
				args = [ context, args.slice ? args.slice() : args ];
				if ( list && ( !fired || stack ) ) {
					if ( firing ) {
						stack.push( args );
					} else {
						fire( args );
					}
				}
				return this;
			},
			// Call all the callbacks with the given arguments
			fire: function() {
				self.fireWith( this, arguments );
				return this;
			},
			// To know if the callbacks have already been called at least once
			fired: function() {
				return !!fired;
			}
		};

	return self;
};
jQuery.extend({

	Deferred: function( func ) {
		var tuples = [
				// action, add listener, listener list, final state
				[ "resolve", "done", jQuery.Callbacks("once memory"), "resolved" ],
				[ "reject", "fail", jQuery.Callbacks("once memory"), "rejected" ],
				[ "notify", "progress", jQuery.Callbacks("memory") ]
			],
			state = "pending",
			promise = {
				state: function() {
					return state;
				},
				always: function() {
					deferred.done( arguments ).fail( arguments );
					return this;
				},
				then: function( /* fnDone, fnFail, fnProgress */ ) {
					var fns = arguments;
					return jQuery.Deferred(function( newDefer ) {
						jQuery.each( tuples, function( i, tuple ) {
							var action = tuple[ 0 ],
								fn = fns[ i ];
							// deferred[ done | fail | progress ] for forwarding actions to newDefer
							deferred[ tuple[1] ]( jQuery.isFunction( fn ) ?
								function() {
									var returned = fn.apply( this, arguments );
									if ( returned && jQuery.isFunction( returned.promise ) ) {
										returned.promise()
											.done( newDefer.resolve )
											.fail( newDefer.reject )
											.progress( newDefer.notify );
									} else {
										newDefer[ action + "With" ]( this === deferred ? newDefer : this, [ returned ] );
									}
								} :
								newDefer[ action ]
							);
						});
						fns = null;
					}).promise();
				},
				// Get a promise for this deferred
				// If obj is provided, the promise aspect is added to the object
				promise: function( obj ) {
					return typeof obj === "object" ? jQuery.extend( obj, promise ) : promise;
				}
			},
			deferred = {};

		// Keep pipe for back-compat
		promise.pipe = promise.then;

		// Add list-specific methods
		jQuery.each( tuples, function( i, tuple ) {
			var list = tuple[ 2 ],
				stateString = tuple[ 3 ];

			// promise[ done | fail | progress ] = list.add
			promise[ tuple[1] ] = list.add;

			// Handle state
			if ( stateString ) {
				list.add(function() {
					// state = [ resolved | rejected ]
					state = stateString;

				// [ reject_list | resolve_list ].disable; progress_list.lock
				}, tuples[ i ^ 1 ][ 2 ].disable, tuples[ 2 ][ 2 ].lock );
			}

			// deferred[ resolve | reject | notify ] = list.fire
			deferred[ tuple[0] ] = list.fire;
			deferred[ tuple[0] + "With" ] = list.fireWith;
		});

		// Make the deferred a promise
		promise.promise( deferred );

		// Call given func if any
		if ( func ) {
			func.call( deferred, deferred );
		}

		// All done!
		return deferred;
	},

	// Deferred helper
	when: function( subordinate /* , ..., subordinateN */ ) {
		var i = 0,
			resolveValues = core_slice.call( arguments ),
			length = resolveValues.length,

			// the count of uncompleted subordinates
			remaining = length !== 1 || ( subordinate && jQuery.isFunction( subordinate.promise ) ) ? length : 0,

			// the master Deferred. If resolveValues consist of only a single Deferred, just use that.
			deferred = remaining === 1 ? subordinate : jQuery.Deferred(),

			// Update function for both resolve and progress values
			updateFunc = function( i, contexts, values ) {
				return function( value ) {
					contexts[ i ] = this;
					values[ i ] = arguments.length > 1 ? core_slice.call( arguments ) : value;
					if( values === progressValues ) {
						deferred.notifyWith( contexts, values );
					} else if ( !( --remaining ) ) {
						deferred.resolveWith( contexts, values );
					}
				};
			},

			progressValues, progressContexts, resolveContexts;

		// add listeners to Deferred subordinates; treat others as resolved
		if ( length > 1 ) {
			progressValues = new Array( length );
			progressContexts = new Array( length );
			resolveContexts = new Array( length );
			for ( ; i < length; i++ ) {
				if ( resolveValues[ i ] && jQuery.isFunction( resolveValues[ i ].promise ) ) {
					resolveValues[ i ].promise()
						.done( updateFunc( i, resolveContexts, resolveValues ) )
						.fail( deferred.reject )
						.progress( updateFunc( i, progressContexts, progressValues ) );
				} else {
					--remaining;
				}
			}
		}

		// if we're not waiting on anything, resolve the master
		if ( !remaining ) {
			deferred.resolveWith( resolveContexts, resolveValues );
		}

		return deferred.promise();
	}
});
jQuery.support = (function() {

	var support,
		all,
		a,
		select,
		opt,
		input,
		fragment,
		eventName,
		i,
		isSupported,
		clickFn,
		div = document.createElement("div");

	// Preliminary tests
	div.setAttribute( "className", "t" );
	div.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";

	all = div.getElementsByTagName("*");
	a = div.getElementsByTagName("a")[ 0 ];
	a.style.cssText = "top:1px;float:left;opacity:.5";

	// Can't get basic test support
	if ( !all || !all.length || !a ) {
		return {};
	}

	// First batch of supports tests
	select = document.createElement("select");
	opt = select.appendChild( document.createElement("option") );
	input = div.getElementsByTagName("input")[ 0 ];

	support = {
		// IE strips leading whitespace when .innerHTML is used
		leadingWhitespace: ( div.firstChild.nodeType === 3 ),

		// Make sure that tbody elements aren't automatically inserted
		// IE will insert them into empty tables
		tbody: !div.getElementsByTagName("tbody").length,

		// Make sure that link elements get serialized correctly by innerHTML
		// This requires a wrapper element in IE
		htmlSerialize: !!div.getElementsByTagName("link").length,

		// Get the style information from getAttribute
		// (IE uses .cssText instead)
		style: /top/.test( a.getAttribute("style") ),

		// Make sure that URLs aren't manipulated
		// (IE normalizes it by default)
		hrefNormalized: ( a.getAttribute("href") === "/a" ),

		// Make sure that element opacity exists
		// (IE uses filter instead)
		// Use a regex to work around a WebKit issue. See #5145
		opacity: /^0.5/.test( a.style.opacity ),

		// Verify style float existence
		// (IE uses styleFloat instead of cssFloat)
		cssFloat: !!a.style.cssFloat,

		// Make sure that if no value is specified for a checkbox
		// that it defaults to "on".
		// (WebKit defaults to "" instead)
		checkOn: ( input.value === "on" ),

		// Make sure that a selected-by-default option has a working selected property.
		// (WebKit defaults to false instead of true, IE too, if it's in an optgroup)
		optSelected: opt.selected,

		// Test setAttribute on camelCase class. If it works, we need attrFixes when doing get/setAttribute (ie6/7)
		getSetAttribute: div.className !== "t",

		// Tests for enctype support on a form(#6743)
		enctype: !!document.createElement("form").enctype,

		// Makes sure cloning an html5 element does not cause problems
		// Where outerHTML is undefined, this still works
		html5Clone: document.createElement("nav").cloneNode( true ).outerHTML !== "<:nav></:nav>",

		// jQuery.support.boxModel DEPRECATED in 1.8 since we don't support Quirks Mode
		boxModel: ( document.compatMode === "CSS1Compat" ),

		// Will be defined later
		submitBubbles: true,
		changeBubbles: true,
		focusinBubbles: false,
		deleteExpando: true,
		noCloneEvent: true,
		inlineBlockNeedsLayout: false,
		shrinkWrapBlocks: false,
		reliableMarginRight: true,
		boxSizingReliable: true,
		pixelPosition: false
	};

	// Make sure checked status is properly cloned
	input.checked = true;
	support.noCloneChecked = input.cloneNode( true ).checked;

	// Make sure that the options inside disabled selects aren't marked as disabled
	// (WebKit marks them as disabled)
	select.disabled = true;
	support.optDisabled = !opt.disabled;

	// Test to see if it's possible to delete an expando from an element
	// Fails in Internet Explorer
	try {
		delete div.test;
	} catch( e ) {
		support.deleteExpando = false;
	}

	if ( !div.addEventListener && div.attachEvent && div.fireEvent ) {
		div.attachEvent( "onclick", clickFn = function() {
			// Cloning a node shouldn't copy over any
			// bound event handlers (IE does this)
			support.noCloneEvent = false;
		});
		div.cloneNode( true ).fireEvent("onclick");
		div.detachEvent( "onclick", clickFn );
	}

	// Check if a radio maintains its value
	// after being appended to the DOM
	input = document.createElement("input");
	input.value = "t";
	input.setAttribute( "type", "radio" );
	support.radioValue = input.value === "t";

	input.setAttribute( "checked", "checked" );

	// #11217 - WebKit loses check when the name is after the checked attribute
	input.setAttribute( "name", "t" );

	div.appendChild( input );
	fragment = document.createDocumentFragment();
	fragment.appendChild( div.lastChild );

	// WebKit doesn't clone checked state correctly in fragments
	support.checkClone = fragment.cloneNode( true ).cloneNode( true ).lastChild.checked;

	// Check if a disconnected checkbox will retain its checked
	// value of true after appended to the DOM (IE6/7)
	support.appendChecked = input.checked;

	fragment.removeChild( input );
	fragment.appendChild( div );

	// Technique from Juriy Zaytsev
	// http://perfectionkills.com/detecting-event-support-without-browser-sniffing/
	// We only care about the case where non-standard event systems
	// are used, namely in IE. Short-circuiting here helps us to
	// avoid an eval call (in setAttribute) which can cause CSP
	// to go haywire. See: https://developer.mozilla.org/en/Security/CSP
	if ( div.attachEvent ) {
		for ( i in {
			submit: true,
			change: true,
			focusin: true
		}) {
			eventName = "on" + i;
			isSupported = ( eventName in div );
			if ( !isSupported ) {
				div.setAttribute( eventName, "return;" );
				isSupported = ( typeof div[ eventName ] === "function" );
			}
			support[ i + "Bubbles" ] = isSupported;
		}
	}

	// Run tests that need a body at doc ready
	jQuery(function() {
		var container, div, tds, marginDiv,
			divReset = "padding:0;margin:0;border:0;display:block;overflow:hidden;",
			body = document.getElementsByTagName("body")[0];

		if ( !body ) {
			// Return for frameset docs that don't have a body
			return;
		}

		container = document.createElement("div");
		container.style.cssText = "visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px";
		body.insertBefore( container, body.firstChild );

		// Construct the test element
		div = document.createElement("div");
		container.appendChild( div );

		// Check if table cells still have offsetWidth/Height when they are set
		// to display:none and there are still other visible table cells in a
		// table row; if so, offsetWidth/Height are not reliable for use when
		// determining if an element has been hidden directly using
		// display:none (it is still safe to use offsets if a parent element is
		// hidden; don safety goggles and see bug #4512 for more information).
		// (only IE 8 fails this test)
		div.innerHTML = "<table><tr><td></td><td>t</td></tr></table>";
		tds = div.getElementsByTagName("td");
		tds[ 0 ].style.cssText = "padding:0;margin:0;border:0;display:none";
		isSupported = ( tds[ 0 ].offsetHeight === 0 );

		tds[ 0 ].style.display = "";
		tds[ 1 ].style.display = "none";

		// Check if empty table cells still have offsetWidth/Height
		// (IE <= 8 fail this test)
		support.reliableHiddenOffsets = isSupported && ( tds[ 0 ].offsetHeight === 0 );

		// Check box-sizing and margin behavior
		div.innerHTML = "";
		div.style.cssText = "box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";
		support.boxSizing = ( div.offsetWidth === 4 );
		support.doesNotIncludeMarginInBodyOffset = ( body.offsetTop !== 1 );

		// NOTE: To any future maintainer, we've window.getComputedStyle
		// because jsdom on node.js will break without it.
		if ( window.getComputedStyle ) {
			support.pixelPosition = ( window.getComputedStyle( div, null ) || {} ).top !== "1%";
			support.boxSizingReliable = ( window.getComputedStyle( div, null ) || { width: "4px" } ).width === "4px";

			// Check if div with explicit width and no margin-right incorrectly
			// gets computed margin-right based on width of container. For more
			// info see bug #3333
			// Fails in WebKit before Feb 2011 nightlies
			// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right
			marginDiv = document.createElement("div");
			marginDiv.style.cssText = div.style.cssText = divReset;
			marginDiv.style.marginRight = marginDiv.style.width = "0";
			div.style.width = "1px";
			div.appendChild( marginDiv );
			support.reliableMarginRight =
				!parseFloat( ( window.getComputedStyle( marginDiv, null ) || {} ).marginRight );
		}

		if ( typeof div.style.zoom !== "undefined" ) {
			// Check if natively block-level elements act like inline-block
			// elements when setting their display to 'inline' and giving
			// them layout
			// (IE < 8 does this)
			div.innerHTML = "";
			div.style.cssText = divReset + "width:1px;padding:1px;display:inline;zoom:1";
			support.inlineBlockNeedsLayout = ( div.offsetWidth === 3 );

			// Check if elements with layout shrink-wrap their children
			// (IE 6 does this)
			div.style.display = "block";
			div.style.overflow = "visible";
			div.innerHTML = "<div></div>";
			div.firstChild.style.width = "5px";
			support.shrinkWrapBlocks = ( div.offsetWidth !== 3 );

			container.style.zoom = 1;
		}

		// Null elements to avoid leaks in IE
		body.removeChild( container );
		container = div = tds = marginDiv = null;
	});

	// Null elements to avoid leaks in IE
	fragment.removeChild( div );
	all = a = select = opt = input = fragment = div = null;

	return support;
})();
var rbrace = /(?:\{[\s\S]*\}|\[[\s\S]*\])$/,
	rmultiDash = /([A-Z])/g;

jQuery.extend({
	cache: {},

	deletedIds: [],

	// Please use with caution
	uuid: 0,

	// Unique for each copy of jQuery on the page
	// Non-digits removed to match rinlinejQuery
	expando: "jQuery" + ( jQuery.fn.jquery + Math.random() ).replace( /\D/g, "" ),

	// The following elements throw uncatchable exceptions if you
	// attempt to add expando properties to them.
	noData: {
		"embed": true,
		// Ban all objects except for Flash (which handle expandos)
		"object": "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",
		"applet": true
	},

	hasData: function( elem ) {
		elem = elem.nodeType ? jQuery.cache[ elem[jQuery.expando] ] : elem[ jQuery.expando ];
		return !!elem && !isEmptyDataObject( elem );
	},

	data: function( elem, name, data, pvt /* Internal Use Only */ ) {
		if ( !jQuery.acceptData( elem ) ) {
			return;
		}

		var thisCache, ret,
			internalKey = jQuery.expando,
			getByName = typeof name === "string",

			// We have to handle DOM nodes and JS objects differently because IE6-7
			// can't GC object references properly across the DOM-JS boundary
			isNode = elem.nodeType,

			// Only DOM nodes need the global jQuery cache; JS object data is
			// attached directly to the object so GC can occur automatically
			cache = isNode ? jQuery.cache : elem,

			// Only defining an ID for JS objects if its cache already exists allows
			// the code to shortcut on the same path as a DOM node with no cache
			id = isNode ? elem[ internalKey ] : elem[ internalKey ] && internalKey;

		// Avoid doing any more work than we need to when trying to get data on an
		// object that has no data at all
		if ( (!id || !cache[id] || (!pvt && !cache[id].data)) && getByName && data === undefined ) {
			return;
		}

		if ( !id ) {
			// Only DOM nodes need a new unique ID for each element since their data
			// ends up in the global cache
			if ( isNode ) {
				elem[ internalKey ] = id = jQuery.deletedIds.pop() || ++jQuery.uuid;
			} else {
				id = internalKey;
			}
		}

		if ( !cache[ id ] ) {
			cache[ id ] = {};

			// Avoids exposing jQuery metadata on plain JS objects when the object
			// is serialized using JSON.stringify
			if ( !isNode ) {
				cache[ id ].toJSON = jQuery.noop;
			}
		}

		// An object can be passed to jQuery.data instead of a key/value pair; this gets
		// shallow copied over onto the existing cache
		if ( typeof name === "object" || typeof name === "function" ) {
			if ( pvt ) {
				cache[ id ] = jQuery.extend( cache[ id ], name );
			} else {
				cache[ id ].data = jQuery.extend( cache[ id ].data, name );
			}
		}

		thisCache = cache[ id ];

		// jQuery data() is stored in a separate object inside the object's internal data
		// cache in order to avoid key collisions between internal data and user-defined
		// data.
		if ( !pvt ) {
			if ( !thisCache.data ) {
				thisCache.data = {};
			}

			thisCache = thisCache.data;
		}

		if ( data !== undefined ) {
			thisCache[ jQuery.camelCase( name ) ] = data;
		}

		// Check for both converted-to-camel and non-converted data property names
		// If a data property was specified
		if ( getByName ) {

			// First Try to find as-is property data
			ret = thisCache[ name ];

			// Test for null|undefined property data
			if ( ret == null ) {

				// Try to find the camelCased property
				ret = thisCache[ jQuery.camelCase( name ) ];
			}
		} else {
			ret = thisCache;
		}

		return ret;
	},

	removeData: function( elem, name, pvt /* Internal Use Only */ ) {
		if ( !jQuery.acceptData( elem ) ) {
			return;
		}

		var thisCache, i, l,

			isNode = elem.nodeType,

			// See jQuery.data for more information
			cache = isNode ? jQuery.cache : elem,
			id = isNode ? elem[ jQuery.expando ] : jQuery.expando;

		// If there is already no cache entry for this object, there is no
		// purpose in continuing
		if ( !cache[ id ] ) {
			return;
		}

		if ( name ) {

			thisCache = pvt ? cache[ id ] : cache[ id ].data;

			if ( thisCache ) {

				// Support array or space separated string names for data keys
				if ( !jQuery.isArray( name ) ) {

					// try the string as a key before any manipulation
					if ( name in thisCache ) {
						name = [ name ];
					} else {

						// split the camel cased version by spaces unless a key with the spaces exists
						name = jQuery.camelCase( name );
						if ( name in thisCache ) {
							name = [ name ];
						} else {
							name = name.split(" ");
						}
					}
				}

				for ( i = 0, l = name.length; i < l; i++ ) {
					delete thisCache[ name[i] ];
				}

				// If there is no data left in the cache, we want to continue
				// and let the cache object itself get destroyed
				if ( !( pvt ? isEmptyDataObject : jQuery.isEmptyObject )( thisCache ) ) {
					return;
				}
			}
		}

		// See jQuery.data for more information
		if ( !pvt ) {
			delete cache[ id ].data;

			// Don't destroy the parent cache unless the internal data object
			// had been the only thing left in it
			if ( !isEmptyDataObject( cache[ id ] ) ) {
				return;
			}
		}

		// Destroy the cache
		if ( isNode ) {
			jQuery.cleanData( [ elem ], true );

		// Use delete when supported for expandos or `cache` is not a window per isWindow (#10080)
		} else if ( jQuery.support.deleteExpando || cache != cache.window ) {
			delete cache[ id ];

		// When all else fails, null
		} else {
			cache[ id ] = null;
		}
	},

	// For internal use only.
	_data: function( elem, name, data ) {
		return jQuery.data( elem, name, data, true );
	},

	// A method for determining if a DOM node can handle the data expando
	acceptData: function( elem ) {
		var noData = elem.nodeName && jQuery.noData[ elem.nodeName.toLowerCase() ];

		// nodes accept data unless otherwise specified; rejection can be conditional
		return !noData || noData !== true && elem.getAttribute("classid") === noData;
	}
});

jQuery.fn.extend({
	data: function( key, value ) {
		var parts, part, attr, name, l,
			elem = this[0],
			i = 0,
			data = null;

		// Gets all values
		if ( key === undefined ) {
			if ( this.length ) {
				data = jQuery.data( elem );

				if ( elem.nodeType === 1 && !jQuery._data( elem, "parsedAttrs" ) ) {
					attr = elem.attributes;
					for ( l = attr.length; i < l; i++ ) {
						name = attr[i].name;

						if ( name.indexOf( "data-" ) === 0 ) {
							name = jQuery.camelCase( name.substring(5) );

							dataAttr( elem, name, data[ name ] );
						}
					}
					jQuery._data( elem, "parsedAttrs", true );
				}
			}

			return data;
		}

		// Sets multiple values
		if ( typeof key === "object" ) {
			return this.each(function() {
				jQuery.data( this, key );
			});
		}

		parts = key.split( ".", 2 );
		parts[1] = parts[1] ? "." + parts[1] : "";
		part = parts[1] + "!";

		return jQuery.access( this, function( value ) {

			if ( value === undefined ) {
				data = this.triggerHandler( "getData" + part, [ parts[0] ] );

				// Try to fetch any internally stored data first
				if ( data === undefined && elem ) {
					data = jQuery.data( elem, key );
					data = dataAttr( elem, key, data );
				}

				return data === undefined && parts[1] ?
					this.data( parts[0] ) :
					data;
			}

			parts[1] = value;
			this.each(function() {
				var self = jQuery( this );

				self.triggerHandler( "setData" + part, parts );
				jQuery.data( this, key, value );
				self.triggerHandler( "changeData" + part, parts );
			});
		}, null, value, arguments.length > 1, null, false );
	},

	removeData: function( key ) {
		return this.each(function() {
			jQuery.removeData( this, key );
		});
	}
});

function dataAttr( elem, key, data ) {
	// If nothing was found internally, try to fetch any
	// data from the HTML5 data-* attribute
	if ( data === undefined && elem.nodeType === 1 ) {

		var name = "data-" + key.replace( rmultiDash, "-$1" ).toLowerCase();

		data = elem.getAttribute( name );

		if ( typeof data === "string" ) {
			try {
				data = data === "true" ? true :
				data === "false" ? false :
				data === "null" ? null :
				// Only convert to a number if it doesn't change the string
				+data + "" === data ? +data :
				rbrace.test( data ) ? jQuery.parseJSON( data ) :
					data;
			} catch( e ) {}

			// Make sure we set the data so it isn't changed later
			jQuery.data( elem, key, data );

		} else {
			data = undefined;
		}
	}

	return data;
}

// checks a cache object for emptiness
function isEmptyDataObject( obj ) {
	var name;
	for ( name in obj ) {

		// if the public data object is empty, the private is still empty
		if ( name === "data" && jQuery.isEmptyObject( obj[name] ) ) {
			continue;
		}
		if ( name !== "toJSON" ) {
			return false;
		}
	}

	return true;
}
jQuery.extend({
	queue: function( elem, type, data ) {
		var queue;

		if ( elem ) {
			type = ( type || "fx" ) + "queue";
			queue = jQuery._data( elem, type );

			// Speed up dequeue by getting out quickly if this is just a lookup
			if ( data ) {
				if ( !queue || jQuery.isArray(data) ) {
					queue = jQuery._data( elem, type, jQuery.makeArray(data) );
				} else {
					queue.push( data );
				}
			}
			return queue || [];
		}
	},

	dequeue: function( elem, type ) {
		type = type || "fx";

		var queue = jQuery.queue( elem, type ),
			startLength = queue.length,
			fn = queue.shift(),
			hooks = jQuery._queueHooks( elem, type ),
			next = function() {
				jQuery.dequeue( elem, type );
			};

		// If the fx queue is dequeued, always remove the progress sentinel
		if ( fn === "inprogress" ) {
			fn = queue.shift();
			startLength--;
		}

		if ( fn ) {

			// Add a progress sentinel to prevent the fx queue from being
			// automatically dequeued
			if ( type === "fx" ) {
				queue.unshift( "inprogress" );
			}

			// clear up the last queue stop function
			delete hooks.stop;
			fn.call( elem, next, hooks );
		}

		if ( !startLength && hooks ) {
			hooks.empty.fire();
		}
	},

	// not intended for public consumption - generates a queueHooks object, or returns the current one
	_queueHooks: function( elem, type ) {
		var key = type + "queueHooks";
		return jQuery._data( elem, key ) || jQuery._data( elem, key, {
			empty: jQuery.Callbacks("once memory").add(function() {
				jQuery.removeData( elem, type + "queue", true );
				jQuery.removeData( elem, key, true );
			})
		});
	}
});

jQuery.fn.extend({
	queue: function( type, data ) {
		var setter = 2;

		if ( typeof type !== "string" ) {
			data = type;
			type = "fx";
			setter--;
		}

		if ( arguments.length < setter ) {
			return jQuery.queue( this[0], type );
		}

		return data === undefined ?
			this :
			this.each(function() {
				var queue = jQuery.queue( this, type, data );

				// ensure a hooks for this queue
				jQuery._queueHooks( this, type );

				if ( type === "fx" && queue[0] !== "inprogress" ) {
					jQuery.dequeue( this, type );
				}
			});
	},
	dequeue: function( type ) {
		return this.each(function() {
			jQuery.dequeue( this, type );
		});
	},
	// Based off of the plugin by Clint Helfers, with permission.
	// http://blindsignals.com/index.php/2009/07/jquery-delay/
	delay: function( time, type ) {
		time = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;
		type = type || "fx";

		return this.queue( type, function( next, hooks ) {
			var timeout = setTimeout( next, time );
			hooks.stop = function() {
				clearTimeout( timeout );
			};
		});
	},
	clearQueue: function( type ) {
		return this.queue( type || "fx", [] );
	},
	// Get a promise resolved when queues of a certain type
	// are emptied (fx is the type by default)
	promise: function( type, obj ) {
		var tmp,
			count = 1,
			defer = jQuery.Deferred(),
			elements = this,
			i = this.length,
			resolve = function() {
				if ( !( --count ) ) {
					defer.resolveWith( elements, [ elements ] );
				}
			};

		if ( typeof type !== "string" ) {
			obj = type;
			type = undefined;
		}
		type = type || "fx";

		while( i-- ) {
			tmp = jQuery._data( elements[ i ], type + "queueHooks" );
			if ( tmp && tmp.empty ) {
				count++;
				tmp.empty.add( resolve );
			}
		}
		resolve();
		return defer.promise( obj );
	}
});
var nodeHook, boolHook, fixSpecified,
	rclass = /[\t\r\n]/g,
	rreturn = /\r/g,
	rtype = /^(?:button|input)$/i,
	rfocusable = /^(?:button|input|object|select|textarea)$/i,
	rclickable = /^a(?:rea|)$/i,
	rboolean = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
	getSetAttribute = jQuery.support.getSetAttribute;

jQuery.fn.extend({
	attr: function( name, value ) {
		return jQuery.access( this, jQuery.attr, name, value, arguments.length > 1 );
	},

	removeAttr: function( name ) {
		return this.each(function() {
			jQuery.removeAttr( this, name );
		});
	},

	prop: function( name, value ) {
		return jQuery.access( this, jQuery.prop, name, value, arguments.length > 1 );
	},

	removeProp: function( name ) {
		name = jQuery.propFix[ name ] || name;
		return this.each(function() {
			// try/catch handles cases where IE balks (such as removing a property on window)
			try {
				this[ name ] = undefined;
				delete this[ name ];
			} catch( e ) {}
		});
	},

	addClass: function( value ) {
		var classNames, i, l, elem,
			setClass, c, cl;

		if ( jQuery.isFunction( value ) ) {
			return this.each(function( j ) {
				jQuery( this ).addClass( value.call(this, j, this.className) );
			});
		}

		if ( value && typeof value === "string" ) {
			classNames = value.split( core_rspace );

			for ( i = 0, l = this.length; i < l; i++ ) {
				elem = this[ i ];

				if ( elem.nodeType === 1 ) {
					if ( !elem.className && classNames.length === 1 ) {
						elem.className = value;

					} else {
						setClass = " " + elem.className + " ";

						for ( c = 0, cl = classNames.length; c < cl; c++ ) {
							if ( !~setClass.indexOf( " " + classNames[ c ] + " " ) ) {
								setClass += classNames[ c ] + " ";
							}
						}
						elem.className = jQuery.trim( setClass );
					}
				}
			}
		}

		return this;
	},

	removeClass: function( value ) {
		var removes, className, elem, c, cl, i, l;

		if ( jQuery.isFunction( value ) ) {
			return this.each(function( j ) {
				jQuery( this ).removeClass( value.call(this, j, this.className) );
			});
		}
		if ( (value && typeof value === "string") || value === undefined ) {
			removes = ( value || "" ).split( core_rspace );

			for ( i = 0, l = this.length; i < l; i++ ) {
				elem = this[ i ];
				if ( elem.nodeType === 1 && elem.className ) {

					className = (" " + elem.className + " ").replace( rclass, " " );

					// loop over each item in the removal list
					for ( c = 0, cl = removes.length; c < cl; c++ ) {
						// Remove until there is nothing to remove,
						while ( className.indexOf(" " + removes[ c ] + " ") > -1 ) {
							className = className.replace( " " + removes[ c ] + " " , " " );
						}
					}
					elem.className = value ? jQuery.trim( className ) : "";
				}
			}
		}

		return this;
	},

	toggleClass: function( value, stateVal ) {
		var type = typeof value,
			isBool = typeof stateVal === "boolean";

		if ( jQuery.isFunction( value ) ) {
			return this.each(function( i ) {
				jQuery( this ).toggleClass( value.call(this, i, this.className, stateVal), stateVal );
			});
		}

		return this.each(function() {
			if ( type === "string" ) {
				// toggle individual class names
				var className,
					i = 0,
					self = jQuery( this ),
					state = stateVal,
					classNames = value.split( core_rspace );

				while ( (className = classNames[ i++ ]) ) {
					// check each className given, space separated list
					state = isBool ? state : !self.hasClass( className );
					self[ state ? "addClass" : "removeClass" ]( className );
				}

			} else if ( type === "undefined" || type === "boolean" ) {
				if ( this.className ) {
					// store className if set
					jQuery._data( this, "__className__", this.className );
				}

				// toggle whole className
				this.className = this.className || value === false ? "" : jQuery._data( this, "__className__" ) || "";
			}
		});
	},

	hasClass: function( selector ) {
		var className = " " + selector + " ",
			i = 0,
			l = this.length;
		for ( ; i < l; i++ ) {
			if ( this[i].nodeType === 1 && (" " + this[i].className + " ").replace(rclass, " ").indexOf( className ) > -1 ) {
				return true;
			}
		}

		return false;
	},

	val: function( value ) {
		var hooks, ret, isFunction,
			elem = this[0];

		if ( !arguments.length ) {
			if ( elem ) {
				hooks = jQuery.valHooks[ elem.type ] || jQuery.valHooks[ elem.nodeName.toLowerCase() ];

				if ( hooks && "get" in hooks && (ret = hooks.get( elem, "value" )) !== undefined ) {
					return ret;
				}

				ret = elem.value;

				return typeof ret === "string" ?
					// handle most common string cases
					ret.replace(rreturn, "") :
					// handle cases where value is null/undef or number
					ret == null ? "" : ret;
			}

			return;
		}

		isFunction = jQuery.isFunction( value );

		return this.each(function( i ) {
			var val,
				self = jQuery(this);

			if ( this.nodeType !== 1 ) {
				return;
			}

			if ( isFunction ) {
				val = value.call( this, i, self.val() );
			} else {
				val = value;
			}

			// Treat null/undefined as ""; convert numbers to string
			if ( val == null ) {
				val = "";
			} else if ( typeof val === "number" ) {
				val += "";
			} else if ( jQuery.isArray( val ) ) {
				val = jQuery.map(val, function ( value ) {
					return value == null ? "" : value + "";
				});
			}

			hooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];

			// If set returns undefined, fall back to normal setting
			if ( !hooks || !("set" in hooks) || hooks.set( this, val, "value" ) === undefined ) {
				this.value = val;
			}
		});
	}
});

jQuery.extend({
	valHooks: {
		option: {
			get: function( elem ) {
				// attributes.value is undefined in Blackberry 4.7 but
				// uses .value. See #6932
				var val = elem.attributes.value;
				return !val || val.specified ? elem.value : elem.text;
			}
		},
		select: {
			get: function( elem ) {
				var value, i, max, option,
					index = elem.selectedIndex,
					values = [],
					options = elem.options,
					one = elem.type === "select-one";

				// Nothing was selected
				if ( index < 0 ) {
					return null;
				}

				// Loop through all the selected options
				i = one ? index : 0;
				max = one ? index + 1 : options.length;
				for ( ; i < max; i++ ) {
					option = options[ i ];

					// Don't return options that are disabled or in a disabled optgroup
					if ( option.selected && (jQuery.support.optDisabled ? !option.disabled : option.getAttribute("disabled") === null) &&
							(!option.parentNode.disabled || !jQuery.nodeName( option.parentNode, "optgroup" )) ) {

						// Get the specific value for the option
						value = jQuery( option ).val();

						// We don't need an array for one selects
						if ( one ) {
							return value;
						}

						// Multi-Selects return an array
						values.push( value );
					}
				}

				// Fixes Bug #2551 -- select.val() broken in IE after form.reset()
				if ( one && !values.length && options.length ) {
					return jQuery( options[ index ] ).val();
				}

				return values;
			},

			set: function( elem, value ) {
				var values = jQuery.makeArray( value );

				jQuery(elem).find("option").each(function() {
					this.selected = jQuery.inArray( jQuery(this).val(), values ) >= 0;
				});

				if ( !values.length ) {
					elem.selectedIndex = -1;
				}
				return values;
			}
		}
	},

	// Unused in 1.8, left in so attrFn-stabbers won't die; remove in 1.9
	attrFn: {},

	attr: function( elem, name, value, pass ) {
		var ret, hooks, notxml,
			nType = elem.nodeType;

		// don't get/set attributes on text, comment and attribute nodes
		if ( !elem || nType === 3 || nType === 8 || nType === 2 ) {
			return;
		}

		if ( pass && jQuery.isFunction( jQuery.fn[ name ] ) ) {
			return jQuery( elem )[ name ]( value );
		}

		// Fallback to prop when attributes are not supported
		if ( typeof elem.getAttribute === "undefined" ) {
			return jQuery.prop( elem, name, value );
		}

		notxml = nType !== 1 || !jQuery.isXMLDoc( elem );

		// All attributes are lowercase
		// Grab necessary hook if one is defined
		if ( notxml ) {
			name = name.toLowerCase();
			hooks = jQuery.attrHooks[ name ] || ( rboolean.test( name ) ? boolHook : nodeHook );
		}

		if ( value !== undefined ) {

			if ( value === null ) {
				jQuery.removeAttr( elem, name );
				return;

			} else if ( hooks && "set" in hooks && notxml && (ret = hooks.set( elem, value, name )) !== undefined ) {
				return ret;

			} else {
				elem.setAttribute( name, "" + value );
				return value;
			}

		} else if ( hooks && "get" in hooks && notxml && (ret = hooks.get( elem, name )) !== null ) {
			return ret;

		} else {

			ret = elem.getAttribute( name );

			// Non-existent attributes return null, we normalize to undefined
			return ret === null ?
				undefined :
				ret;
		}
	},

	removeAttr: function( elem, value ) {
		var propName, attrNames, name, isBool,
			i = 0;

		if ( value && elem.nodeType === 1 ) {

			attrNames = value.split( core_rspace );

			for ( ; i < attrNames.length; i++ ) {
				name = attrNames[ i ];

				if ( name ) {
					propName = jQuery.propFix[ name ] || name;
					isBool = rboolean.test( name );

					// See #9699 for explanation of this approach (setting first, then removal)
					// Do not do this for boolean attributes (see #10870)
					if ( !isBool ) {
						jQuery.attr( elem, name, "" );
					}
					elem.removeAttribute( getSetAttribute ? name : propName );

					// Set corresponding property to false for boolean attributes
					if ( isBool && propName in elem ) {
						elem[ propName ] = false;
					}
				}
			}
		}
	},

	attrHooks: {
		type: {
			set: function( elem, value ) {
				// We can't allow the type property to be changed (since it causes problems in IE)
				if ( rtype.test( elem.nodeName ) && elem.parentNode ) {
					jQuery.error( "type property can't be changed" );
				} else if ( !jQuery.support.radioValue && value === "radio" && jQuery.nodeName(elem, "input") ) {
					// Setting the type on a radio button after the value resets the value in IE6-9
					// Reset value to it's default in case type is set after value
					// This is for element creation
					var val = elem.value;
					elem.setAttribute( "type", value );
					if ( val ) {
						elem.value = val;
					}
					return value;
				}
			}
		},
		// Use the value property for back compat
		// Use the nodeHook for button elements in IE6/7 (#1954)
		value: {
			get: function( elem, name ) {
				if ( nodeHook && jQuery.nodeName( elem, "button" ) ) {
					return nodeHook.get( elem, name );
				}
				return name in elem ?
					elem.value :
					null;
			},
			set: function( elem, value, name ) {
				if ( nodeHook && jQuery.nodeName( elem, "button" ) ) {
					return nodeHook.set( elem, value, name );
				}
				// Does not return so that setAttribute is also used
				elem.value = value;
			}
		}
	},

	propFix: {
		tabindex: "tabIndex",
		readonly: "readOnly",
		"for": "htmlFor",
		"class": "className",
		maxlength: "maxLength",
		cellspacing: "cellSpacing",
		cellpadding: "cellPadding",
		rowspan: "rowSpan",
		colspan: "colSpan",
		usemap: "useMap",
		frameborder: "frameBorder",
		contenteditable: "contentEditable"
	},

	prop: function( elem, name, value ) {
		var ret, hooks, notxml,
			nType = elem.nodeType;

		// don't get/set properties on text, comment and attribute nodes
		if ( !elem || nType === 3 || nType === 8 || nType === 2 ) {
			return;
		}

		notxml = nType !== 1 || !jQuery.isXMLDoc( elem );

		if ( notxml ) {
			// Fix name and attach hooks
			name = jQuery.propFix[ name ] || name;
			hooks = jQuery.propHooks[ name ];
		}

		if ( value !== undefined ) {
			if ( hooks && "set" in hooks && (ret = hooks.set( elem, value, name )) !== undefined ) {
				return ret;

			} else {
				return ( elem[ name ] = value );
			}

		} else {
			if ( hooks && "get" in hooks && (ret = hooks.get( elem, name )) !== null ) {
				return ret;

			} else {
				return elem[ name ];
			}
		}
	},

	propHooks: {
		tabIndex: {
			get: function( elem ) {
				// elem.tabIndex doesn't always return the correct value when it hasn't been explicitly set
				// http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/
				var attributeNode = elem.getAttributeNode("tabindex");

				return attributeNode && attributeNode.specified ?
					parseInt( attributeNode.value, 10 ) :
					rfocusable.test( elem.nodeName ) || rclickable.test( elem.nodeName ) && elem.href ?
						0 :
						undefined;
			}
		}
	}
});

// Hook for boolean attributes
boolHook = {
	get: function( elem, name ) {
		// Align boolean attributes with corresponding properties
		// Fall back to attribute presence where some booleans are not supported
		var attrNode,
			property = jQuery.prop( elem, name );
		return property === true || typeof property !== "boolean" && ( attrNode = elem.getAttributeNode(name) ) && attrNode.nodeValue !== false ?
			name.toLowerCase() :
			undefined;
	},
	set: function( elem, value, name ) {
		var propName;
		if ( value === false ) {
			// Remove boolean attributes when set to false
			jQuery.removeAttr( elem, name );
		} else {
			// value is true since we know at this point it's type boolean and not false
			// Set boolean attributes to the same name and set the DOM property
			propName = jQuery.propFix[ name ] || name;
			if ( propName in elem ) {
				// Only set the IDL specifically if it already exists on the element
				elem[ propName ] = true;
			}

			elem.setAttribute( name, name.toLowerCase() );
		}
		return name;
	}
};

// IE6/7 do not support getting/setting some attributes with get/setAttribute
if ( !getSetAttribute ) {

	fixSpecified = {
		name: true,
		id: true,
		coords: true
	};

	// Use this for any attribute in IE6/7
	// This fixes almost every IE6/7 issue
	nodeHook = jQuery.valHooks.button = {
		get: function( elem, name ) {
			var ret;
			ret = elem.getAttributeNode( name );
			return ret && ( fixSpecified[ name ] ? ret.value !== "" : ret.specified ) ?
				ret.value :
				undefined;
		},
		set: function( elem, value, name ) {
			// Set the existing or create a new attribute node
			var ret = elem.getAttributeNode( name );
			if ( !ret ) {
				ret = document.createAttribute( name );
				elem.setAttributeNode( ret );
			}
			return ( ret.value = value + "" );
		}
	};

	// Set width and height to auto instead of 0 on empty string( Bug #8150 )
	// This is for removals
	jQuery.each([ "width", "height" ], function( i, name ) {
		jQuery.attrHooks[ name ] = jQuery.extend( jQuery.attrHooks[ name ], {
			set: function( elem, value ) {
				if ( value === "" ) {
					elem.setAttribute( name, "auto" );
					return value;
				}
			}
		});
	});

	// Set contenteditable to false on removals(#10429)
	// Setting to empty string throws an error as an invalid value
	jQuery.attrHooks.contenteditable = {
		get: nodeHook.get,
		set: function( elem, value, name ) {
			if ( value === "" ) {
				value = "false";
			}
			nodeHook.set( elem, value, name );
		}
	};
}


// Some attributes require a special call on IE
if ( !jQuery.support.hrefNormalized ) {
	jQuery.each([ "href", "src", "width", "height" ], function( i, name ) {
		jQuery.attrHooks[ name ] = jQuery.extend( jQuery.attrHooks[ name ], {
			get: function( elem ) {
				var ret = elem.getAttribute( name, 2 );
				return ret === null ? undefined : ret;
			}
		});
	});
}

if ( !jQuery.support.style ) {
	jQuery.attrHooks.style = {
		get: function( elem ) {
			// Return undefined in the case of empty string
			// Normalize to lowercase since IE uppercases css property names
			return elem.style.cssText.toLowerCase() || undefined;
		},
		set: function( elem, value ) {
			return ( elem.style.cssText = "" + value );
		}
	};
}

// Safari mis-reports the default selected property of an option
// Accessing the parent's selectedIndex property fixes it
if ( !jQuery.support.optSelected ) {
	jQuery.propHooks.selected = jQuery.extend( jQuery.propHooks.selected, {
		get: function( elem ) {
			var parent = elem.parentNode;

			if ( parent ) {
				parent.selectedIndex;

				// Make sure that it also works with optgroups, see #5701
				if ( parent.parentNode ) {
					parent.parentNode.selectedIndex;
				}
			}
			return null;
		}
	});
}

// IE6/7 call enctype encoding
if ( !jQuery.support.enctype ) {
	jQuery.propFix.enctype = "encoding";
}

// Radios and checkboxes getter/setter
if ( !jQuery.support.checkOn ) {
	jQuery.each([ "radio", "checkbox" ], function() {
		jQuery.valHooks[ this ] = {
			get: function( elem ) {
				// Handle the case where in Webkit "" is returned instead of "on" if a value isn't specified
				return elem.getAttribute("value") === null ? "on" : elem.value;
			}
		};
	});
}
jQuery.each([ "radio", "checkbox" ], function() {
	jQuery.valHooks[ this ] = jQuery.extend( jQuery.valHooks[ this ], {
		set: function( elem, value ) {
			if ( jQuery.isArray( value ) ) {
				return ( elem.checked = jQuery.inArray( jQuery(elem).val(), value ) >= 0 );
			}
		}
	});
});
var rformElems = /^(?:textarea|input|select)$/i,
	rtypenamespace = /^([^\.]*|)(?:\.(.+)|)$/,
	rhoverHack = /(?:^|\s)hover(\.\S+|)\b/,
	rkeyEvent = /^key/,
	rmouseEvent = /^(?:mouse|contextmenu)|click/,
	rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,
	hoverHack = function( events ) {
		return jQuery.event.special.hover ? events : events.replace( rhoverHack, "mouseenter$1 mouseleave$1" );
	};

/*
 * Helper functions for managing events -- not part of the public interface.
 * Props to Dean Edwards' addEvent library for many of the ideas.
 */
jQuery.event = {

	add: function( elem, types, handler, data, selector ) {

		var elemData, eventHandle, events,
			t, tns, type, namespaces, handleObj,
			handleObjIn, handlers, special;

		// Don't attach events to noData or text/comment nodes (allow plain objects tho)
		if ( elem.nodeType === 3 || elem.nodeType === 8 || !types || !handler || !(elemData = jQuery._data( elem )) ) {
			return;
		}

		// Caller can pass in an object of custom data in lieu of the handler
		if ( handler.handler ) {
			handleObjIn = handler;
			handler = handleObjIn.handler;
			selector = handleObjIn.selector;
		}

		// Make sure that the handler has a unique ID, used to find/remove it later
		if ( !handler.guid ) {
			handler.guid = jQuery.guid++;
		}

		// Init the element's event structure and main handler, if this is the first
		events = elemData.events;
		if ( !events ) {
			elemData.events = events = {};
		}
		eventHandle = elemData.handle;
		if ( !eventHandle ) {
			elemData.handle = eventHandle = function( e ) {
				// Discard the second event of a jQuery.event.trigger() and
				// when an event is called after a page has unloaded
				return typeof jQuery !== "undefined" && (!e || jQuery.event.triggered !== e.type) ?
					jQuery.event.dispatch.apply( eventHandle.elem, arguments ) :
					undefined;
			};
			// Add elem as a property of the handle fn to prevent a memory leak with IE non-native events
			eventHandle.elem = elem;
		}

		// Handle multiple events separated by a space
		// jQuery(...).bind("mouseover mouseout", fn);
		types = jQuery.trim( hoverHack(types) ).split( " " );
		for ( t = 0; t < types.length; t++ ) {

			tns = rtypenamespace.exec( types[t] ) || [];
			type = tns[1];
			namespaces = ( tns[2] || "" ).split( "." ).sort();

			// If event changes its type, use the special event handlers for the changed type
			special = jQuery.event.special[ type ] || {};

			// If selector defined, determine special event api type, otherwise given type
			type = ( selector ? special.delegateType : special.bindType ) || type;

			// Update special based on newly reset type
			special = jQuery.event.special[ type ] || {};

			// handleObj is passed to all event handlers
			handleObj = jQuery.extend({
				type: type,
				origType: tns[1],
				data: data,
				handler: handler,
				guid: handler.guid,
				selector: selector,
				namespace: namespaces.join(".")
			}, handleObjIn );

			// Init the event handler queue if we're the first
			handlers = events[ type ];
			if ( !handlers ) {
				handlers = events[ type ] = [];
				handlers.delegateCount = 0;

				// Only use addEventListener/attachEvent if the special events handler returns false
				if ( !special.setup || special.setup.call( elem, data, namespaces, eventHandle ) === false ) {
					// Bind the global event handler to the element
					if ( elem.addEventListener ) {
						elem.addEventListener( type, eventHandle, false );

					} else if ( elem.attachEvent ) {
						elem.attachEvent( "on" + type, eventHandle );
					}
				}
			}

			if ( special.add ) {
				special.add.call( elem, handleObj );

				if ( !handleObj.handler.guid ) {
					handleObj.handler.guid = handler.guid;
				}
			}

			// Add to the element's handler list, delegates in front
			if ( selector ) {
				handlers.splice( handlers.delegateCount++, 0, handleObj );
			} else {
				handlers.push( handleObj );
			}

			// Keep track of which events have ever been used, for event optimization
			jQuery.event.global[ type ] = true;
		}

		// Nullify elem to prevent memory leaks in IE
		elem = null;
	},

	global: {},

	// Detach an event or set of events from an element
	remove: function( elem, types, handler, selector, mappedTypes ) {

		var t, tns, type, origType, namespaces, origCount,
			j, events, special, eventType, handleObj,
			elemData = jQuery.hasData( elem ) && jQuery._data( elem );

		if ( !elemData || !(events = elemData.events) ) {
			return;
		}

		// Once for each type.namespace in types; type may be omitted
		types = jQuery.trim( hoverHack( types || "" ) ).split(" ");
		for ( t = 0; t < types.length; t++ ) {
			tns = rtypenamespace.exec( types[t] ) || [];
			type = origType = tns[1];
			namespaces = tns[2];

			// Unbind all events (on this namespace, if provided) for the element
			if ( !type ) {
				for ( type in events ) {
					jQuery.event.remove( elem, type + types[ t ], handler, selector, true );
				}
				continue;
			}

			special = jQuery.event.special[ type ] || {};
			type = ( selector? special.delegateType : special.bindType ) || type;
			eventType = events[ type ] || [];
			origCount = eventType.length;
			namespaces = namespaces ? new RegExp("(^|\\.)" + namespaces.split(".").sort().join("\\.(?:.*\\.|)") + "(\\.|$)") : null;

			// Remove matching events
			for ( j = 0; j < eventType.length; j++ ) {
				handleObj = eventType[ j ];

				if ( ( mappedTypes || origType === handleObj.origType ) &&
					 ( !handler || handler.guid === handleObj.guid ) &&
					 ( !namespaces || namespaces.test( handleObj.namespace ) ) &&
					 ( !selector || selector === handleObj.selector || selector === "**" && handleObj.selector ) ) {
					eventType.splice( j--, 1 );

					if ( handleObj.selector ) {
						eventType.delegateCount--;
					}
					if ( special.remove ) {
						special.remove.call( elem, handleObj );
					}
				}
			}

			// Remove generic event handler if we removed something and no more handlers exist
			// (avoids potential for endless recursion during removal of special event handlers)
			if ( eventType.length === 0 && origCount !== eventType.length ) {
				if ( !special.teardown || special.teardown.call( elem, namespaces, elemData.handle ) === false ) {
					jQuery.removeEvent( elem, type, elemData.handle );
				}

				delete events[ type ];
			}
		}

		// Remove the expando if it's no longer used
		if ( jQuery.isEmptyObject( events ) ) {
			delete elemData.handle;

			// removeData also checks for emptiness and clears the expando if empty
			// so use it instead of delete
			jQuery.removeData( elem, "events", true );
		}
	},

	// Events that are safe to short-circuit if no handlers are attached.
	// Native DOM events should not be added, they may have inline handlers.
	customEvent: {
		"getData": true,
		"setData": true,
		"changeData": true
	},

	trigger: function( event, data, elem, onlyHandlers ) {
		// Don't do events on text and comment nodes
		if ( elem && (elem.nodeType === 3 || elem.nodeType === 8) ) {
			return;
		}

		// Event object or event type
		var cache, exclusive, i, cur, old, ontype, special, handle, eventPath, bubbleType,
			type = event.type || event,
			namespaces = [];

		// focus/blur morphs to focusin/out; ensure we're not firing them right now
		if ( rfocusMorph.test( type + jQuery.event.triggered ) ) {
			return;
		}

		if ( type.indexOf( "!" ) >= 0 ) {
			// Exclusive events trigger only for the exact event (no namespaces)
			type = type.slice(0, -1);
			exclusive = true;
		}

		if ( type.indexOf( "." ) >= 0 ) {
			// Namespaced trigger; create a regexp to match event type in handle()
			namespaces = type.split(".");
			type = namespaces.shift();
			namespaces.sort();
		}

		if ( (!elem || jQuery.event.customEvent[ type ]) && !jQuery.event.global[ type ] ) {
			// No jQuery handlers for this event type, and it can't have inline handlers
			return;
		}

		// Caller can pass in an Event, Object, or just an event type string
		event = typeof event === "object" ?
			// jQuery.Event object
			event[ jQuery.expando ] ? event :
			// Object literal
			new jQuery.Event( type, event ) :
			// Just the event type (string)
			new jQuery.Event( type );

		event.type = type;
		event.isTrigger = true;
		event.exclusive = exclusive;
		event.namespace = namespaces.join( "." );
		event.namespace_re = event.namespace? new RegExp("(^|\\.)" + namespaces.join("\\.(?:.*\\.|)") + "(\\.|$)") : null;
		ontype = type.indexOf( ":" ) < 0 ? "on" + type : "";

		// Handle a global trigger
		if ( !elem ) {

			// TODO: Stop taunting the data cache; remove global events and always attach to document
			cache = jQuery.cache;
			for ( i in cache ) {
				if ( cache[ i ].events && cache[ i ].events[ type ] ) {
					jQuery.event.trigger( event, data, cache[ i ].handle.elem, true );
				}
			}
			return;
		}

		// Clean up the event in case it is being reused
		event.result = undefined;
		if ( !event.target ) {
			event.target = elem;
		}

		// Clone any incoming data and prepend the event, creating the handler arg list
		data = data != null ? jQuery.makeArray( data ) : [];
		data.unshift( event );

		// Allow special events to draw outside the lines
		special = jQuery.event.special[ type ] || {};
		if ( special.trigger && special.trigger.apply( elem, data ) === false ) {
			return;
		}

		// Determine event propagation path in advance, per W3C events spec (#9951)
		// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)
		eventPath = [[ elem, special.bindType || type ]];
		if ( !onlyHandlers && !special.noBubble && !jQuery.isWindow( elem ) ) {

			bubbleType = special.delegateType || type;
			cur = rfocusMorph.test( bubbleType + type ) ? elem : elem.parentNode;
			for ( old = elem; cur; cur = cur.parentNode ) {
				eventPath.push([ cur, bubbleType ]);
				old = cur;
			}

			// Only add window if we got to document (e.g., not plain obj or detached DOM)
			if ( old === (elem.ownerDocument || document) ) {
				eventPath.push([ old.defaultView || old.parentWindow || window, bubbleType ]);
			}
		}

		// Fire handlers on the event path
		for ( i = 0; i < eventPath.length && !event.isPropagationStopped(); i++ ) {

			cur = eventPath[i][0];
			event.type = eventPath[i][1];

			handle = ( jQuery._data( cur, "events" ) || {} )[ event.type ] && jQuery._data( cur, "handle" );
			if ( handle ) {
				handle.apply( cur, data );
			}
			// Note that this is a bare JS function and not a jQuery handler
			handle = ontype && cur[ ontype ];
			if ( handle && jQuery.acceptData( cur ) && handle.apply( cur, data ) === false ) {
				event.preventDefault();
			}
		}
		event.type = type;

		// If nobody prevented the default action, do it now
		if ( !onlyHandlers && !event.isDefaultPrevented() ) {

			if ( (!special._default || special._default.apply( elem.ownerDocument, data ) === false) &&
				!(type === "click" && jQuery.nodeName( elem, "a" )) && jQuery.acceptData( elem ) ) {

				// Call a native DOM method on the target with the same name name as the event.
				// Can't use an .isFunction() check here because IE6/7 fails that test.
				// Don't do default actions on window, that's where global variables be (#6170)
				// IE<9 dies on focus/blur to hidden element (#1486)
				if ( ontype && elem[ type ] && ((type !== "focus" && type !== "blur") || event.target.offsetWidth !== 0) && !jQuery.isWindow( elem ) ) {

					// Don't re-trigger an onFOO event when we call its FOO() method
					old = elem[ ontype ];

					if ( old ) {
						elem[ ontype ] = null;
					}

					// Prevent re-triggering of the same event, since we already bubbled it above
					jQuery.event.triggered = type;
					elem[ type ]();
					jQuery.event.triggered = undefined;

					if ( old ) {
						elem[ ontype ] = old;
					}
				}
			}
		}

		return event.result;
	},

	dispatch: function( event ) {

		// Make a writable jQuery.Event from the native event object
		event = jQuery.event.fix( event || window.event );

		var i, j, cur, ret, selMatch, matched, matches, handleObj, sel, related,
			handlers = ( (jQuery._data( this, "events" ) || {} )[ event.type ] || []),
			delegateCount = handlers.delegateCount,
			args = [].slice.call( arguments ),
			run_all = !event.exclusive && !event.namespace,
			special = jQuery.event.special[ event.type ] || {},
			handlerQueue = [];

		// Use the fix-ed jQuery.Event rather than the (read-only) native event
		args[0] = event;
		event.delegateTarget = this;

		// Call the preDispatch hook for the mapped type, and let it bail if desired
		if ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {
			return;
		}

		// Determine handlers that should run if there are delegated events
		// Avoid non-left-click bubbling in Firefox (#3861)
		if ( delegateCount && !(event.button && event.type === "click") ) {

			for ( cur = event.target; cur != this; cur = cur.parentNode || this ) {

				// Don't process clicks (ONLY) on disabled elements (#6911, #8165, #11382, #11764)
				if ( cur.disabled !== true || event.type !== "click" ) {
					selMatch = {};
					matches = [];
					for ( i = 0; i < delegateCount; i++ ) {
						handleObj = handlers[ i ];
						sel = handleObj.selector;

						if ( selMatch[ sel ] === undefined ) {
							selMatch[ sel ] = jQuery( sel, this ).index( cur ) >= 0;
						}
						if ( selMatch[ sel ] ) {
							matches.push( handleObj );
						}
					}
					if ( matches.length ) {
						handlerQueue.push({ elem: cur, matches: matches });
					}
				}
			}
		}

		// Add the remaining (directly-bound) handlers
		if ( handlers.length > delegateCount ) {
			handlerQueue.push({ elem: this, matches: handlers.slice( delegateCount ) });
		}

		// Run delegates first; they may want to stop propagation beneath us
		for ( i = 0; i < handlerQueue.length && !event.isPropagationStopped(); i++ ) {
			matched = handlerQueue[ i ];
			event.currentTarget = matched.elem;

			for ( j = 0; j < matched.matches.length && !event.isImmediatePropagationStopped(); j++ ) {
				handleObj = matched.matches[ j ];

				// Triggered event must either 1) be non-exclusive and have no namespace, or
				// 2) have namespace(s) a subset or equal to those in the bound event (both can have no namespace).
				if ( run_all || (!event.namespace && !handleObj.namespace) || event.namespace_re && event.namespace_re.test( handleObj.namespace ) ) {

					event.data = handleObj.data;
					event.handleObj = handleObj;

					ret = ( (jQuery.event.special[ handleObj.origType ] || {}).handle || handleObj.handler )
							.apply( matched.elem, args );

					if ( ret !== undefined ) {
						event.result = ret;
						if ( ret === false ) {
							event.preventDefault();
							event.stopPropagation();
						}
					}
				}
			}
		}

		// Call the postDispatch hook for the mapped type
		if ( special.postDispatch ) {
			special.postDispatch.call( this, event );
		}

		return event.result;
	},

	// Includes some event props shared by KeyEvent and MouseEvent
	// *** attrChange attrName relatedNode srcElement  are not normalized, non-W3C, deprecated, will be removed in 1.8 ***
	props: "attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),

	fixHooks: {},

	keyHooks: {
		props: "char charCode key keyCode".split(" "),
		filter: function( event, original ) {

			// Add which for key events
			if ( event.which == null ) {
				event.which = original.charCode != null ? original.charCode : original.keyCode;
			}

			return event;
		}
	},

	mouseHooks: {
		props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
		filter: function( event, original ) {
			var eventDoc, doc, body,
				button = original.button,
				fromElement = original.fromElement;

			// Calculate pageX/Y if missing and clientX/Y available
			if ( event.pageX == null && original.clientX != null ) {
				eventDoc = event.target.ownerDocument || document;
				doc = eventDoc.documentElement;
				body = eventDoc.body;

				event.pageX = original.clientX + ( doc && doc.scrollLeft || body && body.scrollLeft || 0 ) - ( doc && doc.clientLeft || body && body.clientLeft || 0 );
				event.pageY = original.clientY + ( doc && doc.scrollTop  || body && body.scrollTop  || 0 ) - ( doc && doc.clientTop  || body && body.clientTop  || 0 );
			}

			// Add relatedTarget, if necessary
			if ( !event.relatedTarget && fromElement ) {
				event.relatedTarget = fromElement === event.target ? original.toElement : fromElement;
			}

			// Add which for click: 1 === left; 2 === middle; 3 === right
			// Note: button is not normalized, so don't use it
			if ( !event.which && button !== undefined ) {
				event.which = ( button & 1 ? 1 : ( button & 2 ? 3 : ( button & 4 ? 2 : 0 ) ) );
			}

			return event;
		}
	},

	fix: function( event ) {
		if ( event[ jQuery.expando ] ) {
			return event;
		}

		// Create a writable copy of the event object and normalize some properties
		var i, prop,
			originalEvent = event,
			fixHook = jQuery.event.fixHooks[ event.type ] || {},
			copy = fixHook.props ? this.props.concat( fixHook.props ) : this.props;

		event = jQuery.Event( originalEvent );

		for ( i = copy.length; i; ) {
			prop = copy[ --i ];
			event[ prop ] = originalEvent[ prop ];
		}

		// Fix target property, if necessary (#1925, IE 6/7/8 & Safari2)
		if ( !event.target ) {
			event.target = originalEvent.srcElement || document;
		}

		// Target should not be a text node (#504, Safari)
		if ( event.target.nodeType === 3 ) {
			event.target = event.target.parentNode;
		}

		// For mouse/key events, metaKey==false if it's undefined (#3368, #11328; IE6/7/8)
		event.metaKey = !!event.metaKey;

		return fixHook.filter? fixHook.filter( event, originalEvent ) : event;
	},

	special: {
		load: {
			// Prevent triggered image.load events from bubbling to window.load
			noBubble: true
		},

		focus: {
			delegateType: "focusin"
		},
		blur: {
			delegateType: "focusout"
		},

		beforeunload: {
			setup: function( data, namespaces, eventHandle ) {
				// We only want to do this special case on windows
				if ( jQuery.isWindow( this ) ) {
					this.onbeforeunload = eventHandle;
				}
			},

			teardown: function( namespaces, eventHandle ) {
				if ( this.onbeforeunload === eventHandle ) {
					this.onbeforeunload = null;
				}
			}
		}
	},

	simulate: function( type, elem, event, bubble ) {
		// Piggyback on a donor event to simulate a different one.
		// Fake originalEvent to avoid donor's stopPropagation, but if the
		// simulated event prevents default then we do the same on the donor.
		var e = jQuery.extend(
			new jQuery.Event(),
			event,
			{ type: type,
				isSimulated: true,
				originalEvent: {}
			}
		);
		if ( bubble ) {
			jQuery.event.trigger( e, null, elem );
		} else {
			jQuery.event.dispatch.call( elem, e );
		}
		if ( e.isDefaultPrevented() ) {
			event.preventDefault();
		}
	}
};

// Some plugins are using, but it's undocumented/deprecated and will be removed.
// The 1.7 special event interface should provide all the hooks needed now.
jQuery.event.handle = jQuery.event.dispatch;

jQuery.removeEvent = document.removeEventListener ?
	function( elem, type, handle ) {
		if ( elem.removeEventListener ) {
			elem.removeEventListener( type, handle, false );
		}
	} :
	function( elem, type, handle ) {
		var name = "on" + type;

		if ( elem.detachEvent ) {

			// #8545, #7054, preventing memory leaks for custom events in IE6-8 
			// detachEvent needed property on element, by name of that event, to properly expose it to GC
			if ( typeof elem[ name ] === "undefined" ) {
				elem[ name ] = null;
			}

			elem.detachEvent( name, handle );
		}
	};

jQuery.Event = function( src, props ) {
	// Allow instantiation without the 'new' keyword
	if ( !(this instanceof jQuery.Event) ) {
		return new jQuery.Event( src, props );
	}

	// Event object
	if ( src && src.type ) {
		this.originalEvent = src;
		this.type = src.type;

		// Events bubbling up the document may have been marked as prevented
		// by a handler lower down the tree; reflect the correct value.
		this.isDefaultPrevented = ( src.defaultPrevented || src.returnValue === false ||
			src.getPreventDefault && src.getPreventDefault() ) ? returnTrue : returnFalse;

	// Event type
	} else {
		this.type = src;
	}

	// Put explicitly provided properties onto the event object
	if ( props ) {
		jQuery.extend( this, props );
	}

	// Create a timestamp if incoming event doesn't have one
	this.timeStamp = src && src.timeStamp || jQuery.now();

	// Mark it as fixed
	this[ jQuery.expando ] = true;
};

function returnFalse() {
	return false;
}
function returnTrue() {
	return true;
}

// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding
// http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html
jQuery.Event.prototype = {
	preventDefault: function() {
		this.isDefaultPrevented = returnTrue;

		var e = this.originalEvent;
		if ( !e ) {
			return;
		}

		// if preventDefault exists run it on the original event
		if ( e.preventDefault ) {
			e.preventDefault();

		// otherwise set the returnValue property of the original event to false (IE)
		} else {
			e.returnValue = false;
		}
	},
	stopPropagation: function() {
		this.isPropagationStopped = returnTrue;

		var e = this.originalEvent;
		if ( !e ) {
			return;
		}
		// if stopPropagation exists run it on the original event
		if ( e.stopPropagation ) {
			e.stopPropagation();
		}
		// otherwise set the cancelBubble property of the original event to true (IE)
		e.cancelBubble = true;
	},
	stopImmediatePropagation: function() {
		this.isImmediatePropagationStopped = returnTrue;
		this.stopPropagation();
	},
	isDefaultPrevented: returnFalse,
	isPropagationStopped: returnFalse,
	isImmediatePropagationStopped: returnFalse
};

// Create mouseenter/leave events using mouseover/out and event-time checks
jQuery.each({
	mouseenter: "mouseover",
	mouseleave: "mouseout"
}, function( orig, fix ) {
	jQuery.event.special[ orig ] = {
		delegateType: fix,
		bindType: fix,

		handle: function( event ) {
			var ret,
				target = this,
				related = event.relatedTarget,
				handleObj = event.handleObj,
				selector = handleObj.selector;

			// For mousenter/leave call the handler if related is outside the target.
			// NB: No relatedTarget if the mouse left/entered the browser window
			if ( !related || (related !== target && !jQuery.contains( target, related )) ) {
				event.type = handleObj.origType;
				ret = handleObj.handler.apply( this, arguments );
				event.type = fix;
			}
			return ret;
		}
	};
});

// IE submit delegation
if ( !jQuery.support.submitBubbles ) {

	jQuery.event.special.submit = {
		setup: function() {
			// Only need this for delegated form submit events
			if ( jQuery.nodeName( this, "form" ) ) {
				return false;
			}

			// Lazy-add a submit handler when a descendant form may potentially be submitted
			jQuery.event.add( this, "click._submit keypress._submit", function( e ) {
				// Node name check avoids a VML-related crash in IE (#9807)
				var elem = e.target,
					form = jQuery.nodeName( elem, "input" ) || jQuery.nodeName( elem, "button" ) ? elem.form : undefined;
				if ( form && !jQuery._data( form, "_submit_attached" ) ) {
					jQuery.event.add( form, "submit._submit", function( event ) {
						event._submit_bubble = true;
					});
					jQuery._data( form, "_submit_attached", true );
				}
			});
			// return undefined since we don't need an event listener
		},

		postDispatch: function( event ) {
			// If form was submitted by the user, bubble the event up the tree
			if ( event._submit_bubble ) {
				delete event._submit_bubble;
				if ( this.parentNode && !event.isTrigger ) {
					jQuery.event.simulate( "submit", this.parentNode, event, true );
				}
			}
		},

		teardown: function() {
			// Only need this for delegated form submit events
			if ( jQuery.nodeName( this, "form" ) ) {
				return false;
			}

			// Remove delegated handlers; cleanData eventually reaps submit handlers attached above
			jQuery.event.remove( this, "._submit" );
		}
	};
}

// IE change delegation and checkbox/radio fix
if ( !jQuery.support.changeBubbles ) {

	jQuery.event.special.change = {

		setup: function() {

			if ( rformElems.test( this.nodeName ) ) {
				// IE doesn't fire change on a check/radio until blur; trigger it on click
				// after a propertychange. Eat the blur-change in special.change.handle.
				// This still fires onchange a second time for check/radio after blur.
				if ( this.type === "checkbox" || this.type === "radio" ) {
					jQuery.event.add( this, "propertychange._change", function( event ) {
						if ( event.originalEvent.propertyName === "checked" ) {
							this._just_changed = true;
						}
					});
					jQuery.event.add( this, "click._change", function( event ) {
						if ( this._just_changed && !event.isTrigger ) {
							this._just_changed = false;
						}
						// Allow triggered, simulated change events (#11500)
						jQuery.event.simulate( "change", this, event, true );
					});
				}
				return false;
			}
			// Delegated event; lazy-add a change handler on descendant inputs
			jQuery.event.add( this, "beforeactivate._change", function( e ) {
				var elem = e.target;

				if ( rformElems.test( elem.nodeName ) && !jQuery._data( elem, "_change_attached" ) ) {
					jQuery.event.add( elem, "change._change", function( event ) {
						if ( this.parentNode && !event.isSimulated && !event.isTrigger ) {
							jQuery.event.simulate( "change", this.parentNode, event, true );
						}
					});
					jQuery._data( elem, "_change_attached", true );
				}
			});
		},

		handle: function( event ) {
			var elem = event.target;

			// Swallow native change events from checkbox/radio, we already triggered them above
			if ( this !== elem || event.isSimulated || event.isTrigger || (elem.type !== "radio" && elem.type !== "checkbox") ) {
				return event.handleObj.handler.apply( this, arguments );
			}
		},

		teardown: function() {
			jQuery.event.remove( this, "._change" );

			return !rformElems.test( this.nodeName );
		}
	};
}

// Create "bubbling" focus and blur events
if ( !jQuery.support.focusinBubbles ) {
	jQuery.each({ focus: "focusin", blur: "focusout" }, function( orig, fix ) {

		// Attach a single capturing handler while someone wants focusin/focusout
		var attaches = 0,
			handler = function( event ) {
				jQuery.event.simulate( fix, event.target, jQuery.event.fix( event ), true );
			};

		jQuery.event.special[ fix ] = {
			setup: function() {
				if ( attaches++ === 0 ) {
					document.addEventListener( orig, handler, true );
				}
			},
			teardown: function() {
				if ( --attaches === 0 ) {
					document.removeEventListener( orig, handler, true );
				}
			}
		};
	});
}

jQuery.fn.extend({

	on: function( types, selector, data, fn, /*INTERNAL*/ one ) {
		var origFn, type;

		// Types can be a map of types/handlers
		if ( typeof types === "object" ) {
			// ( types-Object, selector, data )
			if ( typeof selector !== "string" ) { // && selector != null
				// ( types-Object, data )
				data = data || selector;
				selector = undefined;
			}
			for ( type in types ) {
				this.on( type, selector, data, types[ type ], one );
			}
			return this;
		}

		if ( data == null && fn == null ) {
			// ( types, fn )
			fn = selector;
			data = selector = undefined;
		} else if ( fn == null ) {
			if ( typeof selector === "string" ) {
				// ( types, selector, fn )
				fn = data;
				data = undefined;
			} else {
				// ( types, data, fn )
				fn = data;
				data = selector;
				selector = undefined;
			}
		}
		if ( fn === false ) {
			fn = returnFalse;
		} else if ( !fn ) {
			return this;
		}

		if ( one === 1 ) {
			origFn = fn;
			fn = function( event ) {
				// Can use an empty set, since event contains the info
				jQuery().off( event );
				return origFn.apply( this, arguments );
			};
			// Use same guid so caller can remove using origFn
			fn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );
		}
		return this.each( function() {
			jQuery.event.add( this, types, fn, data, selector );
		});
	},
	one: function( types, selector, data, fn ) {
		return this.on( types, selector, data, fn, 1 );
	},
	off: function( types, selector, fn ) {
		var handleObj, type;
		if ( types && types.preventDefault && types.handleObj ) {
			// ( event )  dispatched jQuery.Event
			handleObj = types.handleObj;
			jQuery( types.delegateTarget ).off(
				handleObj.namespace ? handleObj.origType + "." + handleObj.namespace : handleObj.origType,
				handleObj.selector,
				handleObj.handler
			);
			return this;
		}
		if ( typeof types === "object" ) {
			// ( types-object [, selector] )
			for ( type in types ) {
				this.off( type, selector, types[ type ] );
			}
			return this;
		}
		if ( selector === false || typeof selector === "function" ) {
			// ( types [, fn] )
			fn = selector;
			selector = undefined;
		}
		if ( fn === false ) {
			fn = returnFalse;
		}
		return this.each(function() {
			jQuery.event.remove( this, types, fn, selector );
		});
	},

	bind: function( types, data, fn ) {
		return this.on( types, null, data, fn );
	},
	unbind: function( types, fn ) {
		return this.off( types, null, fn );
	},

	live: function( types, data, fn ) {
		jQuery( this.context ).on( types, this.selector, data, fn );
		return this;
	},
	die: function( types, fn ) {
		jQuery( this.context ).off( types, this.selector || "**", fn );
		return this;
	},

	delegate: function( selector, types, data, fn ) {
		return this.on( types, selector, data, fn );
	},
	undelegate: function( selector, types, fn ) {
		// ( namespace ) or ( selector, types [, fn] )
		return arguments.length == 1? this.off( selector, "**" ) : this.off( types, selector || "**", fn );
	},

	trigger: function( type, data ) {
		return this.each(function() {
			jQuery.event.trigger( type, data, this );
		});
	},
	triggerHandler: function( type, data ) {
		if ( this[0] ) {
			return jQuery.event.trigger( type, data, this[0], true );
		}
	},

	toggle: function( fn ) {
		// Save reference to arguments for access in closure
		var args = arguments,
			guid = fn.guid || jQuery.guid++,
			i = 0,
			toggler = function( event ) {
				// Figure out which function to execute
				var lastToggle = ( jQuery._data( this, "lastToggle" + fn.guid ) || 0 ) % i;
				jQuery._data( this, "lastToggle" + fn.guid, lastToggle + 1 );

				// Make sure that clicks stop
				event.preventDefault();

				// and execute the function
				return args[ lastToggle ].apply( this, arguments ) || false;
			};

		// link all the functions, so any of them can unbind this click handler
		toggler.guid = guid;
		while ( i < args.length ) {
			args[ i++ ].guid = guid;
		}

		return this.click( toggler );
	},

	hover: function( fnOver, fnOut ) {
		return this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );
	}
});

jQuery.each( ("blur focus focusin focusout load resize scroll unload click dblclick " +
	"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave " +
	"change select submit keydown keypress keyup error contextmenu").split(" "), function( i, name ) {

	// Handle event binding
	jQuery.fn[ name ] = function( data, fn ) {
		if ( fn == null ) {
			fn = data;
			data = null;
		}

		return arguments.length > 0 ?
			this.on( name, null, data, fn ) :
			this.trigger( name );
	};

	if ( rkeyEvent.test( name ) ) {
		jQuery.event.fixHooks[ name ] = jQuery.event.keyHooks;
	}

	if ( rmouseEvent.test( name ) ) {
		jQuery.event.fixHooks[ name ] = jQuery.event.mouseHooks;
	}
});
/*!
 * Sizzle CSS Selector Engine
 *  Copyright 2012 jQuery Foundation and other contributors
 *  Released under the MIT license
 *  http://sizzlejs.com/
 */
(function( window, undefined ) {

var dirruns,
	cachedruns,
	assertGetIdNotName,
	Expr,
	getText,
	isXML,
	contains,
	compile,
	sortOrder,
	hasDuplicate,

	baseHasDuplicate = true,
	strundefined = "undefined",

	expando = ( "sizcache" + Math.random() ).replace( ".", "" ),

	document = window.document,
	docElem = document.documentElement,
	done = 0,
	slice = [].slice,
	push = [].push,

	// Augment a function for special use by Sizzle
	markFunction = function( fn, value ) {
		fn[ expando ] = value || true;
		return fn;
	},

	createCache = function() {
		var cache = {},
			keys = [];

		return markFunction(function( key, value ) {
			// Only keep the most recent entries
			if ( keys.push( key ) > Expr.cacheLength ) {
				delete cache[ keys.shift() ];
			}

			return (cache[ key ] = value);
		}, cache );
	},

	classCache = createCache(),
	tokenCache = createCache(),
	compilerCache = createCache(),

	// Regex

	// Whitespace characters http://www.w3.org/TR/css3-selectors/#whitespace
	whitespace = "[\\x20\\t\\r\\n\\f]",
	// http://www.w3.org/TR/css3-syntax/#characters
	characterEncoding = "(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",

	// Loosely modeled on CSS identifier characters
	// An unquoted value should be a CSS identifier (http://www.w3.org/TR/css3-selectors/#attribute-selectors)
	// Proper syntax: http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier
	identifier = characterEncoding.replace( "w", "w#" ),

	// Acceptable operators http://www.w3.org/TR/selectors/#attribute-selectors
	operators = "([*^$|!~]?=)",
	attributes = "\\[" + whitespace + "*(" + characterEncoding + ")" + whitespace +
		"*(?:" + operators + whitespace + "*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|(" + identifier + ")|)|)" + whitespace + "*\\]",

	// Prefer arguments not in parens/brackets,
	//   then attribute selectors and non-pseudos (denoted by :),
	//   then anything else
	// These preferences are here to reduce the number of selectors
	//   needing tokenize in the PSEUDO preFilter
	pseudos = ":(" + characterEncoding + ")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:" + attributes + ")|[^:]|\\\\.)*|.*))\\)|)",

	// For matchExpr.POS and matchExpr.needsContext
	pos = ":(nth|eq|gt|lt|first|last|even|odd)(?:\\(((?:-\\d)?\\d*)\\)|)(?=[^-]|$)",

	// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter
	rtrim = new RegExp( "^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" + whitespace + "+$", "g" ),

	rcomma = new RegExp( "^" + whitespace + "*," + whitespace + "*" ),
	rcombinators = new RegExp( "^" + whitespace + "*([\\x20\\t\\r\\n\\f>+~])" + whitespace + "*" ),
	rpseudo = new RegExp( pseudos ),

	// Easily-parseable/retrievable ID or TAG or CLASS selectors
	rquickExpr = /^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,

	rnot = /^:not/,
	rsibling = /[\x20\t\r\n\f]*[+~]/,
	rendsWithNot = /:not\($/,

	rheader = /h\d/i,
	rinputs = /input|select|textarea|button/i,

	rbackslash = /\\(?!\\)/g,

	matchExpr = {
		"ID": new RegExp( "^#(" + characterEncoding + ")" ),
		"CLASS": new RegExp( "^\\.(" + characterEncoding + ")" ),
		"NAME": new RegExp( "^\\[name=['\"]?(" + characterEncoding + ")['\"]?\\]" ),
		"TAG": new RegExp( "^(" + characterEncoding.replace( "w", "w*" ) + ")" ),
		"ATTR": new RegExp( "^" + attributes ),
		"PSEUDO": new RegExp( "^" + pseudos ),
		"CHILD": new RegExp( "^:(only|nth|last|first)-child(?:\\(" + whitespace +
			"*(even|odd|(([+-]|)(\\d*)n|)" + whitespace + "*(?:([+-]|)" + whitespace +
			"*(\\d+)|))" + whitespace + "*\\)|)", "i" ),
		"POS": new RegExp( pos, "ig" ),
		// For use in libraries implementing .is()
		"needsContext": new RegExp( "^" + whitespace + "*[>+~]|" + pos, "i" )
	},

	// Support

	// Used for testing something on an element
	assert = function( fn ) {
		var div = document.createElement("div");

		try {
			return fn( div );
		} catch (e) {
			return false;
		} finally {
			// release memory in IE
			div = null;
		}
	},

	// Check if getElementsByTagName("*") returns only elements
	assertTagNameNoComments = assert(function( div ) {
		div.appendChild( document.createComment("") );
		return !div.getElementsByTagName("*").length;
	}),

	// Check if getAttribute returns normalized href attributes
	assertHrefNotNormalized = assert(function( div ) {
		div.innerHTML = "<a href='#'></a>";
		return div.firstChild && typeof div.firstChild.getAttribute !== strundefined &&
			div.firstChild.getAttribute("href") === "#";
	}),

	// Check if attributes should be retrieved by attribute nodes
	assertAttributes = assert(function( div ) {
		div.innerHTML = "<select></select>";
		var type = typeof div.lastChild.getAttribute("multiple");
		// IE8 returns a string for some attributes even when not present
		return type !== "boolean" && type !== "string";
	}),

	// Check if getElementsByClassName can be trusted
	assertUsableClassName = assert(function( div ) {
		// Opera can't find a second classname (in 9.6)
		div.innerHTML = "<div class='hidden e'></div><div class='hidden'></div>";
		if ( !div.getElementsByClassName || !div.getElementsByClassName("e").length ) {
			return false;
		}

		// Safari 3.2 caches class attributes and doesn't catch changes
		div.lastChild.className = "e";
		return div.getElementsByClassName("e").length === 2;
	}),

	// Check if getElementById returns elements by name
	// Check if getElementsByName privileges form controls or returns elements by ID
	assertUsableName = assert(function( div ) {
		// Inject content
		div.id = expando + 0;
		div.innerHTML = "<a name='" + expando + "'></a><div name='" + expando + "'></div>";
		docElem.insertBefore( div, docElem.firstChild );

		// Test
		var pass = document.getElementsByName &&
			// buggy browsers will return fewer than the correct 2
			document.getElementsByName( expando ).length === 2 +
			// buggy browsers will return more than the correct 0
			document.getElementsByName( expando + 0 ).length;
		assertGetIdNotName = !document.getElementById( expando );

		// Cleanup
		docElem.removeChild( div );

		return pass;
	});

// If slice is not available, provide a backup
try {
	slice.call( docElem.childNodes, 0 )[0].nodeType;
} catch ( e ) {
	slice = function( i ) {
		var elem, results = [];
		for ( ; (elem = this[i]); i++ ) {
			results.push( elem );
		}
		return results;
	};
}

function Sizzle( selector, context, results, seed ) {
	results = results || [];
	context = context || document;
	var match, elem, xml, m,
		nodeType = context.nodeType;

	if ( nodeType !== 1 && nodeType !== 9 ) {
		return [];
	}

	if ( !selector || typeof selector !== "string" ) {
		return results;
	}

	xml = isXML( context );

	if ( !xml && !seed ) {
		if ( (match = rquickExpr.exec( selector )) ) {
			// Speed-up: Sizzle("#ID")
			if ( (m = match[1]) ) {
				if ( nodeType === 9 ) {
					elem = context.getElementById( m );
					// Check parentNode to catch when Blackberry 4.6 returns
					// nodes that are no longer in the document #6963
					if ( elem && elem.parentNode ) {
						// Handle the case where IE, Opera, and Webkit return items
						// by name instead of ID
						if ( elem.id === m ) {
							results.push( elem );
							return results;
						}
					} else {
						return results;
					}
				} else {
					// Context is not a document
					if ( context.ownerDocument && (elem = context.ownerDocument.getElementById( m )) &&
						contains( context, elem ) && elem.id === m ) {
						results.push( elem );
						return results;
					}
				}

			// Speed-up: Sizzle("TAG")
			} else if ( match[2] ) {
				push.apply( results, slice.call(context.getElementsByTagName( selector ), 0) );
				return results;

			// Speed-up: Sizzle(".CLASS")
			} else if ( (m = match[3]) && assertUsableClassName && context.getElementsByClassName ) {
				push.apply( results, slice.call(context.getElementsByClassName( m ), 0) );
				return results;
			}
		}
	}

	// All others
	return select( selector, context, results, seed, xml );
}

Sizzle.matches = function( expr, elements ) {
	return Sizzle( expr, null, null, elements );
};

Sizzle.matchesSelector = function( elem, expr ) {
	return Sizzle( expr, null, null, [ elem ] ).length > 0;
};

// Returns a function to use in pseudos for input types
function createInputPseudo( type ) {
	return function( elem ) {
		var name = elem.nodeName.toLowerCase();
		return name === "input" && elem.type === type;
	};
}

// Returns a function to use in pseudos for buttons
function createButtonPseudo( type ) {
	return function( elem ) {
		var name = elem.nodeName.toLowerCase();
		return (name === "input" || name === "button") && elem.type === type;
	};
}

/**
 * Utility function for retrieving the text value of an array of DOM nodes
 * @param {Array|Element} elem
 */
getText = Sizzle.getText = function( elem ) {
	var node,
		ret = "",
		i = 0,
		nodeType = elem.nodeType;

	if ( nodeType ) {
		if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {
			// Use textContent for elements
			// innerText usage removed for consistency of new lines (see #11153)
			if ( typeof elem.textContent === "string" ) {
				return elem.textContent;
			} else {
				// Traverse its children
				for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
					ret += getText( elem );
				}
			}
		} else if ( nodeType === 3 || nodeType === 4 ) {
			return elem.nodeValue;
		}
		// Do not include comment or processing instruction nodes
	} else {

		// If no nodeType, this is expected to be an array
		for ( ; (node = elem[i]); i++ ) {
			// Do not traverse comment nodes
			ret += getText( node );
		}
	}
	return ret;
};

isXML = Sizzle.isXML = function isXML( elem ) {
	// documentElement is verified for cases where it doesn't yet exist
	// (such as loading iframes in IE - #4833)
	var documentElement = elem && (elem.ownerDocument || elem).documentElement;
	return documentElement ? documentElement.nodeName !== "HTML" : false;
};

// Element contains another
contains = Sizzle.contains = docElem.contains ?
	function( a, b ) {
		var adown = a.nodeType === 9 ? a.documentElement : a,
			bup = b && b.parentNode;
		return a === bup || !!( bup && bup.nodeType === 1 && adown.contains && adown.contains(bup) );
	} :
	docElem.compareDocumentPosition ?
	function( a, b ) {
		return b && !!( a.compareDocumentPosition( b ) & 16 );
	} :
	function( a, b ) {
		while ( (b = b.parentNode) ) {
			if ( b === a ) {
				return true;
			}
		}
		return false;
	};

Sizzle.attr = function( elem, name ) {
	var attr,
		xml = isXML( elem );

	if ( !xml ) {
		name = name.toLowerCase();
	}
	if ( Expr.attrHandle[ name ] ) {
		return Expr.attrHandle[ name ]( elem );
	}
	if ( assertAttributes || xml ) {
		return elem.getAttribute( name );
	}
	attr = elem.getAttributeNode( name );
	return attr ?
		typeof elem[ name ] === "boolean" ?
			elem[ name ] ? name : null :
			attr.specified ? attr.value : null :
		null;
};

Expr = Sizzle.selectors = {

	// Can be adjusted by the user
	cacheLength: 50,

	createPseudo: markFunction,

	match: matchExpr,

	order: new RegExp( "ID|TAG" +
		(assertUsableName ? "|NAME" : "") +
		(assertUsableClassName ? "|CLASS" : "")
	),

	// IE6/7 return a modified href
	attrHandle: assertHrefNotNormalized ?
		{} :
		{
			"href": function( elem ) {
				return elem.getAttribute( "href", 2 );
			},
			"type": function( elem ) {
				return elem.getAttribute("type");
			}
		},

	find: {
		"ID": assertGetIdNotName ?
			function( id, context, xml ) {
				if ( typeof context.getElementById !== strundefined && !xml ) {
					var m = context.getElementById( id );
					// Check parentNode to catch when Blackberry 4.6 returns
					// nodes that are no longer in the document #6963
					return m && m.parentNode ? [m] : [];
				}
			} :
			function( id, context, xml ) {
				if ( typeof context.getElementById !== strundefined && !xml ) {
					var m = context.getElementById( id );

					return m ?
						m.id === id || typeof m.getAttributeNode !== strundefined && m.getAttributeNode("id").value === id ?
							[m] :
							undefined :
						[];
				}
			},

		"TAG": assertTagNameNoComments ?
			function( tag, context ) {
				if ( typeof context.getElementsByTagName !== strundefined ) {
					return context.getElementsByTagName( tag );
				}
			} :
			function( tag, context ) {
				var results = context.getElementsByTagName( tag );

				// Filter out possible comments
				if ( tag === "*" ) {
					var elem,
						tmp = [],
						i = 0;

					for ( ; (elem = results[i]); i++ ) {
						if ( elem.nodeType === 1 ) {
							tmp.push( elem );
						}
					}

					return tmp;
				}
				return results;
			},

		"NAME": function( tag, context ) {
			if ( typeof context.getElementsByName !== strundefined ) {
				return context.getElementsByName( name );
			}
		},

		"CLASS": function( className, context, xml ) {
			if ( typeof context.getElementsByClassName !== strundefined && !xml ) {
				return context.getElementsByClassName( className );
			}
		}
	},

	relative: {
		">": { dir: "parentNode", first: true },
		" ": { dir: "parentNode" },
		"+": { dir: "previousSibling", first: true },
		"~": { dir: "previousSibling" }
	},

	preFilter: {
		"ATTR": function( match ) {
			match[1] = match[1].replace( rbackslash, "" );

			// Move the given value to match[3] whether quoted or unquoted
			match[3] = ( match[4] || match[5] || "" ).replace( rbackslash, "" );

			if ( match[2] === "~=" ) {
				match[3] = " " + match[3] + " ";
			}

			return match.slice( 0, 4 );
		},

		"CHILD": function( match ) {
			/* matches from matchExpr.CHILD
				1 type (only|nth|...)
				2 argument (even|odd|\d*|\d*n([+-]\d+)?|...)
				3 xn-component of xn+y argument ([+-]?\d*n|)
				4 sign of xn-component
				5 x of xn-component
				6 sign of y-component
				7 y of y-component
			*/
			match[1] = match[1].toLowerCase();

			if ( match[1] === "nth" ) {
				// nth-child requires argument
				if ( !match[2] ) {
					Sizzle.error( match[0] );
				}

				// numeric x and y parameters for Expr.filter.CHILD
				// remember that false/true cast respectively to 0/1
				match[3] = +( match[3] ? match[4] + (match[5] || 1) : 2 * ( match[2] === "even" || match[2] === "odd" ) );
				match[4] = +( ( match[6] + match[7] ) || match[2] === "odd" );

			// other types prohibit arguments
			} else if ( match[2] ) {
				Sizzle.error( match[0] );
			}

			return match;
		},

		"PSEUDO": function( match, context, xml ) {
			var unquoted, excess;
			if ( matchExpr["CHILD"].test( match[0] ) ) {
				return null;
			}

			if ( match[3] ) {
				match[2] = match[3];
			} else if ( (unquoted = match[4]) ) {
				// Only check arguments that contain a pseudo
				if ( rpseudo.test(unquoted) &&
					// Get excess from tokenize (recursively)
					(excess = tokenize( unquoted, context, xml, true )) &&
					// advance to the next closing parenthesis
					(excess = unquoted.indexOf( ")", unquoted.length - excess ) - unquoted.length) ) {

					// excess is a negative index
					unquoted = unquoted.slice( 0, excess );
					match[0] = match[0].slice( 0, excess );
				}
				match[2] = unquoted;
			}

			// Return only captures needed by the pseudo filter method (type and argument)
			return match.slice( 0, 3 );
		}
	},

	filter: {
		"ID": assertGetIdNotName ?
			function( id ) {
				id = id.replace( rbackslash, "" );
				return function( elem ) {
					return elem.getAttribute("id") === id;
				};
			} :
			function( id ) {
				id = id.replace( rbackslash, "" );
				return function( elem ) {
					var node = typeof elem.getAttributeNode !== strundefined && elem.getAttributeNode("id");
					return node && node.value === id;
				};
			},

		"TAG": function( nodeName ) {
			if ( nodeName === "*" ) {
				return function() { return true; };
			}
			nodeName = nodeName.replace( rbackslash, "" ).toLowerCase();

			return function( elem ) {
				return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;
			};
		},

		"CLASS": function( className ) {
			var pattern = classCache[ expando ][ className ];
			if ( !pattern ) {
				pattern = classCache( className, new RegExp("(^|" + whitespace + ")" + className + "(" + whitespace + "|$)") );
			}
			return function( elem ) {
				return pattern.test( elem.className || (typeof elem.getAttribute !== strundefined && elem.getAttribute("class")) || "" );
			};
		},

		"ATTR": function( name, operator, check ) {
			if ( !operator ) {
				return function( elem ) {
					return Sizzle.attr( elem, name ) != null;
				};
			}

			return function( elem ) {
				var result = Sizzle.attr( elem, name ),
					value = result + "";

				if ( result == null ) {
					return operator === "!=";
				}

				switch ( operator ) {
					case "=":
						return value === check;
					case "!=":
						return value !== check;
					case "^=":
						return check && value.indexOf( check ) === 0;
					case "*=":
						return check && value.indexOf( check ) > -1;
					case "$=":
						return check && value.substr( value.length - check.length ) === check;
					case "~=":
						return ( " " + value + " " ).indexOf( check ) > -1;
					case "|=":
						return value === check || value.substr( 0, check.length + 1 ) === check + "-";
				}
			};
		},

		"CHILD": function( type, argument, first, last ) {

			if ( type === "nth" ) {
				var doneName = done++;

				return function( elem ) {
					var parent, diff,
						count = 0,
						node = elem;

					if ( first === 1 && last === 0 ) {
						return true;
					}

					parent = elem.parentNode;

					if ( parent && (parent[ expando ] !== doneName || !elem.sizset) ) {
						for ( node = parent.firstChild; node; node = node.nextSibling ) {
							if ( node.nodeType === 1 ) {
								node.sizset = ++count;
								if ( node === elem ) {
									break;
								}
							}
						}

						parent[ expando ] = doneName;
					}

					diff = elem.sizset - last;

					if ( first === 0 ) {
						return diff === 0;

					} else {
						return ( diff % first === 0 && diff / first >= 0 );
					}
				};
			}

			return function( elem ) {
				var node = elem;

				switch ( type ) {
					case "only":
					case "first":
						while ( (node = node.previousSibling) ) {
							if ( node.nodeType === 1 ) {
								return false;
							}
						}

						if ( type === "first" ) {
							return true;
						}

						node = elem;

						/* falls through */
					case "last":
						while ( (node = node.nextSibling) ) {
							if ( node.nodeType === 1 ) {
								return false;
							}
						}

						return true;
				}
			};
		},

		"PSEUDO": function( pseudo, argument, context, xml ) {
			// pseudo-class names are case-insensitive
			// http://www.w3.org/TR/selectors/#pseudo-classes
			// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters
			var args,
				fn = Expr.pseudos[ pseudo ] || Expr.pseudos[ pseudo.toLowerCase() ];

			if ( !fn ) {
				Sizzle.error( "unsupported pseudo: " + pseudo );
			}

			// The user may use createPseudo to indicate that
			// arguments are needed to create the filter function
			// just as Sizzle does
			if ( !fn[ expando ] ) {
				if ( fn.length > 1 ) {
					args = [ pseudo, pseudo, "", argument ];
					return function( elem ) {
						return fn( elem, 0, args );
					};
				}
				return fn;
			}

			return fn( argument, context, xml );
		}
	},

	pseudos: {
		"not": markFunction(function( selector, context, xml ) {
			// Trim the selector passed to compile
			// to avoid treating leading and trailing
			// spaces as combinators
			var matcher = compile( selector.replace( rtrim, "$1" ), context, xml );
			return function( elem ) {
				return !matcher( elem );
			};
		}),

		"enabled": function( elem ) {
			return elem.disabled === false;
		},

		"disabled": function( elem ) {
			return elem.disabled === true;
		},

		"checked": function( elem ) {
			// In CSS3, :checked should return both checked and selected elements
			// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
			var nodeName = elem.nodeName.toLowerCase();
			return (nodeName === "input" && !!elem.checked) || (nodeName === "option" && !!elem.selected);
		},

		"selected": function( elem ) {
			// Accessing this property makes selected-by-default
			// options in Safari work properly
			if ( elem.parentNode ) {
				elem.parentNode.selectedIndex;
			}

			return elem.selected === true;
		},

		"parent": function( elem ) {
			return !Expr.pseudos["empty"]( elem );
		},

		"empty": function( elem ) {
			// http://www.w3.org/TR/selectors/#empty-pseudo
			// :empty is only affected by element nodes and content nodes(including text(3), cdata(4)),
			//   not comment, processing instructions, or others
			// Thanks to Diego Perini for the nodeName shortcut
			//   Greater than "@" means alpha characters (specifically not starting with "#" or "?")
			var nodeType;
			elem = elem.firstChild;
			while ( elem ) {
				if ( elem.nodeName > "@" || (nodeType = elem.nodeType) === 3 || nodeType === 4 ) {
					return false;
				}
				elem = elem.nextSibling;
			}
			return true;
		},

		"contains": markFunction(function( text ) {
			return function( elem ) {
				return ( elem.textContent || elem.innerText || getText( elem ) ).indexOf( text ) > -1;
			};
		}),

		"has": markFunction(function( selector ) {
			return function( elem ) {
				return Sizzle( selector, elem ).length > 0;
			};
		}),

		"header": function( elem ) {
			return rheader.test( elem.nodeName );
		},

		"text": function( elem ) {
			var type, attr;
			// IE6 and 7 will map elem.type to 'text' for new HTML5 types (search, etc)
			// use getAttribute instead to test this case
			return elem.nodeName.toLowerCase() === "input" &&
				(type = elem.type) === "text" &&
				( (attr = elem.getAttribute("type")) == null || attr.toLowerCase() === type );
		},

		// Input types
		"radio": createInputPseudo("radio"),
		"checkbox": createInputPseudo("checkbox"),
		"file": createInputPseudo("file"),
		"password": createInputPseudo("password"),
		"image": createInputPseudo("image"),

		"submit": createButtonPseudo("submit"),
		"reset": createButtonPseudo("reset"),

		"button": function( elem ) {
			var name = elem.nodeName.toLowerCase();
			return name === "input" && elem.type === "button" || name === "button";
		},

		"input": function( elem ) {
			return rinputs.test( elem.nodeName );
		},

		"focus": function( elem ) {
			var doc = elem.ownerDocument;
			return elem === doc.activeElement && (!doc.hasFocus || doc.hasFocus()) && !!(elem.type || elem.href);
		},

		"active": function( elem ) {
			return elem === elem.ownerDocument.activeElement;
		}
	},

	setFilters: {
		"first": function( elements, argument, not ) {
			return not ? elements.slice( 1 ) : [ elements[0] ];
		},

		"last": function( elements, argument, not ) {
			var elem = elements.pop();
			return not ? elements : [ elem ];
		},

		"even": function( elements, argument, not ) {
			var results = [],
				i = not ? 1 : 0,
				len = elements.length;
			for ( ; i < len; i = i + 2 ) {
				results.push( elements[i] );
			}
			return results;
		},

		"odd": function( elements, argument, not ) {
			var results = [],
				i = not ? 0 : 1,
				len = elements.length;
			for ( ; i < len; i = i + 2 ) {
				results.push( elements[i] );
			}
			return results;
		},

		"lt": function( elements, argument, not ) {
			return not ? elements.slice( +argument ) : elements.slice( 0, +argument );
		},

		"gt": function( elements, argument, not ) {
			return not ? elements.slice( 0, +argument + 1 ) : elements.slice( +argument + 1 );
		},

		"eq": function( elements, argument, not ) {
			var elem = elements.splice( +argument, 1 );
			return not ? elements : elem;
		}
	}
};

function siblingCheck( a, b, ret ) {
	if ( a === b ) {
		return ret;
	}

	var cur = a.nextSibling;

	while ( cur ) {
		if ( cur === b ) {
			return -1;
		}

		cur = cur.nextSibling;
	}

	return 1;
}

sortOrder = docElem.compareDocumentPosition ?
	function( a, b ) {
		if ( a === b ) {
			hasDuplicate = true;
			return 0;
		}

		return ( !a.compareDocumentPosition || !b.compareDocumentPosition ?
			a.compareDocumentPosition :
			a.compareDocumentPosition(b) & 4
		) ? -1 : 1;
	} :
	function( a, b ) {
		// The nodes are identical, we can exit early
		if ( a === b ) {
			hasDuplicate = true;
			return 0;

		// Fallback to using sourceIndex (in IE) if it's available on both nodes
		} else if ( a.sourceIndex && b.sourceIndex ) {
			return a.sourceIndex - b.sourceIndex;
		}

		var al, bl,
			ap = [],
			bp = [],
			aup = a.parentNode,
			bup = b.parentNode,
			cur = aup;

		// If the nodes are siblings (or identical) we can do a quick check
		if ( aup === bup ) {
			return siblingCheck( a, b );

		// If no parents were found then the nodes are disconnected
		} else if ( !aup ) {
			return -1;

		} else if ( !bup ) {
			return 1;
		}

		// Otherwise they're somewhere else in the tree so we need
		// to build up a full list of the parentNodes for comparison
		while ( cur ) {
			ap.unshift( cur );
			cur = cur.parentNode;
		}

		cur = bup;

		while ( cur ) {
			bp.unshift( cur );
			cur = cur.parentNode;
		}

		al = ap.length;
		bl = bp.length;

		// Start walking down the tree looking for a discrepancy
		for ( var i = 0; i < al && i < bl; i++ ) {
			if ( ap[i] !== bp[i] ) {
				return siblingCheck( ap[i], bp[i] );
			}
		}

		// We ended someplace up the tree so do a sibling check
		return i === al ?
			siblingCheck( a, bp[i], -1 ) :
			siblingCheck( ap[i], b, 1 );
	};

// Always assume the presence of duplicates if sort doesn't
// pass them to our comparison function (as in Google Chrome).
[0, 0].sort( sortOrder );
baseHasDuplicate = !hasDuplicate;

// Document sorting and removing duplicates
Sizzle.uniqueSort = function( results ) {
	var elem,
		i = 1;

	hasDuplicate = baseHasDuplicate;
	results.sort( sortOrder );

	if ( hasDuplicate ) {
		for ( ; (elem = results[i]); i++ ) {
			if ( elem === results[ i - 1 ] ) {
				results.splice( i--, 1 );
			}
		}
	}

	return results;
};

Sizzle.error = function( msg ) {
	throw new Error( "Syntax error, unrecognized expression: " + msg );
};

function tokenize( selector, context, xml, parseOnly ) {
	var matched, match, tokens, type,
		soFar, groups, group, i,
		preFilters, filters,
		checkContext = !xml && context !== document,
		// Token cache should maintain spaces
		key = ( checkContext ? "<s>" : "" ) + selector.replace( rtrim, "$1<s>" ),
		cached = tokenCache[ expando ][ key ];

	if ( cached ) {
		return parseOnly ? 0 : slice.call( cached, 0 );
	}

	soFar = selector;
	groups = [];
	i = 0;
	preFilters = Expr.preFilter;
	filters = Expr.filter;

	while ( soFar ) {

		// Comma and first run
		if ( !matched || (match = rcomma.exec( soFar )) ) {
			if ( match ) {
				soFar = soFar.slice( match[0].length );
				tokens.selector = group;
			}
			groups.push( tokens = [] );
			group = "";

			// Need to make sure we're within a narrower context if necessary
			// Adding a descendant combinator will generate what is needed
			if ( checkContext ) {
				soFar = " " + soFar;
			}
		}

		matched = false;

		// Combinators
		if ( (match = rcombinators.exec( soFar )) ) {
			group += match[0];
			soFar = soFar.slice( match[0].length );

			// Cast descendant combinators to space
			matched = tokens.push({
				part: match.pop().replace( rtrim, " " ),
				string: match[0],
				captures: match
			});
		}

		// Filters
		for ( type in filters ) {
			if ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||
				( match = preFilters[ type ](match, context, xml) )) ) {

				group += match[0];
				soFar = soFar.slice( match[0].length );
				matched = tokens.push({
					part: type,
					string: match.shift(),
					captures: match
				});
			}
		}

		if ( !matched ) {
			break;
		}
	}

	// Attach the full group as a selector
	if ( group ) {
		tokens.selector = group;
	}

	// Return the length of the invalid excess
	// if we're just parsing
	// Otherwise, throw an error or return tokens
	return parseOnly ?
		soFar.length :
		soFar ?
			Sizzle.error( selector ) :
			// Cache the tokens
			slice.call( tokenCache(key, groups), 0 );
}

function addCombinator( matcher, combinator, context, xml ) {
	var dir = combinator.dir,
		doneName = done++;

	if ( !matcher ) {
		// If there is no matcher to check, check against the context
		matcher = function( elem ) {
			return elem === context;
		};
	}
	return combinator.first ?
		function( elem ) {
			while ( (elem = elem[ dir ]) ) {
				if ( elem.nodeType === 1 ) {
					return matcher( elem ) && elem;
				}
			}
		} :
		xml ?
			function( elem ) {
				while ( (elem = elem[ dir ]) ) {
					if ( elem.nodeType === 1 ) {
						if ( matcher( elem ) ) {
							return elem;
						}
					}
				}
			} :
			function( elem ) {
				var cache,
					dirkey = doneName + "." + dirruns,
					cachedkey = dirkey + "." + cachedruns;
				while ( (elem = elem[ dir ]) ) {
					if ( elem.nodeType === 1 ) {
						if ( (cache = elem[ expando ]) === cachedkey ) {
							return elem.sizset;
						} else if ( typeof cache === "string" && cache.indexOf(dirkey) === 0 ) {
							if ( elem.sizset ) {
								return elem;
							}
						} else {
							elem[ expando ] = cachedkey;
							if ( matcher( elem ) ) {
								elem.sizset = true;
								return elem;
							}
							elem.sizset = false;
						}
					}
				}
			};
}

function addMatcher( higher, deeper ) {
	return higher ?
		function( elem ) {
			var result = deeper( elem );
			return result && higher( result === true ? elem : result );
		} :
		deeper;
}

// ["TAG", ">", "ID", " ", "CLASS"]
function matcherFromTokens( tokens, context, xml ) {
	var token, matcher,
		i = 0;

	for ( ; (token = tokens[i]); i++ ) {
		if ( Expr.relative[ token.part ] ) {
			matcher = addCombinator( matcher, Expr.relative[ token.part ], context, xml );
		} else {
			matcher = addMatcher( matcher, Expr.filter[ token.part ].apply(null, token.captures.concat( context, xml )) );
		}
	}

	return matcher;
}

function matcherFromGroupMatchers( matchers ) {
	return function( elem ) {
		var matcher,
			j = 0;
		for ( ; (matcher = matchers[j]); j++ ) {
			if ( matcher(elem) ) {
				return true;
			}
		}
		return false;
	};
}

compile = Sizzle.compile = function( selector, context, xml ) {
	var group, i, len,
		cached = compilerCache[ expando ][ selector ];

	// Return a cached group function if already generated (context dependent)
	if ( cached && cached.context === context ) {
		return cached;
	}

	// Generate a function of recursive functions that can be used to check each element
	group = tokenize( selector, context, xml );
	for ( i = 0, len = group.length; i < len; i++ ) {
		group[i] = matcherFromTokens(group[i], context, xml);
	}

	// Cache the compiled function
	cached = compilerCache( selector, matcherFromGroupMatchers(group) );
	cached.context = context;
	cached.runs = cached.dirruns = 0;
	return cached;
};

function multipleContexts( selector, contexts, results, seed ) {
	var i = 0,
		len = contexts.length;
	for ( ; i < len; i++ ) {
		Sizzle( selector, contexts[i], results, seed );
	}
}

function handlePOSGroup( selector, posfilter, argument, contexts, seed, not ) {
	var results,
		fn = Expr.setFilters[ posfilter.toLowerCase() ];

	if ( !fn ) {
		Sizzle.error( posfilter );
	}

	if ( selector || !(results = seed) ) {
		multipleContexts( selector || "*", contexts, (results = []), seed );
	}

	return results.length > 0 ? fn( results, argument, not ) : [];
}

function handlePOS( groups, context, results, seed ) {
	var group, part, j, groupLen, token, selector,
		anchor, elements, match, matched,
		lastIndex, currentContexts, not,
		i = 0,
		len = groups.length,
		rpos = matchExpr["POS"],
		// This is generated here in case matchExpr["POS"] is extended
		rposgroups = new RegExp( "^" + rpos.source + "(?!" + whitespace + ")", "i" ),
		// This is for making sure non-participating
		// matching groups are represented cross-browser (IE6-8)
		setUndefined = function() {
			var i = 1,
				len = arguments.length - 2;
			for ( ; i < len; i++ ) {
				if ( arguments[i] === undefined ) {
					match[i] = undefined;
				}
			}
		};

	for ( ; i < len; i++ ) {
		group = groups[i];
		part = "";
		elements = seed;
		for ( j = 0, groupLen = group.length; j < groupLen; j++ ) {
			token = group[j];
			selector = token.string;
			if ( token.part === "PSEUDO" ) {
				// Reset regex index to 0
				rpos.exec("");
				anchor = 0;
				while ( (match = rpos.exec( selector )) ) {
					matched = true;
					lastIndex = rpos.lastIndex = match.index + match[0].length;
					if ( lastIndex > anchor ) {
						part += selector.slice( anchor, match.index );
						anchor = lastIndex;
						currentContexts = [ context ];

						if ( rcombinators.test(part) ) {
							if ( elements ) {
								currentContexts = elements;
							}
							elements = seed;
						}

						if ( (not = rendsWithNot.test( part )) ) {
							part = part.slice( 0, -5 ).replace( rcombinators, "$&*" );
							anchor++;
						}

						if ( match.length > 1 ) {
							match[0].replace( rposgroups, setUndefined );
						}
						elements = handlePOSGroup( part, match[1], match[2], currentContexts, elements, not );
					}
					part = "";
				}

			}

			if ( !matched ) {
				part += selector;
			}
			matched = false;
		}

		if ( part ) {
			if ( rcombinators.test(part) ) {
				multipleContexts( part, elements || [ context ], results, seed );
			} else {
				Sizzle( part, context, results, seed ? seed.concat(elements) : elements );
			}
		} else {
			push.apply( results, elements );
		}
	}

	// Do not sort if this is a single filter
	return len === 1 ? results : Sizzle.uniqueSort( results );
}

function select( selector, context, results, seed, xml ) {
	// Remove excessive whitespace
	selector = selector.replace( rtrim, "$1" );
	var elements, matcher, cached, elem,
		i, tokens, token, lastToken, findContext, type,
		match = tokenize( selector, context, xml ),
		contextNodeType = context.nodeType;

	// POS handling
	if ( matchExpr["POS"].test(selector) ) {
		return handlePOS( match, context, results, seed );
	}

	if ( seed ) {
		elements = slice.call( seed, 0 );

	// To maintain document order, only narrow the
	// set if there is one group
	} else if ( match.length === 1 ) {

		// Take a shortcut and set the context if the root selector is an ID
		if ( (tokens = slice.call( match[0], 0 )).length > 2 &&
				(token = tokens[0]).part === "ID" &&
				contextNodeType === 9 && !xml &&
				Expr.relative[ tokens[1].part ] ) {

			context = Expr.find["ID"]( token.captures[0].replace( rbackslash, "" ), context, xml )[0];
			if ( !context ) {
				return results;
			}

			selector = selector.slice( tokens.shift().string.length );
		}

		findContext = ( (match = rsibling.exec( tokens[0].string )) && !match.index && context.parentNode ) || context;

		// Reduce the set if possible
		lastToken = "";
		for ( i = tokens.length - 1; i >= 0; i-- ) {
			token = tokens[i];
			type = token.part;
			lastToken = token.string + lastToken;
			if ( Expr.relative[ type ] ) {
				break;
			}
			if ( Expr.order.test(type) ) {
				elements = Expr.find[ type ]( token.captures[0].replace( rbackslash, "" ), findContext, xml );
				if ( elements == null ) {
					continue;
				} else {
					selector = selector.slice( 0, selector.length - lastToken.length ) +
						lastToken.replace( matchExpr[ type ], "" );

					if ( !selector ) {
						push.apply( results, slice.call(elements, 0) );
					}

					break;
				}
			}
		}
	}

	// Only loop over the given elements once
	if ( selector ) {
		matcher = compile( selector, context, xml );
		dirruns = matcher.dirruns++;
		if ( elements == null ) {
			elements = Expr.find["TAG"]( "*", (rsibling.test( selector ) && context.parentNode) || context );
		}

		for ( i = 0; (elem = elements[i]); i++ ) {
			cachedruns = matcher.runs++;
			if ( matcher(elem) ) {
				results.push( elem );
			}
		}
	}

	return results;
}

if ( document.querySelectorAll ) {
	(function() {
		var disconnectedMatch,
			oldSelect = select,
			rescape = /'|\\/g,
			rattributeQuotes = /\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,
			rbuggyQSA = [],
			// matchesSelector(:active) reports false when true (IE9/Opera 11.5)
			// A support test would require too much code (would include document ready)
			// just skip matchesSelector for :active
			rbuggyMatches = [":active"],
			matches = docElem.matchesSelector ||
				docElem.mozMatchesSelector ||
				docElem.webkitMatchesSelector ||
				docElem.oMatchesSelector ||
				docElem.msMatchesSelector;

		// Build QSA regex
		// Regex strategy adopted from Diego Perini
		assert(function( div ) {
			// Select is set to empty string on purpose
			// This is to test IE's treatment of not explictly
			// setting a boolean content attribute,
			// since its presence should be enough
			// http://bugs.jquery.com/ticket/12359
			div.innerHTML = "<select><option selected=''></option></select>";

			// IE8 - Some boolean attributes are not treated correctly
			if ( !div.querySelectorAll("[selected]").length ) {
				rbuggyQSA.push( "\\[" + whitespace + "*(?:checked|disabled|ismap|multiple|readonly|selected|value)" );
			}

			// Webkit/Opera - :checked should return selected option elements
			// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
			// IE8 throws error here (do not put tests after this one)
			if ( !div.querySelectorAll(":checked").length ) {
				rbuggyQSA.push(":checked");
			}
		});

		assert(function( div ) {

			// Opera 10-12/IE9 - ^= $= *= and empty values
			// Should not select anything
			div.innerHTML = "<p test=''></p>";
			if ( div.querySelectorAll("[test^='']").length ) {
				rbuggyQSA.push( "[*^$]=" + whitespace + "*(?:\"\"|'')" );
			}

			// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)
			// IE8 throws error here (do not put tests after this one)
			div.innerHTML = "<input type='hidden'/>";
			if ( !div.querySelectorAll(":enabled").length ) {
				rbuggyQSA.push(":enabled", ":disabled");
			}
		});

		rbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join("|") );

		select = function( selector, context, results, seed, xml ) {
			// Only use querySelectorAll when not filtering,
			// when this is not xml,
			// and when no QSA bugs apply
			if ( !seed && !xml && (!rbuggyQSA || !rbuggyQSA.test( selector )) ) {
				if ( context.nodeType === 9 ) {
					try {
						push.apply( results, slice.call(context.querySelectorAll( selector ), 0) );
						return results;
					} catch(qsaError) {}
				// qSA works strangely on Element-rooted queries
				// We can work around this by specifying an extra ID on the root
				// and working up from there (Thanks to Andrew Dupont for the technique)
				// IE 8 doesn't work on object elements
				} else if ( context.nodeType === 1 && context.nodeName.toLowerCase() !== "object" ) {
					var groups, i, len,
						old = context.getAttribute("id"),
						nid = old || expando,
						newContext = rsibling.test( selector ) && context.parentNode || context;

					if ( old ) {
						nid = nid.replace( rescape, "\\$&" );
					} else {
						context.setAttribute( "id", nid );
					}

					groups = tokenize(selector, context, xml);
					// Trailing space is unnecessary
					// There is always a context check
					nid = "[id='" + nid + "']";
					for ( i = 0, len = groups.length; i < len; i++ ) {
						groups[i] = nid + groups[i].selector;
					}
					try {
						push.apply( results, slice.call( newContext.querySelectorAll(
							groups.join(",")
						), 0 ) );
						return results;
					} catch(qsaError) {
					} finally {
						if ( !old ) {
							context.removeAttribute("id");
						}
					}
				}
			}

			return oldSelect( selector, context, results, seed, xml );
		};

		if ( matches ) {
			assert(function( div ) {
				// Check to see if it's possible to do matchesSelector
				// on a disconnected node (IE 9)
				disconnectedMatch = matches.call( div, "div" );

				// This should fail with an exception
				// Gecko does not error, returns false instead
				try {
					matches.call( div, "[test!='']:sizzle" );
					rbuggyMatches.push( matchExpr["PSEUDO"].source, matchExpr["POS"].source, "!=" );
				} catch ( e ) {}
			});

			// rbuggyMatches always contains :active, so no need for a length check
			rbuggyMatches = /* rbuggyMatches.length && */ new RegExp( rbuggyMatches.join("|") );

			Sizzle.matchesSelector = function( elem, expr ) {
				// Make sure that attribute selectors are quoted
				expr = expr.replace( rattributeQuotes, "='$1']" );

				// rbuggyMatches always contains :active, so no need for an existence check
				if ( !isXML( elem ) && !rbuggyMatches.test( expr ) && (!rbuggyQSA || !rbuggyQSA.test( expr )) ) {
					try {
						var ret = matches.call( elem, expr );

						// IE 9's matchesSelector returns false on disconnected nodes
						if ( ret || disconnectedMatch ||
								// As well, disconnected nodes are said to be in a document
								// fragment in IE 9
								elem.document && elem.document.nodeType !== 11 ) {
							return ret;
						}
					} catch(e) {}
				}

				return Sizzle( expr, null, null, [ elem ] ).length > 0;
			};
		}
	})();
}

// Deprecated
Expr.setFilters["nth"] = Expr.setFilters["eq"];

// Back-compat
Expr.filters = Expr.pseudos;

// Override sizzle attribute retrieval
Sizzle.attr = jQuery.attr;
jQuery.find = Sizzle;
jQuery.expr = Sizzle.selectors;
jQuery.expr[":"] = jQuery.expr.pseudos;
jQuery.unique = Sizzle.uniqueSort;
jQuery.text = Sizzle.getText;
jQuery.isXMLDoc = Sizzle.isXML;
jQuery.contains = Sizzle.contains;


})( window );
var runtil = /Until$/,
	rparentsprev = /^(?:parents|prev(?:Until|All))/,
	isSimple = /^.[^:#\[\.,]*$/,
	rneedsContext = jQuery.expr.match.needsContext,
	// methods guaranteed to produce a unique set when starting from a unique set
	guaranteedUnique = {
		children: true,
		contents: true,
		next: true,
		prev: true
	};

jQuery.fn.extend({
	find: function( selector ) {
		var i, l, length, n, r, ret,
			self = this;

		if ( typeof selector !== "string" ) {
			return jQuery( selector ).filter(function() {
				for ( i = 0, l = self.length; i < l; i++ ) {
					if ( jQuery.contains( self[ i ], this ) ) {
						return true;
					}
				}
			});
		}

		ret = this.pushStack( "", "find", selector );

		for ( i = 0, l = this.length; i < l; i++ ) {
			length = ret.length;
			jQuery.find( selector, this[i], ret );

			if ( i > 0 ) {
				// Make sure that the results are unique
				for ( n = length; n < ret.length; n++ ) {
					for ( r = 0; r < length; r++ ) {
						if ( ret[r] === ret[n] ) {
							ret.splice(n--, 1);
							break;
						}
					}
				}
			}
		}

		return ret;
	},

	has: function( target ) {
		var i,
			targets = jQuery( target, this ),
			len = targets.length;

		return this.filter(function() {
			for ( i = 0; i < len; i++ ) {
				if ( jQuery.contains( this, targets[i] ) ) {
					return true;
				}
			}
		});
	},

	not: function( selector ) {
		return this.pushStack( winnow(this, selector, false), "not", selector);
	},

	filter: function( selector ) {
		return this.pushStack( winnow(this, selector, true), "filter", selector );
	},

	is: function( selector ) {
		return !!selector && (
			typeof selector === "string" ?
				// If this is a positional/relative selector, check membership in the returned set
				// so $("p:first").is("p:last") won't return true for a doc with two "p".
				rneedsContext.test( selector ) ?
					jQuery( selector, this.context ).index( this[0] ) >= 0 :
					jQuery.filter( selector, this ).length > 0 :
				this.filter( selector ).length > 0 );
	},

	closest: function( selectors, context ) {
		var cur,
			i = 0,
			l = this.length,
			ret = [],
			pos = rneedsContext.test( selectors ) || typeof selectors !== "string" ?
				jQuery( selectors, context || this.context ) :
				0;

		for ( ; i < l; i++ ) {
			cur = this[i];

			while ( cur && cur.ownerDocument && cur !== context && cur.nodeType !== 11 ) {
				if ( pos ? pos.index(cur) > -1 : jQuery.find.matchesSelector(cur, selectors) ) {
					ret.push( cur );
					break;
				}
				cur = cur.parentNode;
			}
		}

		ret = ret.length > 1 ? jQuery.unique( ret ) : ret;

		return this.pushStack( ret, "closest", selectors );
	},

	// Determine the position of an element within
	// the matched set of elements
	index: function( elem ) {

		// No argument, return index in parent
		if ( !elem ) {
			return ( this[0] && this[0].parentNode ) ? this.prevAll().length : -1;
		}

		// index in selector
		if ( typeof elem === "string" ) {
			return jQuery.inArray( this[0], jQuery( elem ) );
		}

		// Locate the position of the desired element
		return jQuery.inArray(
			// If it receives a jQuery object, the first element is used
			elem.jquery ? elem[0] : elem, this );
	},

	add: function( selector, context ) {
		var set = typeof selector === "string" ?
				jQuery( selector, context ) :
				jQuery.makeArray( selector && selector.nodeType ? [ selector ] : selector ),
			all = jQuery.merge( this.get(), set );

		return this.pushStack( isDisconnected( set[0] ) || isDisconnected( all[0] ) ?
			all :
			jQuery.unique( all ) );
	},

	addBack: function( selector ) {
		return this.add( selector == null ?
			this.prevObject : this.prevObject.filter(selector)
		);
	}
});

jQuery.fn.andSelf = jQuery.fn.addBack;

// A painfully simple check to see if an element is disconnected
// from a document (should be improved, where feasible).
function isDisconnected( node ) {
	return !node || !node.parentNode || node.parentNode.nodeType === 11;
}

function sibling( cur, dir ) {
	do {
		cur = cur[ dir ];
	} while ( cur && cur.nodeType !== 1 );

	return cur;
}

jQuery.each({
	parent: function( elem ) {
		var parent = elem.parentNode;
		return parent && parent.nodeType !== 11 ? parent : null;
	},
	parents: function( elem ) {
		return jQuery.dir( elem, "parentNode" );
	},
	parentsUntil: function( elem, i, until ) {
		return jQuery.dir( elem, "parentNode", until );
	},
	next: function( elem ) {
		return sibling( elem, "nextSibling" );
	},
	prev: function( elem ) {
		return sibling( elem, "previousSibling" );
	},
	nextAll: function( elem ) {
		return jQuery.dir( elem, "nextSibling" );
	},
	prevAll: function( elem ) {
		return jQuery.dir( elem, "previousSibling" );
	},
	nextUntil: function( elem, i, until ) {
		return jQuery.dir( elem, "nextSibling", until );
	},
	prevUntil: function( elem, i, until ) {
		return jQuery.dir( elem, "previousSibling", until );
	},
	siblings: function( elem ) {
		return jQuery.sibling( ( elem.parentNode || {} ).firstChild, elem );
	},
	children: function( elem ) {
		return jQuery.sibling( elem.firstChild );
	},
	contents: function( elem ) {
		return jQuery.nodeName( elem, "iframe" ) ?
			elem.contentDocument || elem.contentWindow.document :
			jQuery.merge( [], elem.childNodes );
	}
}, function( name, fn ) {
	jQuery.fn[ name ] = function( until, selector ) {
		var ret = jQuery.map( this, fn, until );

		if ( !runtil.test( name ) ) {
			selector = until;
		}

		if ( selector && typeof selector === "string" ) {
			ret = jQuery.filter( selector, ret );
		}

		ret = this.length > 1 && !guaranteedUnique[ name ] ? jQuery.unique( ret ) : ret;

		if ( this.length > 1 && rparentsprev.test( name ) ) {
			ret = ret.reverse();
		}

		return this.pushStack( ret, name, core_slice.call( arguments ).join(",") );
	};
});

jQuery.extend({
	filter: function( expr, elems, not ) {
		if ( not ) {
			expr = ":not(" + expr + ")";
		}

		return elems.length === 1 ?
			jQuery.find.matchesSelector(elems[0], expr) ? [ elems[0] ] : [] :
			jQuery.find.matches(expr, elems);
	},

	dir: function( elem, dir, until ) {
		var matched = [],
			cur = elem[ dir ];

		while ( cur && cur.nodeType !== 9 && (until === undefined || cur.nodeType !== 1 || !jQuery( cur ).is( until )) ) {
			if ( cur.nodeType === 1 ) {
				matched.push( cur );
			}
			cur = cur[dir];
		}
		return matched;
	},

	sibling: function( n, elem ) {
		var r = [];

		for ( ; n; n = n.nextSibling ) {
			if ( n.nodeType === 1 && n !== elem ) {
				r.push( n );
			}
		}

		return r;
	}
});

// Implement the identical functionality for filter and not
function winnow( elements, qualifier, keep ) {

	// Can't pass null or undefined to indexOf in Firefox 4
	// Set to 0 to skip string check
	qualifier = qualifier || 0;

	if ( jQuery.isFunction( qualifier ) ) {
		return jQuery.grep(elements, function( elem, i ) {
			var retVal = !!qualifier.call( elem, i, elem );
			return retVal === keep;
		});

	} else if ( qualifier.nodeType ) {
		return jQuery.grep(elements, function( elem, i ) {
			return ( elem === qualifier ) === keep;
		});

	} else if ( typeof qualifier === "string" ) {
		var filtered = jQuery.grep(elements, function( elem ) {
			return elem.nodeType === 1;
		});

		if ( isSimple.test( qualifier ) ) {
			return jQuery.filter(qualifier, filtered, !keep);
		} else {
			qualifier = jQuery.filter( qualifier, filtered );
		}
	}

	return jQuery.grep(elements, function( elem, i ) {
		return ( jQuery.inArray( elem, qualifier ) >= 0 ) === keep;
	});
}
function createSafeFragment( document ) {
	var list = nodeNames.split( "|" ),
	safeFrag = document.createDocumentFragment();

	if ( safeFrag.createElement ) {
		while ( list.length ) {
			safeFrag.createElement(
				list.pop()
			);
		}
	}
	return safeFrag;
}

var nodeNames = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|" +
		"header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
	rinlinejQuery = / jQuery\d+="(?:null|\d+)"/g,
	rleadingWhitespace = /^\s+/,
	rxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
	rtagName = /<([\w:]+)/,
	rtbody = /<tbody/i,
	rhtml = /<|&#?\w+;/,
	rnoInnerhtml = /<(?:script|style|link)/i,
	rnocache = /<(?:script|object|embed|option|style)/i,
	rnoshimcache = new RegExp("<(?:" + nodeNames + ")[\\s/>]", "i"),
	rcheckableType = /^(?:checkbox|radio)$/,
	// checked="checked" or checked
	rchecked = /checked\s*(?:[^=]|=\s*.checked.)/i,
	rscriptType = /\/(java|ecma)script/i,
	rcleanScript = /^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,
	wrapMap = {
		option: [ 1, "<select multiple='multiple'>", "</select>" ],
		legend: [ 1, "<fieldset>", "</fieldset>" ],
		thead: [ 1, "<table>", "</table>" ],
		tr: [ 2, "<table><tbody>", "</tbody></table>" ],
		td: [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ],
		col: [ 2, "<table><tbody></tbody><colgroup>", "</colgroup></table>" ],
		area: [ 1, "<map>", "</map>" ],
		_default: [ 0, "", "" ]
	},
	safeFragment = createSafeFragment( document ),
	fragmentDiv = safeFragment.appendChild( document.createElement("div") );

wrapMap.optgroup = wrapMap.option;
wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;
wrapMap.th = wrapMap.td;

// IE6-8 can't serialize link, script, style, or any html5 (NoScope) tags,
// unless wrapped in a div with non-breaking characters in front of it.
if ( !jQuery.support.htmlSerialize ) {
	wrapMap._default = [ 1, "X<div>", "</div>" ];
}

jQuery.fn.extend({
	text: function( value ) {
		return jQuery.access( this, function( value ) {
			return value === undefined ?
				jQuery.text( this ) :
				this.empty().append( ( this[0] && this[0].ownerDocument || document ).createTextNode( value ) );
		}, null, value, arguments.length );
	},

	wrapAll: function( html ) {
		if ( jQuery.isFunction( html ) ) {
			return this.each(function(i) {
				jQuery(this).wrapAll( html.call(this, i) );
			});
		}

		if ( this[0] ) {
			// The elements to wrap the target around
			var wrap = jQuery( html, this[0].ownerDocument ).eq(0).clone(true);

			if ( this[0].parentNode ) {
				wrap.insertBefore( this[0] );
			}

			wrap.map(function() {
				var elem = this;

				while ( elem.firstChild && elem.firstChild.nodeType === 1 ) {
					elem = elem.firstChild;
				}

				return elem;
			}).append( this );
		}

		return this;
	},

	wrapInner: function( html ) {
		if ( jQuery.isFunction( html ) ) {
			return this.each(function(i) {
				jQuery(this).wrapInner( html.call(this, i) );
			});
		}

		return this.each(function() {
			var self = jQuery( this ),
				contents = self.contents();

			if ( contents.length ) {
				contents.wrapAll( html );

			} else {
				self.append( html );
			}
		});
	},

	wrap: function( html ) {
		var isFunction = jQuery.isFunction( html );

		return this.each(function(i) {
			jQuery( this ).wrapAll( isFunction ? html.call(this, i) : html );
		});
	},

	unwrap: function() {
		return this.parent().each(function() {
			if ( !jQuery.nodeName( this, "body" ) ) {
				jQuery( this ).replaceWith( this.childNodes );
			}
		}).end();
	},

	append: function() {
		return this.domManip(arguments, true, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 ) {
				this.appendChild( elem );
			}
		});
	},

	prepend: function() {
		return this.domManip(arguments, true, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 ) {
				this.insertBefore( elem, this.firstChild );
			}
		});
	},

	before: function() {
		if ( !isDisconnected( this[0] ) ) {
			return this.domManip(arguments, false, function( elem ) {
				this.parentNode.insertBefore( elem, this );
			});
		}

		if ( arguments.length ) {
			var set = jQuery.clean( arguments );
			return this.pushStack( jQuery.merge( set, this ), "before", this.selector );
		}
	},

	after: function() {
		if ( !isDisconnected( this[0] ) ) {
			return this.domManip(arguments, false, function( elem ) {
				this.parentNode.insertBefore( elem, this.nextSibling );
			});
		}

		if ( arguments.length ) {
			var set = jQuery.clean( arguments );
			return this.pushStack( jQuery.merge( this, set ), "after", this.selector );
		}
	},

	// keepData is for internal use only--do not document
	remove: function( selector, keepData ) {
		var elem,
			i = 0;

		for ( ; (elem = this[i]) != null; i++ ) {
			if ( !selector || jQuery.filter( selector, [ elem ] ).length ) {
				if ( !keepData && elem.nodeType === 1 ) {
					jQuery.cleanData( elem.getElementsByTagName("*") );
					jQuery.cleanData( [ elem ] );
				}

				if ( elem.parentNode ) {
					elem.parentNode.removeChild( elem );
				}
			}
		}

		return this;
	},

	empty: function() {
		var elem,
			i = 0;

		for ( ; (elem = this[i]) != null; i++ ) {
			// Remove element nodes and prevent memory leaks
			if ( elem.nodeType === 1 ) {
				jQuery.cleanData( elem.getElementsByTagName("*") );
			}

			// Remove any remaining nodes
			while ( elem.firstChild ) {
				elem.removeChild( elem.firstChild );
			}
		}

		return this;
	},

	clone: function( dataAndEvents, deepDataAndEvents ) {
		dataAndEvents = dataAndEvents == null ? false : dataAndEvents;
		deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;

		return this.map( function () {
			return jQuery.clone( this, dataAndEvents, deepDataAndEvents );
		});
	},

	html: function( value ) {
		return jQuery.access( this, function( value ) {
			var elem = this[0] || {},
				i = 0,
				l = this.length;

			if ( value === undefined ) {
				return elem.nodeType === 1 ?
					elem.innerHTML.replace( rinlinejQuery, "" ) :
					undefined;
			}

			// See if we can take a shortcut and just use innerHTML
			if ( typeof value === "string" && !rnoInnerhtml.test( value ) &&
				( jQuery.support.htmlSerialize || !rnoshimcache.test( value )  ) &&
				( jQuery.support.leadingWhitespace || !rleadingWhitespace.test( value ) ) &&
				!wrapMap[ ( rtagName.exec( value ) || ["", ""] )[1].toLowerCase() ] ) {

				value = value.replace( rxhtmlTag, "<$1></$2>" );

				try {
					for (; i < l; i++ ) {
						// Remove element nodes and prevent memory leaks
						elem = this[i] || {};
						if ( elem.nodeType === 1 ) {
							jQuery.cleanData( elem.getElementsByTagName( "*" ) );
							elem.innerHTML = value;
						}
					}

					elem = 0;

				// If using innerHTML throws an exception, use the fallback method
				} catch(e) {}
			}

			if ( elem ) {
				this.empty().append( value );
			}
		}, null, value, arguments.length );
	},

	replaceWith: function( value ) {
		if ( !isDisconnected( this[0] ) ) {
			// Make sure that the elements are removed from the DOM before they are inserted
			// this can help fix replacing a parent with child elements
			if ( jQuery.isFunction( value ) ) {
				return this.each(function(i) {
					var self = jQuery(this), old = self.html();
					self.replaceWith( value.call( this, i, old ) );
				});
			}

			if ( typeof value !== "string" ) {
				value = jQuery( value ).detach();
			}

			return this.each(function() {
				var next = this.nextSibling,
					parent = this.parentNode;

				jQuery( this ).remove();

				if ( next ) {
					jQuery(next).before( value );
				} else {
					jQuery(parent).append( value );
				}
			});
		}

		return this.length ?
			this.pushStack( jQuery(jQuery.isFunction(value) ? value() : value), "replaceWith", value ) :
			this;
	},

	detach: function( selector ) {
		return this.remove( selector, true );
	},

	domManip: function( args, table, callback ) {

		// Flatten any nested arrays
		args = [].concat.apply( [], args );

		var results, first, fragment, iNoClone,
			i = 0,
			value = args[0],
			scripts = [],
			l = this.length;

		// We can't cloneNode fragments that contain checked, in WebKit
		if ( !jQuery.support.checkClone && l > 1 && typeof value === "string" && rchecked.test( value ) ) {
			return this.each(function() {
				jQuery(this).domManip( args, table, callback );
			});
		}

		if ( jQuery.isFunction(value) ) {
			return this.each(function(i) {
				var self = jQuery(this);
				args[0] = value.call( this, i, table ? self.html() : undefined );
				self.domManip( args, table, callback );
			});
		}

		if ( this[0] ) {
			results = jQuery.buildFragment( args, this, scripts );
			fragment = results.fragment;
			first = fragment.firstChild;

			if ( fragment.childNodes.length === 1 ) {
				fragment = first;
			}

			if ( first ) {
				table = table && jQuery.nodeName( first, "tr" );

				// Use the original fragment for the last item instead of the first because it can end up
				// being emptied incorrectly in certain situations (#8070).
				// Fragments from the fragment cache must always be cloned and never used in place.
				for ( iNoClone = results.cacheable || l - 1; i < l; i++ ) {
					callback.call(
						table && jQuery.nodeName( this[i], "table" ) ?
							findOrAppend( this[i], "tbody" ) :
							this[i],
						i === iNoClone ?
							fragment :
							jQuery.clone( fragment, true, true )
					);
				}
			}

			// Fix #11809: Avoid leaking memory
			fragment = first = null;

			if ( scripts.length ) {
				jQuery.each( scripts, function( i, elem ) {
					if ( elem.src ) {
						if ( jQuery.ajax ) {
							jQuery.ajax({
								url: elem.src,
								type: "GET",
								dataType: "script",
								async: false,
								global: false,
								"throws": true
							});
						} else {
							jQuery.error("no ajax");
						}
					} else {
						jQuery.globalEval( ( elem.text || elem.textContent || elem.innerHTML || "" ).replace( rcleanScript, "" ) );
					}

					if ( elem.parentNode ) {
						elem.parentNode.removeChild( elem );
					}
				});
			}
		}

		return this;
	}
});

function findOrAppend( elem, tag ) {
	return elem.getElementsByTagName( tag )[0] || elem.appendChild( elem.ownerDocument.createElement( tag ) );
}

function cloneCopyEvent( src, dest ) {

	if ( dest.nodeType !== 1 || !jQuery.hasData( src ) ) {
		return;
	}

	var type, i, l,
		oldData = jQuery._data( src ),
		curData = jQuery._data( dest, oldData ),
		events = oldData.events;

	if ( events ) {
		delete curData.handle;
		curData.events = {};

		for ( type in events ) {
			for ( i = 0, l = events[ type ].length; i < l; i++ ) {
				jQuery.event.add( dest, type, events[ type ][ i ] );
			}
		}
	}

	// make the cloned public data object a copy from the original
	if ( curData.data ) {
		curData.data = jQuery.extend( {}, curData.data );
	}
}

function cloneFixAttributes( src, dest ) {
	var nodeName;

	// We do not need to do anything for non-Elements
	if ( dest.nodeType !== 1 ) {
		return;
	}

	// clearAttributes removes the attributes, which we don't want,
	// but also removes the attachEvent events, which we *do* want
	if ( dest.clearAttributes ) {
		dest.clearAttributes();
	}

	// mergeAttributes, in contrast, only merges back on the
	// original attributes, not the events
	if ( dest.mergeAttributes ) {
		dest.mergeAttributes( src );
	}

	nodeName = dest.nodeName.toLowerCase();

	if ( nodeName === "object" ) {
		// IE6-10 improperly clones children of object elements using classid.
		// IE10 throws NoModificationAllowedError if parent is null, #12132.
		if ( dest.parentNode ) {
			dest.outerHTML = src.outerHTML;
		}

		// This path appears unavoidable for IE9. When cloning an object
		// element in IE9, the outerHTML strategy above is not sufficient.
		// If the src has innerHTML and the destination does not,
		// copy the src.innerHTML into the dest.innerHTML. #10324
		if ( jQuery.support.html5Clone && (src.innerHTML && !jQuery.trim(dest.innerHTML)) ) {
			dest.innerHTML = src.innerHTML;
		}

	} else if ( nodeName === "input" && rcheckableType.test( src.type ) ) {
		// IE6-8 fails to persist the checked state of a cloned checkbox
		// or radio button. Worse, IE6-7 fail to give the cloned element
		// a checked appearance if the defaultChecked value isn't also set

		dest.defaultChecked = dest.checked = src.checked;

		// IE6-7 get confused and end up setting the value of a cloned
		// checkbox/radio button to an empty string instead of "on"
		if ( dest.value !== src.value ) {
			dest.value = src.value;
		}

	// IE6-8 fails to return the selected option to the default selected
	// state when cloning options
	} else if ( nodeName === "option" ) {
		dest.selected = src.defaultSelected;

	// IE6-8 fails to set the defaultValue to the correct value when
	// cloning other types of input fields
	} else if ( nodeName === "input" || nodeName === "textarea" ) {
		dest.defaultValue = src.defaultValue;

	// IE blanks contents when cloning scripts
	} else if ( nodeName === "script" && dest.text !== src.text ) {
		dest.text = src.text;
	}

	// Event data gets referenced instead of copied if the expando
	// gets copied too
	dest.removeAttribute( jQuery.expando );
}

jQuery.buildFragment = function( args, context, scripts ) {
	var fragment, cacheable, cachehit,
		first = args[ 0 ];

	// Set context from what may come in as undefined or a jQuery collection or a node
	// Updated to fix #12266 where accessing context[0] could throw an exception in IE9/10 &
	// also doubles as fix for #8950 where plain objects caused createDocumentFragment exception
	context = context || document;
	context = !context.nodeType && context[0] || context;
	context = context.ownerDocument || context;

	// Only cache "small" (1/2 KB) HTML strings that are associated with the main document
	// Cloning options loses the selected state, so don't cache them
	// IE 6 doesn't like it when you put <object> or <embed> elements in a fragment
	// Also, WebKit does not clone 'checked' attributes on cloneNode, so don't cache
	// Lastly, IE6,7,8 will not correctly reuse cached fragments that were created from unknown elems #10501
	if ( args.length === 1 && typeof first === "string" && first.length < 512 && context === document &&
		first.charAt(0) === "<" && !rnocache.test( first ) &&
		(jQuery.support.checkClone || !rchecked.test( first )) &&
		(jQuery.support.html5Clone || !rnoshimcache.test( first )) ) {

		// Mark cacheable and look for a hit
		cacheable = true;
		fragment = jQuery.fragments[ first ];
		cachehit = fragment !== undefined;
	}

	if ( !fragment ) {
		fragment = context.createDocumentFragment();
		jQuery.clean( args, context, fragment, scripts );

		// Update the cache, but only store false
		// unless this is a second parsing of the same content
		if ( cacheable ) {
			jQuery.fragments[ first ] = cachehit && fragment;
		}
	}

	return { fragment: fragment, cacheable: cacheable };
};

jQuery.fragments = {};

jQuery.each({
	appendTo: "append",
	prependTo: "prepend",
	insertBefore: "before",
	insertAfter: "after",
	replaceAll: "replaceWith"
}, function( name, original ) {
	jQuery.fn[ name ] = function( selector ) {
		var elems,
			i = 0,
			ret = [],
			insert = jQuery( selector ),
			l = insert.length,
			parent = this.length === 1 && this[0].parentNode;

		if ( (parent == null || parent && parent.nodeType === 11 && parent.childNodes.length === 1) && l === 1 ) {
			insert[ original ]( this[0] );
			return this;
		} else {
			for ( ; i < l; i++ ) {
				elems = ( i > 0 ? this.clone(true) : this ).get();
				jQuery( insert[i] )[ original ]( elems );
				ret = ret.concat( elems );
			}

			return this.pushStack( ret, name, insert.selector );
		}
	};
});

function getAll( elem ) {
	if ( typeof elem.getElementsByTagName !== "undefined" ) {
		return elem.getElementsByTagName( "*" );

	} else if ( typeof elem.querySelectorAll !== "undefined" ) {
		return elem.querySelectorAll( "*" );

	} else {
		return [];
	}
}

// Used in clean, fixes the defaultChecked property
function fixDefaultChecked( elem ) {
	if ( rcheckableType.test( elem.type ) ) {
		elem.defaultChecked = elem.checked;
	}
}

jQuery.extend({
	clone: function( elem, dataAndEvents, deepDataAndEvents ) {
		var srcElements,
			destElements,
			i,
			clone;

		if ( jQuery.support.html5Clone || jQuery.isXMLDoc(elem) || !rnoshimcache.test( "<" + elem.nodeName + ">" ) ) {
			clone = elem.cloneNode( true );

		// IE<=8 does not properly clone detached, unknown element nodes
		} else {
			fragmentDiv.innerHTML = elem.outerHTML;
			fragmentDiv.removeChild( clone = fragmentDiv.firstChild );
		}

		if ( (!jQuery.support.noCloneEvent || !jQuery.support.noCloneChecked) &&
				(elem.nodeType === 1 || elem.nodeType === 11) && !jQuery.isXMLDoc(elem) ) {
			// IE copies events bound via attachEvent when using cloneNode.
			// Calling detachEvent on the clone will also remove the events
			// from the original. In order to get around this, we use some
			// proprietary methods to clear the events. Thanks to MooTools
			// guys for this hotness.

			cloneFixAttributes( elem, clone );

			// Using Sizzle here is crazy slow, so we use getElementsByTagName instead
			srcElements = getAll( elem );
			destElements = getAll( clone );

			// Weird iteration because IE will replace the length property
			// with an element if you are cloning the body and one of the
			// elements on the page has a name or id of "length"
			for ( i = 0; srcElements[i]; ++i ) {
				// Ensure that the destination node is not null; Fixes #9587
				if ( destElements[i] ) {
					cloneFixAttributes( srcElements[i], destElements[i] );
				}
			}
		}

		// Copy the events from the original to the clone
		if ( dataAndEvents ) {
			cloneCopyEvent( elem, clone );

			if ( deepDataAndEvents ) {
				srcElements = getAll( elem );
				destElements = getAll( clone );

				for ( i = 0; srcElements[i]; ++i ) {
					cloneCopyEvent( srcElements[i], destElements[i] );
				}
			}
		}

		srcElements = destElements = null;

		// Return the cloned set
		return clone;
	},

	clean: function( elems, context, fragment, scripts ) {
		var i, j, elem, tag, wrap, depth, div, hasBody, tbody, len, handleScript, jsTags,
			safe = context === document && safeFragment,
			ret = [];

		// Ensure that context is a document
		if ( !context || typeof context.createDocumentFragment === "undefined" ) {
			context = document;
		}

		// Use the already-created safe fragment if context permits
		for ( i = 0; (elem = elems[i]) != null; i++ ) {
			if ( typeof elem === "number" ) {
				elem += "";
			}

			if ( !elem ) {
				continue;
			}

			// Convert html string into DOM nodes
			if ( typeof elem === "string" ) {
				if ( !rhtml.test( elem ) ) {
					elem = context.createTextNode( elem );
				} else {
					// Ensure a safe container in which to render the html
					safe = safe || createSafeFragment( context );
					div = context.createElement("div");
					safe.appendChild( div );

					// Fix "XHTML"-style tags in all browsers
					elem = elem.replace(rxhtmlTag, "<$1></$2>");

					// Go to html and back, then peel off extra wrappers
					tag = ( rtagName.exec( elem ) || ["", ""] )[1].toLowerCase();
					wrap = wrapMap[ tag ] || wrapMap._default;
					depth = wrap[0];
					div.innerHTML = wrap[1] + elem + wrap[2];

					// Move to the right depth
					while ( depth-- ) {
						div = div.lastChild;
					}

					// Remove IE's autoinserted <tbody> from table fragments
					if ( !jQuery.support.tbody ) {

						// String was a <table>, *may* have spurious <tbody>
						hasBody = rtbody.test(elem);
							tbody = tag === "table" && !hasBody ?
								div.firstChild && div.firstChild.childNodes :

								// String was a bare <thead> or <tfoot>
								wrap[1] === "<table>" && !hasBody ?
									div.childNodes :
									[];

						for ( j = tbody.length - 1; j >= 0 ; --j ) {
							if ( jQuery.nodeName( tbody[ j ], "tbody" ) && !tbody[ j ].childNodes.length ) {
								tbody[ j ].parentNode.removeChild( tbody[ j ] );
							}
						}
					}

					// IE completely kills leading whitespace when innerHTML is used
					if ( !jQuery.support.leadingWhitespace && rleadingWhitespace.test( elem ) ) {
						div.insertBefore( context.createTextNode( rleadingWhitespace.exec(elem)[0] ), div.firstChild );
					}

					elem = div.childNodes;

					// Take out of fragment container (we need a fresh div each time)
					div.parentNode.removeChild( div );
				}
			}

			if ( elem.nodeType ) {
				ret.push( elem );
			} else {
				jQuery.merge( ret, elem );
			}
		}

		// Fix #11356: Clear elements from safeFragment
		if ( div ) {
			elem = div = safe = null;
		}

		// Reset defaultChecked for any radios and checkboxes
		// about to be appended to the DOM in IE 6/7 (#8060)
		if ( !jQuery.support.appendChecked ) {
			for ( i = 0; (elem = ret[i]) != null; i++ ) {
				if ( jQuery.nodeName( elem, "input" ) ) {
					fixDefaultChecked( elem );
				} else if ( typeof elem.getElementsByTagName !== "undefined" ) {
					jQuery.grep( elem.getElementsByTagName("input"), fixDefaultChecked );
				}
			}
		}

		// Append elements to a provided document fragment
		if ( fragment ) {
			// Special handling of each script element
			handleScript = function( elem ) {
				// Check if we consider it executable
				if ( !elem.type || rscriptType.test( elem.type ) ) {
					// Detach the script and store it in the scripts array (if provided) or the fragment
					// Return truthy to indicate that it has been handled
					return scripts ?
						scripts.push( elem.parentNode ? elem.parentNode.removeChild( elem ) : elem ) :
						fragment.appendChild( elem );
				}
			};

			for ( i = 0; (elem = ret[i]) != null; i++ ) {
				// Check if we're done after handling an executable script
				if ( !( jQuery.nodeName( elem, "script" ) && handleScript( elem ) ) ) {
					// Append to fragment and handle embedded scripts
					fragment.appendChild( elem );
					if ( typeof elem.getElementsByTagName !== "undefined" ) {
						// handleScript alters the DOM, so use jQuery.merge to ensure snapshot iteration
						jsTags = jQuery.grep( jQuery.merge( [], elem.getElementsByTagName("script") ), handleScript );

						// Splice the scripts into ret after their former ancestor and advance our index beyond them
						ret.splice.apply( ret, [i + 1, 0].concat( jsTags ) );
						i += jsTags.length;
					}
				}
			}
		}

		return ret;
	},

	cleanData: function( elems, /* internal */ acceptData ) {
		var data, id, elem, type,
			i = 0,
			internalKey = jQuery.expando,
			cache = jQuery.cache,
			deleteExpando = jQuery.support.deleteExpando,
			special = jQuery.event.special;

		for ( ; (elem = elems[i]) != null; i++ ) {

			if ( acceptData || jQuery.acceptData( elem ) ) {

				id = elem[ internalKey ];
				data = id && cache[ id ];

				if ( data ) {
					if ( data.events ) {
						for ( type in data.events ) {
							if ( special[ type ] ) {
								jQuery.event.remove( elem, type );

							// This is a shortcut to avoid jQuery.event.remove's overhead
							} else {
								jQuery.removeEvent( elem, type, data.handle );
							}
						}
					}

					// Remove cache only if it was not already removed by jQuery.event.remove
					if ( cache[ id ] ) {

						delete cache[ id ];

						// IE does not allow us to delete expando properties from nodes,
						// nor does it have a removeAttribute function on Document nodes;
						// we must handle all of these cases
						if ( deleteExpando ) {
							delete elem[ internalKey ];

						} else if ( elem.removeAttribute ) {
							elem.removeAttribute( internalKey );

						} else {
							elem[ internalKey ] = null;
						}

						jQuery.deletedIds.push( id );
					}
				}
			}
		}
	}
});
// Limit scope pollution from any deprecated API
(function() {

var matched, browser;

// Use of jQuery.browser is frowned upon.
// More details: http://api.jquery.com/jQuery.browser
// jQuery.uaMatch maintained for back-compat
jQuery.uaMatch = function( ua ) {
	ua = ua.toLowerCase();

	var match = /(chrome)[ \/]([\w.]+)/.exec( ua ) ||
		/(webkit)[ \/]([\w.]+)/.exec( ua ) ||
		/(opera)(?:.*version|)[ \/]([\w.]+)/.exec( ua ) ||
		/(msie) ([\w.]+)/.exec( ua ) ||
		ua.indexOf("compatible") < 0 && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec( ua ) ||
		[];

	return {
		browser: match[ 1 ] || "",
		version: match[ 2 ] || "0"
	};
};

matched = jQuery.uaMatch( navigator.userAgent );
browser = {};

if ( matched.browser ) {
	browser[ matched.browser ] = true;
	browser.version = matched.version;
}

// Chrome is Webkit, but Webkit is also Safari.
if ( browser.chrome ) {
	browser.webkit = true;
} else if ( browser.webkit ) {
	browser.safari = true;
}

jQuery.browser = browser;

jQuery.sub = function() {
	function jQuerySub( selector, context ) {
		return new jQuerySub.fn.init( selector, context );
	}
	jQuery.extend( true, jQuerySub, this );
	jQuerySub.superclass = this;
	jQuerySub.fn = jQuerySub.prototype = this();
	jQuerySub.fn.constructor = jQuerySub;
	jQuerySub.sub = this.sub;
	jQuerySub.fn.init = function init( selector, context ) {
		if ( context && context instanceof jQuery && !(context instanceof jQuerySub) ) {
			context = jQuerySub( context );
		}

		return jQuery.fn.init.call( this, selector, context, rootjQuerySub );
	};
	jQuerySub.fn.init.prototype = jQuerySub.fn;
	var rootjQuerySub = jQuerySub(document);
	return jQuerySub;
};

})();
var curCSS, iframe, iframeDoc,
	ralpha = /alpha\([^)]*\)/i,
	ropacity = /opacity=([^)]*)/,
	rposition = /^(top|right|bottom|left)$/,
	// swappable if display is none or starts with table except "table", "table-cell", or "table-caption"
	// see here for display values: https://developer.mozilla.org/en-US/docs/CSS/display
	rdisplayswap = /^(none|table(?!-c[ea]).+)/,
	rmargin = /^margin/,
	rnumsplit = new RegExp( "^(" + core_pnum + ")(.*)$", "i" ),
	rnumnonpx = new RegExp( "^(" + core_pnum + ")(?!px)[a-z%]+$", "i" ),
	rrelNum = new RegExp( "^([-+])=(" + core_pnum + ")", "i" ),
	elemdisplay = {},

	cssShow = { position: "absolute", visibility: "hidden", display: "block" },
	cssNormalTransform = {
		letterSpacing: 0,
		fontWeight: 400
	},

	cssExpand = [ "Top", "Right", "Bottom", "Left" ],
	cssPrefixes = [ "Webkit", "O", "Moz", "ms" ],

	eventsToggle = jQuery.fn.toggle;

// return a css property mapped to a potentially vendor prefixed property
function vendorPropName( style, name ) {

	// shortcut for names that are not vendor prefixed
	if ( name in style ) {
		return name;
	}

	// check for vendor prefixed names
	var capName = name.charAt(0).toUpperCase() + name.slice(1),
		origName = name,
		i = cssPrefixes.length;

	while ( i-- ) {
		name = cssPrefixes[ i ] + capName;
		if ( name in style ) {
			return name;
		}
	}

	return origName;
}

function isHidden( elem, el ) {
	elem = el || elem;
	return jQuery.css( elem, "display" ) === "none" || !jQuery.contains( elem.ownerDocument, elem );
}

function showHide( elements, show ) {
	var elem, display,
		values = [],
		index = 0,
		length = elements.length;

	for ( ; index < length; index++ ) {
		elem = elements[ index ];
		if ( !elem.style ) {
			continue;
		}
		values[ index ] = jQuery._data( elem, "olddisplay" );
		if ( show ) {
			// Reset the inline display of this element to learn if it is
			// being hidden by cascaded rules or not
			if ( !values[ index ] && elem.style.display === "none" ) {
				elem.style.display = "";
			}

			// Set elements which have been overridden with display: none
			// in a stylesheet to whatever the default browser style is
			// for such an element
			if ( elem.style.display === "" && isHidden( elem ) ) {
				values[ index ] = jQuery._data( elem, "olddisplay", css_defaultDisplay(elem.nodeName) );
			}
		} else {
			display = curCSS( elem, "display" );

			if ( !values[ index ] && display !== "none" ) {
				jQuery._data( elem, "olddisplay", display );
			}
		}
	}

	// Set the display of most of the elements in a second loop
	// to avoid the constant reflow
	for ( index = 0; index < length; index++ ) {
		elem = elements[ index ];
		if ( !elem.style ) {
			continue;
		}
		if ( !show || elem.style.display === "none" || elem.style.display === "" ) {
			elem.style.display = show ? values[ index ] || "" : "none";
		}
	}

	return elements;
}

jQuery.fn.extend({
	css: function( name, value ) {
		return jQuery.access( this, function( elem, name, value ) {
			return value !== undefined ?
				jQuery.style( elem, name, value ) :
				jQuery.css( elem, name );
		}, name, value, arguments.length > 1 );
	},
	show: function() {
		return showHide( this, true );
	},
	hide: function() {
		return showHide( this );
	},
	toggle: function( state, fn2 ) {
		var bool = typeof state === "boolean";

		if ( jQuery.isFunction( state ) && jQuery.isFunction( fn2 ) ) {
			return eventsToggle.apply( this, arguments );
		}

		return this.each(function() {
			if ( bool ? state : isHidden( this ) ) {
				jQuery( this ).show();
			} else {
				jQuery( this ).hide();
			}
		});
	}
});

jQuery.extend({
	// Add in style property hooks for overriding the default
	// behavior of getting and setting a style property
	cssHooks: {
		opacity: {
			get: function( elem, computed ) {
				if ( computed ) {
					// We should always get a number back from opacity
					var ret = curCSS( elem, "opacity" );
					return ret === "" ? "1" : ret;

				}
			}
		}
	},

	// Exclude the following css properties to add px
	cssNumber: {
		"fillOpacity": true,
		"fontWeight": true,
		"lineHeight": true,
		"opacity": true,
		"orphans": true,
		"widows": true,
		"zIndex": true,
		"zoom": true
	},

	// Add in properties whose names you wish to fix before
	// setting or getting the value
	cssProps: {
		// normalize float css property
		"float": jQuery.support.cssFloat ? "cssFloat" : "styleFloat"
	},

	// Get and set the style property on a DOM Node
	style: function( elem, name, value, extra ) {
		// Don't set styles on text and comment nodes
		if ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {
			return;
		}

		// Make sure that we're working with the right name
		var ret, type, hooks,
			origName = jQuery.camelCase( name ),
			style = elem.style;

		name = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( style, origName ) );

		// gets hook for the prefixed version
		// followed by the unprefixed version
		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		// Check if we're setting a value
		if ( value !== undefined ) {
			type = typeof value;

			// convert relative number strings (+= or -=) to relative numbers. #7345
			if ( type === "string" && (ret = rrelNum.exec( value )) ) {
				value = ( ret[1] + 1 ) * ret[2] + parseFloat( jQuery.css( elem, name ) );
				// Fixes bug #9237
				type = "number";
			}

			// Make sure that NaN and null values aren't set. See: #7116
			if ( value == null || type === "number" && isNaN( value ) ) {
				return;
			}

			// If a number was passed in, add 'px' to the (except for certain CSS properties)
			if ( type === "number" && !jQuery.cssNumber[ origName ] ) {
				value += "px";
			}

			// If a hook was provided, use that value, otherwise just set the specified value
			if ( !hooks || !("set" in hooks) || (value = hooks.set( elem, value, extra )) !== undefined ) {
				// Wrapped to prevent IE from throwing errors when 'invalid' values are provided
				// Fixes bug #5509
				try {
					style[ name ] = value;
				} catch(e) {}
			}

		} else {
			// If a hook was provided get the non-computed value from there
			if ( hooks && "get" in hooks && (ret = hooks.get( elem, false, extra )) !== undefined ) {
				return ret;
			}

			// Otherwise just get the value from the style object
			return style[ name ];
		}
	},

	css: function( elem, name, numeric, extra ) {
		var val, num, hooks,
			origName = jQuery.camelCase( name );

		// Make sure that we're working with the right name
		name = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( elem.style, origName ) );

		// gets hook for the prefixed version
		// followed by the unprefixed version
		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		// If a hook was provided get the computed value from there
		if ( hooks && "get" in hooks ) {
			val = hooks.get( elem, true, extra );
		}

		// Otherwise, if a way to get the computed value exists, use that
		if ( val === undefined ) {
			val = curCSS( elem, name );
		}

		//convert "normal" to computed value
		if ( val === "normal" && name in cssNormalTransform ) {
			val = cssNormalTransform[ name ];
		}

		// Return, converting to number if forced or a qualifier was provided and val looks numeric
		if ( numeric || extra !== undefined ) {
			num = parseFloat( val );
			return numeric || jQuery.isNumeric( num ) ? num || 0 : val;
		}
		return val;
	},

	// A method for quickly swapping in/out CSS properties to get correct calculations
	swap: function( elem, options, callback ) {
		var ret, name,
			old = {};

		// Remember the old values, and insert the new ones
		for ( name in options ) {
			old[ name ] = elem.style[ name ];
			elem.style[ name ] = options[ name ];
		}

		ret = callback.call( elem );

		// Revert the old values
		for ( name in options ) {
			elem.style[ name ] = old[ name ];
		}

		return ret;
	}
});

// NOTE: To any future maintainer, we've window.getComputedStyle
// because jsdom on node.js will break without it.
if ( window.getComputedStyle ) {
	curCSS = function( elem, name ) {
		var ret, width, minWidth, maxWidth,
			computed = window.getComputedStyle( elem, null ),
			style = elem.style;

		if ( computed ) {

			ret = computed[ name ];
			if ( ret === "" && !jQuery.contains( elem.ownerDocument, elem ) ) {
				ret = jQuery.style( elem, name );
			}

			// A tribute to the "awesome hack by Dean Edwards"
			// Chrome < 17 and Safari 5.0 uses "computed value" instead of "used value" for margin-right
			// Safari 5.1.7 (at least) returns percentage for a larger set of values, but width seems to be reliably pixels
			// this is against the CSSOM draft spec: http://dev.w3.org/csswg/cssom/#resolved-values
			if ( rnumnonpx.test( ret ) && rmargin.test( name ) ) {
				width = style.width;
				minWidth = style.minWidth;
				maxWidth = style.maxWidth;

				style.minWidth = style.maxWidth = style.width = ret;
				ret = computed.width;

				style.width = width;
				style.minWidth = minWidth;
				style.maxWidth = maxWidth;
			}
		}

		return ret;
	};
} else if ( document.documentElement.currentStyle ) {
	curCSS = function( elem, name ) {
		var left, rsLeft,
			ret = elem.currentStyle && elem.currentStyle[ name ],
			style = elem.style;

		// Avoid setting ret to empty string here
		// so we don't default to auto
		if ( ret == null && style && style[ name ] ) {
			ret = style[ name ];
		}

		// From the awesome hack by Dean Edwards
		// http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291

		// If we're not dealing with a regular pixel number
		// but a number that has a weird ending, we need to convert it to pixels
		// but not position css attributes, as those are proportional to the parent element instead
		// and we can't measure the parent instead because it might trigger a "stacking dolls" problem
		if ( rnumnonpx.test( ret ) && !rposition.test( name ) ) {

			// Remember the original values
			left = style.left;
			rsLeft = elem.runtimeStyle && elem.runtimeStyle.left;

			// Put in the new values to get a computed value out
			if ( rsLeft ) {
				elem.runtimeStyle.left = elem.currentStyle.left;
			}
			style.left = name === "fontSize" ? "1em" : ret;
			ret = style.pixelLeft + "px";

			// Revert the changed values
			style.left = left;
			if ( rsLeft ) {
				elem.runtimeStyle.left = rsLeft;
			}
		}

		return ret === "" ? "auto" : ret;
	};
}

function setPositiveNumber( elem, value, subtract ) {
	var matches = rnumsplit.exec( value );
	return matches ?
			Math.max( 0, matches[ 1 ] - ( subtract || 0 ) ) + ( matches[ 2 ] || "px" ) :
			value;
}

function augmentWidthOrHeight( elem, name, extra, isBorderBox ) {
	var i = extra === ( isBorderBox ? "border" : "content" ) ?
		// If we already have the right measurement, avoid augmentation
		4 :
		// Otherwise initialize for horizontal or vertical properties
		name === "width" ? 1 : 0,

		val = 0;

	for ( ; i < 4; i += 2 ) {
		// both box models exclude margin, so add it if we want it
		if ( extra === "margin" ) {
			// we use jQuery.css instead of curCSS here
			// because of the reliableMarginRight CSS hook!
			val += jQuery.css( elem, extra + cssExpand[ i ], true );
		}

		// From this point on we use curCSS for maximum performance (relevant in animations)
		if ( isBorderBox ) {
			// border-box includes padding, so remove it if we want content
			if ( extra === "content" ) {
				val -= parseFloat( curCSS( elem, "padding" + cssExpand[ i ] ) ) || 0;
			}

			// at this point, extra isn't border nor margin, so remove border
			if ( extra !== "margin" ) {
				val -= parseFloat( curCSS( elem, "border" + cssExpand[ i ] + "Width" ) ) || 0;
			}
		} else {
			// at this point, extra isn't content, so add padding
			val += parseFloat( curCSS( elem, "padding" + cssExpand[ i ] ) ) || 0;

			// at this point, extra isn't content nor padding, so add border
			if ( extra !== "padding" ) {
				val += parseFloat( curCSS( elem, "border" + cssExpand[ i ] + "Width" ) ) || 0;
			}
		}
	}

	return val;
}

function getWidthOrHeight( elem, name, extra ) {

	// Start with offset property, which is equivalent to the border-box value
	var val = name === "width" ? elem.offsetWidth : elem.offsetHeight,
		valueIsBorderBox = true,
		isBorderBox = jQuery.support.boxSizing && jQuery.css( elem, "boxSizing" ) === "border-box";

	// some non-html elements return undefined for offsetWidth, so check for null/undefined
	// svg - https://bugzilla.mozilla.org/show_bug.cgi?id=649285
	// MathML - https://bugzilla.mozilla.org/show_bug.cgi?id=491668
	if ( val <= 0 || val == null ) {
		// Fall back to computed then uncomputed css if necessary
		val = curCSS( elem, name );
		if ( val < 0 || val == null ) {
			val = elem.style[ name ];
		}

		// Computed unit is not pixels. Stop here and return.
		if ( rnumnonpx.test(val) ) {
			return val;
		}

		// we need the check for style in case a browser which returns unreliable values
		// for getComputedStyle silently falls back to the reliable elem.style
		valueIsBorderBox = isBorderBox && ( jQuery.support.boxSizingReliable || val === elem.style[ name ] );

		// Normalize "", auto, and prepare for extra
		val = parseFloat( val ) || 0;
	}

	// use the active box-sizing model to add/subtract irrelevant styles
	return ( val +
		augmentWidthOrHeight(
			elem,
			name,
			extra || ( isBorderBox ? "border" : "content" ),
			valueIsBorderBox
		)
	) + "px";
}


// Try to determine the default display value of an element
function css_defaultDisplay( nodeName ) {
	if ( elemdisplay[ nodeName ] ) {
		return elemdisplay[ nodeName ];
	}

	var elem = jQuery( "<" + nodeName + ">" ).appendTo( document.body ),
		display = elem.css("display");
	elem.remove();

	// If the simple way fails,
	// get element's real default display by attaching it to a temp iframe
	if ( display === "none" || display === "" ) {
		// Use the already-created iframe if possible
		iframe = document.body.appendChild(
			iframe || jQuery.extend( document.createElement("iframe"), {
				frameBorder: 0,
				width: 0,
				height: 0
			})
		);

		// Create a cacheable copy of the iframe document on first call.
		// IE and Opera will allow us to reuse the iframeDoc without re-writing the fake HTML
		// document to it; WebKit & Firefox won't allow reusing the iframe document.
		if ( !iframeDoc || !iframe.createElement ) {
			iframeDoc = ( iframe.contentWindow || iframe.contentDocument ).document;
			iframeDoc.write("<!doctype html><html><body>");
			iframeDoc.close();
		}

		elem = iframeDoc.body.appendChild( iframeDoc.createElement(nodeName) );

		display = curCSS( elem, "display" );
		document.body.removeChild( iframe );
	}

	// Store the correct default display
	elemdisplay[ nodeName ] = display;

	return display;
}

jQuery.each([ "height", "width" ], function( i, name ) {
	jQuery.cssHooks[ name ] = {
		get: function( elem, computed, extra ) {
			if ( computed ) {
				// certain elements can have dimension info if we invisibly show them
				// however, it must have a current display style that would benefit from this
				if ( elem.offsetWidth === 0 && rdisplayswap.test( curCSS( elem, "display" ) ) ) {
					return jQuery.swap( elem, cssShow, function() {
						return getWidthOrHeight( elem, name, extra );
					});
				} else {
					return getWidthOrHeight( elem, name, extra );
				}
			}
		},

		set: function( elem, value, extra ) {
			return setPositiveNumber( elem, value, extra ?
				augmentWidthOrHeight(
					elem,
					name,
					extra,
					jQuery.support.boxSizing && jQuery.css( elem, "boxSizing" ) === "border-box"
				) : 0
			);
		}
	};
});

if ( !jQuery.support.opacity ) {
	jQuery.cssHooks.opacity = {
		get: function( elem, computed ) {
			// IE uses filters for opacity
			return ropacity.test( (computed && elem.currentStyle ? elem.currentStyle.filter : elem.style.filter) || "" ) ?
				( 0.01 * parseFloat( RegExp.$1 ) ) + "" :
				computed ? "1" : "";
		},

		set: function( elem, value ) {
			var style = elem.style,
				currentStyle = elem.currentStyle,
				opacity = jQuery.isNumeric( value ) ? "alpha(opacity=" + value * 100 + ")" : "",
				filter = currentStyle && currentStyle.filter || style.filter || "";

			// IE has trouble with opacity if it does not have layout
			// Force it by setting the zoom level
			style.zoom = 1;

			// if setting opacity to 1, and no other filters exist - attempt to remove filter attribute #6652
			if ( value >= 1 && jQuery.trim( filter.replace( ralpha, "" ) ) === "" &&
				style.removeAttribute ) {

				// Setting style.filter to null, "" & " " still leave "filter:" in the cssText
				// if "filter:" is present at all, clearType is disabled, we want to avoid this
				// style.removeAttribute is IE Only, but so apparently is this code path...
				style.removeAttribute( "filter" );

				// if there there is no filter style applied in a css rule, we are done
				if ( currentStyle && !currentStyle.filter ) {
					return;
				}
			}

			// otherwise, set new filter values
			style.filter = ralpha.test( filter ) ?
				filter.replace( ralpha, opacity ) :
				filter + " " + opacity;
		}
	};
}

// These hooks cannot be added until DOM ready because the support test
// for it is not run until after DOM ready
jQuery(function() {
	if ( !jQuery.support.reliableMarginRight ) {
		jQuery.cssHooks.marginRight = {
			get: function( elem, computed ) {
				// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right
				// Work around by temporarily setting element display to inline-block
				return jQuery.swap( elem, { "display": "inline-block" }, function() {
					if ( computed ) {
						return curCSS( elem, "marginRight" );
					}
				});
			}
		};
	}

	// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084
	// getComputedStyle returns percent when specified for top/left/bottom/right
	// rather than make the css module depend on the offset module, we just check for it here
	if ( !jQuery.support.pixelPosition && jQuery.fn.position ) {
		jQuery.each( [ "top", "left" ], function( i, prop ) {
			jQuery.cssHooks[ prop ] = {
				get: function( elem, computed ) {
					if ( computed ) {
						var ret = curCSS( elem, prop );
						// if curCSS returns percentage, fallback to offset
						return rnumnonpx.test( ret ) ? jQuery( elem ).position()[ prop ] + "px" : ret;
					}
				}
			};
		});
	}

});

if ( jQuery.expr && jQuery.expr.filters ) {
	jQuery.expr.filters.hidden = function( elem ) {
		return ( elem.offsetWidth === 0 && elem.offsetHeight === 0 ) || (!jQuery.support.reliableHiddenOffsets && ((elem.style && elem.style.display) || curCSS( elem, "display" )) === "none");
	};

	jQuery.expr.filters.visible = function( elem ) {
		return !jQuery.expr.filters.hidden( elem );
	};
}

// These hooks are used by animate to expand properties
jQuery.each({
	margin: "",
	padding: "",
	border: "Width"
}, function( prefix, suffix ) {
	jQuery.cssHooks[ prefix + suffix ] = {
		expand: function( value ) {
			var i,

				// assumes a single number if not a string
				parts = typeof value === "string" ? value.split(" ") : [ value ],
				expanded = {};

			for ( i = 0; i < 4; i++ ) {
				expanded[ prefix + cssExpand[ i ] + suffix ] =
					parts[ i ] || parts[ i - 2 ] || parts[ 0 ];
			}

			return expanded;
		}
	};

	if ( !rmargin.test( prefix ) ) {
		jQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;
	}
});
var r20 = /%20/g,
	rbracket = /\[\]$/,
	rCRLF = /\r?\n/g,
	rinput = /^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,
	rselectTextarea = /^(?:select|textarea)/i;

jQuery.fn.extend({
	serialize: function() {
		return jQuery.param( this.serializeArray() );
	},
	serializeArray: function() {
		return this.map(function(){
			return this.elements ? jQuery.makeArray( this.elements ) : this;
		})
		.filter(function(){
			return this.name && !this.disabled &&
				( this.checked || rselectTextarea.test( this.nodeName ) ||
					rinput.test( this.type ) );
		})
		.map(function( i, elem ){
			var val = jQuery( this ).val();

			return val == null ?
				null :
				jQuery.isArray( val ) ?
					jQuery.map( val, function( val, i ){
						return { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
					}) :
					{ name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
		}).get();
	}
});

//Serialize an array of form elements or a set of
//key/values into a query string
jQuery.param = function( a, traditional ) {
	var prefix,
		s = [],
		add = function( key, value ) {
			// If value is a function, invoke it and return its value
			value = jQuery.isFunction( value ) ? value() : ( value == null ? "" : value );
			s[ s.length ] = encodeURIComponent( key ) + "=" + encodeURIComponent( value );
		};

	// Set traditional to true for jQuery <= 1.3.2 behavior.
	if ( traditional === undefined ) {
		traditional = jQuery.ajaxSettings && jQuery.ajaxSettings.traditional;
	}

	// If an array was passed in, assume that it is an array of form elements.
	if ( jQuery.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {
		// Serialize the form elements
		jQuery.each( a, function() {
			add( this.name, this.value );
		});

	} else {
		// If traditional, encode the "old" way (the way 1.3.2 or older
		// did it), otherwise encode params recursively.
		for ( prefix in a ) {
			buildParams( prefix, a[ prefix ], traditional, add );
		}
	}

	// Return the resulting serialization
	return s.join( "&" ).replace( r20, "+" );
};

function buildParams( prefix, obj, traditional, add ) {
	var name;

	if ( jQuery.isArray( obj ) ) {
		// Serialize array item.
		jQuery.each( obj, function( i, v ) {
			if ( traditional || rbracket.test( prefix ) ) {
				// Treat each array item as a scalar.
				add( prefix, v );

			} else {
				// If array item is non-scalar (array or object), encode its
				// numeric index to resolve deserialization ambiguity issues.
				// Note that rack (as of 1.0.0) can't currently deserialize
				// nested arrays properly, and attempting to do so may cause
				// a server error. Possible fixes are to modify rack's
				// deserialization algorithm or to provide an option or flag
				// to force array serialization to be shallow.
				buildParams( prefix + "[" + ( typeof v === "object" ? i : "" ) + "]", v, traditional, add );
			}
		});

	} else if ( !traditional && jQuery.type( obj ) === "object" ) {
		// Serialize object item.
		for ( name in obj ) {
			buildParams( prefix + "[" + name + "]", obj[ name ], traditional, add );
		}

	} else {
		// Serialize scalar item.
		add( prefix, obj );
	}
}
var // Document location
	ajaxLocation,
	// Document location segments
	ajaxLocParts,

	rhash = /#.*$/,
	rheaders = /^(.*?):[ \t]*([^\r\n]*)\r?$/mg, // IE leaves an \r character at EOL
	// #7653, #8125, #8152: local protocol detection
	rlocalProtocol = /^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,
	rnoContent = /^(?:GET|HEAD)$/,
	rprotocol = /^\/\//,
	rquery = /\?/,
	rscript = /<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
	rts = /([?&])_=[^&]*/,
	rurl = /^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,

	// Keep a copy of the old load method
	_load = jQuery.fn.load,

	/* Prefilters
	 * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)
	 * 2) These are called:
	 *    - BEFORE asking for a transport
	 *    - AFTER param serialization (s.data is a string if s.processData is true)
	 * 3) key is the dataType
	 * 4) the catchall symbol "*" can be used
	 * 5) execution will start with transport dataType and THEN continue down to "*" if needed
	 */
	prefilters = {},

	/* Transports bindings
	 * 1) key is the dataType
	 * 2) the catchall symbol "*" can be used
	 * 3) selection will start with transport dataType and THEN go to "*" if needed
	 */
	transports = {},

	// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression
	allTypes = ["*/"] + ["*"];

// #8138, IE may throw an exception when accessing
// a field from window.location if document.domain has been set
try {
	ajaxLocation = location.href;
} catch( e ) {
	// Use the href attribute of an A element
	// since IE will modify it given document.location
	ajaxLocation = document.createElement( "a" );
	ajaxLocation.href = "";
	ajaxLocation = ajaxLocation.href;
}

// Segment location into parts
ajaxLocParts = rurl.exec( ajaxLocation.toLowerCase() ) || [];

// Base "constructor" for jQuery.ajaxPrefilter and jQuery.ajaxTransport
function addToPrefiltersOrTransports( structure ) {

	// dataTypeExpression is optional and defaults to "*"
	return function( dataTypeExpression, func ) {

		if ( typeof dataTypeExpression !== "string" ) {
			func = dataTypeExpression;
			dataTypeExpression = "*";
		}

		var dataType, list, placeBefore,
			dataTypes = dataTypeExpression.toLowerCase().split( core_rspace ),
			i = 0,
			length = dataTypes.length;

		if ( jQuery.isFunction( func ) ) {
			// For each dataType in the dataTypeExpression
			for ( ; i < length; i++ ) {
				dataType = dataTypes[ i ];
				// We control if we're asked to add before
				// any existing element
				placeBefore = /^\+/.test( dataType );
				if ( placeBefore ) {
					dataType = dataType.substr( 1 ) || "*";
				}
				list = structure[ dataType ] = structure[ dataType ] || [];
				// then we add to the structure accordingly
				list[ placeBefore ? "unshift" : "push" ]( func );
			}
		}
	};
}

// Base inspection function for prefilters and transports
function inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR,
		dataType /* internal */, inspected /* internal */ ) {

	dataType = dataType || options.dataTypes[ 0 ];
	inspected = inspected || {};

	inspected[ dataType ] = true;

	var selection,
		list = structure[ dataType ],
		i = 0,
		length = list ? list.length : 0,
		executeOnly = ( structure === prefilters );

	for ( ; i < length && ( executeOnly || !selection ); i++ ) {
		selection = list[ i ]( options, originalOptions, jqXHR );
		// If we got redirected to another dataType
		// we try there if executing only and not done already
		if ( typeof selection === "string" ) {
			if ( !executeOnly || inspected[ selection ] ) {
				selection = undefined;
			} else {
				options.dataTypes.unshift( selection );
				selection = inspectPrefiltersOrTransports(
						structure, options, originalOptions, jqXHR, selection, inspected );
			}
		}
	}
	// If we're only executing or nothing was selected
	// we try the catchall dataType if not done already
	if ( ( executeOnly || !selection ) && !inspected[ "*" ] ) {
		selection = inspectPrefiltersOrTransports(
				structure, options, originalOptions, jqXHR, "*", inspected );
	}
	// unnecessary when only executing (prefilters)
	// but it'll be ignored by the caller in that case
	return selection;
}

// A special extend for ajax options
// that takes "flat" options (not to be deep extended)
// Fixes #9887
function ajaxExtend( target, src ) {
	var key, deep,
		flatOptions = jQuery.ajaxSettings.flatOptions || {};
	for ( key in src ) {
		if ( src[ key ] !== undefined ) {
			( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];
		}
	}
	if ( deep ) {
		jQuery.extend( true, target, deep );
	}
}

jQuery.fn.load = function( url, params, callback ) {
	if ( typeof url !== "string" && _load ) {
		return _load.apply( this, arguments );
	}

	// Don't do a request if no elements are being requested
	if ( !this.length ) {
		return this;
	}

	var selector, type, response,
		self = this,
		off = url.indexOf(" ");

	if ( off >= 0 ) {
		selector = url.slice( off, url.length );
		url = url.slice( 0, off );
	}

	// If it's a function
	if ( jQuery.isFunction( params ) ) {

		// We assume that it's the callback
		callback = params;
		params = undefined;

	// Otherwise, build a param string
	} else if ( params && typeof params === "object" ) {
		type = "POST";
	}

	// Request the remote document
	jQuery.ajax({
		url: url,

		// if "type" variable is undefined, then "GET" method will be used
		type: type,
		dataType: "html",
		data: params,
		complete: function( jqXHR, status ) {
			if ( callback ) {
				self.each( callback, response || [ jqXHR.responseText, status, jqXHR ] );
			}
		}
	}).done(function( responseText ) {

		// Save response for use in complete callback
		response = arguments;

		// See if a selector was specified
		self.html( selector ?

			// Create a dummy div to hold the results
			jQuery("<div>")

				// inject the contents of the document in, removing the scripts
				// to avoid any 'Permission Denied' errors in IE
				.append( responseText.replace( rscript, "" ) )

				// Locate the specified elements
				.find( selector ) :

			// If not, just inject the full result
			responseText );

	});

	return this;
};

// Attach a bunch of functions for handling common AJAX events
jQuery.each( "ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split( " " ), function( i, o ){
	jQuery.fn[ o ] = function( f ){
		return this.on( o, f );
	};
});

jQuery.each( [ "get", "post" ], function( i, method ) {
	jQuery[ method ] = function( url, data, callback, type ) {
		// shift arguments if data argument was omitted
		if ( jQuery.isFunction( data ) ) {
			type = type || callback;
			callback = data;
			data = undefined;
		}

		return jQuery.ajax({
			type: method,
			url: url,
			data: data,
			success: callback,
			dataType: type
		});
	};
});

jQuery.extend({

	getScript: function( url, callback ) {
		return jQuery.get( url, undefined, callback, "script" );
	},

	getJSON: function( url, data, callback ) {
		return jQuery.get( url, data, callback, "json" );
	},

	// Creates a full fledged settings object into target
	// with both ajaxSettings and settings fields.
	// If target is omitted, writes into ajaxSettings.
	ajaxSetup: function( target, settings ) {
		if ( settings ) {
			// Building a settings object
			ajaxExtend( target, jQuery.ajaxSettings );
		} else {
			// Extending ajaxSettings
			settings = target;
			target = jQuery.ajaxSettings;
		}
		ajaxExtend( target, settings );
		return target;
	},

	ajaxSettings: {
		url: ajaxLocation,
		isLocal: rlocalProtocol.test( ajaxLocParts[ 1 ] ),
		global: true,
		type: "GET",
		contentType: "application/x-www-form-urlencoded; charset=UTF-8",
		processData: true,
		async: true,
		/*
		timeout: 0,
		data: null,
		dataType: null,
		username: null,
		password: null,
		cache: null,
		throws: false,
		traditional: false,
		headers: {},
		*/

		accepts: {
			xml: "application/xml, text/xml",
			html: "text/html",
			text: "text/plain",
			json: "application/json, text/javascript",
			"*": allTypes
		},

		contents: {
			xml: /xml/,
			html: /html/,
			json: /json/
		},

		responseFields: {
			xml: "responseXML",
			text: "responseText"
		},

		// List of data converters
		// 1) key format is "source_type destination_type" (a single space in-between)
		// 2) the catchall symbol "*" can be used for source_type
		converters: {

			// Convert anything to text
			"* text": window.String,

			// Text to html (true = no transformation)
			"text html": true,

			// Evaluate text as a json expression
			"text json": jQuery.parseJSON,

			// Parse text as xml
			"text xml": jQuery.parseXML
		},

		// For options that shouldn't be deep extended:
		// you can add your own custom options here if
		// and when you create one that shouldn't be
		// deep extended (see ajaxExtend)
		flatOptions: {
			context: true,
			url: true
		}
	},

	ajaxPrefilter: addToPrefiltersOrTransports( prefilters ),
	ajaxTransport: addToPrefiltersOrTransports( transports ),

	// Main method
	ajax: function( url, options ) {

		// If url is an object, simulate pre-1.5 signature
		if ( typeof url === "object" ) {
			options = url;
			url = undefined;
		}

		// Force options to be an object
		options = options || {};

		var // ifModified key
			ifModifiedKey,
			// Response headers
			responseHeadersString,
			responseHeaders,
			// transport
			transport,
			// timeout handle
			timeoutTimer,
			// Cross-domain detection vars
			parts,
			// To know if global events are to be dispatched
			fireGlobals,
			// Loop variable
			i,
			// Create the final options object
			s = jQuery.ajaxSetup( {}, options ),
			// Callbacks context
			callbackContext = s.context || s,
			// Context for global events
			// It's the callbackContext if one was provided in the options
			// and if it's a DOM node or a jQuery collection
			globalEventContext = callbackContext !== s &&
				( callbackContext.nodeType || callbackContext instanceof jQuery ) ?
						jQuery( callbackContext ) : jQuery.event,
			// Deferreds
			deferred = jQuery.Deferred(),
			completeDeferred = jQuery.Callbacks( "once memory" ),
			// Status-dependent callbacks
			statusCode = s.statusCode || {},
			// Headers (they are sent all at once)
			requestHeaders = {},
			requestHeadersNames = {},
			// The jqXHR state
			state = 0,
			// Default abort message
			strAbort = "canceled",
			// Fake xhr
			jqXHR = {

				readyState: 0,

				// Caches the header
				setRequestHeader: function( name, value ) {
					if ( !state ) {
						var lname = name.toLowerCase();
						name = requestHeadersNames[ lname ] = requestHeadersNames[ lname ] || name;
						requestHeaders[ name ] = value;
					}
					return this;
				},

				// Raw string
				getAllResponseHeaders: function() {
					return state === 2 ? responseHeadersString : null;
				},

				// Builds headers hashtable if needed
				getResponseHeader: function( key ) {
					var match;
					if ( state === 2 ) {
						if ( !responseHeaders ) {
							responseHeaders = {};
							while( ( match = rheaders.exec( responseHeadersString ) ) ) {
								responseHeaders[ match[1].toLowerCase() ] = match[ 2 ];
							}
						}
						match = responseHeaders[ key.toLowerCase() ];
					}
					return match === undefined ? null : match;
				},

				// Overrides response content-type header
				overrideMimeType: function( type ) {
					if ( !state ) {
						s.mimeType = type;
					}
					return this;
				},

				// Cancel the request
				abort: function( statusText ) {
					statusText = statusText || strAbort;
					if ( transport ) {
						transport.abort( statusText );
					}
					done( 0, statusText );
					return this;
				}
			};

		// Callback for when everything is done
		// It is defined here because jslint complains if it is declared
		// at the end of the function (which would be more logical and readable)
		function done( status, nativeStatusText, responses, headers ) {
			var isSuccess, success, error, response, modified,
				statusText = nativeStatusText;

			// Called once
			if ( state === 2 ) {
				return;
			}

			// State is "done" now
			state = 2;

			// Clear timeout if it exists
			if ( timeoutTimer ) {
				clearTimeout( timeoutTimer );
			}

			// Dereference transport for early garbage collection
			// (no matter how long the jqXHR object will be used)
			transport = undefined;

			// Cache response headers
			responseHeadersString = headers || "";

			// Set readyState
			jqXHR.readyState = status > 0 ? 4 : 0;

			// Get response data
			if ( responses ) {
				response = ajaxHandleResponses( s, jqXHR, responses );
			}

			// If successful, handle type chaining
			if ( status >= 200 && status < 300 || status === 304 ) {

				// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
				if ( s.ifModified ) {

					modified = jqXHR.getResponseHeader("Last-Modified");
					if ( modified ) {
						jQuery.lastModified[ ifModifiedKey ] = modified;
					}
					modified = jqXHR.getResponseHeader("Etag");
					if ( modified ) {
						jQuery.etag[ ifModifiedKey ] = modified;
					}
				}

				// If not modified
				if ( status === 304 ) {

					statusText = "notmodified";
					isSuccess = true;

				// If we have data
				} else {

					isSuccess = ajaxConvert( s, response );
					statusText = isSuccess.state;
					success = isSuccess.data;
					error = isSuccess.error;
					isSuccess = !error;
				}
			} else {
				// We extract error from statusText
				// then normalize statusText and status for non-aborts
				error = statusText;
				if ( !statusText || status ) {
					statusText = "error";
					if ( status < 0 ) {
						status = 0;
					}
				}
			}

			// Set data for the fake xhr object
			jqXHR.status = status;
			jqXHR.statusText = "" + ( nativeStatusText || statusText );

			// Success/Error
			if ( isSuccess ) {
				deferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );
			} else {
				deferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );
			}

			// Status-dependent callbacks
			jqXHR.statusCode( statusCode );
			statusCode = undefined;

			if ( fireGlobals ) {
				globalEventContext.trigger( "ajax" + ( isSuccess ? "Success" : "Error" ),
						[ jqXHR, s, isSuccess ? success : error ] );
			}

			// Complete
			completeDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );

			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxComplete", [ jqXHR, s ] );
				// Handle the global AJAX counter
				if ( !( --jQuery.active ) ) {
					jQuery.event.trigger( "ajaxStop" );
				}
			}
		}

		// Attach deferreds
		deferred.promise( jqXHR );
		jqXHR.success = jqXHR.done;
		jqXHR.error = jqXHR.fail;
		jqXHR.complete = completeDeferred.add;

		// Status-dependent callbacks
		jqXHR.statusCode = function( map ) {
			if ( map ) {
				var tmp;
				if ( state < 2 ) {
					for ( tmp in map ) {
						statusCode[ tmp ] = [ statusCode[tmp], map[tmp] ];
					}
				} else {
					tmp = map[ jqXHR.status ];
					jqXHR.always( tmp );
				}
			}
			return this;
		};

		// Remove hash character (#7531: and string promotion)
		// Add protocol if not provided (#5866: IE7 issue with protocol-less urls)
		// We also use the url parameter if available
		s.url = ( ( url || s.url ) + "" ).replace( rhash, "" ).replace( rprotocol, ajaxLocParts[ 1 ] + "//" );

		// Extract dataTypes list
		s.dataTypes = jQuery.trim( s.dataType || "*" ).toLowerCase().split( core_rspace );

		// Determine if a cross-domain request is in order
		if ( s.crossDomain == null ) {
			parts = rurl.exec( s.url.toLowerCase() );
			s.crossDomain = !!( parts &&
				( parts[ 1 ] != ajaxLocParts[ 1 ] || parts[ 2 ] != ajaxLocParts[ 2 ] ||
					( parts[ 3 ] || ( parts[ 1 ] === "http:" ? 80 : 443 ) ) !=
						( ajaxLocParts[ 3 ] || ( ajaxLocParts[ 1 ] === "http:" ? 80 : 443 ) ) )
			);
		}

		// Convert data if not already a string
		if ( s.data && s.processData && typeof s.data !== "string" ) {
			s.data = jQuery.param( s.data, s.traditional );
		}

		// Apply prefilters
		inspectPrefiltersOrTransports( prefilters, s, options, jqXHR );

		// If request was aborted inside a prefilter, stop there
		if ( state === 2 ) {
			return jqXHR;
		}

		// We can fire global events as of now if asked to
		fireGlobals = s.global;

		// Uppercase the type
		s.type = s.type.toUpperCase();

		// Determine if request has content
		s.hasContent = !rnoContent.test( s.type );

		// Watch for a new set of requests
		if ( fireGlobals && jQuery.active++ === 0 ) {
			jQuery.event.trigger( "ajaxStart" );
		}

		// More options handling for requests with no content
		if ( !s.hasContent ) {

			// If data is available, append data to url
			if ( s.data ) {
				s.url += ( rquery.test( s.url ) ? "&" : "?" ) + s.data;
				// #9682: remove data so that it's not used in an eventual retry
				delete s.data;
			}

			// Get ifModifiedKey before adding the anti-cache parameter
			ifModifiedKey = s.url;

			// Add anti-cache in url if needed
			if ( s.cache === false ) {

				var ts = jQuery.now(),
					// try replacing _= if it is there
					ret = s.url.replace( rts, "$1_=" + ts );

				// if nothing was replaced, add timestamp to the end
				s.url = ret + ( ( ret === s.url ) ? ( rquery.test( s.url ) ? "&" : "?" ) + "_=" + ts : "" );
			}
		}

		// Set the correct header, if data is being sent
		if ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {
			jqXHR.setRequestHeader( "Content-Type", s.contentType );
		}

		// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
		if ( s.ifModified ) {
			ifModifiedKey = ifModifiedKey || s.url;
			if ( jQuery.lastModified[ ifModifiedKey ] ) {
				jqXHR.setRequestHeader( "If-Modified-Since", jQuery.lastModified[ ifModifiedKey ] );
			}
			if ( jQuery.etag[ ifModifiedKey ] ) {
				jqXHR.setRequestHeader( "If-None-Match", jQuery.etag[ ifModifiedKey ] );
			}
		}

		// Set the Accepts header for the server, depending on the dataType
		jqXHR.setRequestHeader(
			"Accept",
			s.dataTypes[ 0 ] && s.accepts[ s.dataTypes[0] ] ?
				s.accepts[ s.dataTypes[0] ] + ( s.dataTypes[ 0 ] !== "*" ? ", " + allTypes + "; q=0.01" : "" ) :
				s.accepts[ "*" ]
		);

		// Check for headers option
		for ( i in s.headers ) {
			jqXHR.setRequestHeader( i, s.headers[ i ] );
		}

		// Allow custom headers/mimetypes and early abort
		if ( s.beforeSend && ( s.beforeSend.call( callbackContext, jqXHR, s ) === false || state === 2 ) ) {
				// Abort if not done already and return
				return jqXHR.abort();

		}

		// aborting is no longer a cancellation
		strAbort = "abort";

		// Install callbacks on deferreds
		for ( i in { success: 1, error: 1, complete: 1 } ) {
			jqXHR[ i ]( s[ i ] );
		}

		// Get transport
		transport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );

		// If no transport, we auto-abort
		if ( !transport ) {
			done( -1, "No Transport" );
		} else {
			jqXHR.readyState = 1;
			// Send global event
			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxSend", [ jqXHR, s ] );
			}
			// Timeout
			if ( s.async && s.timeout > 0 ) {
				timeoutTimer = setTimeout( function(){
					jqXHR.abort( "timeout" );
				}, s.timeout );
			}

			try {
				state = 1;
				transport.send( requestHeaders, done );
			} catch (e) {
				// Propagate exception as error if not done
				if ( state < 2 ) {
					done( -1, e );
				// Simply rethrow otherwise
				} else {
					throw e;
				}
			}
		}

		return jqXHR;
	},

	// Counter for holding the number of active queries
	active: 0,

	// Last-Modified header cache for next request
	lastModified: {},
	etag: {}

});

/* Handles responses to an ajax request:
 * - sets all responseXXX fields accordingly
 * - finds the right dataType (mediates between content-type and expected dataType)
 * - returns the corresponding response
 */
function ajaxHandleResponses( s, jqXHR, responses ) {

	var ct, type, finalDataType, firstDataType,
		contents = s.contents,
		dataTypes = s.dataTypes,
		responseFields = s.responseFields;

	// Fill responseXXX fields
	for ( type in responseFields ) {
		if ( type in responses ) {
			jqXHR[ responseFields[type] ] = responses[ type ];
		}
	}

	// Remove auto dataType and get content-type in the process
	while( dataTypes[ 0 ] === "*" ) {
		dataTypes.shift();
		if ( ct === undefined ) {
			ct = s.mimeType || jqXHR.getResponseHeader( "content-type" );
		}
	}

	// Check if we're dealing with a known content-type
	if ( ct ) {
		for ( type in contents ) {
			if ( contents[ type ] && contents[ type ].test( ct ) ) {
				dataTypes.unshift( type );
				break;
			}
		}
	}

	// Check to see if we have a response for the expected dataType
	if ( dataTypes[ 0 ] in responses ) {
		finalDataType = dataTypes[ 0 ];
	} else {
		// Try convertible dataTypes
		for ( type in responses ) {
			if ( !dataTypes[ 0 ] || s.converters[ type + " " + dataTypes[0] ] ) {
				finalDataType = type;
				break;
			}
			if ( !firstDataType ) {
				firstDataType = type;
			}
		}
		// Or just use first one
		finalDataType = finalDataType || firstDataType;
	}

	// If we found a dataType
	// We add the dataType to the list if needed
	// and return the corresponding response
	if ( finalDataType ) {
		if ( finalDataType !== dataTypes[ 0 ] ) {
			dataTypes.unshift( finalDataType );
		}
		return responses[ finalDataType ];
	}
}

// Chain conversions given the request and the original response
function ajaxConvert( s, response ) {

	var conv, conv2, current, tmp,
		// Work with a copy of dataTypes in case we need to modify it for conversion
		dataTypes = s.dataTypes.slice(),
		prev = dataTypes[ 0 ],
		converters = {},
		i = 0;

	// Apply the dataFilter if provided
	if ( s.dataFilter ) {
		response = s.dataFilter( response, s.dataType );
	}

	// Create converters map with lowercased keys
	if ( dataTypes[ 1 ] ) {
		for ( conv in s.converters ) {
			converters[ conv.toLowerCase() ] = s.converters[ conv ];
		}
	}

	// Convert to each sequential dataType, tolerating list modification
	for ( ; (current = dataTypes[++i]); ) {

		// There's only work to do if current dataType is non-auto
		if ( current !== "*" ) {

			// Convert response if prev dataType is non-auto and differs from current
			if ( prev !== "*" && prev !== current ) {

				// Seek a direct converter
				conv = converters[ prev + " " + current ] || converters[ "* " + current ];

				// If none found, seek a pair
				if ( !conv ) {
					for ( conv2 in converters ) {

						// If conv2 outputs current
						tmp = conv2.split(" ");
						if ( tmp[ 1 ] === current ) {

							// If prev can be converted to accepted input
							conv = converters[ prev + " " + tmp[ 0 ] ] ||
								converters[ "* " + tmp[ 0 ] ];
							if ( conv ) {
								// Condense equivalence converters
								if ( conv === true ) {
									conv = converters[ conv2 ];

								// Otherwise, insert the intermediate dataType
								} else if ( converters[ conv2 ] !== true ) {
									current = tmp[ 0 ];
									dataTypes.splice( i--, 0, current );
								}

								break;
							}
						}
					}
				}

				// Apply converter (if not an equivalence)
				if ( conv !== true ) {

					// Unless errors are allowed to bubble, catch and return them
					if ( conv && s["throws"] ) {
						response = conv( response );
					} else {
						try {
							response = conv( response );
						} catch ( e ) {
							return { state: "parsererror", error: conv ? e : "No conversion from " + prev + " to " + current };
						}
					}
				}
			}

			// Update prev for next iteration
			prev = current;
		}
	}

	return { state: "success", data: response };
}
var oldCallbacks = [],
	rquestion = /\?/,
	rjsonp = /(=)\?(?=&|$)|\?\?/,
	nonce = jQuery.now();

// Default jsonp settings
jQuery.ajaxSetup({
	jsonp: "callback",
	jsonpCallback: function() {
		var callback = oldCallbacks.pop() || ( jQuery.expando + "_" + ( nonce++ ) );
		this[ callback ] = true;
		return callback;
	}
});

// Detect, normalize options and install callbacks for jsonp requests
jQuery.ajaxPrefilter( "json jsonp", function( s, originalSettings, jqXHR ) {

	var callbackName, overwritten, responseContainer,
		data = s.data,
		url = s.url,
		hasCallback = s.jsonp !== false,
		replaceInUrl = hasCallback && rjsonp.test( url ),
		replaceInData = hasCallback && !replaceInUrl && typeof data === "string" &&
			!( s.contentType || "" ).indexOf("application/x-www-form-urlencoded") &&
			rjsonp.test( data );

	// Handle iff the expected data type is "jsonp" or we have a parameter to set
	if ( s.dataTypes[ 0 ] === "jsonp" || replaceInUrl || replaceInData ) {

		// Get callback name, remembering preexisting value associated with it
		callbackName = s.jsonpCallback = jQuery.isFunction( s.jsonpCallback ) ?
			s.jsonpCallback() :
			s.jsonpCallback;
		overwritten = window[ callbackName ];

		// Insert callback into url or form data
		if ( replaceInUrl ) {
			s.url = url.replace( rjsonp, "$1" + callbackName );
		} else if ( replaceInData ) {
			s.data = data.replace( rjsonp, "$1" + callbackName );
		} else if ( hasCallback ) {
			s.url += ( rquestion.test( url ) ? "&" : "?" ) + s.jsonp + "=" + callbackName;
		}

		// Use data converter to retrieve json after script execution
		s.converters["script json"] = function() {
			if ( !responseContainer ) {
				jQuery.error( callbackName + " was not called" );
			}
			return responseContainer[ 0 ];
		};

		// force json dataType
		s.dataTypes[ 0 ] = "json";

		// Install callback
		window[ callbackName ] = function() {
			responseContainer = arguments;
		};

		// Clean-up function (fires after converters)
		jqXHR.always(function() {
			// Restore preexisting value
			window[ callbackName ] = overwritten;

			// Save back as free
			if ( s[ callbackName ] ) {
				// make sure that re-using the options doesn't screw things around
				s.jsonpCallback = originalSettings.jsonpCallback;

				// save the callback name for future use
				oldCallbacks.push( callbackName );
			}

			// Call if it was a function and we have a response
			if ( responseContainer && jQuery.isFunction( overwritten ) ) {
				overwritten( responseContainer[ 0 ] );
			}

			responseContainer = overwritten = undefined;
		});

		// Delegate to script
		return "script";
	}
});
// Install script dataType
jQuery.ajaxSetup({
	accepts: {
		script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
	},
	contents: {
		script: /javascript|ecmascript/
	},
	converters: {
		"text script": function( text ) {
			jQuery.globalEval( text );
			return text;
		}
	}
});

// Handle cache's special case and global
jQuery.ajaxPrefilter( "script", function( s ) {
	if ( s.cache === undefined ) {
		s.cache = false;
	}
	if ( s.crossDomain ) {
		s.type = "GET";
		s.global = false;
	}
});

// Bind script tag hack transport
jQuery.ajaxTransport( "script", function(s) {

	// This transport only deals with cross domain requests
	if ( s.crossDomain ) {

		var script,
			head = document.head || document.getElementsByTagName( "head" )[0] || document.documentElement;

		return {

			send: function( _, callback ) {

				script = document.createElement( "script" );

				script.async = "async";

				if ( s.scriptCharset ) {
					script.charset = s.scriptCharset;
				}

				script.src = s.url;

				// Attach handlers for all browsers
				script.onload = script.onreadystatechange = function( _, isAbort ) {

					if ( isAbort || !script.readyState || /loaded|complete/.test( script.readyState ) ) {

						// Handle memory leak in IE
						script.onload = script.onreadystatechange = null;

						// Remove the script
						if ( head && script.parentNode ) {
							head.removeChild( script );
						}

						// Dereference the script
						script = undefined;

						// Callback if not abort
						if ( !isAbort ) {
							callback( 200, "success" );
						}
					}
				};
				// Use insertBefore instead of appendChild  to circumvent an IE6 bug.
				// This arises when a base node is used (#2709 and #4378).
				head.insertBefore( script, head.firstChild );
			},

			abort: function() {
				if ( script ) {
					script.onload( 0, 1 );
				}
			}
		};
	}
});
var xhrCallbacks,
	// #5280: Internet Explorer will keep connections alive if we don't abort on unload
	xhrOnUnloadAbort = window.ActiveXObject ? function() {
		// Abort all pending requests
		for ( var key in xhrCallbacks ) {
			xhrCallbacks[ key ]( 0, 1 );
		}
	} : false,
	xhrId = 0;

// Functions to create xhrs
function createStandardXHR() {
	try {
		return new window.XMLHttpRequest();
	} catch( e ) {}
}

function createActiveXHR() {
	try {
		return new window.ActiveXObject( "Microsoft.XMLHTTP" );
	} catch( e ) {}
}

// Create the request object
// (This is still attached to ajaxSettings for backward compatibility)
jQuery.ajaxSettings.xhr = window.ActiveXObject ?
	/* Microsoft failed to properly
	 * implement the XMLHttpRequest in IE7 (can't request local files),
	 * so we use the ActiveXObject when it is available
	 * Additionally XMLHttpRequest can be disabled in IE7/IE8 so
	 * we need a fallback.
	 */
	function() {
		return !this.isLocal && createStandardXHR() || createActiveXHR();
	} :
	// For all other browsers, use the standard XMLHttpRequest object
	createStandardXHR;

// Determine support properties
(function( xhr ) {
	jQuery.extend( jQuery.support, {
		ajax: !!xhr,
		cors: !!xhr && ( "withCredentials" in xhr )
	});
})( jQuery.ajaxSettings.xhr() );

// Create transport if the browser can provide an xhr
if ( jQuery.support.ajax ) {

	jQuery.ajaxTransport(function( s ) {
		// Cross domain only allowed if supported through XMLHttpRequest
		if ( !s.crossDomain || jQuery.support.cors ) {

			var callback;

			return {
				send: function( headers, complete ) {

					// Get a new xhr
					var handle, i,
						xhr = s.xhr();

					// Open the socket
					// Passing null username, generates a login popup on Opera (#2865)
					if ( s.username ) {
						xhr.open( s.type, s.url, s.async, s.username, s.password );
					} else {
						xhr.open( s.type, s.url, s.async );
					}

					// Apply custom fields if provided
					if ( s.xhrFields ) {
						for ( i in s.xhrFields ) {
							xhr[ i ] = s.xhrFields[ i ];
						}
					}

					// Override mime type if needed
					if ( s.mimeType && xhr.overrideMimeType ) {
						xhr.overrideMimeType( s.mimeType );
					}

					// X-Requested-With header
					// For cross-domain requests, seeing as conditions for a preflight are
					// akin to a jigsaw puzzle, we simply never set it to be sure.
					// (it can always be set on a per-request basis or even using ajaxSetup)
					// For same-domain requests, won't change header if already provided.
					if ( !s.crossDomain && !headers["X-Requested-With"] ) {
						headers[ "X-Requested-With" ] = "XMLHttpRequest";
					}

					// Need an extra try/catch for cross domain requests in Firefox 3
					try {
						for ( i in headers ) {
							xhr.setRequestHeader( i, headers[ i ] );
						}
					} catch( _ ) {}

					// Do send the request
					// This may raise an exception which is actually
					// handled in jQuery.ajax (so no try/catch here)
					xhr.send( ( s.hasContent && s.data ) || null );

					// Listener
					callback = function( _, isAbort ) {

						var status,
							statusText,
							responseHeaders,
							responses,
							xml;

						// Firefox throws exceptions when accessing properties
						// of an xhr when a network error occurred
						// http://helpful.knobs-dials.com/index.php/Component_returned_failure_code:_0x80040111_(NS_ERROR_NOT_AVAILABLE)
						try {

							// Was never called and is aborted or complete
							if ( callback && ( isAbort || xhr.readyState === 4 ) ) {

								// Only called once
								callback = undefined;

								// Do not keep as active anymore
								if ( handle ) {
									xhr.onreadystatechange = jQuery.noop;
									if ( xhrOnUnloadAbort ) {
										delete xhrCallbacks[ handle ];
									}
								}

								// If it's an abort
								if ( isAbort ) {
									// Abort it manually if needed
									if ( xhr.readyState !== 4 ) {
										xhr.abort();
									}
								} else {
									status = xhr.status;
									responseHeaders = xhr.getAllResponseHeaders();
									responses = {};
									xml = xhr.responseXML;

									// Construct response list
									if ( xml && xml.documentElement /* #4958 */ ) {
										responses.xml = xml;
									}

									// When requesting binary data, IE6-9 will throw an exception
									// on any attempt to access responseText (#11426)
									try {
										responses.text = xhr.responseText;
									} catch( _ ) {
									}

									// Firefox throws an exception when accessing
									// statusText for faulty cross-domain requests
									try {
										statusText = xhr.statusText;
									} catch( e ) {
										// We normalize with Webkit giving an empty statusText
										statusText = "";
									}

									// Filter status for non standard behaviors

									// If the request is local and we have data: assume a success
									// (success with no data won't get notified, that's the best we
									// can do given current implementations)
									if ( !status && s.isLocal && !s.crossDomain ) {
										status = responses.text ? 200 : 404;
									// IE - #1450: sometimes returns 1223 when it should be 204
									} else if ( status === 1223 ) {
										status = 204;
									}
								}
							}
						} catch( firefoxAccessException ) {
							if ( !isAbort ) {
								complete( -1, firefoxAccessException );
							}
						}

						// Call complete if needed
						if ( responses ) {
							complete( status, statusText, responses, responseHeaders );
						}
					};

					if ( !s.async ) {
						// if we're in sync mode we fire the callback
						callback();
					} else if ( xhr.readyState === 4 ) {
						// (IE6 & IE7) if it's in cache and has been
						// retrieved directly we need to fire the callback
						setTimeout( callback, 0 );
					} else {
						handle = ++xhrId;
						if ( xhrOnUnloadAbort ) {
							// Create the active xhrs callbacks list if needed
							// and attach the unload handler
							if ( !xhrCallbacks ) {
								xhrCallbacks = {};
								jQuery( window ).unload( xhrOnUnloadAbort );
							}
							// Add to list of active xhrs callbacks
							xhrCallbacks[ handle ] = callback;
						}
						xhr.onreadystatechange = callback;
					}
				},

				abort: function() {
					if ( callback ) {
						callback(0,1);
					}
				}
			};
		}
	});
}
var fxNow, timerId,
	rfxtypes = /^(?:toggle|show|hide)$/,
	rfxnum = new RegExp( "^(?:([-+])=|)(" + core_pnum + ")([a-z%]*)$", "i" ),
	rrun = /queueHooks$/,
	animationPrefilters = [ defaultPrefilter ],
	tweeners = {
		"*": [function( prop, value ) {
			var end, unit, prevScale,
				tween = this.createTween( prop, value ),
				parts = rfxnum.exec( value ),
				target = tween.cur(),
				start = +target || 0,
				scale = 1;

			if ( parts ) {
				end = +parts[2];
				unit = parts[3] || ( jQuery.cssNumber[ prop ] ? "" : "px" );

				// We need to compute starting value
				if ( unit !== "px" && start ) {
					// Iteratively approximate from a nonzero starting point
					// Prefer the current property, because this process will be trivial if it uses the same units
					// Fallback to end or a simple constant
					start = jQuery.css( tween.elem, prop, true ) || end || 1;

					do {
						// If previous iteration zeroed out, double until we get *something*
						// Use a string for doubling factor so we don't accidentally see scale as unchanged below
						prevScale = scale = scale || ".5";

						// Adjust and apply
						start = start / scale;
						jQuery.style( tween.elem, prop, start + unit );

						// Update scale, tolerating zeroes from tween.cur()
						scale = tween.cur() / target;

					// Stop looping if we've hit the mark or scale is unchanged
					} while ( scale !== 1 && scale !== prevScale );
				}

				tween.unit = unit;
				tween.start = start;
				// If a +=/-= token was provided, we're doing a relative animation
				tween.end = parts[1] ? start + ( parts[1] + 1 ) * end : end;
			}
			return tween;
		}]
	};

// Animations created synchronously will run synchronously
function createFxNow() {
	setTimeout(function() {
		fxNow = undefined;
	}, 0 );
	return ( fxNow = jQuery.now() );
}

function createTweens( animation, props ) {
	jQuery.each( props, function( prop, value ) {
		var collection = ( tweeners[ prop ] || [] ).concat( tweeners[ "*" ] ),
			index = 0,
			length = collection.length;
		for ( ; index < length; index++ ) {
			if ( collection[ index ].call( animation, prop, value ) ) {

				// we're done with this property
				return;
			}
		}
	});
}

function Animation( elem, properties, options ) {
	var result,
		index = 0,
		tweenerIndex = 0,
		length = animationPrefilters.length,
		deferred = jQuery.Deferred().always( function() {
			// don't match elem in the :animated selector
			delete tick.elem;
		}),
		tick = function() {
			var currentTime = fxNow || createFxNow(),
				remaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),
				percent = 1 - ( remaining / animation.duration || 0 ),
				index = 0,
				length = animation.tweens.length;

			for ( ; index < length ; index++ ) {
				animation.tweens[ index ].run( percent );
			}

			deferred.notifyWith( elem, [ animation, percent, remaining ]);

			if ( percent < 1 && length ) {
				return remaining;
			} else {
				deferred.resolveWith( elem, [ animation ] );
				return false;
			}
		},
		animation = deferred.promise({
			elem: elem,
			props: jQuery.extend( {}, properties ),
			opts: jQuery.extend( true, { specialEasing: {} }, options ),
			originalProperties: properties,
			originalOptions: options,
			startTime: fxNow || createFxNow(),
			duration: options.duration,
			tweens: [],
			createTween: function( prop, end, easing ) {
				var tween = jQuery.Tween( elem, animation.opts, prop, end,
						animation.opts.specialEasing[ prop ] || animation.opts.easing );
				animation.tweens.push( tween );
				return tween;
			},
			stop: function( gotoEnd ) {
				var index = 0,
					// if we are going to the end, we want to run all the tweens
					// otherwise we skip this part
					length = gotoEnd ? animation.tweens.length : 0;

				for ( ; index < length ; index++ ) {
					animation.tweens[ index ].run( 1 );
				}

				// resolve when we played the last frame
				// otherwise, reject
				if ( gotoEnd ) {
					deferred.resolveWith( elem, [ animation, gotoEnd ] );
				} else {
					deferred.rejectWith( elem, [ animation, gotoEnd ] );
				}
				return this;
			}
		}),
		props = animation.props;

	propFilter( props, animation.opts.specialEasing );

	for ( ; index < length ; index++ ) {
		result = animationPrefilters[ index ].call( animation, elem, props, animation.opts );
		if ( result ) {
			return result;
		}
	}

	createTweens( animation, props );

	if ( jQuery.isFunction( animation.opts.start ) ) {
		animation.opts.start.call( elem, animation );
	}

	jQuery.fx.timer(
		jQuery.extend( tick, {
			anim: animation,
			queue: animation.opts.queue,
			elem: elem
		})
	);

	// attach callbacks from options
	return animation.progress( animation.opts.progress )
		.done( animation.opts.done, animation.opts.complete )
		.fail( animation.opts.fail )
		.always( animation.opts.always );
}

function propFilter( props, specialEasing ) {
	var index, name, easing, value, hooks;

	// camelCase, specialEasing and expand cssHook pass
	for ( index in props ) {
		name = jQuery.camelCase( index );
		easing = specialEasing[ name ];
		value = props[ index ];
		if ( jQuery.isArray( value ) ) {
			easing = value[ 1 ];
			value = props[ index ] = value[ 0 ];
		}

		if ( index !== name ) {
			props[ name ] = value;
			delete props[ index ];
		}

		hooks = jQuery.cssHooks[ name ];
		if ( hooks && "expand" in hooks ) {
			value = hooks.expand( value );
			delete props[ name ];

			// not quite $.extend, this wont overwrite keys already present.
			// also - reusing 'index' from above because we have the correct "name"
			for ( index in value ) {
				if ( !( index in props ) ) {
					props[ index ] = value[ index ];
					specialEasing[ index ] = easing;
				}
			}
		} else {
			specialEasing[ name ] = easing;
		}
	}
}

jQuery.Animation = jQuery.extend( Animation, {

	tweener: function( props, callback ) {
		if ( jQuery.isFunction( props ) ) {
			callback = props;
			props = [ "*" ];
		} else {
			props = props.split(" ");
		}

		var prop,
			index = 0,
			length = props.length;

		for ( ; index < length ; index++ ) {
			prop = props[ index ];
			tweeners[ prop ] = tweeners[ prop ] || [];
			tweeners[ prop ].unshift( callback );
		}
	},

	prefilter: function( callback, prepend ) {
		if ( prepend ) {
			animationPrefilters.unshift( callback );
		} else {
			animationPrefilters.push( callback );
		}
	}
});

function defaultPrefilter( elem, props, opts ) {
	var index, prop, value, length, dataShow, tween, hooks, oldfire,
		anim = this,
		style = elem.style,
		orig = {},
		handled = [],
		hidden = elem.nodeType && isHidden( elem );

	// handle queue: false promises
	if ( !opts.queue ) {
		hooks = jQuery._queueHooks( elem, "fx" );
		if ( hooks.unqueued == null ) {
			hooks.unqueued = 0;
			oldfire = hooks.empty.fire;
			hooks.empty.fire = function() {
				if ( !hooks.unqueued ) {
					oldfire();
				}
			};
		}
		hooks.unqueued++;

		anim.always(function() {
			// doing this makes sure that the complete handler will be called
			// before this completes
			anim.always(function() {
				hooks.unqueued--;
				if ( !jQuery.queue( elem, "fx" ).length ) {
					hooks.empty.fire();
				}
			});
		});
	}

	// height/width overflow pass
	if ( elem.nodeType === 1 && ( "height" in props || "width" in props ) ) {
		// Make sure that nothing sneaks out
		// Record all 3 overflow attributes because IE does not
		// change the overflow attribute when overflowX and
		// overflowY are set to the same value
		opts.overflow = [ style.overflow, style.overflowX, style.overflowY ];

		// Set display property to inline-block for height/width
		// animations on inline elements that are having width/height animated
		if ( jQuery.css( elem, "display" ) === "inline" &&
				jQuery.css( elem, "float" ) === "none" ) {

			// inline-level elements accept inline-block;
			// block-level elements need to be inline with layout
			if ( !jQuery.support.inlineBlockNeedsLayout || css_defaultDisplay( elem.nodeName ) === "inline" ) {
				style.display = "inline-block";

			} else {
				style.zoom = 1;
			}
		}
	}

	if ( opts.overflow ) {
		style.overflow = "hidden";
		if ( !jQuery.support.shrinkWrapBlocks ) {
			anim.done(function() {
				style.overflow = opts.overflow[ 0 ];
				style.overflowX = opts.overflow[ 1 ];
				style.overflowY = opts.overflow[ 2 ];
			});
		}
	}


	// show/hide pass
	for ( index in props ) {
		value = props[ index ];
		if ( rfxtypes.exec( value ) ) {
			delete props[ index ];
			if ( value === ( hidden ? "hide" : "show" ) ) {
				continue;
			}
			handled.push( index );
		}
	}

	length = handled.length;
	if ( length ) {
		dataShow = jQuery._data( elem, "fxshow" ) || jQuery._data( elem, "fxshow", {} );
		if ( hidden ) {
			jQuery( elem ).show();
		} else {
			anim.done(function() {
				jQuery( elem ).hide();
			});
		}
		anim.done(function() {
			var prop;
			jQuery.removeData( elem, "fxshow", true );
			for ( prop in orig ) {
				jQuery.style( elem, prop, orig[ prop ] );
			}
		});
		for ( index = 0 ; index < length ; index++ ) {
			prop = handled[ index ];
			tween = anim.createTween( prop, hidden ? dataShow[ prop ] : 0 );
			orig[ prop ] = dataShow[ prop ] || jQuery.style( elem, prop );

			if ( !( prop in dataShow ) ) {
				dataShow[ prop ] = tween.start;
				if ( hidden ) {
					tween.end = tween.start;
					tween.start = prop === "width" || prop === "height" ? 1 : 0;
				}
			}
		}
	}
}

function Tween( elem, options, prop, end, easing ) {
	return new Tween.prototype.init( elem, options, prop, end, easing );
}
jQuery.Tween = Tween;

Tween.prototype = {
	constructor: Tween,
	init: function( elem, options, prop, end, easing, unit ) {
		this.elem = elem;
		this.prop = prop;
		this.easing = easing || "swing";
		this.options = options;
		this.start = this.now = this.cur();
		this.end = end;
		this.unit = unit || ( jQuery.cssNumber[ prop ] ? "" : "px" );
	},
	cur: function() {
		var hooks = Tween.propHooks[ this.prop ];

		return hooks && hooks.get ?
			hooks.get( this ) :
			Tween.propHooks._default.get( this );
	},
	run: function( percent ) {
		var eased,
			hooks = Tween.propHooks[ this.prop ];

		if ( this.options.duration ) {
			this.pos = eased = jQuery.easing[ this.easing ](
				percent, this.options.duration * percent, 0, 1, this.options.duration
			);
		} else {
			this.pos = eased = percent;
		}
		this.now = ( this.end - this.start ) * eased + this.start;

		if ( this.options.step ) {
			this.options.step.call( this.elem, this.now, this );
		}

		if ( hooks && hooks.set ) {
			hooks.set( this );
		} else {
			Tween.propHooks._default.set( this );
		}
		return this;
	}
};

Tween.prototype.init.prototype = Tween.prototype;

Tween.propHooks = {
	_default: {
		get: function( tween ) {
			var result;

			if ( tween.elem[ tween.prop ] != null &&
				(!tween.elem.style || tween.elem.style[ tween.prop ] == null) ) {
				return tween.elem[ tween.prop ];
			}

			// passing any value as a 4th parameter to .css will automatically
			// attempt a parseFloat and fallback to a string if the parse fails
			// so, simple values such as "10px" are parsed to Float.
			// complex values such as "rotate(1rad)" are returned as is.
			result = jQuery.css( tween.elem, tween.prop, false, "" );
			// Empty strings, null, undefined and "auto" are converted to 0.
			return !result || result === "auto" ? 0 : result;
		},
		set: function( tween ) {
			// use step hook for back compat - use cssHook if its there - use .style if its
			// available and use plain properties where available
			if ( jQuery.fx.step[ tween.prop ] ) {
				jQuery.fx.step[ tween.prop ]( tween );
			} else if ( tween.elem.style && ( tween.elem.style[ jQuery.cssProps[ tween.prop ] ] != null || jQuery.cssHooks[ tween.prop ] ) ) {
				jQuery.style( tween.elem, tween.prop, tween.now + tween.unit );
			} else {
				tween.elem[ tween.prop ] = tween.now;
			}
		}
	}
};

// Remove in 2.0 - this supports IE8's panic based approach
// to setting things on disconnected nodes

Tween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {
	set: function( tween ) {
		if ( tween.elem.nodeType && tween.elem.parentNode ) {
			tween.elem[ tween.prop ] = tween.now;
		}
	}
};

jQuery.each([ "toggle", "show", "hide" ], function( i, name ) {
	var cssFn = jQuery.fn[ name ];
	jQuery.fn[ name ] = function( speed, easing, callback ) {
		return speed == null || typeof speed === "boolean" ||
			// special check for .toggle( handler, handler, ... )
			( !i && jQuery.isFunction( speed ) && jQuery.isFunction( easing ) ) ?
			cssFn.apply( this, arguments ) :
			this.animate( genFx( name, true ), speed, easing, callback );
	};
});

jQuery.fn.extend({
	fadeTo: function( speed, to, easing, callback ) {

		// show any hidden elements after setting opacity to 0
		return this.filter( isHidden ).css( "opacity", 0 ).show()

			// animate to the value specified
			.end().animate({ opacity: to }, speed, easing, callback );
	},
	animate: function( prop, speed, easing, callback ) {
		var empty = jQuery.isEmptyObject( prop ),
			optall = jQuery.speed( speed, easing, callback ),
			doAnimation = function() {
				// Operate on a copy of prop so per-property easing won't be lost
				var anim = Animation( this, jQuery.extend( {}, prop ), optall );

				// Empty animations resolve immediately
				if ( empty ) {
					anim.stop( true );
				}
			};

		return empty || optall.queue === false ?
			this.each( doAnimation ) :
			this.queue( optall.queue, doAnimation );
	},
	stop: function( type, clearQueue, gotoEnd ) {
		var stopQueue = function( hooks ) {
			var stop = hooks.stop;
			delete hooks.stop;
			stop( gotoEnd );
		};

		if ( typeof type !== "string" ) {
			gotoEnd = clearQueue;
			clearQueue = type;
			type = undefined;
		}
		if ( clearQueue && type !== false ) {
			this.queue( type || "fx", [] );
		}

		return this.each(function() {
			var dequeue = true,
				index = type != null && type + "queueHooks",
				timers = jQuery.timers,
				data = jQuery._data( this );

			if ( index ) {
				if ( data[ index ] && data[ index ].stop ) {
					stopQueue( data[ index ] );
				}
			} else {
				for ( index in data ) {
					if ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {
						stopQueue( data[ index ] );
					}
				}
			}

			for ( index = timers.length; index--; ) {
				if ( timers[ index ].elem === this && (type == null || timers[ index ].queue === type) ) {
					timers[ index ].anim.stop( gotoEnd );
					dequeue = false;
					timers.splice( index, 1 );
				}
			}

			// start the next in the queue if the last step wasn't forced
			// timers currently will call their complete callbacks, which will dequeue
			// but only if they were gotoEnd
			if ( dequeue || !gotoEnd ) {
				jQuery.dequeue( this, type );
			}
		});
	}
});

// Generate parameters to create a standard animation
function genFx( type, includeWidth ) {
	var which,
		attrs = { height: type },
		i = 0;

	// if we include width, step value is 1 to do all cssExpand values,
	// if we don't include width, step value is 2 to skip over Left and Right
	includeWidth = includeWidth? 1 : 0;
	for( ; i < 4 ; i += 2 - includeWidth ) {
		which = cssExpand[ i ];
		attrs[ "margin" + which ] = attrs[ "padding" + which ] = type;
	}

	if ( includeWidth ) {
		attrs.opacity = attrs.width = type;
	}

	return attrs;
}

// Generate shortcuts for custom animations
jQuery.each({
	slideDown: genFx("show"),
	slideUp: genFx("hide"),
	slideToggle: genFx("toggle"),
	fadeIn: { opacity: "show" },
	fadeOut: { opacity: "hide" },
	fadeToggle: { opacity: "toggle" }
}, function( name, props ) {
	jQuery.fn[ name ] = function( speed, easing, callback ) {
		return this.animate( props, speed, easing, callback );
	};
});

jQuery.speed = function( speed, easing, fn ) {
	var opt = speed && typeof speed === "object" ? jQuery.extend( {}, speed ) : {
		complete: fn || !fn && easing ||
			jQuery.isFunction( speed ) && speed,
		duration: speed,
		easing: fn && easing || easing && !jQuery.isFunction( easing ) && easing
	};

	opt.duration = jQuery.fx.off ? 0 : typeof opt.duration === "number" ? opt.duration :
		opt.duration in jQuery.fx.speeds ? jQuery.fx.speeds[ opt.duration ] : jQuery.fx.speeds._default;

	// normalize opt.queue - true/undefined/null -> "fx"
	if ( opt.queue == null || opt.queue === true ) {
		opt.queue = "fx";
	}

	// Queueing
	opt.old = opt.complete;

	opt.complete = function() {
		if ( jQuery.isFunction( opt.old ) ) {
			opt.old.call( this );
		}

		if ( opt.queue ) {
			jQuery.dequeue( this, opt.queue );
		}
	};

	return opt;
};

jQuery.easing = {
	linear: function( p ) {
		return p;
	},
	swing: function( p ) {
		return 0.5 - Math.cos( p*Math.PI ) / 2;
	}
};

jQuery.timers = [];
jQuery.fx = Tween.prototype.init;
jQuery.fx.tick = function() {
	var timer,
		timers = jQuery.timers,
		i = 0;

	for ( ; i < timers.length; i++ ) {
		timer = timers[ i ];
		// Checks the timer has not already been removed
		if ( !timer() && timers[ i ] === timer ) {
			timers.splice( i--, 1 );
		}
	}

	if ( !timers.length ) {
		jQuery.fx.stop();
	}
};

jQuery.fx.timer = function( timer ) {
	if ( timer() && jQuery.timers.push( timer ) && !timerId ) {
		timerId = setInterval( jQuery.fx.tick, jQuery.fx.interval );
	}
};

jQuery.fx.interval = 13;

jQuery.fx.stop = function() {
	clearInterval( timerId );
	timerId = null;
};

jQuery.fx.speeds = {
	slow: 600,
	fast: 200,
	// Default speed
	_default: 400
};

// Back Compat <1.8 extension point
jQuery.fx.step = {};

if ( jQuery.expr && jQuery.expr.filters ) {
	jQuery.expr.filters.animated = function( elem ) {
		return jQuery.grep(jQuery.timers, function( fn ) {
			return elem === fn.elem;
		}).length;
	};
}
var rroot = /^(?:body|html)$/i;

jQuery.fn.offset = function( options ) {
	if ( arguments.length ) {
		return options === undefined ?
			this :
			this.each(function( i ) {
				jQuery.offset.setOffset( this, options, i );
			});
	}

	var box, docElem, body, win, clientTop, clientLeft, scrollTop, scrollLeft, top, left,
		elem = this[ 0 ],
		doc = elem && elem.ownerDocument;

	if ( !doc ) {
		return;
	}

	if ( (body = doc.body) === elem ) {
		return jQuery.offset.bodyOffset( elem );
	}

	docElem = doc.documentElement;

	// Make sure we're not dealing with a disconnected DOM node
	if ( !jQuery.contains( docElem, elem ) ) {
		return { top: 0, left: 0 };
	}

	box = elem.getBoundingClientRect();
	win = getWindow( doc );
	clientTop  = docElem.clientTop  || body.clientTop  || 0;
	clientLeft = docElem.clientLeft || body.clientLeft || 0;
	scrollTop  = win.pageYOffset || docElem.scrollTop;
	scrollLeft = win.pageXOffset || docElem.scrollLeft;
	top  = box.top  + scrollTop  - clientTop;
	left = box.left + scrollLeft - clientLeft;

	return { top: top, left: left };
};

jQuery.offset = {

	bodyOffset: function( body ) {
		var top = body.offsetTop,
			left = body.offsetLeft;

		if ( jQuery.support.doesNotIncludeMarginInBodyOffset ) {
			top  += parseFloat( jQuery.css(body, "marginTop") ) || 0;
			left += parseFloat( jQuery.css(body, "marginLeft") ) || 0;
		}

		return { top: top, left: left };
	},

	setOffset: function( elem, options, i ) {
		var position = jQuery.css( elem, "position" );

		// set position first, in-case top/left are set even on static elem
		if ( position === "static" ) {
			elem.style.position = "relative";
		}

		var curElem = jQuery( elem ),
			curOffset = curElem.offset(),
			curCSSTop = jQuery.css( elem, "top" ),
			curCSSLeft = jQuery.css( elem, "left" ),
			calculatePosition = ( position === "absolute" || position === "fixed" ) && jQuery.inArray("auto", [curCSSTop, curCSSLeft]) > -1,
			props = {}, curPosition = {}, curTop, curLeft;

		// need to be able to calculate position if either top or left is auto and position is either absolute or fixed
		if ( calculatePosition ) {
			curPosition = curElem.position();
			curTop = curPosition.top;
			curLeft = curPosition.left;
		} else {
			curTop = parseFloat( curCSSTop ) || 0;
			curLeft = parseFloat( curCSSLeft ) || 0;
		}

		if ( jQuery.isFunction( options ) ) {
			options = options.call( elem, i, curOffset );
		}

		if ( options.top != null ) {
			props.top = ( options.top - curOffset.top ) + curTop;
		}
		if ( options.left != null ) {
			props.left = ( options.left - curOffset.left ) + curLeft;
		}

		if ( "using" in options ) {
			options.using.call( elem, props );
		} else {
			curElem.css( props );
		}
	}
};


jQuery.fn.extend({

	position: function() {
		if ( !this[0] ) {
			return;
		}

		var elem = this[0],

		// Get *real* offsetParent
		offsetParent = this.offsetParent(),

		// Get correct offsets
		offset       = this.offset(),
		parentOffset = rroot.test(offsetParent[0].nodeName) ? { top: 0, left: 0 } : offsetParent.offset();

		// Subtract element margins
		// note: when an element has margin: auto the offsetLeft and marginLeft
		// are the same in Safari causing offset.left to incorrectly be 0
		offset.top  -= parseFloat( jQuery.css(elem, "marginTop") ) || 0;
		offset.left -= parseFloat( jQuery.css(elem, "marginLeft") ) || 0;

		// Add offsetParent borders
		parentOffset.top  += parseFloat( jQuery.css(offsetParent[0], "borderTopWidth") ) || 0;
		parentOffset.left += parseFloat( jQuery.css(offsetParent[0], "borderLeftWidth") ) || 0;

		// Subtract the two offsets
		return {
			top:  offset.top  - parentOffset.top,
			left: offset.left - parentOffset.left
		};
	},

	offsetParent: function() {
		return this.map(function() {
			var offsetParent = this.offsetParent || document.body;
			while ( offsetParent && (!rroot.test(offsetParent.nodeName) && jQuery.css(offsetParent, "position") === "static") ) {
				offsetParent = offsetParent.offsetParent;
			}
			return offsetParent || document.body;
		});
	}
});


// Create scrollLeft and scrollTop methods
jQuery.each( {scrollLeft: "pageXOffset", scrollTop: "pageYOffset"}, function( method, prop ) {
	var top = /Y/.test( prop );

	jQuery.fn[ method ] = function( val ) {
		return jQuery.access( this, function( elem, method, val ) {
			var win = getWindow( elem );

			if ( val === undefined ) {
				return win ? (prop in win) ? win[ prop ] :
					win.document.documentElement[ method ] :
					elem[ method ];
			}

			if ( win ) {
				win.scrollTo(
					!top ? val : jQuery( win ).scrollLeft(),
					 top ? val : jQuery( win ).scrollTop()
				);

			} else {
				elem[ method ] = val;
			}
		}, method, val, arguments.length, null );
	};
});

function getWindow( elem ) {
	return jQuery.isWindow( elem ) ?
		elem :
		elem.nodeType === 9 ?
			elem.defaultView || elem.parentWindow :
			false;
}
// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods
jQuery.each( { Height: "height", Width: "width" }, function( name, type ) {
	jQuery.each( { padding: "inner" + name, content: type, "": "outer" + name }, function( defaultExtra, funcName ) {
		// margin is only for outerHeight, outerWidth
		jQuery.fn[ funcName ] = function( margin, value ) {
			var chainable = arguments.length && ( defaultExtra || typeof margin !== "boolean" ),
				extra = defaultExtra || ( margin === true || value === true ? "margin" : "border" );

			return jQuery.access( this, function( elem, type, value ) {
				var doc;

				if ( jQuery.isWindow( elem ) ) {
					// As of 5/8/2012 this will yield incorrect results for Mobile Safari, but there
					// isn't a whole lot we can do. See pull request at this URL for discussion:
					// https://github.com/jquery/jquery/pull/764
					return elem.document.documentElement[ "client" + name ];
				}

				// Get document width or height
				if ( elem.nodeType === 9 ) {
					doc = elem.documentElement;

					// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height], whichever is greatest
					// unfortunately, this causes bug #3838 in IE6/8 only, but there is currently no good, small way to fix it.
					return Math.max(
						elem.body[ "scroll" + name ], doc[ "scroll" + name ],
						elem.body[ "offset" + name ], doc[ "offset" + name ],
						doc[ "client" + name ]
					);
				}

				return value === undefined ?
					// Get width or height on the element, requesting but not forcing parseFloat
					jQuery.css( elem, type, value, extra ) :

					// Set width or height on the element
					jQuery.style( elem, type, value, extra );
			}, type, chainable ? margin : undefined, chainable, null );
		};
	});
});
// Expose jQuery to the global object
window.jQuery = window.$ = jQuery;

// Expose jQuery as an AMD module, but only for AMD loaders that
// understand the issues with loading multiple versions of jQuery
// in a page that all might call define(). The loader will indicate
// they have special allowances for multiple jQuery versions by
// specifying define.amd.jQuery = true. Register as a named module,
// since jQuery can be concatenated with other files that may use define,
// but not use a proper concatenation script that understands anonymous
// AMD modules. A named AMD is safest and most robust way to register.
// Lowercase jquery is used because AMD module names are derived from
// file names, and jQuery is normally delivered in a lowercase file name.
// Do this after creating the global so that if an AMD module wants to call
// noConflict to hide this version of jQuery, it will work.
if ( typeof define === "function" && define.amd && define.amd.jQuery ) {
	define( "jquery", [], function () { return jQuery; } );
}

return jQuery;

})( window ); }));

},{}],9:[function(require,module,exports){
//! moment.js
//! version : 2.3.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com

(function (undefined) {

    /************************************
        Constants
    ************************************/

    var moment,
        VERSION = "2.3.1",
        round = Math.round,
        i,

        YEAR = 0,
        MONTH = 1,
        DATE = 2,
        HOUR = 3,
        MINUTE = 4,
        SECOND = 5,
        MILLISECOND = 6,

        // internal storage for language config files
        languages = {},

        // check for nodeJS
        hasModule = (typeof module !== 'undefined' && module.exports),

        // ASP.NET json date format regex
        aspNetJsonRegex = /^\/?Date\((\-?\d+)/i,
        aspNetTimeSpanJsonRegex = /(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,

        // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html
        // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere
        isoDurationRegex = /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,

        // format tokens
        formattingTokens = /(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,
        localFormattingTokens = /(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,

        // parsing token regexes
        parseTokenOneOrTwoDigits = /\d\d?/, // 0 - 99
        parseTokenOneToThreeDigits = /\d{1,3}/, // 0 - 999
        parseTokenThreeDigits = /\d{3}/, // 000 - 999
        parseTokenFourDigits = /\d{1,4}/, // 0 - 9999
        parseTokenSixDigits = /[+\-]?\d{1,6}/, // -999,999 - 999,999
        parseTokenWord = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i, // any word (or two) characters or numbers including two/three word month in arabic.
        parseTokenTimezone = /Z|[\+\-]\d\d:?\d\d/i, // +00:00 -00:00 +0000 -0000 or Z
        parseTokenT = /T/i, // T (ISO seperator)
        parseTokenTimestampMs = /[\+\-]?\d+(\.\d{1,3})?/, // 123456789 123456789.123

        // preliminary iso regex
        // 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000)
        isoRegex = /^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?$/,

        isoFormat = 'YYYY-MM-DDTHH:mm:ssZ',

        isoDates = [
            'YYYY-MM-DD',
            'GGGG-[W]WW',
            'GGGG-[W]WW-E',
            'YYYY-DDD'
        ],

        // iso time formats and regexes
        isoTimes = [
            ['HH:mm:ss.S', /(T| )\d\d:\d\d:\d\d\.\d{1,3}/],
            ['HH:mm:ss', /(T| )\d\d:\d\d:\d\d/],
            ['HH:mm', /(T| )\d\d:\d\d/],
            ['HH', /(T| )\d\d/]
        ],

        // timezone chunker "+10:00" > ["10", "00"] or "-1530" > ["-15", "30"]
        parseTimezoneChunker = /([\+\-]|\d\d)/gi,

        // getter and setter names
        proxyGettersAndSetters = 'Date|Hours|Minutes|Seconds|Milliseconds'.split('|'),
        unitMillisecondFactors = {
            'Milliseconds' : 1,
            'Seconds' : 1e3,
            'Minutes' : 6e4,
            'Hours' : 36e5,
            'Days' : 864e5,
            'Months' : 2592e6,
            'Years' : 31536e6
        },

        unitAliases = {
            ms : 'millisecond',
            s : 'second',
            m : 'minute',
            h : 'hour',
            d : 'day',
            D : 'date',
            w : 'week',
            W : 'isoWeek',
            M : 'month',
            y : 'year',
            DDD : 'dayOfYear',
            e : 'weekday',
            E : 'isoWeekday',
            gg: 'weekYear',
            GG: 'isoWeekYear'
        },

        camelFunctions = {
            dayofyear : 'dayOfYear',
            isoweekday : 'isoWeekday',
            isoweek : 'isoWeek',
            weekyear : 'weekYear',
            isoweekyear : 'isoWeekYear'
        },

        // format function strings
        formatFunctions = {},

        // tokens to ordinalize and pad
        ordinalizeTokens = 'DDD w W M D d'.split(' '),
        paddedTokens = 'M D H h m s w W'.split(' '),

        formatTokenFunctions = {
            M    : function () {
                return this.month() + 1;
            },
            MMM  : function (format) {
                return this.lang().monthsShort(this, format);
            },
            MMMM : function (format) {
                return this.lang().months(this, format);
            },
            D    : function () {
                return this.date();
            },
            DDD  : function () {
                return this.dayOfYear();
            },
            d    : function () {
                return this.day();
            },
            dd   : function (format) {
                return this.lang().weekdaysMin(this, format);
            },
            ddd  : function (format) {
                return this.lang().weekdaysShort(this, format);
            },
            dddd : function (format) {
                return this.lang().weekdays(this, format);
            },
            w    : function () {
                return this.week();
            },
            W    : function () {
                return this.isoWeek();
            },
            YY   : function () {
                return leftZeroFill(this.year() % 100, 2);
            },
            YYYY : function () {
                return leftZeroFill(this.year(), 4);
            },
            YYYYY : function () {
                return leftZeroFill(this.year(), 5);
            },
            gg   : function () {
                return leftZeroFill(this.weekYear() % 100, 2);
            },
            gggg : function () {
                return this.weekYear();
            },
            ggggg : function () {
                return leftZeroFill(this.weekYear(), 5);
            },
            GG   : function () {
                return leftZeroFill(this.isoWeekYear() % 100, 2);
            },
            GGGG : function () {
                return this.isoWeekYear();
            },
            GGGGG : function () {
                return leftZeroFill(this.isoWeekYear(), 5);
            },
            e : function () {
                return this.weekday();
            },
            E : function () {
                return this.isoWeekday();
            },
            a    : function () {
                return this.lang().meridiem(this.hours(), this.minutes(), true);
            },
            A    : function () {
                return this.lang().meridiem(this.hours(), this.minutes(), false);
            },
            H    : function () {
                return this.hours();
            },
            h    : function () {
                return this.hours() % 12 || 12;
            },
            m    : function () {
                return this.minutes();
            },
            s    : function () {
                return this.seconds();
            },
            S    : function () {
                return toInt(this.milliseconds() / 100);
            },
            SS   : function () {
                return leftZeroFill(toInt(this.milliseconds() / 10), 2);
            },
            SSS  : function () {
                return leftZeroFill(this.milliseconds(), 3);
            },
            Z    : function () {
                var a = -this.zone(),
                    b = "+";
                if (a < 0) {
                    a = -a;
                    b = "-";
                }
                return b + leftZeroFill(toInt(a / 60), 2) + ":" + leftZeroFill(toInt(a) % 60, 2);
            },
            ZZ   : function () {
                var a = -this.zone(),
                    b = "+";
                if (a < 0) {
                    a = -a;
                    b = "-";
                }
                return b + leftZeroFill(toInt(10 * a / 6), 4);
            },
            z : function () {
                return this.zoneAbbr();
            },
            zz : function () {
                return this.zoneName();
            },
            X    : function () {
                return this.unix();
            }
        },

        lists = ['months', 'monthsShort', 'weekdays', 'weekdaysShort', 'weekdaysMin'];

    function padToken(func, count) {
        return function (a) {
            return leftZeroFill(func.call(this, a), count);
        };
    }
    function ordinalizeToken(func, period) {
        return function (a) {
            return this.lang().ordinal(func.call(this, a), period);
        };
    }

    while (ordinalizeTokens.length) {
        i = ordinalizeTokens.pop();
        formatTokenFunctions[i + 'o'] = ordinalizeToken(formatTokenFunctions[i], i);
    }
    while (paddedTokens.length) {
        i = paddedTokens.pop();
        formatTokenFunctions[i + i] = padToken(formatTokenFunctions[i], 2);
    }
    formatTokenFunctions.DDDD = padToken(formatTokenFunctions.DDD, 3);


    /************************************
        Constructors
    ************************************/

    function Language() {

    }

    // Moment prototype object
    function Moment(config) {
        checkOverflow(config);
        extend(this, config);
    }

    // Duration Constructor
    function Duration(duration) {
        var normalizedInput = normalizeObjectUnits(duration),
            years = normalizedInput.year || 0,
            months = normalizedInput.month || 0,
            weeks = normalizedInput.week || 0,
            days = normalizedInput.day || 0,
            hours = normalizedInput.hour || 0,
            minutes = normalizedInput.minute || 0,
            seconds = normalizedInput.second || 0,
            milliseconds = normalizedInput.millisecond || 0;

        // store reference to input for deterministic cloning
        this._input = duration;

        // representation for dateAddRemove
        this._milliseconds = +milliseconds +
            seconds * 1e3 + // 1000
            minutes * 6e4 + // 1000 * 60
            hours * 36e5; // 1000 * 60 * 60
        // Because of dateAddRemove treats 24 hours as different from a
        // day when working around DST, we need to store them separately
        this._days = +days +
            weeks * 7;
        // It is impossible translate months into days without knowing
        // which months you are are talking about, so we have to store
        // it separately.
        this._months = +months +
            years * 12;

        this._data = {};

        this._bubble();
    }

    /************************************
        Helpers
    ************************************/


    function extend(a, b) {
        for (var i in b) {
            if (b.hasOwnProperty(i)) {
                a[i] = b[i];
            }
        }

        if (b.hasOwnProperty("toString")) {
            a.toString = b.toString;
        }

        if (b.hasOwnProperty("valueOf")) {
            a.valueOf = b.valueOf;
        }

        return a;
    }

    function absRound(number) {
        if (number < 0) {
            return Math.ceil(number);
        } else {
            return Math.floor(number);
        }
    }

    // left zero fill a number
    // see http://jsperf.com/left-zero-filling for performance comparison
    function leftZeroFill(number, targetLength) {
        var output = number + '';
        while (output.length < targetLength) {
            output = '0' + output;
        }
        return output;
    }

    // helper function for _.addTime and _.subtractTime
    function addOrSubtractDurationFromMoment(mom, duration, isAdding, ignoreUpdateOffset) {
        var milliseconds = duration._milliseconds,
            days = duration._days,
            months = duration._months,
            minutes,
            hours;

        if (milliseconds) {
            mom._d.setTime(+mom._d + milliseconds * isAdding);
        }
        // store the minutes and hours so we can restore them
        if (days || months) {
            minutes = mom.minute();
            hours = mom.hour();
        }
        if (days) {
            mom.date(mom.date() + days * isAdding);
        }
        if (months) {
            mom.month(mom.month() + months * isAdding);
        }
        if (milliseconds && !ignoreUpdateOffset) {
            moment.updateOffset(mom);
        }
        // restore the minutes and hours after possibly changing dst
        if (days || months) {
            mom.minute(minutes);
            mom.hour(hours);
        }
    }

    // check if is an array
    function isArray(input) {
        return Object.prototype.toString.call(input) === '[object Array]';
    }

    function isDate(input) {
        return Object.prototype.toString.call(input) === '[object Date]';
    }

    // compare two arrays, return the number of differences
    function compareArrays(array1, array2, dontConvert) {
        var len = Math.min(array1.length, array2.length),
            lengthDiff = Math.abs(array1.length - array2.length),
            diffs = 0,
            i;
        for (i = 0; i < len; i++) {
            if ((dontConvert && array1[i] !== array2[i]) ||
                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {
                diffs++;
            }
        }
        return diffs + lengthDiff;
    }

    function normalizeUnits(units) {
        if (units) {
            var lowered = units.toLowerCase().replace(/(.)s$/, '$1');
            units = unitAliases[units] || camelFunctions[lowered] || lowered;
        }
        return units;
    }

    function normalizeObjectUnits(inputObject) {
        var normalizedInput = {},
            normalizedProp,
            prop,
            index;

        for (prop in inputObject) {
            if (inputObject.hasOwnProperty(prop)) {
                normalizedProp = normalizeUnits(prop);
                if (normalizedProp) {
                    normalizedInput[normalizedProp] = inputObject[prop];
                }
            }
        }

        return normalizedInput;
    }

    function makeList(field) {
        var count, setter;

        if (field.indexOf('week') === 0) {
            count = 7;
            setter = 'day';
        }
        else if (field.indexOf('month') === 0) {
            count = 12;
            setter = 'month';
        }
        else {
            return;
        }

        moment[field] = function (format, index) {
            var i, getter,
                method = moment.fn._lang[field],
                results = [];

            if (typeof format === 'number') {
                index = format;
                format = undefined;
            }

            getter = function (i) {
                var m = moment().utc().set(setter, i);
                return method.call(moment.fn._lang, m, format || '');
            };

            if (index != null) {
                return getter(index);
            }
            else {
                for (i = 0; i < count; i++) {
                    results.push(getter(i));
                }
                return results;
            }
        };
    }

    function toInt(argumentForCoercion) {
        var coercedNumber = +argumentForCoercion,
            value = 0;

        if (coercedNumber !== 0 && isFinite(coercedNumber)) {
            if (coercedNumber >= 0) {
                value = Math.floor(coercedNumber);
            } else {
                value = Math.ceil(coercedNumber);
            }
        }

        return value;
    }

    function daysInMonth(year, month) {
        return new Date(Date.UTC(year, month + 1, 0)).getUTCDate();
    }

    function daysInYear(year) {
        return isLeapYear(year) ? 366 : 365;
    }

    function isLeapYear(year) {
        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;
    }

    function checkOverflow(m) {
        var overflow;
        if (m._a && m._pf.overflow === -2) {
            overflow =
                m._a[MONTH] < 0 || m._a[MONTH] > 11 ? MONTH :
                m._a[DATE] < 1 || m._a[DATE] > daysInMonth(m._a[YEAR], m._a[MONTH]) ? DATE :
                m._a[HOUR] < 0 || m._a[HOUR] > 23 ? HOUR :
                m._a[MINUTE] < 0 || m._a[MINUTE] > 59 ? MINUTE :
                m._a[SECOND] < 0 || m._a[SECOND] > 59 ? SECOND :
                m._a[MILLISECOND] < 0 || m._a[MILLISECOND] > 999 ? MILLISECOND :
                -1;

            if (m._pf._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {
                overflow = DATE;
            }

            m._pf.overflow = overflow;
        }
    }

    function initializeParsingFlags(config) {
        config._pf = {
            empty : false,
            unusedTokens : [],
            unusedInput : [],
            overflow : -2,
            charsLeftOver : 0,
            nullInput : false,
            invalidMonth : null,
            invalidFormat : false,
            userInvalidated : false
        };
    }

    function isValid(m) {
        if (m._isValid == null) {
            m._isValid = !isNaN(m._d.getTime()) &&
                m._pf.overflow < 0 &&
                !m._pf.empty &&
                !m._pf.invalidMonth &&
                !m._pf.nullInput &&
                !m._pf.invalidFormat &&
                !m._pf.userInvalidated;

            if (m._strict) {
                m._isValid = m._isValid &&
                    m._pf.charsLeftOver === 0 &&
                    m._pf.unusedTokens.length === 0;
            }
        }
        return m._isValid;
    }

    function normalizeLanguage(key) {
        return key ? key.toLowerCase().replace('_', '-') : key;
    }

    /************************************
        Languages
    ************************************/


    extend(Language.prototype, {

        set : function (config) {
            var prop, i;
            for (i in config) {
                prop = config[i];
                if (typeof prop === 'function') {
                    this[i] = prop;
                } else {
                    this['_' + i] = prop;
                }
            }
        },

        _months : "January_February_March_April_May_June_July_August_September_October_November_December".split("_"),
        months : function (m) {
            return this._months[m.month()];
        },

        _monthsShort : "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),
        monthsShort : function (m) {
            return this._monthsShort[m.month()];
        },

        monthsParse : function (monthName) {
            var i, mom, regex;

            if (!this._monthsParse) {
                this._monthsParse = [];
            }

            for (i = 0; i < 12; i++) {
                // make the regex if we don't have it already
                if (!this._monthsParse[i]) {
                    mom = moment.utc([2000, i]);
                    regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');
                    this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');
                }
                // test the regex
                if (this._monthsParse[i].test(monthName)) {
                    return i;
                }
            }
        },

        _weekdays : "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
        weekdays : function (m) {
            return this._weekdays[m.day()];
        },

        _weekdaysShort : "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),
        weekdaysShort : function (m) {
            return this._weekdaysShort[m.day()];
        },

        _weekdaysMin : "Su_Mo_Tu_We_Th_Fr_Sa".split("_"),
        weekdaysMin : function (m) {
            return this._weekdaysMin[m.day()];
        },

        weekdaysParse : function (weekdayName) {
            var i, mom, regex;

            if (!this._weekdaysParse) {
                this._weekdaysParse = [];
            }

            for (i = 0; i < 7; i++) {
                // make the regex if we don't have it already
                if (!this._weekdaysParse[i]) {
                    mom = moment([2000, 1]).day(i);
                    regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');
                    this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');
                }
                // test the regex
                if (this._weekdaysParse[i].test(weekdayName)) {
                    return i;
                }
            }
        },

        _longDateFormat : {
            LT : "h:mm A",
            L : "MM/DD/YYYY",
            LL : "MMMM D YYYY",
            LLL : "MMMM D YYYY LT",
            LLLL : "dddd, MMMM D YYYY LT"
        },
        longDateFormat : function (key) {
            var output = this._longDateFormat[key];
            if (!output && this._longDateFormat[key.toUpperCase()]) {
                output = this._longDateFormat[key.toUpperCase()].replace(/MMMM|MM|DD|dddd/g, function (val) {
                    return val.slice(1);
                });
                this._longDateFormat[key] = output;
            }
            return output;
        },

        isPM : function (input) {
            // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays
            // Using charAt should be more compatible.
            return ((input + '').toLowerCase().charAt(0) === 'p');
        },

        _meridiemParse : /[ap]\.?m?\.?/i,
        meridiem : function (hours, minutes, isLower) {
            if (hours > 11) {
                return isLower ? 'pm' : 'PM';
            } else {
                return isLower ? 'am' : 'AM';
            }
        },

        _calendar : {
            sameDay : '[Today at] LT',
            nextDay : '[Tomorrow at] LT',
            nextWeek : 'dddd [at] LT',
            lastDay : '[Yesterday at] LT',
            lastWeek : '[Last] dddd [at] LT',
            sameElse : 'L'
        },
        calendar : function (key, mom) {
            var output = this._calendar[key];
            return typeof output === 'function' ? output.apply(mom) : output;
        },

        _relativeTime : {
            future : "in %s",
            past : "%s ago",
            s : "a few seconds",
            m : "a minute",
            mm : "%d minutes",
            h : "an hour",
            hh : "%d hours",
            d : "a day",
            dd : "%d days",
            M : "a month",
            MM : "%d months",
            y : "a year",
            yy : "%d years"
        },
        relativeTime : function (number, withoutSuffix, string, isFuture) {
            var output = this._relativeTime[string];
            return (typeof output === 'function') ?
                output(number, withoutSuffix, string, isFuture) :
                output.replace(/%d/i, number);
        },
        pastFuture : function (diff, output) {
            var format = this._relativeTime[diff > 0 ? 'future' : 'past'];
            return typeof format === 'function' ? format(output) : format.replace(/%s/i, output);
        },

        ordinal : function (number) {
            return this._ordinal.replace("%d", number);
        },
        _ordinal : "%d",

        preparse : function (string) {
            return string;
        },

        postformat : function (string) {
            return string;
        },

        week : function (mom) {
            return weekOfYear(mom, this._week.dow, this._week.doy).week;
        },

        _week : {
            dow : 0, // Sunday is the first day of the week.
            doy : 6  // The week that contains Jan 1st is the first week of the year.
        },

        _invalidDate: 'Invalid date',
        invalidDate: function () {
            return this._invalidDate;
        }
    });

    // Loads a language definition into the `languages` cache.  The function
    // takes a key and optionally values.  If not in the browser and no values
    // are provided, it will load the language file module.  As a convenience,
    // this function also returns the language values.
    function loadLang(key, values) {
        values.abbr = key;
        if (!languages[key]) {
            languages[key] = new Language();
        }
        languages[key].set(values);
        return languages[key];
    }

    // Remove a language from the `languages` cache. Mostly useful in tests.
    function unloadLang(key) {
        delete languages[key];
    }

    // Determines which language definition to use and returns it.
    //
    // With no parameters, it will return the global language.  If you
    // pass in a language key, such as 'en', it will return the
    // definition for 'en', so long as 'en' has already been loaded using
    // moment.lang.
    function getLangDefinition(key) {
        var i = 0, j, lang, next, split,
            get = function (k) {
                if (!languages[k] && hasModule) {
                    try {
                        require('./lang/' + k);
                    } catch (e) { }
                }
                return languages[k];
            };

        if (!key) {
            return moment.fn._lang;
        }

        if (!isArray(key)) {
            //short-circuit everything else
            lang = get(key);
            if (lang) {
                return lang;
            }
            key = [key];
        }

        //pick the language from the array
        //try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each
        //substring from most specific to least, but move to the next array item if it's a more specific variant than the current root
        while (i < key.length) {
            split = normalizeLanguage(key[i]).split('-');
            j = split.length;
            next = normalizeLanguage(key[i + 1]);
            next = next ? next.split('-') : null;
            while (j > 0) {
                lang = get(split.slice(0, j).join('-'));
                if (lang) {
                    return lang;
                }
                if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {
                    //the next array item is better than a shallower substring of this one
                    break;
                }
                j--;
            }
            i++;
        }
        return moment.fn._lang;
    }

    /************************************
        Formatting
    ************************************/


    function removeFormattingTokens(input) {
        if (input.match(/\[[\s\S]/)) {
            return input.replace(/^\[|\]$/g, "");
        }
        return input.replace(/\\/g, "");
    }

    function makeFormatFunction(format) {
        var array = format.match(formattingTokens), i, length;

        for (i = 0, length = array.length; i < length; i++) {
            if (formatTokenFunctions[array[i]]) {
                array[i] = formatTokenFunctions[array[i]];
            } else {
                array[i] = removeFormattingTokens(array[i]);
            }
        }

        return function (mom) {
            var output = "";
            for (i = 0; i < length; i++) {
                output += array[i] instanceof Function ? array[i].call(mom, format) : array[i];
            }
            return output;
        };
    }

    // format date using native date object
    function formatMoment(m, format) {

        if (!m.isValid()) {
            return m.lang().invalidDate();
        }

        format = expandFormat(format, m.lang());

        if (!formatFunctions[format]) {
            formatFunctions[format] = makeFormatFunction(format);
        }

        return formatFunctions[format](m);
    }

    function expandFormat(format, lang) {
        var i = 5;

        function replaceLongDateFormatTokens(input) {
            return lang.longDateFormat(input) || input;
        }

        localFormattingTokens.lastIndex = 0;
        while (i >= 0 && localFormattingTokens.test(format)) {
            format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);
            localFormattingTokens.lastIndex = 0;
            i -= 1;
        }

        return format;
    }


    /************************************
        Parsing
    ************************************/


    // get the regex to find the next token
    function getParseRegexForToken(token, config) {
        var a;
        switch (token) {
        case 'DDDD':
            return parseTokenThreeDigits;
        case 'YYYY':
        case 'GGGG':
        case 'gggg':
            return parseTokenFourDigits;
        case 'YYYYY':
        case 'GGGGG':
        case 'ggggg':
            return parseTokenSixDigits;
        case 'S':
        case 'SS':
        case 'SSS':
        case 'DDD':
            return parseTokenOneToThreeDigits;
        case 'MMM':
        case 'MMMM':
        case 'dd':
        case 'ddd':
        case 'dddd':
            return parseTokenWord;
        case 'a':
        case 'A':
            return getLangDefinition(config._l)._meridiemParse;
        case 'X':
            return parseTokenTimestampMs;
        case 'Z':
        case 'ZZ':
            return parseTokenTimezone;
        case 'T':
            return parseTokenT;
        case 'MM':
        case 'DD':
        case 'YY':
        case 'GG':
        case 'gg':
        case 'HH':
        case 'hh':
        case 'mm':
        case 'ss':
        case 'M':
        case 'D':
        case 'd':
        case 'H':
        case 'h':
        case 'm':
        case 's':
        case 'w':
        case 'ww':
        case 'W':
        case 'WW':
        case 'e':
        case 'E':
            return parseTokenOneOrTwoDigits;
        default :
            a = new RegExp(regexpEscape(unescapeFormat(token.replace('\\', '')), "i"));
            return a;
        }
    }

    function timezoneMinutesFromString(string) {
        var tzchunk = (parseTokenTimezone.exec(string) || [])[0],
            parts = (tzchunk + '').match(parseTimezoneChunker) || ['-', 0, 0],
            minutes = +(parts[1] * 60) + toInt(parts[2]);

        return parts[0] === '+' ? -minutes : minutes;
    }

    // function to convert string input to date
    function addTimeToArrayFromToken(token, input, config) {
        var a, datePartArray = config._a;

        switch (token) {
        // MONTH
        case 'M' : // fall through to MM
        case 'MM' :
            if (input != null) {
                datePartArray[MONTH] = toInt(input) - 1;
            }
            break;
        case 'MMM' : // fall through to MMMM
        case 'MMMM' :
            a = getLangDefinition(config._l).monthsParse(input);
            // if we didn't find a month name, mark the date as invalid.
            if (a != null) {
                datePartArray[MONTH] = a;
            } else {
                config._pf.invalidMonth = input;
            }
            break;
        // DAY OF MONTH
        case 'D' : // fall through to DD
        case 'DD' :
            if (input != null) {
                datePartArray[DATE] = toInt(input);
            }
            break;
        // DAY OF YEAR
        case 'DDD' : // fall through to DDDD
        case 'DDDD' :
            if (input != null) {
                config._dayOfYear = toInt(input);
            }

            break;
        // YEAR
        case 'YY' :
            datePartArray[YEAR] = toInt(input) + (toInt(input) > 68 ? 1900 : 2000);
            break;
        case 'YYYY' :
        case 'YYYYY' :
            datePartArray[YEAR] = toInt(input);
            break;
        // AM / PM
        case 'a' : // fall through to A
        case 'A' :
            config._isPm = getLangDefinition(config._l).isPM(input);
            break;
        // 24 HOUR
        case 'H' : // fall through to hh
        case 'HH' : // fall through to hh
        case 'h' : // fall through to hh
        case 'hh' :
            datePartArray[HOUR] = toInt(input);
            break;
        // MINUTE
        case 'm' : // fall through to mm
        case 'mm' :
            datePartArray[MINUTE] = toInt(input);
            break;
        // SECOND
        case 's' : // fall through to ss
        case 'ss' :
            datePartArray[SECOND] = toInt(input);
            break;
        // MILLISECOND
        case 'S' :
        case 'SS' :
        case 'SSS' :
            datePartArray[MILLISECOND] = toInt(('0.' + input) * 1000);
            break;
        // UNIX TIMESTAMP WITH MS
        case 'X':
            config._d = new Date(parseFloat(input) * 1000);
            break;
        // TIMEZONE
        case 'Z' : // fall through to ZZ
        case 'ZZ' :
            config._useUTC = true;
            config._tzm = timezoneMinutesFromString(input);
            break;
        case 'w':
        case 'ww':
        case 'W':
        case 'WW':
        case 'd':
        case 'dd':
        case 'ddd':
        case 'dddd':
        case 'e':
        case 'E':
            token = token.substr(0, 1);
            /* falls through */
        case 'gg':
        case 'gggg':
        case 'GG':
        case 'GGGG':
        case 'GGGGG':
            token = token.substr(0, 2);
            if (input) {
                config._w = config._w || {};
                config._w[token] = input;
            }
            break;
        }
    }

    // convert an array to a date.
    // the array should mirror the parameters below
    // note: all values past the year are optional and will default to the lowest possible value.
    // [year, month, day , hour, minute, second, millisecond]
    function dateFromConfig(config) {
        var i, date, input = [], currentDate,
            yearToUse, fixYear, w, temp, lang, weekday, week;

        if (config._d) {
            return;
        }

        currentDate = currentDateArray(config);

        //compute day of the year from weeks and weekdays
        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {
            fixYear = function (val) {
                return val ?
                  (val.length < 3 ? (parseInt(val, 10) > 68 ? '19' + val : '20' + val) : val) :
                  (config._a[YEAR] == null ? moment().weekYear() : config._a[YEAR]);
            };

            w = config._w;
            if (w.GG != null || w.W != null || w.E != null) {
                temp = dayOfYearFromWeeks(fixYear(w.GG), w.W || 1, w.E, 4, 1);
            }
            else {
                lang = getLangDefinition(config._l);
                weekday = w.d != null ?  parseWeekday(w.d, lang) :
                  (w.e != null ?  parseInt(w.e, 10) + lang._week.dow : 0);

                week = parseInt(w.w, 10) || 1;

                //if we're parsing 'd', then the low day numbers may be next week
                if (w.d != null && weekday < lang._week.dow) {
                    week++;
                }

                temp = dayOfYearFromWeeks(fixYear(w.gg), week, weekday, lang._week.doy, lang._week.dow);
            }

            config._a[YEAR] = temp.year;
            config._dayOfYear = temp.dayOfYear;
        }

        //if the day of the year is set, figure out what it is
        if (config._dayOfYear) {
            yearToUse = config._a[YEAR] == null ? currentDate[YEAR] : config._a[YEAR];

            if (config._dayOfYear > daysInYear(yearToUse)) {
                config._pf._overflowDayOfYear = true;
            }

            date = makeUTCDate(yearToUse, 0, config._dayOfYear);
            config._a[MONTH] = date.getUTCMonth();
            config._a[DATE] = date.getUTCDate();
        }

        // Default to current date.
        // * if no year, month, day of month are given, default to today
        // * if day of month is given, default month and year
        // * if month is given, default only year
        // * if year is given, don't default anything
        for (i = 0; i < 3 && config._a[i] == null; ++i) {
            config._a[i] = input[i] = currentDate[i];
        }

        // Zero out whatever was not defaulted, including time
        for (; i < 7; i++) {
            config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];
        }

        // add the offsets to the time to be parsed so that we can have a clean array for checking isValid
        input[HOUR] += toInt((config._tzm || 0) / 60);
        input[MINUTE] += toInt((config._tzm || 0) % 60);

        config._d = (config._useUTC ? makeUTCDate : makeDate).apply(null, input);
    }

    function dateFromObject(config) {
        var normalizedInput;

        if (config._d) {
            return;
        }

        normalizedInput = normalizeObjectUnits(config._i);
        config._a = [
            normalizedInput.year,
            normalizedInput.month,
            normalizedInput.day,
            normalizedInput.hour,
            normalizedInput.minute,
            normalizedInput.second,
            normalizedInput.millisecond
        ];

        dateFromConfig(config);
    }

    function currentDateArray(config) {
        var now = new Date();
        if (config._useUTC) {
            return [
                now.getUTCFullYear(),
                now.getUTCMonth(),
                now.getUTCDate()
            ];
        } else {
            return [now.getFullYear(), now.getMonth(), now.getDate()];
        }
    }

    // date from string and format string
    function makeDateFromStringAndFormat(config) {

        config._a = [];
        config._pf.empty = true;

        // This array is used to make a Date, either with `new Date` or `Date.UTC`
        var lang = getLangDefinition(config._l),
            string = '' + config._i,
            i, parsedInput, tokens, token, skipped,
            stringLength = string.length,
            totalParsedInputLength = 0;

        tokens = expandFormat(config._f, lang).match(formattingTokens) || [];

        for (i = 0; i < tokens.length; i++) {
            token = tokens[i];
            parsedInput = (getParseRegexForToken(token, config).exec(string) || [])[0];
            if (parsedInput) {
                skipped = string.substr(0, string.indexOf(parsedInput));
                if (skipped.length > 0) {
                    config._pf.unusedInput.push(skipped);
                }
                string = string.slice(string.indexOf(parsedInput) + parsedInput.length);
                totalParsedInputLength += parsedInput.length;
            }
            // don't parse if it's not a known token
            if (formatTokenFunctions[token]) {
                if (parsedInput) {
                    config._pf.empty = false;
                }
                else {
                    config._pf.unusedTokens.push(token);
                }
                addTimeToArrayFromToken(token, parsedInput, config);
            }
            else if (config._strict && !parsedInput) {
                config._pf.unusedTokens.push(token);
            }
        }

        // add remaining unparsed input length to the string
        config._pf.charsLeftOver = stringLength - totalParsedInputLength;
        if (string.length > 0) {
            config._pf.unusedInput.push(string);
        }

        // handle am pm
        if (config._isPm && config._a[HOUR] < 12) {
            config._a[HOUR] += 12;
        }
        // if is 12 am, change hours to 0
        if (config._isPm === false && config._a[HOUR] === 12) {
            config._a[HOUR] = 0;
        }

        dateFromConfig(config);
        checkOverflow(config);
    }

    function unescapeFormat(s) {
        return s.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (matched, p1, p2, p3, p4) {
            return p1 || p2 || p3 || p4;
        });
    }

    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript
    function regexpEscape(s) {
        return s.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
    }

    // date from string and array of format strings
    function makeDateFromStringAndArray(config) {
        var tempConfig,
            bestMoment,

            scoreToBeat,
            i,
            currentScore;

        if (config._f.length === 0) {
            config._pf.invalidFormat = true;
            config._d = new Date(NaN);
            return;
        }

        for (i = 0; i < config._f.length; i++) {
            currentScore = 0;
            tempConfig = extend({}, config);
            initializeParsingFlags(tempConfig);
            tempConfig._f = config._f[i];
            makeDateFromStringAndFormat(tempConfig);

            if (!isValid(tempConfig)) {
                continue;
            }

            // if there is any input that was not parsed add a penalty for that format
            currentScore += tempConfig._pf.charsLeftOver;

            //or tokens
            currentScore += tempConfig._pf.unusedTokens.length * 10;

            tempConfig._pf.score = currentScore;

            if (scoreToBeat == null || currentScore < scoreToBeat) {
                scoreToBeat = currentScore;
                bestMoment = tempConfig;
            }
        }

        extend(config, bestMoment || tempConfig);
    }

    // date from iso format
    function makeDateFromString(config) {
        var i,
            string = config._i,
            match = isoRegex.exec(string);

        if (match) {
            for (i = 4; i > 0; i--) {
                if (match[i]) {
                    // match[5] should be "T" or undefined
                    config._f = isoDates[i - 1] + (match[6] || " ");
                    break;
                }
            }
            for (i = 0; i < 4; i++) {
                if (isoTimes[i][1].exec(string)) {
                    config._f += isoTimes[i][0];
                    break;
                }
            }
            if (parseTokenTimezone.exec(string)) {
                config._f += " Z";
            }
            makeDateFromStringAndFormat(config);
        }
        else {
            config._d = new Date(string);
        }
    }

    function makeDateFromInput(config) {
        var input = config._i,
            matched = aspNetJsonRegex.exec(input);

        if (input === undefined) {
            config._d = new Date();
        } else if (matched) {
            config._d = new Date(+matched[1]);
        } else if (typeof input === 'string') {
            makeDateFromString(config);
        } else if (isArray(input)) {
            config._a = input.slice(0);
            dateFromConfig(config);
        } else if (isDate(input)) {
            config._d = new Date(+input);
        } else if (typeof(input) === 'object') {
            dateFromObject(config);
        } else {
            config._d = new Date(input);
        }
    }

    function makeDate(y, m, d, h, M, s, ms) {
        //can't just apply() to create a date:
        //http://stackoverflow.com/questions/181348/instantiating-a-javascript-object-by-calling-prototype-constructor-apply
        var date = new Date(y, m, d, h, M, s, ms);

        //the date constructor doesn't accept years < 1970
        if (y < 1970) {
            date.setFullYear(y);
        }
        return date;
    }

    function makeUTCDate(y) {
        var date = new Date(Date.UTC.apply(null, arguments));
        if (y < 1970) {
            date.setUTCFullYear(y);
        }
        return date;
    }

    function parseWeekday(input, language) {
        if (typeof input === 'string') {
            if (!isNaN(input)) {
                input = parseInt(input, 10);
            }
            else {
                input = language.weekdaysParse(input);
                if (typeof input !== 'number') {
                    return null;
                }
            }
        }
        return input;
    }

    /************************************
        Relative Time
    ************************************/


    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize
    function substituteTimeAgo(string, number, withoutSuffix, isFuture, lang) {
        return lang.relativeTime(number || 1, !!withoutSuffix, string, isFuture);
    }

    function relativeTime(milliseconds, withoutSuffix, lang) {
        var seconds = round(Math.abs(milliseconds) / 1000),
            minutes = round(seconds / 60),
            hours = round(minutes / 60),
            days = round(hours / 24),
            years = round(days / 365),
            args = seconds < 45 && ['s', seconds] ||
                minutes === 1 && ['m'] ||
                minutes < 45 && ['mm', minutes] ||
                hours === 1 && ['h'] ||
                hours < 22 && ['hh', hours] ||
                days === 1 && ['d'] ||
                days <= 25 && ['dd', days] ||
                days <= 45 && ['M'] ||
                days < 345 && ['MM', round(days / 30)] ||
                years === 1 && ['y'] || ['yy', years];
        args[2] = withoutSuffix;
        args[3] = milliseconds > 0;
        args[4] = lang;
        return substituteTimeAgo.apply({}, args);
    }


    /************************************
        Week of Year
    ************************************/


    // firstDayOfWeek       0 = sun, 6 = sat
    //                      the day of the week that starts the week
    //                      (usually sunday or monday)
    // firstDayOfWeekOfYear 0 = sun, 6 = sat
    //                      the first week is the week that contains the first
    //                      of this day of the week
    //                      (eg. ISO weeks use thursday (4))
    function weekOfYear(mom, firstDayOfWeek, firstDayOfWeekOfYear) {
        var end = firstDayOfWeekOfYear - firstDayOfWeek,
            daysToDayOfWeek = firstDayOfWeekOfYear - mom.day(),
            adjustedMoment;


        if (daysToDayOfWeek > end) {
            daysToDayOfWeek -= 7;
        }

        if (daysToDayOfWeek < end - 7) {
            daysToDayOfWeek += 7;
        }

        adjustedMoment = moment(mom).add('d', daysToDayOfWeek);
        return {
            week: Math.ceil(adjustedMoment.dayOfYear() / 7),
            year: adjustedMoment.year()
        };
    }

    //http://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday
    function dayOfYearFromWeeks(year, week, weekday, firstDayOfWeekOfYear, firstDayOfWeek) {
        var d = new Date(Date.UTC(year, 0)).getUTCDay(),
            daysToAdd, dayOfYear;

        weekday = weekday != null ? weekday : firstDayOfWeek;
        daysToAdd = firstDayOfWeek - d + (d > firstDayOfWeekOfYear ? 7 : 0);
        dayOfYear = 7 * (week - 1) + (weekday - firstDayOfWeek) + daysToAdd + 1;

        return {
            year: dayOfYear > 0 ? year : year - 1,
            dayOfYear: dayOfYear > 0 ?  dayOfYear : daysInYear(year - 1) + dayOfYear
        };
    }

    /************************************
        Top Level Functions
    ************************************/

    function makeMoment(config) {
        var input = config._i,
            format = config._f;

        if (typeof config._pf === 'undefined') {
            initializeParsingFlags(config);
        }

        if (input === null) {
            return moment.invalid({nullInput: true});
        }

        if (typeof input === 'string') {
            config._i = input = getLangDefinition().preparse(input);
        }


        if (moment.isMoment(input)) {
            config = extend({}, input);

            config._d = new Date(+input._d);
        } else if (format) {
            if (isArray(format)) {
                makeDateFromStringAndArray(config);
            } else {
                makeDateFromStringAndFormat(config);
            }
        } else {
            makeDateFromInput(config);
        }

        return new Moment(config);
    }

    moment = function (input, format, lang, strict) {
        if (typeof(lang) === "boolean") {
            strict = lang;
            lang = undefined;
        }
        return makeMoment({
            _i : input,
            _f : format,
            _l : lang,
            _strict : strict,
            _isUTC : false
        });
    };

    // creating with utc
    moment.utc = function (input, format, lang, strict) {
        var m;

        if (typeof(lang) === "boolean") {
            strict = lang;
            lang = undefined;
        }
        m = makeMoment({
            _useUTC : true,
            _isUTC : true,
            _l : lang,
            _i : input,
            _f : format,
            _strict : strict
        }).utc();

        return m;
    };

    // creating with unix timestamp (in seconds)
    moment.unix = function (input) {
        return moment(input * 1000);
    };

    // duration
    moment.duration = function (input, key) {
        var isDuration = moment.isDuration(input),
            isNumber = (typeof input === 'number'),
            duration = (isDuration ? input._input : (isNumber ? {} : input)),
            // matching against regexp is expensive, do it on demand
            match = null,
            sign,
            ret,
            parseIso,
            timeEmpty,
            dateTimeEmpty;

        if (isNumber) {
            if (key) {
                duration[key] = input;
            } else {
                duration.milliseconds = input;
            }
        } else if (!!(match = aspNetTimeSpanJsonRegex.exec(input))) {
            sign = (match[1] === "-") ? -1 : 1;
            duration = {
                y: 0,
                d: toInt(match[DATE]) * sign,
                h: toInt(match[HOUR]) * sign,
                m: toInt(match[MINUTE]) * sign,
                s: toInt(match[SECOND]) * sign,
                ms: toInt(match[MILLISECOND]) * sign
            };
        } else if (!!(match = isoDurationRegex.exec(input))) {
            sign = (match[1] === "-") ? -1 : 1;
            parseIso = function (inp) {
                // We'd normally use ~~inp for this, but unfortunately it also
                // converts floats to ints.
                // inp may be undefined, so careful calling replace on it.
                var res = inp && parseFloat(inp.replace(',', '.'));
                // apply sign while we're at it
                return (isNaN(res) ? 0 : res) * sign;
            };
            duration = {
                y: parseIso(match[2]),
                M: parseIso(match[3]),
                d: parseIso(match[4]),
                h: parseIso(match[5]),
                m: parseIso(match[6]),
                s: parseIso(match[7]),
                w: parseIso(match[8])
            };
        }

        ret = new Duration(duration);

        if (isDuration && input.hasOwnProperty('_lang')) {
            ret._lang = input._lang;
        }

        return ret;
    };

    // version number
    moment.version = VERSION;

    // default format
    moment.defaultFormat = isoFormat;

    // This function will be called whenever a moment is mutated.
    // It is intended to keep the offset in sync with the timezone.
    moment.updateOffset = function () {};

    // This function will load languages and then set the global language.  If
    // no arguments are passed in, it will simply return the current global
    // language key.
    moment.lang = function (key, values) {
        var r;
        if (!key) {
            return moment.fn._lang._abbr;
        }
        if (values) {
            loadLang(normalizeLanguage(key), values);
        } else if (values === null) {
            unloadLang(key);
            key = 'en';
        } else if (!languages[key]) {
            getLangDefinition(key);
        }
        r = moment.duration.fn._lang = moment.fn._lang = getLangDefinition(key);
        return r._abbr;
    };

    // returns language data
    moment.langData = function (key) {
        if (key && key._lang && key._lang._abbr) {
            key = key._lang._abbr;
        }
        return getLangDefinition(key);
    };

    // compare moment object
    moment.isMoment = function (obj) {
        return obj instanceof Moment;
    };

    // for typechecking Duration objects
    moment.isDuration = function (obj) {
        return obj instanceof Duration;
    };

    for (i = lists.length - 1; i >= 0; --i) {
        makeList(lists[i]);
    }

    moment.normalizeUnits = function (units) {
        return normalizeUnits(units);
    };

    moment.invalid = function (flags) {
        var m = moment.utc(NaN);
        if (flags != null) {
            extend(m._pf, flags);
        }
        else {
            m._pf.userInvalidated = true;
        }

        return m;
    };

    moment.parseZone = function (input) {
        return moment(input).parseZone();
    };

    /************************************
        Moment Prototype
    ************************************/


    extend(moment.fn = Moment.prototype, {

        clone : function () {
            return moment(this);
        },

        valueOf : function () {
            return +this._d + ((this._offset || 0) * 60000);
        },

        unix : function () {
            return Math.floor(+this / 1000);
        },

        toString : function () {
            return this.clone().lang('en').format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ");
        },

        toDate : function () {
            return this._offset ? new Date(+this) : this._d;
        },

        toISOString : function () {
            return formatMoment(moment(this).utc(), 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]');
        },

        toArray : function () {
            var m = this;
            return [
                m.year(),
                m.month(),
                m.date(),
                m.hours(),
                m.minutes(),
                m.seconds(),
                m.milliseconds()
            ];
        },

        isValid : function () {
            return isValid(this);
        },

        isDSTShifted : function () {

            if (this._a) {
                return this.isValid() && compareArrays(this._a, (this._isUTC ? moment.utc(this._a) : moment(this._a)).toArray()) > 0;
            }

            return false;
        },

        parsingFlags : function () {
            return extend({}, this._pf);
        },

        invalidAt: function () {
            return this._pf.overflow;
        },

        utc : function () {
            return this.zone(0);
        },

        local : function () {
            this.zone(0);
            this._isUTC = false;
            return this;
        },

        format : function (inputString) {
            var output = formatMoment(this, inputString || moment.defaultFormat);
            return this.lang().postformat(output);
        },

        add : function (input, val) {
            var dur;
            // switch args to support add('s', 1) and add(1, 's')
            if (typeof input === 'string') {
                dur = moment.duration(+val, input);
            } else {
                dur = moment.duration(input, val);
            }
            addOrSubtractDurationFromMoment(this, dur, 1);
            return this;
        },

        subtract : function (input, val) {
            var dur;
            // switch args to support subtract('s', 1) and subtract(1, 's')
            if (typeof input === 'string') {
                dur = moment.duration(+val, input);
            } else {
                dur = moment.duration(input, val);
            }
            addOrSubtractDurationFromMoment(this, dur, -1);
            return this;
        },

        diff : function (input, units, asFloat) {
            var that = this._isUTC ? moment(input).zone(this._offset || 0) : moment(input).local(),
                zoneDiff = (this.zone() - that.zone()) * 6e4,
                diff, output;

            units = normalizeUnits(units);

            if (units === 'year' || units === 'month') {
                // average number of days in the months in the given dates
                diff = (this.daysInMonth() + that.daysInMonth()) * 432e5; // 24 * 60 * 60 * 1000 / 2
                // difference in months
                output = ((this.year() - that.year()) * 12) + (this.month() - that.month());
                // adjust by taking difference in days, average number of days
                // and dst in the given months.
                output += ((this - moment(this).startOf('month')) -
                        (that - moment(that).startOf('month'))) / diff;
                // same as above but with zones, to negate all dst
                output -= ((this.zone() - moment(this).startOf('month').zone()) -
                        (that.zone() - moment(that).startOf('month').zone())) * 6e4 / diff;
                if (units === 'year') {
                    output = output / 12;
                }
            } else {
                diff = (this - that);
                output = units === 'second' ? diff / 1e3 : // 1000
                    units === 'minute' ? diff / 6e4 : // 1000 * 60
                    units === 'hour' ? diff / 36e5 : // 1000 * 60 * 60
                    units === 'day' ? (diff - zoneDiff) / 864e5 : // 1000 * 60 * 60 * 24, negate dst
                    units === 'week' ? (diff - zoneDiff) / 6048e5 : // 1000 * 60 * 60 * 24 * 7, negate dst
                    diff;
            }
            return asFloat ? output : absRound(output);
        },

        from : function (time, withoutSuffix) {
            return moment.duration(this.diff(time)).lang(this.lang()._abbr).humanize(!withoutSuffix);
        },

        fromNow : function (withoutSuffix) {
            return this.from(moment(), withoutSuffix);
        },

        calendar : function () {
            var diff = this.diff(moment().zone(this.zone()).startOf('day'), 'days', true),
                format = diff < -6 ? 'sameElse' :
                diff < -1 ? 'lastWeek' :
                diff < 0 ? 'lastDay' :
                diff < 1 ? 'sameDay' :
                diff < 2 ? 'nextDay' :
                diff < 7 ? 'nextWeek' : 'sameElse';
            return this.format(this.lang().calendar(format, this));
        },

        isLeapYear : function () {
            return isLeapYear(this.year());
        },

        isDST : function () {
            return (this.zone() < this.clone().month(0).zone() ||
                this.zone() < this.clone().month(5).zone());
        },

        day : function (input) {
            var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
            if (input != null) {
                input = parseWeekday(input, this.lang());
                return this.add({ d : input - day });
            } else {
                return day;
            }
        },

        month : function (input) {
            var utc = this._isUTC ? 'UTC' : '',
                dayOfMonth;

            if (input != null) {
                if (typeof input === 'string') {
                    input = this.lang().monthsParse(input);
                    if (typeof input !== 'number') {
                        return this;
                    }
                }

                dayOfMonth = this.date();
                this.date(1);
                this._d['set' + utc + 'Month'](input);
                this.date(Math.min(dayOfMonth, this.daysInMonth()));

                moment.updateOffset(this);
                return this;
            } else {
                return this._d['get' + utc + 'Month']();
            }
        },

        startOf: function (units) {
            units = normalizeUnits(units);
            // the following switch intentionally omits break keywords
            // to utilize falling through the cases.
            switch (units) {
            case 'year':
                this.month(0);
                /* falls through */
            case 'month':
                this.date(1);
                /* falls through */
            case 'week':
            case 'isoWeek':
            case 'day':
                this.hours(0);
                /* falls through */
            case 'hour':
                this.minutes(0);
                /* falls through */
            case 'minute':
                this.seconds(0);
                /* falls through */
            case 'second':
                this.milliseconds(0);
                /* falls through */
            }

            // weeks are a special case
            if (units === 'week') {
                this.weekday(0);
            } else if (units === 'isoWeek') {
                this.isoWeekday(1);
            }

            return this;
        },

        endOf: function (units) {
            units = normalizeUnits(units);
            return this.startOf(units).add((units === 'isoWeek' ? 'week' : units), 1).subtract('ms', 1);
        },

        isAfter: function (input, units) {
            units = typeof units !== 'undefined' ? units : 'millisecond';
            return +this.clone().startOf(units) > +moment(input).startOf(units);
        },

        isBefore: function (input, units) {
            units = typeof units !== 'undefined' ? units : 'millisecond';
            return +this.clone().startOf(units) < +moment(input).startOf(units);
        },

        isSame: function (input, units) {
            units = typeof units !== 'undefined' ? units : 'millisecond';
            return +this.clone().startOf(units) === +moment(input).startOf(units);
        },

        min: function (other) {
            other = moment.apply(null, arguments);
            return other < this ? this : other;
        },

        max: function (other) {
            other = moment.apply(null, arguments);
            return other > this ? this : other;
        },

        zone : function (input) {
            var offset = this._offset || 0;
            if (input != null) {
                if (typeof input === "string") {
                    input = timezoneMinutesFromString(input);
                }
                if (Math.abs(input) < 16) {
                    input = input * 60;
                }
                this._offset = input;
                this._isUTC = true;
                if (offset !== input) {
                    addOrSubtractDurationFromMoment(this, moment.duration(offset - input, 'm'), 1, true);
                }
            } else {
                return this._isUTC ? offset : this._d.getTimezoneOffset();
            }
            return this;
        },

        zoneAbbr : function () {
            return this._isUTC ? "UTC" : "";
        },

        zoneName : function () {
            return this._isUTC ? "Coordinated Universal Time" : "";
        },

        parseZone : function () {
            if (typeof this._i === 'string') {
                this.zone(this._i);
            }
            return this;
        },

        hasAlignedHourOffset : function (input) {
            if (!input) {
                input = 0;
            }
            else {
                input = moment(input).zone();
            }

            return (this.zone() - input) % 60 === 0;
        },

        daysInMonth : function () {
            return daysInMonth(this.year(), this.month());
        },

        dayOfYear : function (input) {
            var dayOfYear = round((moment(this).startOf('day') - moment(this).startOf('year')) / 864e5) + 1;
            return input == null ? dayOfYear : this.add("d", (input - dayOfYear));
        },

        weekYear : function (input) {
            var year = weekOfYear(this, this.lang()._week.dow, this.lang()._week.doy).year;
            return input == null ? year : this.add("y", (input - year));
        },

        isoWeekYear : function (input) {
            var year = weekOfYear(this, 1, 4).year;
            return input == null ? year : this.add("y", (input - year));
        },

        week : function (input) {
            var week = this.lang().week(this);
            return input == null ? week : this.add("d", (input - week) * 7);
        },

        isoWeek : function (input) {
            var week = weekOfYear(this, 1, 4).week;
            return input == null ? week : this.add("d", (input - week) * 7);
        },

        weekday : function (input) {
            var weekday = (this.day() + 7 - this.lang()._week.dow) % 7;
            return input == null ? weekday : this.add("d", input - weekday);
        },

        isoWeekday : function (input) {
            // behaves the same as moment#day except
            // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)
            // as a setter, sunday should belong to the previous week.
            return input == null ? this.day() || 7 : this.day(this.day() % 7 ? input : input - 7);
        },

        get : function (units) {
            units = normalizeUnits(units);
            return this[units]();
        },

        set : function (units, value) {
            units = normalizeUnits(units);
            if (typeof this[units] === 'function') {
                this[units](value);
            }
            return this;
        },

        // If passed a language key, it will set the language for this
        // instance.  Otherwise, it will return the language configuration
        // variables for this instance.
        lang : function (key) {
            if (key === undefined) {
                return this._lang;
            } else {
                this._lang = getLangDefinition(key);
                return this;
            }
        }
    });

    // helper for adding shortcuts
    function makeGetterAndSetter(name, key) {
        moment.fn[name] = moment.fn[name + 's'] = function (input) {
            var utc = this._isUTC ? 'UTC' : '';
            if (input != null) {
                this._d['set' + utc + key](input);
                moment.updateOffset(this);
                return this;
            } else {
                return this._d['get' + utc + key]();
            }
        };
    }

    // loop through and add shortcuts (Month, Date, Hours, Minutes, Seconds, Milliseconds)
    for (i = 0; i < proxyGettersAndSetters.length; i ++) {
        makeGetterAndSetter(proxyGettersAndSetters[i].toLowerCase().replace(/s$/, ''), proxyGettersAndSetters[i]);
    }

    // add shortcut for year (uses different syntax than the getter/setter 'year' == 'FullYear')
    makeGetterAndSetter('year', 'FullYear');

    // add plural methods
    moment.fn.days = moment.fn.day;
    moment.fn.months = moment.fn.month;
    moment.fn.weeks = moment.fn.week;
    moment.fn.isoWeeks = moment.fn.isoWeek;

    // add aliased format methods
    moment.fn.toJSON = moment.fn.toISOString;

    /************************************
        Duration Prototype
    ************************************/


    extend(moment.duration.fn = Duration.prototype, {

        _bubble : function () {
            var milliseconds = this._milliseconds,
                days = this._days,
                months = this._months,
                data = this._data,
                seconds, minutes, hours, years;

            // The following code bubbles up values, see the tests for
            // examples of what that means.
            data.milliseconds = milliseconds % 1000;

            seconds = absRound(milliseconds / 1000);
            data.seconds = seconds % 60;

            minutes = absRound(seconds / 60);
            data.minutes = minutes % 60;

            hours = absRound(minutes / 60);
            data.hours = hours % 24;

            days += absRound(hours / 24);
            data.days = days % 30;

            months += absRound(days / 30);
            data.months = months % 12;

            years = absRound(months / 12);
            data.years = years;
        },

        weeks : function () {
            return absRound(this.days() / 7);
        },

        valueOf : function () {
            return this._milliseconds +
              this._days * 864e5 +
              (this._months % 12) * 2592e6 +
              toInt(this._months / 12) * 31536e6;
        },

        humanize : function (withSuffix) {
            var difference = +this,
                output = relativeTime(difference, !withSuffix, this.lang());

            if (withSuffix) {
                output = this.lang().pastFuture(difference, output);
            }

            return this.lang().postformat(output);
        },

        add : function (input, val) {
            // supports only 2.0-style add(1, 's') or add(moment)
            var dur = moment.duration(input, val);

            this._milliseconds += dur._milliseconds;
            this._days += dur._days;
            this._months += dur._months;

            this._bubble();

            return this;
        },

        subtract : function (input, val) {
            var dur = moment.duration(input, val);

            this._milliseconds -= dur._milliseconds;
            this._days -= dur._days;
            this._months -= dur._months;

            this._bubble();

            return this;
        },

        get : function (units) {
            units = normalizeUnits(units);
            return this[units.toLowerCase() + 's']();
        },

        as : function (units) {
            units = normalizeUnits(units);
            return this['as' + units.charAt(0).toUpperCase() + units.slice(1) + 's']();
        },

        lang : moment.fn.lang,

        toIsoString : function () {
            // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js
            var years = Math.abs(this.years()),
                months = Math.abs(this.months()),
                days = Math.abs(this.days()),
                hours = Math.abs(this.hours()),
                minutes = Math.abs(this.minutes()),
                seconds = Math.abs(this.seconds() + this.milliseconds() / 1000);

            if (!this.asSeconds()) {
                // this is the same as C#'s (Noda) and python (isodate)...
                // but not other JS (goog.date)
                return 'P0D';
            }

            return (this.asSeconds() < 0 ? '-' : '') +
                'P' +
                (years ? years + 'Y' : '') +
                (months ? months + 'M' : '') +
                (days ? days + 'D' : '') +
                ((hours || minutes || seconds) ? 'T' : '') +
                (hours ? hours + 'H' : '') +
                (minutes ? minutes + 'M' : '') +
                (seconds ? seconds + 'S' : '');
        }
    });

    function makeDurationGetter(name) {
        moment.duration.fn[name] = function () {
            return this._data[name];
        };
    }

    function makeDurationAsGetter(name, factor) {
        moment.duration.fn['as' + name] = function () {
            return +this / factor;
        };
    }

    for (i in unitMillisecondFactors) {
        if (unitMillisecondFactors.hasOwnProperty(i)) {
            makeDurationAsGetter(i, unitMillisecondFactors[i]);
            makeDurationGetter(i.toLowerCase());
        }
    }

    makeDurationAsGetter('Weeks', 6048e5);
    moment.duration.fn.asMonths = function () {
        return (+this - this.years() * 31536e6) / 2592e6 + this.years() * 12;
    };


    /************************************
        Default Lang
    ************************************/


    // Set default language, other languages will inherit from English.
    moment.lang('en', {
        ordinal : function (number) {
            var b = number % 10,
                output = (toInt(number % 100 / 10) === 1) ? 'th' :
                (b === 1) ? 'st' :
                (b === 2) ? 'nd' :
                (b === 3) ? 'rd' : 'th';
            return number + output;
        }
    });

    /* EMBED_LANGUAGES */

    /************************************
        Exposing Moment
    ************************************/

    function makeGlobal() {
        /*global ender:false */
        if (typeof ender === 'undefined') {
            // here, `this` means `window` in the browser, or `global` on the server
            // add `moment` as a global object via a string identifier,
            // for Closure Compiler "advanced" mode
            this['moment'] = moment;
        }
    }

    // CommonJS module is defined
    if (hasModule) {
        module.exports = moment;
        makeGlobal();
    } else if (typeof define === "function" && define.amd) {
        define("moment", function (require, exports, module) {
            if (module.config().noGlobal !== true) {
                makeGlobal();
            }

            return moment;
        });
    } else {
        makeGlobal();
    }
}).call(this);

},{}],10:[function(require,module,exports){
var global=typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {};!function(a){"object"==typeof exports?module.exports=a():"function"==typeof define&&define.amd?define(a):"undefined"!=typeof window?window.moonshine=a():"undefined"!=typeof global?global.moonshine=a():"undefined"!=typeof self&&(self.moonshine=a())}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){var c,d;d=function(a,b){var c,d;for(c in b)d=b[c],a[c]=d;return a},c={},c.compile=function(a){var b,c,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;e="";for(l in a){if(k=a[l],f="",j={},i=k.mixins,k)for(delete k.mixins,s=[].concat(i),o=0,q=s.length;q>o;o++)h=s[o],d(k,h);for(g in k)if(n=k[g],"object"==typeof n){for(c=[],m=g.split(/\s*,\s*/),p=0,r=m.length;r>p;p++)b=m[p],c.push(""+l+" "+b);j[c.join(",")]=n}else g=g.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()}),f+=" "+g+": "+n+";\n";f&&(e+=""+l+" {\n"+f+"}\n"),e+=this.compile(j)}return e},b.exports=c},{}],2:[function(a,b,c){var d,e,f,g,h,i,j,k,l=[].slice,m=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};({}).hasOwnProperty,f=c,f.version="0.3.21",f.doctypes={"default":"<!DOCTYPE html>",5:"<!DOCTYPE html>",xml:'<?xml version="1.0" encoding="utf-8" ?>',transitional:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',strict:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">',frameset:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">',1.1:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">',basic:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.1//EN" "http://www.w3.org/TR/xhtml-basic/xhtml-basic11.dtd">',mobile:'<!DOCTYPE html PUBLIC "-//WAPFORUM//DTD XHTML Mobile 1.2//EN" "http://www.openmobilealliance.org/tech/DTD/xhtml-mobile12.dtd">',ce:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "ce-html-1.0-transitional.dtd">'},g="var __slice = Array.prototype.slice;\nvar __hasProp = Object.prototype.hasOwnProperty;\nvar __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\nvar __extends = function(child, parent) {\n  for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; }\n  function ctor() { this.constructor = child; }\n  ctor.prototype = parent.prototype; child.prototype = new ctor; child.__super__ = parent.prototype;\n  return child; };\nvar __indexOf = Array.prototype.indexOf || function(item) {\n  for (var i = 0, l = this.length; i < l; i++) {\n    if (this[i] === item) return i;\n  } return -1; };".replace(/\n/g,""),i={regular:"a abbr address article aside audio b bdi bdo blockquote body button canvas caption cite code colgroup datalist dd del details dfn div dl dt em fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hgroup html i iframe ins kbd label legend li main map mark menu meter nav noscript object ol optgroup option output p pre progress q rp rt ruby s samp script section select small span strong style sub summary sup table tbody td textarea tfoot th thead time title tr u ul video",svg:"a altGlyph altGlyphDef altGlyphItem animate animateColor animateMotion animateTransform circle clipPath color-profile cursor defs desc ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font font-face font-face-format font-face-name font-face-src font-face-uri foreignObject g glyph glyphRef hkern image line linearGradient marker mask metadata missing-glyph mpath path pattern polygon polyline radialGradient rect script set stop style svg symbol text textPath title tref tspan use view vkern","void":"area base br col command embed hr img input keygen link meta param source track wbr",xml:"urlset url loc lastmod changefreq priority",obsolete:"applet acronym bgsound dir frameset noframes isindex listing nextid noembed plaintext rb strike xmp big blink center font marquee multicol nobr spacer tt",obsolete_void:"basefont frame"},j=function(){var a,b,c,d,e,f,g,h,j;for(b=1<=arguments.length?l.call(arguments,0):[],d=[],e=0,g=b.length;g>e;e++)for(a=b[e],j=i[a].split(" "),f=0,h=j.length;h>f;f++)c=j[f],m.call(d,c)<0&&d.push(c);return d},f.tags=j("regular","obsolete","void","obsolete_void","svg","xml"),f.self_closing=j("void","obsolete_void"),k=function(a){var b,c,d,e,f,g,h,i,j,k,n;return null==a&&(a={}),null==(k=a.format)&&(a.format=!1),null==(n=a.autoescape)&&(a.autoescape=!1),j={buffer:[],esc:function(b){return a.autoescape?f(b):b.toString()},tabs:0,repeat:function(a,b){return Array(b+1).join(a)},indent:function(){return a.format?i(this.repeat("  ",this.tabs)):void 0},tag:function(b,c){var d,e,f,g;for(d=[b],f=0,g=c.length;g>f;f++)e=c[f],d.push(e);return h.apply(a,d)},render_idclass:function(a){var b,c,d,e,f,g,h,j,k,l;for(c=[],l=a.split("."),f=g=0,j=l.length;j>g;f=++g)d=l[f],""!==d&&(0===f&&0===d.indexOf("#")?e=d.slice(1):c.push(d));if(e&&i(' id="'+e+'"'),c.length>0){for(i(' class="'),h=0,k=c.length;k>h;h++)b=c[h],b!==c[0]&&i(" "),i(b);return i('"')}},render_attrs:function(a,b){var c,d,e;null==b&&(b=""),e=[];for(c in a)d=a[c],"boolean"==typeof d&&d&&(d=c),"function"==typeof d&&(d="("+d+").call(this);"),"object"!=typeof d||d instanceof Array?d||0===d||""===d?e.push(i(" "+(b+c)+'="'+this.esc(d)+'"')):e.push(void 0):e.push(this.render_attrs(d,b+c+"-"));return e},render_contents:function(b,c){var d;switch(null==c&&(c=!1),typeof b){case"string":case"number":case"boolean":return i(c?b:this.esc(b));case"function":return a.format&&i("\n"),this.tabs++,d=b.call(a),"string"==typeof d&&(this.indent(),i(c?d:this.esc(d)),a.format&&i("\n")),this.tabs--,this.indent()}},render_tag:function(b,c,d,e,f){return this.indent(),i("<"+b),c&&this.render_idclass(c),d&&this.render_attrs(d),e&&i(" "+e),m.call(this.self_closing,b)>=0?(i(" />"),a.format&&i("\n")):(i(">"),this.render_contents(f),i("</"+b+">"),a.format&&i("\n")),null}},h=function(){var a,b,c,d,e,f,g,h,i,k;for(h=arguments[0],b=2<=arguments.length?l.call(arguments,1):[],i=0,k=b.length;k>i;i++)switch(a=b[i],typeof a){case"function":d=a;break;case"object":c=a;break;case"number":case"boolean":d=a;break;case"string":1===b.length?d=a:a===b[0]?(e=a.charAt(0),"#"===e||"."===e?(f=a.substr(0,a.indexOf(" ")),g=a.substr(a.indexOf(" ")+1),""===f&&(f=g,g=void 0)):(g=a,""===g&&(g=void 0))):d=a}return j.render_tag(h,f,c,g,d)},b=function(a){var b,c;return c=[],b=j.buffer,j.buffer=c,a(),j.buffer=b,c.join("")},f=function(a){return a.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},e=function(b){return null==b&&(b="default"),i(j.doctypes[b]),a.format?i("\n"):void 0},i=function(a){return j.buffer.push(a.toString()),null},d=function(b){return i("<!--"+b+"-->"),a.format?i("\n"):void 0},c=function(a){switch(typeof a){case"function":return script(""+j.coffeescript_helpers+"("+a+").call(this);");case"string":return script({type:"text/coffeescript"},function(){return a});case"object":return a.type="text/coffeescript",script(a)}},g=function(b,c){return j.indent(),i("<!--[if "+b+"]>"),j.render_contents(c),i("<![endif]-->"),a.format?i("\n"):void 0},null},k=k.toString().replace(/function\s*\(.*\)\s*\{/,"").replace(/return null;\s*\}$/,""),k=g+k,f.compile=function(a,b){var c,d,i,j,l,m,n,o,p,q,r,s,t;if(null==b&&(b={}),"function"==typeof a?a=a.toString():"string"==typeof a&&null!=e&&(a=e.compile(a,{bare:!0}),a="function(){"+a+"}"),d="",b.hardcode){s=b.hardcode;for(i in s)n=s[i],d+="function"==typeof n?"var "+i+" = function(){return ("+n+").apply(data, arguments);};":"var "+i+" = "+JSON.stringify(n)+";"}if(b.optimize&&null!=h)return h.compile(a,d,b);for(l="",m=[],t=f.tags,o=0,q=t.length;q>o;o++)j=t[o],(a.indexOf(j)>-1||d.indexOf(j)>-1)&&m.push(j);for(l+="var "+m.join(",")+";",p=0,r=m.length;r>p;p++)j=m[p],l+=""+j+" = function(){return __cc.tag('"+j+"', arguments);};";return c=l+d+k,c+="__cc.doctypes = "+JSON.stringify(f.doctypes)+";",c+="__cc.coffeescript_helpers = "+JSON.stringify(g)+";",c+="__cc.self_closing = "+JSON.stringify(f.self_closing)+";",b.locals&&(c+="with(data.locals){"),c+="("+a+").call(data);",b.locals&&(c+="}"),c+="return __cc.buffer.join('');",new Function("data",c)},d={},f.render=function(a,b,c){var e,g,h,i;null==b&&(b={}),null==c&&(c={});for(e in c)h=c[e],b[e]=h;return null==(i=b.cache)&&(b.cache=!1),b.optimize&&!b.cache&&(b.optimize=!1),g=b.cache&&null!=d[a]?d[a]:b.cache?d[a]=f.compile(a,b):f.compile(a,b),g(b)}},{}],3:[function(a,b){var c,d,e;c=a("./ccss.coffee.md"),d=a("./coffeecup.js"),e=function(a){var b,e,f,g,h,i,j,k,l;return g={},l={},b={},b.helper=function(a){var b,c;for(b in a)c=a[b],g[b]=c},b.view=function(a){var b,c;if("string"==typeof a)return a;if("function"==typeof a)return d.render(a,{hardcode:g});for(b in a)c=a[b],console.log("name="+b+" code="+c+" .");l[b]=d.compile(c,{hardcode:g});console.log('Compiled');},b.css=function(a){var b,d;if("string"==typeof a)return a;if("function"==typeof a)return c.compile(a());for(b in a)d=a[b],l[b]="function"==typeof d?function(a){return c.compile(d.apply(a))}:function(){return d}},b.render=function(a,b){return l[a](b)},b.get=function(a){var b,c;for(b in a)c=a[b],j(b,c)},k=[],j=function(a,c){k.push({path:a,route:function(a,d){var f;return f={render:b.render,params:a,query:d,post:e,redirect:function(a){return window.location.hash="#"+a}},c.apply(f)}})},a.apply(b),e=function(a,b){var c,d,e,f,g,h,i;for(console.log("Routing to '"+a+"'"),g=0,h=k.length;h>g;g++){if(j=k[g],"string"==typeof j.path&&j.path===a)return j.route({},b);if(null!=j.path.exec&&(e=j.path.exec(a)))return j.route(e,b);if(null!=j.path.regex&&(f=j.path.regex.exec(a))){e={},i=j.path.map;for(c in i)d=i[c],e[c]=f[d];return j.route(e,b)}}},f=function(){var a,b,c;return a=null!=(b=null!=(c=window.location.hash)?c.replace(/^#/,""):void 0)?b:"",e(a,{})},null!=("undefined"!=typeof window&&null!==window?window.onhashchange:void 0)?window.onhashchange(f):(h=window.location.hash,i=function(){var a;return a=window.location.hash,a!==h&&f(),h=a},setInterval(i,250)),f(),b},"undefined"!=typeof window&&null!==window&&(window.moonshine=e),"undefined"!=typeof b&&null!==b&&(b.exports=e)},{"./ccss.coffee.md":1,"./coffeecup.js":2}]},{},[3])(3)});

},{}],11:[function(require,module,exports){
/**
 * Wrapper for the package as a whole.
 */

module.exports = {
	ColorHelper: require('./src/ColorHelper'),
	ColorFactory: require('./src/ColorFactory')
};

},{"./src/ColorFactory":12,"./src/ColorHelper":13}],12:[function(require,module,exports){
/*!
 * ColorFactory
 *
 * Copyright (c) 2010-2012 Andrew J. Peterson / NDP Software.
 * All Rights Reserved.
 */
(function () {

	var ColorHelper, ColorFactory,
		sixHexDigits = 0xffffff;

	ColorFactory = {
		primaryColors: function () {
			return ['#ff0', '#ff0000', '#0000ff'];
		},

		primaryAndSecondaryColors: function () {
			return ['#ff0', '#f90', '#f00', '#90f', '#00f', '#0f6'];
		},

		complementary: function (color) {
			var hsl = ColorHelper.rgbToHSL(color);
			hsl[0] = (hsl[0] + 180) % 360;
			return [ColorHelper.hslToHexColor(hsl), color];
		},

		/**
		 * Two adjacent colors on 12-part color wheel
		 */
		analogous: function (color, angle) {
			if (!angle) angle = 30;
			var hsl = ColorHelper.rgbToHSL(color);
			hsl[0] = (hsl[0] + angle) % 360;
			var color0 = ColorHelper.hslToHexColor(hsl);
			color0 = ColorHelper.darken(color0, 8);
			color0 = ColorHelper.saturate(color0, -6);
			hsl = ColorHelper.rgbToHSL(color);
			hsl[0] = (hsl[0] - angle + 360) % 360;
			var color2 = ColorHelper.hslToHexColor(hsl);
			return [color0, color, color2];
		},

		random: function () {
			// even distribution within (0,0xffffff)
			var c = Math.round((Math.random() + sixHexDigits) + (sixHexDigits + 1)).toString(16);
			c = c.substr(c.length - 6, 6);
			return '#' + c;
		},

		randomGray: function () {
			return ColorFactory.random().saturate(-100);
		},

		randomHue: function (s, l) {
			var h = Math.round(Math.random() * 256);
			return ColorHelper.hslToHexColor(h, s, l);
		},

		interpolate: function (color1, colorN, steps) {
			var hsl1 = ColorHelper.rgbToHSL(color1);
			var hslN = ColorHelper.rgbToHSL(colorN);
			var delta = [];
			for (var d in hsl1) {
				delta.push((hslN[d] - hsl1[d]) / (steps - 1));
			}

			var hsl = hsl1;
			var colors = [];
			for (var i = 0; i < steps; i++) {
				colors.push(ColorHelper.hslToHexColor(hsl));
				for (d in hsl) {
					hsl[d] += delta[d];
				}
			}
			return colors;
		},

		// http://www.personal.psu.edu/cab38/ColorSch/Schemes.html
		/**
		 * Qualitative schemes do not imply magnitude differences between legend classes,
		 * and hues are used to create the primary visual differences between classes.
		 * Qualitative schemes are best suited to representing nominal or categorical data.
		 * @param refColor (optional)
		 * @param count
		 */
		qualitative: function (refColor, count) {
			if (count === undefined && typeof refColor === 'number') {
				count = refColor;
				refColor = 'black';
			}
			var hsl = ColorHelper.rgbToHSL(refColor);
			hsl[1] = Math.max(60, hsl[1]);
			hsl[2] = Math.max(40, hsl[2]);
			hsl[2] = Math.min(70, hsl[2]);
			var i, colors = [];
			for (i = 0; i < count; i++) {
				colors.push(ColorHelper.hslToHexColor(hsl));
				hsl[0] += (360 / count);
				hsl[0] %= 360;
			}
			return colors;
		},

		/**
		 * Sequential schemes are suited to ordered data that progress from low to high.
		 * Lightness steps dominate the look of these schemes, with light colors
		 * for low data values to dark colors for high data values.
		 * @param startColor
		 * @param endColor (optional)
		 * @param count
		 */
		sequential: function (startColor, endColor, count) {
			var hsl = ColorHelper.rgbToHSL(startColor);
			if (count === undefined) {
				count = endColor;
				var lightness = hsl[2] - 20 * count;
				if (lightness < 0) lightness = 100 - hsl[2];
				endColor = ColorHelper.hslToHexColor([hsl[0], hsl[1], lightness]);
			}
			return ColorFactory.interpolate(startColor, endColor, count);

		},

		binary: function (trueColor) {
			return [trueColor, ColorHelper.lighten(ColorHelper.saturate(trueColor, 10), 25)];
		},

		/**
		 * Diverging schemes put equal emphasis on mid-range critical values and
		 * extremes at both ends of the data range.
		 * The critical class or break in the middle of the legend is
		 * emphasized with light colors and low and high extremes are
		 * emphasized with dark colors that have contrasting hues.
		 * @param startColor
		 * @param count
		 */
		diverging: function () {
			/* @todo */
		}
	};

	// Expose: Server or browser
	if (typeof module !== 'undefined' && module.exports) {
		ColorHelper = require('./ColorHelper');
		module.exports = ColorFactory;
	} else {
		ColorHelper = this.ColorHelper;
		this.ColorFactory = ColorFactory;
	}
}());

},{"./ColorHelper":13}],13:[function(require,module,exports){
/*!
 * ColorHelper
 */
(function () {

	/* Local variables */

	var ColorHelper,
		toString = Object.prototype.toString,
		hasOwn = Object.prototype.hasOwnProperty,
		slice = Array.prototype.slice,
		/**
		 * Use a singleton cache of all color strings we see.
		 * Each key points to a structure, which can have hex, rgb, etc. values in it.
		 */
		immutableCache = {},
		colorsHTML4 = {
			black: '#000000',
			silver: '#c0c0c0',
			gray: '#808080',
			white: '#ffffff',
			maroon: '#800000',
			red: '#ff0000',
			purple: '#800080',
			fuchsia: '#ff00ff',
			green: '#008000',
			lime: '#00ff00',
			olive: '#808000',
			yellow: '#ffff00',
			navy: '#000080',
			blue: '#0000ff',
			teal: '#008080',
			aqua: '#00ffff'
		},
		colorsHTML5 = {
			AliceBlue: '#F0F8FF',
			AntiqueWhite: '#FAEBD7',
			Aqua: '#00FFFF',
			Aquamarine: '#7FFFD4',
			Azure: '#F0FFFF',
			Beige: '#F5F5DC',
			Bisque: '#FFE4C4',
			Black: '#000000',
			BlanchedAlmond: '#FFEBCD',
			Blue: '#0000FF',
			BlueViolet: '#8A2BE2',
			Brown: '#A52A2A',
			BurlyWood: '#DEB887',
			CadetBlue: '#5F9EA0',
			Chartreuse: '#7FFF00',
			Chocolate: '#D2691E',
			Coral: '#FF7F50',
			CornflowerBlue: '#6495ED',
			Cornsilk: '#FFF8DC',
			Crimson: '#DC143C',
			Cyan: '#00FFFF',
			DarkBlue: '#00008B',
			DarkCyan: '#008B8B',
			DarkGoldenRod: '#B8860B',
			DarkGray: '#A9A9A9',
			DarkGrey: '#A9A9A9',
			DarkGreen: '#006400',
			DarkKhaki: '#BDB76B',
			DarkMagenta: '#8B008B',
			DarkOliveGreen: '#556B2F',
			Darkorange: '#FF8C00',
			DarkOrchid: '#9932CC',
			DarkRed: '#8B0000',
			DarkSalmon: '#E9967A',
			DarkSeaGreen: '#8FBC8F',
			DarkSlateBlue: '#483D8B',
			DarkSlateGray: '#2F4F4F',
			DarkSlateGrey: '#2F4F4F',
			DarkTurquoise: '#00CED1',
			DarkViolet: '#9400D3',
			DeepPink: '#FF1493',
			DeepSkyBlue: '#00BFFF',
			DimGray: '#696969',
			DimGrey: '#696969',
			DodgerBlue: '#1E90FF',
			FireBrick: '#B22222',
			FloralWhite: '#FFFAF0',
			ForestGreen: '#228B22',
			Fuchsia: '#FF00FF',
			Gainsboro: '#DCDCDC',
			GhostWhite: '#F8F8FF',
			Gold: '#FFD700',
			GoldenRod: '#DAA520',
			Gray: '#808080',
			Grey: '#808080',
			Green: '#008000',
			GreenYellow: '#ADFF2F',
			HoneyDew: '#F0FFF0',
			HotPink: '#FF69B4',
			IndianRed: '#CD5C5C',
			Indigo: '#4B0082',
			Ivory: '#FFFFF0',
			Khaki: '#F0E68C',
			Lavender: '#E6E6FA',
			LavenderBlush: '#FFF0F5',
			LawnGreen: '#7CFC00',
			LemonChiffon: '#FFFACD',
			LightBlue: '#ADD8E6',
			LightCoral: '#F08080',
			LightCyan: '#E0FFFF',
			LightGoldenRodYellow: '#FAFAD2',
			LightGray: '#D3D3D3',
			LightGrey: '#D3D3D3',
			LightGreen: '#90EE90',
			LightPink: '#FFB6C1',
			LightSalmon: '#FFA07A',
			LightSeaGreen: '#20B2AA',
			LightSkyBlue: '#87CEFA',
			LightSlateGray: '#778899',
			LightSlateGrey: '#778899',
			LightSteelBlue: '#B0C4DE',
			LightYellow: '#FFFFE0',
			Lime: '#00FF00',
			LimeGreen: '#32CD32',
			Linen: '#FAF0E6',
			Magenta: '#FF00FF',
			Maroon: '#800000',
			MediumAquaMarine: '#66CDAA',
			MediumBlue: '#0000CD',
			MediumOrchid: '#BA55D3',
			MediumPurple: '#9370D8',
			MediumSeaGreen: '#3CB371',
			MediumSlateBlue: '#7B68EE',
			MediumSpringGreen: '#00FA9A',
			MediumTurquoise: '#48D1CC',
			MediumVioletRed: '#C71585',
			MidnightBlue: '#191970',
			MintCream: '#F5FFFA',
			MistyRose: '#FFE4E1',
			Moccasin: '#FFE4B5',
			NavajoWhite: '#FFDEAD',
			Navy: '#000080',
			OldLace: '#FDF5E6',
			Olive: '#808000',
			OliveDrab: '#6B8E23',
			Orange: '#FFA500',
			OrangeRed: '#FF4500',
			Orchid: '#DA70D6',
			PaleGoldenRod: '#EEE8AA',
			PaleGreen: '#98FB98',
			PaleTurquoise: '#AFEEEE',
			PaleVioletRed: '#D87093',
			PapayaWhip: '#FFEFD5',
			PeachPuff: '#FFDAB9',
			Peru: '#CD853F',
			Pink: '#FFC0CB',
			Plum: '#DDA0DD',
			PowderBlue: '#B0E0E6',
			Purple: '#800080',
			Red: '#FF0000',
			RosyBrown: '#BC8F8F',
			RoyalBlue: '#4169E1',
			SaddleBrown: '#8B4513',
			Salmon: '#FA8072',
			SandyBrown: '#F4A460',
			SeaGreen: '#2E8B57',
			SeaShell: '#FFF5EE',
			Sienna: '#A0522D',
			Silver: '#C0C0C0',
			SkyBlue: '#87CEEB',
			SlateBlue: '#6A5ACD',
			SlateGray: '#708090',
			SlateGrey: '#708090',
			Snow: '#FFFAFA',
			SpringGreen: '#00FF7F',
			SteelBlue: '#4682B4',
			Tan: '#D2B48C',
			Teal: '#008080',
			Thistle: '#D8BFD8',
			Tomato: '#FF6347',
			Turquoise: '#40E0D0',
			Violet: '#EE82EE',
			Wheat: '#F5DEB3',
			White: '#FFFFFF',
			WhiteSmoke: '#F5F5F5',
			Yellow: '#FFFF00',
			YellowGreen: '#9ACD32'
		},
		// Map String.prototype methods to ColorHelper
		strProtoMapping = {
			toHexColor: 'strToHexColor',
			toRGB: 'hexToRGB',
			lighten: 'lighten',
			saturate: 'saturate',
			darken: 'darken',
			toHSL: 'rgbToHSL'
		},
		// Keep track of which methods we added to String.prototype,
		// so we can safely remove only the ones we added.
		strProtoPollution = [];

	/* Local functions */

	function isArray(object) {
		return typeof object === 'object' && toString.call(object) === '[object Array]';
	}

	/**
	 * Can't be used inline in the for-loop, because of variable scope.
	 * Otherwise all methods would be pointing to the method as put in
	 * the variable that lives on until after the loop itself.
	 */
	function makeStrProtoFn(method) {
		return function () {
			// Convert `arguments` into an array (usually empty or has 1 parameter)
			var args = slice.call(arguments, 0);
			// Add the current string as the first argument
			args.unshift(this);
			return ColorHelper[method].apply(ColorHelper, args);
		};
	}

	/**
	 * Returns (or creates) the cached color structure
	 */
	function colorCache(c) {
		if (!immutableCache[c]) {
			immutableCache[c] = {};
		}
		return immutableCache[c];
	}

	/* HSL helpers */

	/** @return Array */
	function hsl2rgb(h, s, l) {
		// HSL 0 to 1 => RGB results from 0 to 255
		var r, g, b, var_1, var_2;

		if (s === 0) {
			r = l * 255;
			g = l * 255;
			b = l * 255;
		} else {
			var_2 = (l < 0.5) ? l * (1 + s) : ((l + s) - (s * l));
			var_1 = 2 * l - var_2;

			r = 255 * h2rgb(var_1, var_2, h + (1 / 3));
			g = 255 * h2rgb(var_1, var_2, h);
			b = 255 * h2rgb(var_1, var_2, h - (1 / 3));
		}

		return [r, g, b];
	}

	function h2rgb(v1, v2, vH) {
		if (vH < 0) {
			vH += 1;
		}

		if (vH > 1) {
			vH -= 1;
		}

		if ((6 * vH) < 1) {
			return (v1 + (v2 - v1) * 6 * vH);
		}

		if ((2 * vH) < 1) {
			return v2;
		}

		if ((3 * vH) < 2) {
			return (v1 + (v2 - v1) * ((2 / 3) - vH) * 6);
		}

		return v1;
	}

	function hex2(n) {
		var h = Math.round(n).toString(16);
		if (h.length === 1) {
			h = '0' + h;
		}
		return h.substr(0, 1) + h.substr(1, 1);
	}

	/**
	 * @param Number h
	 * @param Number s
	 * @param Number l
	 * - or -
	 * @param Array hsl
	 */
	function hslToHexColor(hsl, s, l) {
		var h, rgb;
		if (isArray(hsl)) {
			h = hsl[0] || 0;
			s = hsl[1] || 0;
			l = hsl[2] || 0;
		} else {
			h = hsl;
		}

		// HSL from 0 to 1
		h = ((h + 360) % 360.0) / 360;
		s = s / 100.0;
		l = l / 100.0;

		rgb = hsl2rgb(h, s, l);
		return '#' + hex2(rgb[0]) + hex2(rgb[1]) + hex2(rgb[2]);
	}

	/* RGB helpers */

	/**
	 * [0..360, 0..100, 0.100]
	 * http://www.easyrgb.com/index.php?X=MATH&H=18#text18
	 */
	function rgbToHsl(rgb) {
		var r, g, b, max, min, d, h, s, l,
			cache;

		rgb = ColorHelper.hexToRGB(rgb);
		r = rgb[0] / 255;
		g = rgb[1] / 255;
		b = rgb[2] / 255;
		max = Math.max(r, g, b);
		min = Math.min(r, g, b);

		// Delta RGB value
		d = max - min;
		l = (max + min) / 2;

		// gray?, no chroma...
		if (d === 0) {
			// HSl results from 0 to 1
			h = 0;
			s = 0;
		} else {
			// Chromatic data...
			s = d / (l < 0.5 ? (max + min) : (2 - max - min));

			var del_R = (((max - r) / 6) + (d / 2)) / d,
				del_G = (((max - g) / 6) + (d / 2)) / d,
				del_B = (((max - b) / 6) + (d / 2)) / d;

			if (r === max) {
				h = del_B - del_G;
			} else if (g === max) {
				h = (1 / 3) + del_R - del_B;
			} else if (b === max) {
				h = (2 / 3) + del_G - del_R;
			}

			if (h < 0) {
				h += 1;
			}
			if (h > 0) {
				h -= 1;
			}
		}

		h = Math.round(h * 360);
		if (h < 0) {
			h += 360;
		}

		cache = colorCache(this);
		cache.hsl = [h, Math.round(s * 100), Math.round(l * 100)];
		return cache.hsl;
	}

	/* Public API */

	ColorHelper = {
		hslToHexColor: hslToHexColor,

		rgbToHSL: function (s) {
			var rgb = ColorHelper.strToHexColor(s);
			return rgbToHsl(rgb);
		},

		strToHexColor: function (str) {
			if (str.substr(0, 1) === '#' && str.length === 7) {
				colorCache(str).hex = '' + str;
			} else if (str.substr(0, 1) === '#' && str.length === 4) {
				colorCache(str).hex = '#' + str.substr(1, 1) + str.substr(1, 1) +
						str.substr(2, 1) + str.substr(2, 1) +
						str.substr(3, 1) + str.substr(3, 1);
			} else {
				colorCache(str).hex = colorsHTML4[str] || colorsHTML5[str];
			}
			return colorCache(str).hex;
		},

		hexToRGB: function (hexStr) {
			var cache = colorCache(hexStr);
			if (cache.rgb) return cache.rgb;
			var h = ColorHelper.strToHexColor(hexStr);
			if (!h) throw 'Unknown color "' + hexStr + '"';
			cache.rgb = [parseInt(h.substr(1, 2), 16), parseInt(h.substr(3, 2), 16), parseInt(h.substr(5, 2), 16)];
			return cache.rgb;
		},

		lighten: function (color, percent) {
			var hsl = ColorHelper.rgbToHSL(color);
			var newHSL = [hsl[0], hsl[1], Math.min(100, hsl[2] + percent)];
			return ColorHelper.hslToHexColor(newHSL);
		},

		darken: function (color, percent) {
			var hsl = ColorHelper.rgbToHSL(color);
			var newHSL = [hsl[0], hsl[1], Math.max(0, hsl[2] - percent)];
			return ColorHelper.hslToHexColor(newHSL);
		},

		/**
		 * Increase or decrease the saturation of a color.
		 * @param percent positive values increase saturation, negative values desaturate.
		 */
		saturate: function (color, percent) {
			var hsl = ColorHelper.rgbToHSL(color);
			var newHSL = [hsl[0], Math.min(100, Math.max(0, hsl[1] + percent)), hsl[2]];
			return ColorHelper.hslToHexColor(newHSL);
		},

		clobberPrototype: function () {
			for (var key in strProtoMapping) {
				// Only inject the method if there isn't something there
				// already in its place.
				if (!hasOwn.call(String.prototype, key)) {
					strProtoPollution.push(key);
					String.prototype[key] = makeStrProtoFn(strProtoMapping[key]);
				}
			}
		},
		restorePrototype: function () {
			for (var i = 0, len = strProtoPollution.length; i < len; i += 1) {
				delete String.prototype[strProtoPollution[i]];
			}
			// Empty the array
			strProtoPollution.length = 0;
		}
	};

	// Expose: Server or browser
	if (typeof module !== 'undefined' && module.exports) {
		module.exports = ColorHelper;
	} else {
		this.ColorHelper = ColorHelper;
	}
}());

},{}],14:[function(require,module,exports){
// -----
// The `timezoneJS.Date` object gives you full-blown timezone support, independent from the timezone set on the end-user's machine running the browser. It uses the Olson zoneinfo files for its timezone data.
//
// The constructor function and setter methods use proxy JavaScript Date objects behind the scenes, so you can use strings like '10/22/2006' with the constructor. You also get the same sensible wraparound behavior with numeric parameters (like setting a value of 14 for the month wraps around to the next March).
//
// The other significant difference from the built-in JavaScript Date is that `timezoneJS.Date` also has named properties that store the values of year, month, date, etc., so it can be directly serialized to JSON and used for data transfer.

/*
 * Copyright 2010 Matthew Eernisse (mde@fleegix.org)
 * and Open Source Applications Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * Credits: Ideas included from incomplete JS implementation of Olson
 * parser, "XMLDAte" by Philippe Goetz (philippe.goetz@wanadoo.fr)
 *
 * Contributions:
 * Jan Niehusmann
 * Ricky Romero
 * Preston Hunt (prestonhunt@gmail.com)
 * Dov. B Katz (dov.katz@morganstanley.com)
 * Peter Bergstrm (pbergstr@mac.com)
 * Long Ho
 */

 /*jslint laxcomma:true, laxbreak:true, expr:true*/
(function () {
  // Standard initialization stuff to make sure the library is
  // usable on both client and server (node) side.
  "use strict";
  var root = this;

  var timezoneJS;
  if (typeof exports !== 'undefined') {
    timezoneJS = exports;
  } else {
    timezoneJS = root.timezoneJS = {};
  }

  timezoneJS.VERSION = '0.4.4';

  // Grab the ajax library from global context.
  // This can be jQuery, Zepto or fleegix.
  // You can also specify your own transport mechanism by declaring
  // `timezoneJS.timezone.transport` to a `function`. More details will follow
  var $ = root.$ || root.jQuery || root.Zepto
    , fleegix = root.fleegix
    // Declare constant list of days and months. Unfortunately this doesn't leave room for i18n due to the Olson data being in English itself
    , DAYS = timezoneJS.Days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']
    , MONTHS = timezoneJS.Months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']
    , SHORT_MONTHS = {}
    , SHORT_DAYS = {}
    , EXACT_DATE_TIME = {}
    , TZ_REGEXP = new RegExp('^[a-zA-Z]+/');

  //`{ "Jan": 0, "Feb": 1, "Mar": 2, "Apr": 3, "May": 4, "Jun": 5, "Jul": 6, "Aug": 7, "Sep": 8, "Oct": 9, "Nov": 10, "Dec": 11 }`
  for (var i = 0; i < MONTHS.length; i++) {
    SHORT_MONTHS[MONTHS[i].substr(0, 3)] = i;
  }

  //`{ "Sun": 0, "Mon": 1, "Tue": 2, "Wed": 3, "Thu": 4, "Fri": 5, "Sat": 6 }`
  for (i = 0; i < DAYS.length; i++) {
    SHORT_DAYS[DAYS[i].substr(0, 3)] = i;
  }


  //Handle array indexOf in IE
  //From https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/indexOf
  //Extending Array prototype causes IE to iterate thru extra element
  var _arrIndexOf = Array.prototype.indexOf || function (el) {
    if (this === null) {
      throw new TypeError();
    }
    var t = Object(this);
    var len = t.length >>> 0;
    if (len === 0) {
      return -1;
    }
    var n = 0;
    if (arguments.length > 1) {
      n = Number(arguments[1]);
      if (n != n) { // shortcut for verifying if it's NaN
        n = 0;
      } else if (n !== 0 && n !== Infinity && n !== -Infinity) {
        n = (n > 0 || -1) * Math.floor(Math.abs(n));
      }
    }
    if (n >= len) {
      return -1;
    }
    var k = n >= 0 ? n : Math.max(len - Math.abs(n), 0);
    for (; k < len; k++) {
      if (k in t && t[k] === el) {
        return k;
      }
    }
    return -1;
  };

  // Format a number to the length = digits. For ex:
  //
  // `_fixWidth(2, 2) = '02'`
  //
  // `_fixWidth(1998, 2) = '98'`
  //
  // This is used to pad numbers in converting date to string in ISO standard.
  var _fixWidth = function (number, digits) {
    if (typeof number !== "number") { throw "not a number: " + number; }
    var s = number.toString();
    if (number.length > digits) {
      return number.substr(number.length - digits, number.length);
    }
    while (s.length < digits) {
      s = '0' + s;
    }
    return s;
  };

  // Abstraction layer for different transport layers, including fleegix/jQuery/Zepto
  //
  // Object `opts` include
  //
  // - `url`: url to ajax query
  //
  // - `async`: true for asynchronous, false otherwise. If false, return value will be response from URL. This is true by default
  //
  // - `success`: success callback function
  //
  // - `error`: error callback function
  // Returns response from URL if async is false, otherwise the AJAX request object itself
  var _transport = function (opts) {
    if ((!fleegix || typeof fleegix.xhr === 'undefined') && (!jQuery || typeof jQuery.ajax === 'undefined')) {
      throw new Error('Please use the Fleegix.js XHR module, jQuery ajax, Zepto ajax, or define your own transport mechanism for downloading zone files.');
    }
    if (!opts) return;
    if (!opts.url) throw new Error ('URL must be specified');
    if (!('async' in opts)) opts.async = true;
    if (!opts.async) {
      return fleegix && fleegix.xhr
      ? fleegix.xhr.doReq({ url: opts.url, async: false })
      : jQuery.ajax({ url : opts.url, async : false, dataType: 'text' }).responseText;
    }
    return fleegix && fleegix.xhr
    ? fleegix.xhr.send({
      url : opts.url,
      method : 'get',
      handleSuccess : opts.success,
      handleErr : opts.error
    })
    : jQuery.ajax({
      url : opts.url,
      dataType: 'text',
      method : 'GET',
      error : opts.error,
      success : opts.success
    });
  };

  // Constructor, which is similar to that of the native Date object itself
  timezoneJS.Date = function () {
    var args = Array.prototype.slice.apply(arguments)
    , dt = null
    , tz = null
    , arr = [];


    //We support several different constructors, including all the ones from `Date` object
    // with a timezone string at the end.
    //
    //- `[tz]`: Returns object with time in `tz` specified.
    //
    // - `utcMillis`, `[tz]`: Return object with UTC time = `utcMillis`, in `tz`.
    //
    // - `Date`, `[tz]`: Returns object with UTC time = `Date.getTime()`, in `tz`.
    //
    // - `year, month, [date,] [hours,] [minutes,] [seconds,] [millis,] [tz]: Same as `Date` object
    // with tz.
    //
    // - `Array`: Can be any combo of the above.
    //
    //If 1st argument is an array, we can use it as a list of arguments itself
    if (Object.prototype.toString.call(args[0]) === '[object Array]') {
      args = args[0];
    }
    if (typeof args[args.length - 1] === 'string' && TZ_REGEXP.test(args[args.length - 1])) {
      tz = args.pop();
    }
    var is_dt_local = false;
    switch (args.length) {
      case 0:
        dt = new Date();
        break;
      case 1:
        dt = new Date(args[0]);
        // Date strings are local if they do not contain 'Z', 'T' or timezone offsets like '+0200'
        //  - more info below
        if (typeof args[0] == 'string' && args[0].search(/[+-][0-9]{4}/) == -1
                && args[0].search(/Z/) == -1 && args[0].search(/T/) == -1) {
            is_dt_local = true;
        }
        break;
      default:
        for (var i = 0; i < 7; i++) {
          arr[i] = args[i] || 0;
        }
        dt = new Date(arr[0], arr[1], arr[2], arr[3], arr[4], arr[5], arr[6]);
        is_dt_local = true;
        break;
    }

    this._useCache = false;
    this._tzInfo = {};
    this._day = 0;
    this.year = 0;
    this.month = 0;
    this.date = 0;
    this.hours = 0;
    this.minutes = 0;
    this.seconds = 0;
    this.milliseconds = 0;
    this.timezone = tz || null;
    // Tricky part:
    // The date is either given as unambiguous UTC date or otherwise the date is assumed
    // to be a date in timezone `tz` or a locale date if `tz` is not provided. Thus, to
    // determine how to use `dt` we distinguish between the following cases:
    //  - UTC   (is_dt_local = false)
    //    `timezoneJS.Date(millis, [tz])`
    //    `timezoneJS.Date(Date, [tz])`
    //    `timezoneJS.Date(dt_str_tz, [tz])`
    //  - local/timezone `tz`   (is_dt_local = true)
    //    `timezoneJS.Date(year, mon, day, [hour], [min], [second], [tz])`
    //    `timezoneJS.Date(dt_str, [tz])`
    //
    // `dt_str_tz` is a date string containing timezone information, i.e. containing 'Z', 'T' or
    // /[+-][0-9]{4}/ (e.g. '+0200'), while `dt_str` is a string which does not contain 
    // timezone information. See: http://dygraphs.com/date-formats.html
    if (is_dt_local) {
       this.setFromDateObjProxy(dt);
    } else {
       this.setFromTimeProxy(dt.getTime(), tz);
    }
  };

  // Implements most of the native Date object
  timezoneJS.Date.prototype = {
    getDate: function () { return this.date; },
    getDay: function () { return this._day; },
    getFullYear: function () { return this.year; },
    getMonth: function () { return this.month; },
    getYear: function () { return this.year - 1900; },
    getHours: function () { return this.hours; },
    getMilliseconds: function () { return this.milliseconds; },
    getMinutes: function () { return this.minutes; },
    getSeconds: function () { return this.seconds; },
    getUTCDate: function () { return this.getUTCDateProxy().getUTCDate(); },
    getUTCDay: function () { return this.getUTCDateProxy().getUTCDay(); },
    getUTCFullYear: function () { return this.getUTCDateProxy().getUTCFullYear(); },
    getUTCHours: function () { return this.getUTCDateProxy().getUTCHours(); },
    getUTCMilliseconds: function () { return this.getUTCDateProxy().getUTCMilliseconds(); },
    getUTCMinutes: function () { return this.getUTCDateProxy().getUTCMinutes(); },
    getUTCMonth: function () { return this.getUTCDateProxy().getUTCMonth(); },
    getUTCSeconds: function () { return this.getUTCDateProxy().getUTCSeconds(); },
    // Time adjusted to user-specified timezone
    getTime: function () {
      return this._timeProxy + (this.getTimezoneOffset() * 60 * 1000);
    },
    getTimezone: function () { return this.timezone; },
    getTimezoneOffset: function () { return this.getTimezoneInfo().tzOffset; },
    getTimezoneAbbreviation: function () { return this.getTimezoneInfo().tzAbbr; },
    getTimezoneInfo: function () {
      if (this._useCache) return this._tzInfo;
      var res;
      // If timezone is specified, get the correct timezone info based on the Date given
      if (this.timezone) {
        res = this.timezone === 'Etc/UTC' || this.timezone === 'Etc/GMT'
          ? { tzOffset: 0, tzAbbr: 'UTC' }
          : timezoneJS.timezone.getTzInfo(this._timeProxy, this.timezone);
      }
      // If no timezone was specified, use the local browser offset
      else {
        res = { tzOffset: this.getLocalOffset(), tzAbbr: null };
      }
      this._tzInfo = res;
      this._useCache = true;
      return res;
    },
    getUTCDateProxy: function () {
      var dt = new Date(this._timeProxy);
      dt.setUTCMinutes(dt.getUTCMinutes() + this.getTimezoneOffset());
      return dt;
    },
    setDate: function (date) {
      this.setAttribute('date', date);
      return this.getTime();
    },
    setFullYear: function (year, month, date) {
      if (date !== undefined) { this.setAttribute('date', 1); }
      this.setAttribute('year', year);
      if (month !== undefined) { this.setAttribute('month', month); }
      if (date !== undefined) { this.setAttribute('date', date); }
      return this.getTime();
    },
    setMonth: function (month, date) {
      this.setAttribute('month', month);
      if (date !== undefined) { this.setAttribute('date', date); }
      return this.getTime();
    },
    setYear: function (year) {
      year = Number(year);
      if (0 <= year && year <= 99) { year += 1900; }
      this.setUTCAttribute('year', year);
      return this.getTime();
    },
    setHours: function (hours, minutes, seconds, milliseconds) {
      this.setAttribute('hours', hours);
      if (minutes !== undefined) { this.setAttribute('minutes', minutes); }
      if (seconds !== undefined) { this.setAttribute('seconds', seconds); }
      if (milliseconds !== undefined) { this.setAttribute('milliseconds', milliseconds); }
      return this.getTime();
    },
    setMinutes: function (minutes, seconds, milliseconds) {
      this.setAttribute('minutes', minutes);
      if (seconds !== undefined) { this.setAttribute('seconds', seconds); }
      if (milliseconds !== undefined) { this.setAttribute('milliseconds', milliseconds); }
      return this.getTime();
    },
    setSeconds: function (seconds, milliseconds) {
      this.setAttribute('seconds', seconds);
      if (milliseconds !== undefined) { this.setAttribute('milliseconds', milliseconds); }
      return this.getTime();
    },
    setMilliseconds: function (milliseconds) {
      this.setAttribute('milliseconds', milliseconds);
      return this.getTime();
    },
    setTime: function (n) {
      if (isNaN(n)) { throw new Error('Units must be a number.'); }
      this.setFromTimeProxy(n, this.timezone);
      return this.getTime();
    },
    setUTCFullYear: function (year, month, date) {
      if (date !== undefined) { this.setUTCAttribute('date', 1); }
      this.setUTCAttribute('year', year);
      if (month !== undefined) { this.setUTCAttribute('month', month); }
      if (date !== undefined) { this.setUTCAttribute('date', date); }
      return this.getTime();
    },
    setUTCMonth: function (month, date) {
      this.setUTCAttribute('month', month);
      if (date !== undefined) { this.setUTCAttribute('date', date); }
      return this.getTime();
    },
    setUTCDate: function (date) {
      this.setUTCAttribute('date', date);
      return this.getTime();
    },
    setUTCHours: function (hours, minutes, seconds, milliseconds) {
      this.setUTCAttribute('hours', hours);
      if (minutes !== undefined) { this.setUTCAttribute('minutes', minutes); }
      if (seconds !== undefined) { this.setUTCAttribute('seconds', seconds); }
      if (milliseconds !== undefined) { this.setUTCAttribute('milliseconds', milliseconds); }
      return this.getTime();
    },
    setUTCMinutes: function (minutes, seconds, milliseconds) {
      this.setUTCAttribute('minutes', minutes);
      if (seconds !== undefined) { this.setUTCAttribute('seconds', seconds); }
      if (milliseconds !== undefined) { this.setUTCAttribute('milliseconds', milliseconds); }
      return this.getTime();
    },
    setUTCSeconds: function (seconds, milliseconds) {
      this.setUTCAttribute('seconds', seconds);
      if (milliseconds !== undefined) { this.setUTCAttribute('milliseconds', milliseconds); }
      return this.getTime();
    },
    setUTCMilliseconds: function (milliseconds) {
      this.setUTCAttribute('milliseconds', milliseconds);
      return this.getTime();
    },
    setFromDateObjProxy: function (dt) {
      this.year = dt.getFullYear();
      this.month = dt.getMonth();
      this.date = dt.getDate();
      this.hours = dt.getHours();
      this.minutes = dt.getMinutes();
      this.seconds = dt.getSeconds();
      this.milliseconds = dt.getMilliseconds();
      this._day = dt.getDay();
      this._dateProxy = dt;
      this._timeProxy = Date.UTC(this.year, this.month, this.date, this.hours, this.minutes, this.seconds, this.milliseconds);
      this._useCache = false;
    },
    setFromTimeProxy: function (utcMillis, tz) {
      var dt = new Date(utcMillis);
      var tzOffset = tz ? timezoneJS.timezone.getTzInfo(utcMillis, tz, true).tzOffset : dt.getTimezoneOffset();
      dt.setTime(utcMillis + (dt.getTimezoneOffset() - tzOffset) * 60000);
      this.setFromDateObjProxy(dt);
    },
    setAttribute: function (unit, n) {
      if (isNaN(n)) { throw new Error('Units must be a number.'); }
      var dt = this._dateProxy;
      var meth = unit === 'year' ? 'FullYear' : unit.substr(0, 1).toUpperCase() + unit.substr(1);
      dt['set' + meth](n);
      this.setFromDateObjProxy(dt);
    },
    setUTCAttribute: function (unit, n) {
      if (isNaN(n)) { throw new Error('Units must be a number.'); }
      var meth = unit === 'year' ? 'FullYear' : unit.substr(0, 1).toUpperCase() + unit.substr(1);
      var dt = this.getUTCDateProxy();
      dt['setUTC' + meth](n);
      dt.setUTCMinutes(dt.getUTCMinutes() - this.getTimezoneOffset());
      this.setFromTimeProxy(dt.getTime() + this.getTimezoneOffset() * 60000, this.timezone);
    },
    setTimezone: function (tz) {
      var previousOffset = this.getTimezoneInfo().tzOffset;
      this.timezone = tz;
      this._useCache = false;
      // Set UTC minutes offsets by the delta of the two timezones
      this.setUTCMinutes(this.getUTCMinutes() - this.getTimezoneInfo().tzOffset + previousOffset);
    },
    removeTimezone: function () {
      this.timezone = null;
      this._useCache = false;
    },
    valueOf: function () { return this.getTime(); },
    clone: function () {
      return this.timezone ? new timezoneJS.Date(this.getTime(), this.timezone) : new timezoneJS.Date(this.getTime());
    },
    toGMTString: function () { return this.toString('EEE, dd MMM yyyy HH:mm:ss Z', 'Etc/GMT'); },
    toLocaleString: function () {},
    toLocaleDateString: function () {},
    toLocaleTimeString: function () {},
    toSource: function () {},
    toISOString: function () { return this.toString('yyyy-MM-ddTHH:mm:ss.SSS', 'Etc/UTC') + 'Z'; },
    toJSON: function () { return this.toISOString(); },
    // Allows different format following ISO8601 format:
    toString: function (format, tz) {
      // Default format is the same as toISOString
      if (!format) format = 'yyyy-MM-dd HH:mm:ss';
      var result = format;
      var tzInfo = tz ? timezoneJS.timezone.getTzInfo(this.getTime(), tz) : this.getTimezoneInfo();
      var _this = this;
      // If timezone is specified, get a clone of the current Date object and modify it
      if (tz) {
        _this = this.clone();
        _this.setTimezone(tz);
      }
      var hours = _this.getHours();
      return result
      // fix the same characters in Month names
      .replace(/a+/g, function () { return 'k'; })
      // `y`: year
      .replace(/y+/g, function (token) { return _fixWidth(_this.getFullYear(), token.length); })
      // `d`: date
      .replace(/d+/g, function (token) { return _fixWidth(_this.getDate(), token.length); })
      // `m`: minute
      .replace(/m+/g, function (token) { return _fixWidth(_this.getMinutes(), token.length); })
      // `s`: second
      .replace(/s+/g, function (token) { return _fixWidth(_this.getSeconds(), token.length); })
      // `S`: millisecond
      .replace(/S+/g, function (token) { return _fixWidth(_this.getMilliseconds(), token.length); })
      // 'h': 12 hour format
      .replace(/h+/g, function (token) { return _fixWidth( ((hours%12) === 0) ? 12 : (hours % 12), token.length); })
      // `M`: month. Note: `MM` will be the numeric representation (e.g February is 02) but `MMM` will be text representation (e.g February is Feb)
      .replace(/M+/g, function (token) {
        var _month = _this.getMonth(),
        _len = token.length;
        if (_len > 3) {
          return timezoneJS.Months[_month];
        } else if (_len > 2) {
          return timezoneJS.Months[_month].substring(0, _len);
        }
        return _fixWidth(_month + 1, _len);
      })
      // `k`: AM/PM
      .replace(/k+/g, function () {
        if (hours >= 12) {
          if (hours > 12) {
            hours -= 12;
          }
          return 'PM';
        }
        return 'AM';
      })
      // `H`: hour
      .replace(/H+/g, function (token) { return _fixWidth(hours, token.length); })
      // `E`: day
      .replace(/E+/g, function (token) { return DAYS[_this.getDay()].substring(0, token.length); })
      // `Z`: timezone abbreviation
      .replace(/Z+/gi, function () { return tzInfo.tzAbbr; });
    },
    toUTCString: function () { return this.toGMTString(); },
    civilToJulianDayNumber: function (y, m, d) {
      var a;
      // Adjust for zero-based JS-style array
      m++;
      if (m > 12) {
        a = parseInt(m/12, 10);
        m = m % 12;
        y += a;
      }
      if (m <= 2) {
        y -= 1;
        m += 12;
      }
      a = Math.floor(y / 100);
      var b = 2 - a + Math.floor(a / 4)
        , jDt = Math.floor(365.25 * (y + 4716)) + Math.floor(30.6001 * (m + 1)) + d + b - 1524;
      return jDt;
    },
    getLocalOffset: function () {
      return this._dateProxy.getTimezoneOffset();
    }
  };


  timezoneJS.timezone = new function () {
    var _this = this
      , regionMap = {'Etc':'etcetera','EST':'northamerica','MST':'northamerica','HST':'northamerica','EST5EDT':'northamerica','CST6CDT':'northamerica','MST7MDT':'northamerica','PST8PDT':'northamerica','America':'northamerica','Pacific':'australasia','Atlantic':'europe','Africa':'africa','Indian':'africa','Antarctica':'antarctica','Asia':'asia','Australia':'australasia','Europe':'europe','WET':'europe','CET':'europe','MET':'europe','EET':'europe'}
      , regionExceptions = {'Pacific/Honolulu':'northamerica','Atlantic/Bermuda':'northamerica','Atlantic/Cape_Verde':'africa','Atlantic/St_Helena':'africa','Indian/Kerguelen':'antarctica','Indian/Chagos':'asia','Indian/Maldives':'asia','Indian/Christmas':'australasia','Indian/Cocos':'australasia','America/Danmarkshavn':'europe','America/Scoresbysund':'europe','America/Godthab':'europe','America/Thule':'europe','Asia/Istanbul':'europe','Asia/Yekaterinburg':'europe','Asia/Omsk':'europe','Asia/Novosibirsk':'europe','Asia/Krasnoyarsk':'europe','Asia/Irkutsk':'europe','Asia/Yakutsk':'europe','Asia/Vladivostok':'europe','Asia/Sakhalin':'europe','Asia/Magadan':'europe','Asia/Kamchatka':'europe','Asia/Anadyr':'europe','Africa/Ceuta':'europe','America/Argentina/Buenos_Aires':'southamerica','America/Argentina/San_Luis':'southamerica','America/Argentina/Cordoba':'southamerica','America/Argentina/Tucuman':'southamerica','America/Argentina/La_Rioja':'southamerica','America/Argentina/San_Juan':'southamerica','America/Argentina/Jujuy':'southamerica','America/Argentina/Catamarca':'southamerica','America/Argentina/Mendoza':'southamerica','America/Argentina/Rio_Gallegos':'southamerica','America/Argentina/Ushuaia':'southamerica','America/Aruba':'southamerica','America/La_Paz':'southamerica','America/Noronha':'southamerica','America/Belem':'southamerica','America/Fortaleza':'southamerica','America/Recife':'southamerica','America/Araguaina':'southamerica','America/Maceio':'southamerica','America/Bahia':'southamerica','America/Sao_Paulo':'southamerica','America/Campo_Grande':'southamerica','America/Cuiaba':'southamerica','America/Porto_Velho':'southamerica','America/Boa_Vista':'southamerica','America/Manaus':'southamerica','America/Eirunepe':'southamerica','America/Rio_Branco':'southamerica','America/Santiago':'southamerica','Pacific/Easter':'southamerica','America/Bogota':'southamerica','America/Curacao':'southamerica','America/Guayaquil':'southamerica','Pacific/Galapagos':'southamerica','Atlantic/Stanley':'southamerica','America/Cayenne':'southamerica','America/Guyana':'southamerica','America/Asuncion':'southamerica','America/Lima':'southamerica','Atlantic/South_Georgia':'southamerica','America/Paramaribo':'southamerica','America/Port_of_Spain':'southamerica','America/Montevideo':'southamerica','America/Caracas':'southamerica'};
    function invalidTZError(t) { throw new Error('Timezone "' + t + '" is either incorrect, or not loaded in the timezone registry.'); }
    function builtInLoadZoneFile(fileName, opts) {
      var url = _this.zoneFileBasePath + '/' + fileName;
      return !opts || !opts.async
      ? _this.parseZones(_this.transport({ url : url, async : false }))
      : _this.transport({
        async: true,
        url : url,
        success : function (str) {
          return _this.parseZones(str) && typeof opts.callback === 'function' && opts.callback();
        },
        error : function () {
          throw new Error('Error retrieving "' + url + '" zoneinfo files');
        }
      });
    }
    function getRegionForTimezone(tz) {
      var exc = regionExceptions[tz]
        , reg
        , ret;
      if (exc) return exc;
      reg = tz.split('/')[0];
      ret = regionMap[reg];
      // If there's nothing listed in the main regions for this TZ, check the 'backward' links
      if (ret) return ret;
      var link = _this.zones[tz];
      if (typeof link === 'string') {
        return getRegionForTimezone(link);
      }
      // Backward-compat file hasn't loaded yet, try looking in there
      if (!_this.loadedZones.backward) {
        // This is for obvious legacy zones (e.g., Iceland) that don't even have a prefix like "America/" that look like normal zones
        _this.loadZoneFile('backward');
        return getRegionForTimezone(tz);
      }
      invalidTZError(tz);
    }
    //str has format hh:mm, can be negative
    function parseTimeString(str) {
      var pat = /(\d+)(?::0*(\d*))?(?::0*(\d*))?([wsugz])?$/;
      var hms = str.match(pat);
      hms[1] = parseInt(hms[1], 10);
      hms[2] = hms[2] ? parseInt(hms[2], 10) : 0;
      hms[3] = hms[3] ? parseInt(hms[3], 10) : 0;
      return hms.slice(1, 5);
    }
    //z is something like `[ '-3:44:40', '-', 'LMT', '1911', 'May', '15', '' ]` or `[ '-5:00', '-', 'EST', '1974', 'Apr', '28', '2:00' ]`
    function processZone(z) {
      if (!z[3]) { return; }
      var yea = parseInt(z[3], 10)
        , mon = 11
        , dat = 31;
      //If month is there
      if (z[4]) {
        mon = SHORT_MONTHS[z[4].substr(0, 3)];
        dat = parseInt(z[5], 10) || 1;
      }
      var t = z[6] ? parseTimeString(z[6]) : [0, 0, 0];
      return [yea, mon, dat, t[0], t[1], t[2]];
    }
    function getZone(dt, tz) {
      var utcMillis = typeof dt === 'number' ? dt : new Date(dt).getTime();
      var t = tz;
      var zoneList = _this.zones[t];
      // Follow links to get to an actual zone
      while (typeof zoneList === "string") {
        t = zoneList;
        zoneList = _this.zones[t];
      }
      if (!zoneList) {
        // Backward-compat file hasn't loaded yet, try looking in there
        if (!_this.loadedZones.backward) {
          //This is for backward entries like "America/Fort_Wayne" that
          // getRegionForTimezone *thinks* it has a region file and zone
          // for (e.g., America => 'northamerica'), but in reality it's a
          // legacy zone we need the backward file for.
          _this.loadZoneFile('backward');
          return getZone(dt, tz);
        }
        invalidTZError(t);
      }
      if (zoneList.length === 0) {
        throw new Error('No Zone found for "' + tz + '" on ' + dt);
      }
      //Do backwards lookup since most use cases deal with newer dates.
      for (var i = zoneList.length - 1; i >= 0; i--) {
        var z = zoneList[i];
        if (z[3] && utcMillis > z[3]) break;
      }
      return zoneList[i+1];
    }
    function getBasicOffset(time) {
      var off = parseTimeString(time)
        , adj = time.charAt(0) === '-' ? -1 : 1;
      off = adj * (((off[0] * 60 + off[1]) * 60 + off[2]) * 1000);
      return off/60/1000;
    }
    function getAdjustedOffset(off, min) {
      return -Math.ceil(min - off);
    }

    //if isUTC is true, date is given in UTC, otherwise it's given
    // in local time (ie. date.getUTC*() returns local time components)
    function getRule(dt, zone, isUTC) {
      var date = typeof dt === 'number' ? new Date(dt) : dt;
      var ruleset = zone[1];
      var basicOffset = zone[0];

      // If the zone has a DST rule like '1:00', create a rule and return it
      // instead of looking it up in the parsed rules
      var staticDstMatch = ruleset.match(/^([0-9]):([0-9][0-9])$/);
      if (staticDstMatch) {
        return [-1000000, 'max', '-', 'Jan', 1, [0, 0, 0], parseInt(staticDstMatch[1],10) * 60 + parseInt(staticDstMatch[2], 10), '-'];
      }

      //Convert a date to UTC. Depending on the 'type' parameter, the date
      // parameter may be:
      //
      // - `u`, `g`, `z`: already UTC (no adjustment).
      //
      // - `s`: standard time (adjust for time zone offset but not for DST)
      //
      // - `w`: wall clock time (adjust for both time zone and DST offset).
      //
      // DST adjustment is done using the rule given as third argument.
      var convertDateToUTC = function (date, type, rule) {
        var offset = 0;

        if (type === 'u' || type === 'g' || type === 'z') { // UTC
          offset = 0;
        } else if (type === 's') { // Standard Time
          offset = basicOffset;
        } else if (type === 'w' || !type) { // Wall Clock Time
          offset = getAdjustedOffset(basicOffset, rule[6]);
        } else {
          throw new Error("unknown type " + type);
        }
        offset *= 60 * 1000; // to millis

        return new Date(date.getTime() + offset);
      };

      //Step 1:  Find applicable rules for this year.
      //
      //Step 2:  Sort the rules by effective date.
      //
      //Step 3:  Check requested date to see if a rule has yet taken effect this year.  If not,
      //
      //Step 4:  Get the rules for the previous year.  If there isn't an applicable rule for last year, then
      // there probably is no current time offset since they seem to explicitly turn off the offset
      // when someone stops observing DST.
      //
      // FIXME if this is not the case and we'll walk all the way back (ugh).
      //
      //Step 5:  Sort the rules by effective date.
      //Step 6:  Apply the most recent rule before the current time.
      var convertRuleToExactDateAndTime = function (yearAndRule, prevRule) {
        var year = yearAndRule[0]
          , rule = yearAndRule[1];
          // Assume that the rule applies to the year of the given date.

        var hms = rule[5];
        var effectiveDate;

        if (!EXACT_DATE_TIME[year])
          EXACT_DATE_TIME[year] = {};

        // Result for given parameters is already stored
        if (EXACT_DATE_TIME[year][rule])
          effectiveDate = EXACT_DATE_TIME[year][rule];
        else {
          //If we have a specific date, use that!
          if (!isNaN(rule[4])) {
            effectiveDate = new Date(Date.UTC(year, SHORT_MONTHS[rule[3]], rule[4], hms[0], hms[1], hms[2], 0));
          }
          //Let's hunt for the date.
          else {
            var targetDay
              , operator;
            //Example: `lastThu`
            if (rule[4].substr(0, 4) === "last") {
              // Start at the last day of the month and work backward.
              effectiveDate = new Date(Date.UTC(year, SHORT_MONTHS[rule[3]] + 1, 1, hms[0] - 24, hms[1], hms[2], 0));
              targetDay = SHORT_DAYS[rule[4].substr(4, 3)];
              operator = "<=";
            }
            //Example: `Sun>=15`
            else {
              //Start at the specified date.
              effectiveDate = new Date(Date.UTC(year, SHORT_MONTHS[rule[3]], rule[4].substr(5), hms[0], hms[1], hms[2], 0));
              targetDay = SHORT_DAYS[rule[4].substr(0, 3)];
              operator = rule[4].substr(3, 2);
            }
            var ourDay = effectiveDate.getUTCDay();
            //Go forwards.
            if (operator === ">=") {
              effectiveDate.setUTCDate(effectiveDate.getUTCDate() + (targetDay - ourDay + ((targetDay < ourDay) ? 7 : 0)));
            }
            //Go backwards.  Looking for the last of a certain day, or operator is "<=" (less likely).
            else {
              effectiveDate.setUTCDate(effectiveDate.getUTCDate() + (targetDay - ourDay - ((targetDay > ourDay) ? 7 : 0)));
            }
          }
          EXACT_DATE_TIME[year][rule] = effectiveDate;
        }


        //If previous rule is given, correct for the fact that the starting time of the current
        // rule may be specified in local time.
        if (prevRule) {
          effectiveDate = convertDateToUTC(effectiveDate, hms[3], prevRule);
        }
        return effectiveDate;
      };

      var findApplicableRules = function (year, ruleset) {
        var applicableRules = [];
        for (var i = 0; ruleset && i < ruleset.length; i++) {
          //Exclude future rules.
          if (ruleset[i][0] <= year &&
              (
                // Date is in a set range.
                ruleset[i][1] >= year ||
                // Date is in an "only" year.
                  (ruleset[i][0] === year && ruleset[i][1] === "only") ||
                //We're in a range from the start year to infinity.
                    ruleset[i][1] === "max"
          )
             ) {
               //It's completely okay to have any number of matches here.
               // Normally we should only see two, but that doesn't preclude other numbers of matches.
               // These matches are applicable to this year.
               applicableRules.push([year, ruleset[i]]);
             }
        }
        return applicableRules;
      };

      var compareDates = function (a, b, prev) {
        var year, rule;
        if (!(a instanceof Date)) {
          year = a[0];
          rule = a[1];
          a = (!prev && EXACT_DATE_TIME[year] && EXACT_DATE_TIME[year][rule])
            ? EXACT_DATE_TIME[year][rule]
            : convertRuleToExactDateAndTime(a, prev);
        } else if (prev) {
          a = convertDateToUTC(a, isUTC ? 'u' : 'w', prev);
        }
        if (!(b instanceof Date)) {
          year = b[0];
          rule = b[1];
          b = (!prev && EXACT_DATE_TIME[year] && EXACT_DATE_TIME[year][rule]) ? EXACT_DATE_TIME[year][rule]
            : convertRuleToExactDateAndTime(b, prev);
        } else if (prev) {
          b = convertDateToUTC(b, isUTC ? 'u' : 'w', prev);
        }
        a = Number(a);
        b = Number(b);
        return a - b;
      };

      var year = date.getUTCFullYear();
      var applicableRules;

      applicableRules = findApplicableRules(year, _this.rules[ruleset]);
      applicableRules.push(date);
      //While sorting, the time zone in which the rule starting time is specified
      // is ignored. This is ok as long as the timespan between two DST changes is
      // larger than the DST offset, which is probably always true.
      // As the given date may indeed be close to a DST change, it may get sorted
      // to a wrong position (off by one), which is corrected below.
      applicableRules.sort(compareDates);

      //If there are not enough past DST rules...
      if (_arrIndexOf.call(applicableRules, date) < 2) {
        applicableRules = applicableRules.concat(findApplicableRules(year-1, _this.rules[ruleset]));
        applicableRules.sort(compareDates);
      }
      var pinpoint = _arrIndexOf.call(applicableRules, date);
      if (pinpoint > 1 && compareDates(date, applicableRules[pinpoint-1], applicableRules[pinpoint-2][1]) < 0) {
        //The previous rule does not really apply, take the one before that.
        return applicableRules[pinpoint - 2][1];
      } else if (pinpoint > 0 && pinpoint < applicableRules.length - 1 && compareDates(date, applicableRules[pinpoint+1], applicableRules[pinpoint-1][1]) > 0) {

        //The next rule does already apply, take that one.
        return applicableRules[pinpoint + 1][1];
      } else if (pinpoint === 0) {
        //No applicable rule found in this and in previous year.
        return null;
      }
      return applicableRules[pinpoint - 1][1];
    }
    function getAbbreviation(zone, rule) {
      var base = zone[2];
      if (base.indexOf('%s') > -1) {
        var repl;
        if (rule) {
          repl = rule[7] === '-' ? '' : rule[7];
        }
        //FIXME: Right now just falling back to Standard --
        // apparently ought to use the last valid rule,
        // although in practice that always ought to be Standard
        else {
          repl = 'S';
        }
        return base.replace('%s', repl);
      } else if (base.indexOf('/') > -1) {
        //Chose one of two alternative strings.
        return base.split("/", 2)[rule[6] ? 1 : 0];
      }
      return base;
    }

    this.zoneFileBasePath = null;
    this.zoneFiles = ['africa', 'antarctica', 'asia', 'australasia', 'backward', 'etcetera', 'europe', 'northamerica', 'pacificnew', 'southamerica'];
    this.loadingSchemes = {
      PRELOAD_ALL: 'preloadAll',
      LAZY_LOAD: 'lazyLoad',
      MANUAL_LOAD: 'manualLoad'
    };
    this.getRegionForTimezone = getRegionForTimezone;
    this.loadingScheme = this.loadingSchemes.LAZY_LOAD;
    this.loadedZones = {};
    this.zones = {};
    this.rules = {};

    this.init = function (o) {
      var opts = { async: true }
        , def = this.loadingScheme === this.loadingSchemes.PRELOAD_ALL
          ? this.zoneFiles
          : (this.defaultZoneFile || 'northamerica')
        , done = 0
        , callbackFn;
      //Override default with any passed-in opts
      for (var p in o) {
        opts[p] = o[p];
      }
      if (typeof def === 'string') {
        return this.loadZoneFile(def, opts);
      }
      //Wraps callback function in another one that makes
      // sure all files have been loaded.
      callbackFn = opts.callback;
      opts.callback = function () {
        done++;
        (done === def.length) && typeof callbackFn === 'function' && callbackFn();
      };
      for (var i = 0; i < def.length; i++) {
        this.loadZoneFile(def[i], opts);
      }
    };

    //Get the zone files via XHR -- if the sync flag
    // is set to true, it's being called by the lazy-loading
    // mechanism, so the result needs to be returned inline.
    this.loadZoneFile = function (fileName, opts) {
      if (typeof this.zoneFileBasePath === 'undefined') {
        throw new Error('Please define a base path to your zone file directory -- timezoneJS.timezone.zoneFileBasePath.');
      }
      //Ignore already loaded zones.
      if (this.loadedZones[fileName]) {
        return;
      }
      this.loadedZones[fileName] = true;
      return builtInLoadZoneFile(fileName, opts);
    };
    this.loadZoneJSONData = function (url, sync) {
      var processData = function (data) {
        data = eval('('+ data +')');
        for (var z in data.zones) {
          _this.zones[z] = data.zones[z];
        }
        for (var r in data.rules) {
          _this.rules[r] = data.rules[r];
        }
      };
      return sync
      ? processData(_this.transport({ url : url, async : false }))
      : _this.transport({ url : url, success : processData });
    };
    this.loadZoneDataFromObject = function (data) {
      if (!data) { return; }
      for (var z in data.zones) {
        _this.zones[z] = data.zones[z];
      }
      for (var r in data.rules) {
        _this.rules[r] = data.rules[r];
      }
    };
    this.getAllZones = function () {
      var arr = [];
      for (var z in this.zones) { arr.push(z); }
      return arr.sort();
    };
    this.parseZones = function (str) {
      var lines = str.split('\n')
        , arr = []
        , chunk = ''
        , l
        , zone = null
        , rule = null;
      for (var i = 0; i < lines.length; i++) {
        l = lines[i];
        if (l.match(/^\s/)) {
          l = "Zone " + zone + l;
        }
        l = l.split("#")[0];
        if (l.length > 3) {
          arr = l.split(/\s+/);
          chunk = arr.shift();
          //Ignore Leap.
          switch (chunk) {
            case 'Zone':
              zone = arr.shift();
              if (!_this.zones[zone]) {
                _this.zones[zone] = [];
              }
              if (arr.length < 3) break;
              //Process zone right here and replace 3rd element with the processed array.
              arr.splice(3, arr.length, processZone(arr));
              if (arr[3]) arr[3] = Date.UTC.apply(null, arr[3]);
              arr[0] = -getBasicOffset(arr[0]);
              _this.zones[zone].push(arr);
              break;
            case 'Rule':
              rule = arr.shift();
              if (!_this.rules[rule]) {
                _this.rules[rule] = [];
              }
              //Parse int FROM year and TO year
              arr[0] = parseInt(arr[0], 10);
              arr[1] = parseInt(arr[1], 10) || arr[1];
              //Parse time string AT
              arr[5] = parseTimeString(arr[5]);
              //Parse offset SAVE
              arr[6] = getBasicOffset(arr[6]);
              _this.rules[rule].push(arr);
              break;
            case 'Link':
              //No zones for these should already exist.
              if (_this.zones[arr[1]]) {
                throw new Error('Error with Link ' + arr[1] + '. Cannot create link of a preexisted zone.');
              }
              //Create the link.
              _this.zones[arr[1]] = arr[0];
              break;
          }
        }
      }
      return true;
    };
    //Expose transport mechanism and allow overwrite.
    this.transport = _transport;
    this.getTzInfo = function (dt, tz, isUTC) {
      //Lazy-load any zones not yet loaded.
      if (this.loadingScheme === this.loadingSchemes.LAZY_LOAD) {
        //Get the correct region for the zone.
        var zoneFile = getRegionForTimezone(tz);
        if (!zoneFile) {
          throw new Error('Not a valid timezone ID.');
        }
        if (!this.loadedZones[zoneFile]) {
          //Get the file and parse it -- use synchronous XHR.
          this.loadZoneFile(zoneFile);
        }
      }
      var z = getZone(dt, tz);
      var off = z[0];
      //See if the offset needs adjustment.
      var rule = getRule(dt, z, isUTC);
      if (rule) {
        off = getAdjustedOffset(off, rule[6]);
      }
      var abbr = getAbbreviation(z, rule);
      return { tzOffset: off, tzAbbr: abbr };
    };
  };
}).call(this);

},{}],15:[function(require,module,exports){
var $, ColorFactory, db_url, fullcalendar, jQuery, jquery_ui_core, jquery_ui_draggable, jquery_ui_mouse, jquery_ui_resizable, jquery_ui_widget, logger, make_fun, moment, moonshine, pouchdb, timezoneJS, zone_files;

db_url = "calendar";

logger = require('./tools.coffee').logger;

timezoneJS = require('timezone-js');

zone_files = require('./timezones.coffee');

ColorFactory = require('node-colorfactory').ColorFactory;

(function() {
  timezoneJS.timezone.zoneFileBasePath = 'tz';
  timezoneJS.timezone.transport = function(opts) {
    var url;
    url = opts.url.replace(/^\/?tz\//, '');
    if (opts.async) {
      if (typeof opts.success !== 'function') {
        return;
      }
      if (opts.error == null) {
        opts.error = logger;
      }
      return opts.success(zone_files[url]);
    } else {
      return zone_files[url];
    }
  };
  return timezoneJS.timezone.init();
})();

$ = jQuery = require('jquery-browserify');

moonshine = require('moonshine-browserify');

pouchdb = require('./pouchdb-nightly');

jquery_ui_core = require('../bower_components/jquery-ui/ui/jquery.ui.core.js');

jquery_ui_widget = require('../bower_components/jquery-ui/ui/jquery.ui.widget.js');

jquery_ui_mouse = require('../bower_components/jquery-ui/ui/jquery.ui.mouse.js');

jquery_ui_draggable = require('../bower_components/jquery-ui/ui/jquery.ui.draggable.js');

jquery_ui_resizable = require('../bower_components/jquery-ui/ui/jquery.ui.resizable.js');

moment = require('moment');

fullcalendar = require('../bower_components/fullcalendar/fullcalendar.js');

make_fun = function(f) {
  return "(" + f + ")";
};

$(document).ready(function() {
  return moonshine(function() {
    var build_style, calendar, classes_for_event, db, delta_save, drop_event, event_click, field_save, load_events, new_class, preferences, remove_event, resize_event, save_preferences, select, show_loading;
    db = new PouchDB(db_url);
    db.get('_design/calendar', function(err, doc) {
      var p;
      p = {
        _id: '_design/calendar',
        language: 'javascript',
        views: {
          locate: {
            map: make_fun(function(doc) {
              var end, start;
              if (!((doc.type != null) && doc.type === 'event')) {
                return;
              }
              if (doc.start == null) {
                return;
              }
              start = new Date(doc.start);
              emit(start.toJSON(), null);
              if (doc.end != null) {
                end = new Date(doc.end);
                while (start < end) {
                  start = new Date(start.valueOf() + 7 * 24 * 3600 * 1000);
                  emit(start.toJSON(), null);
                }
                return emit(end.toJSON(), null);
              }
            })
          }
        }
      };
      if (doc != null) {
        p._rev = doc._rev;
      }
      return db.put(p);
    });
    load_events = function(start, end, next) {
      var query;
      query = {
        startkey: moment(start).add(-1, 'week').toJSON(),
        endkey: moment(end).add(1, 'week').toJSON(),
        include_docs: true
      };
      return db.query('calendar/locate', query, function(err, response) {
        var k, row, uniq, v, _i, _len, _name, _ref;
        if (err) {
          logger(err);
          return;
        }
        uniq = {};
        _ref = response.rows;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          row = _ref[_i];
          classes_for_event(row.doc);
          if (uniq[_name = row.id] == null) {
            uniq[_name] = row.doc;
          }
        }
        next((function() {
          var _results;
          _results = [];
          for (k in uniq) {
            v = uniq[k];
            _results.push(v);
          }
          return _results;
        })());
      });
    };
    delta_save = function(event, next) {
      return db.get(event._id, function(err, doc) {
        if (err) {
          logger(err);
          return next(false);
        }
        doc.start = moment(event.start).format();
        if (event.end != null) {
          doc.end = moment(event.end).format();
        } else {
          delete doc.end;
        }
        doc.allDay = event.allDay;
        return db.put(doc, function(err, doc) {
          if (err || !doc.ok) {
            return next(false);
          } else {
            return next(true);
          }
        });
      });
    };
    field_save = function(field, event, next) {
      return db.get(event._id, function(err, doc) {
        var f, _i, _len;
        if (err) {
          logger(err);
          return next(false);
        }
        if (typeof field === 'string') {
          doc[field] = event[field];
        } else {
          for (_i = 0, _len = field.length; _i < _len; _i++) {
            f = field[_i];
            doc[f] = event[f];
          }
        }
        return db.put(doc, function(err, doc) {
          if (err || !doc.ok) {
            return next(false);
          } else {
            return next(true);
          }
        });
      });
    };
    remove_event = function(event, next) {
      event._deleted = true;
      return field_save('_deleted', event, next);
    };
    drop_event = function(event, dayDelta, minuteDelta, allDay, revert) {
      return delta_save(event, function(ok) {
        if (!ok) {
          return revert();
        }
      });
    };
    resize_event = function(event, dayDelta, minuteDelta, revert) {
      return delta_save(event, function(ok) {
        if (!ok) {
          return revert();
        }
      });
    };
    build_style = function(name, v) {
      var style;
      style = [];
      if (v.bold) {
        style.push("font-weight: bold;");
      }
      if (v.color) {
        style.push("color: " + v.color + ";");
      }
      if (v.background) {
        style.push("background-color: " + v.background + ";");
      }
      ($("style#calendar-" + name)).remove();
      ($('<style>')).prop('id', "calendar-" + name).prop('type', 'text/css').html(".calendar-" + name + " { " + (style.join('')) + " }").appendTo('head');
      return console.log("Built style for " + name);
    };
    preferences = {};
    db.get('preferences', function(err, doc) {
      var k, v, _ref, _results;
      if (doc != null) {
        preferences = doc;
      } else {
        preferences = {
          _id: 'preferences',
          classes: {}
        };
      }
      if (preferences.classes != null) {
        _ref = preferences.classes;
        _results = [];
        for (k in _ref) {
          v = _ref[k];
          _results.push(build_style(k, v));
        }
        return _results;
      }
    });
    save_preferences = function(next) {
      return db.get('preferences', function(err, doc) {
        if ((doc != null ? doc._rev : void 0) != null) {
          preferences._rev = doc._rev;
        }
        return db.put(preferences, function(err) {
          if (err != null) {
            logger(err);
            return;
          }
          return typeof next === "function" ? next() : void 0;
        });
      });
    };
    new_class = function(name) {
      if (preferences.classes[name] != null) {
        return;
      }
      preferences.classes[name] = {
        background: ColorFactory.randomHue(45, 42)
      };
      return save_preferences(function() {
        return build_style(name, preferences.classes[name]);
      });
    };
    classes_for_event = function(event) {
      var classes, _ref;
      classes = (_ref = event.title) != null ? _ref.match(/#\w+/g) : void 0;
      if (classes != null) {
        return event.className = classes.map(function(t) {
          var name;
          name = t.substr(1);
          new_class(name);
          return "calendar-" + name;
        });
      }
    };
    calendar = function() {
      var _ref;
      return (_ref = $('#calendar')).fullCalendar.apply(_ref, arguments);
    };
    event_click = function(event) {
      $(this).html('<input />');
      return $(this).find('input').val(event.title).focus().blur(function() {
        var title;
        title = $(this).val().trim();
        if (title === '') {
          return remove_event(event, function(ok) {
            if (ok) {
              return calendar('removeEvents', function(e) {
                return e._id === event._id;
              });
            }
          });
        } else {
          event.title = title;
          classes_for_event(event);
          return field_save('title', event, function(ok) {
            if (ok) {
              return calendar('updateEvent', event);
            }
          });
        }
      });
    };
    select = function(start, end, allDay) {
      var doc;
      doc = {
        type: 'event',
        start: moment(start).format(),
        allDay: allDay,
        title: ' '
      };
      if (end) {
        doc.end = moment(end).format();
      }
      return db.post(doc, function(err, response) {
        var event;
        if (err || !response.ok) {
          logger(err);
          calendar('refetchEvents');
          return;
        }
        doc._id = response.id;
        doc._rev = response.rev;
        event = doc;
        return calendar('addEventSource', [event]);
      });
    };
    show_loading = function(isLoading) {
      if (isLoading) {
        return ($('#loading')).show();
      } else {
        return ($('#loading')).hide();
      }
    };
    return this.get({
      '': function() {
        var day_click, on_change, pending_refresh, refresh, replication_status, start_replication,
          _this = this;
        day_click = function(date, allDay) {
          return calendar('gotoDate', date);
        };
        calendar({
          editable: true,
          selectable: true,
          selectHelper: true,
          eventStartEditable: true,
          eventDurationEditable: true,
          lazyFetching: true,
          ignoreTimezone: false,
          header: {
            left: 'title',
            center: 'agendaDay,agendaWeek,month',
            right: 'prevYear,prev,today,next,nextYear'
          },
          timeFormat: 'HH:mm',
          allDayText: 'All Day',
          axisFormat: 'HH:mm',
          firstHour: 6,
          firstDay: 1,
          weekNumbers: true,
          contentHeight: 450,
          defaultView: 'agendaWeek',
          firstHour: 8,
          events: load_events,
          eventDrop: drop_event,
          eventResize: resize_event,
          loading: show_loading,
          dayClick: day_click,
          eventClick: event_click,
          select: select
        });
        pending_refresh = null;
        refresh = function() {
          calendar('refetchEvents');
          return pending_refresh = null;
        };
        on_change = function() {
          replication_status('Running');
          return pending_refresh != null ? pending_refresh : pending_refresh = setTimeout(refresh, 500);
        };
        replication_status = function(t) {
          return ($('.replication-status')).text(t);
        };
        start_replication = function(url) {
          var replicate_from, replicate_to;
          if (url !== '') {
            (replicate_to = function() {
              return db.replicate.to(url, {
                continuous: true
              }, function(err) {
                replication_status('Failed, retrying in 10s...');
                return setTimeout(replicate_to, 10000);
              });
            })();
            (replicate_from = function() {
              return db.replicate.from(url, {
                continuous: true,
                onChange: on_change
              }, function(err) {
                replication_status('Failed, retrying in 10s...');
                return setTimeout(replicate_from, 10000);
              });
            })();
            return replication_status('Started');
          }
        };
        db.get('replicate', function(err, doc) {
          if ((doc != null ? doc.url : void 0) != null) {
            ($('#replicate')).find('.url').val(doc.url);
            return start_replication(doc.url);
          }
        });
        ($('#replicate')).find('.url').change(function() {
          var url;
          url = $(this).val().trim();
          return db.get('replicate', function(err, doc) {
            if (doc != null) {
              doc.url = url;
              db.put(doc);
            } else {
              doc = {
                _id: 'replicate',
                url: url
              };
              db.put(doc);
            }
            return start_replication(url);
          });
        });
        return logger('Started');
      }
    });
  });
});


},{"../bower_components/fullcalendar/fullcalendar.js":1,"../bower_components/jquery-ui/ui/jquery.ui.core.js":2,"../bower_components/jquery-ui/ui/jquery.ui.draggable.js":3,"../bower_components/jquery-ui/ui/jquery.ui.mouse.js":4,"../bower_components/jquery-ui/ui/jquery.ui.resizable.js":5,"../bower_components/jquery-ui/ui/jquery.ui.widget.js":6,"./pouchdb-nightly":16,"./timezones.coffee":17,"./tools.coffee":18,"jquery-browserify":8,"moment":9,"moonshine-browserify":10,"node-colorfactory":11,"timezone-js":14}],16:[function(require,module,exports){
var Buffer=require("__browserify_Buffer").Buffer;// pouchdb.nightly - 2013-10-05T13:53:08
//
// Edited (by removing anything that refers to "module" and "exports" so as to not confuse browserify)
// by Stphane Alnet.

(function() {
 // BEGIN Math.uuid.js

/*!
Math.uuid.js (v1.4)
http://www.broofa.com
mailto:robert@broofa.com

Copyright (c) 2010 Robert Kieffer
Dual licensed under the MIT and GPL licenses.
*/

/*
 * Generate a random uuid.
 *
 * USAGE: Math.uuid(length, radix)
 *   length - the desired number of characters
 *   radix  - the number of allowable values for each character.
 *
 * EXAMPLES:
 *   // No arguments  - returns RFC4122, version 4 ID
 *   >>> Math.uuid()
 *   "92329D39-6F5C-4520-ABFC-AAB64544E172"
 *
 *   // One argument - returns ID of the specified length
 *   >>> Math.uuid(15)     // 15 character ID (default base=62)
 *   "VcydxgltxrVZSTV"
 *
 *   // Two arguments - returns ID of the specified length, and radix. (Radix must be <= 62)
 *   >>> Math.uuid(8, 2)  // 8 character ID (base=2)
 *   "01001010"
 *   >>> Math.uuid(8, 10) // 8 character ID (base=10)
 *   "47473046"
 *   >>> Math.uuid(8, 16) // 8 character ID (base=16)
 *   "098F4D35"
 */
var uuid;

(function() {

  var CHARS = (
    '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ' +
    'abcdefghijklmnopqrstuvwxyz'
    ).split('');

  uuid = function uuid_inner(len, radix) {
    var chars = CHARS;
    var uuidInner = [];
    var i;

    radix = radix || chars.length;

    if (len) {
      // Compact form
      for (i = 0; i < len; i++) uuidInner[i] = chars[0 | Math.random()*radix];
    } else {
      // rfc4122, version 4 form
      var r;

      // rfc4122 requires these characters
      uuidInner[8] = uuidInner[13] = uuidInner[18] = uuidInner[23] = '-';
      uuidInner[14] = '4';

      // Fill in random data.  At i==19 set the high bits of clock sequence as
      // per rfc4122, sec. 4.1.5
      for (i = 0; i < 36; i++) {
        if (!uuidInner[i]) {
          r = 0 | Math.random()*16;
          uuidInner[i] = chars[(i == 19) ? (r & 0x3) | 0x8 : r];
        }
      }
    }

    return uuidInner.join('');
  };

})();

/**
*
*  MD5 (Message-Digest Algorithm)
*
*  For original source see http://www.webtoolkit.info/
*  Download: 15.02.2009 from http://www.webtoolkit.info/javascript-md5.html
*
*  Licensed under CC-BY 2.0 License
*  (http://creativecommons.org/licenses/by/2.0/uk/)
*
**/

var Crypto = {};

(function() {
  Crypto.MD5 = function(string) {

    function RotateLeft(lValue, iShiftBits) {
      return (lValue<<iShiftBits) | (lValue>>>(32-iShiftBits));
    }

    function AddUnsigned(lX,lY) {
      var lX4,lY4,lX8,lY8,lResult;
      lX8 = (lX & 0x80000000);
      lY8 = (lY & 0x80000000);
      lX4 = (lX & 0x40000000);
      lY4 = (lY & 0x40000000);
      lResult = (lX & 0x3FFFFFFF)+(lY & 0x3FFFFFFF);
      if (lX4 & lY4) {
        return (lResult ^ 0x80000000 ^ lX8 ^ lY8);
      }
      if (lX4 | lY4) {
        if (lResult & 0x40000000) {
          return (lResult ^ 0xC0000000 ^ lX8 ^ lY8);
        } else {
          return (lResult ^ 0x40000000 ^ lX8 ^ lY8);
        }
      } else {
        return (lResult ^ lX8 ^ lY8);
      }
    }

    function F(x,y,z) { return (x & y) | ((~x) & z); }
    function G(x,y,z) { return (x & z) | (y & (~z)); }
    function H(x,y,z) { return (x ^ y ^ z); }
    function I(x,y,z) { return (y ^ (x | (~z))); }

    function FF(a,b,c,d,x,s,ac) {
      a = AddUnsigned(a, AddUnsigned(AddUnsigned(F(b, c, d), x), ac));
      return AddUnsigned(RotateLeft(a, s), b);
    };

    function GG(a,b,c,d,x,s,ac) {
      a = AddUnsigned(a, AddUnsigned(AddUnsigned(G(b, c, d), x), ac));
      return AddUnsigned(RotateLeft(a, s), b);
    };

    function HH(a,b,c,d,x,s,ac) {
      a = AddUnsigned(a, AddUnsigned(AddUnsigned(H(b, c, d), x), ac));
      return AddUnsigned(RotateLeft(a, s), b);
    };

    function II(a,b,c,d,x,s,ac) {
      a = AddUnsigned(a, AddUnsigned(AddUnsigned(I(b, c, d), x), ac));
      return AddUnsigned(RotateLeft(a, s), b);
    };

    function ConvertToWordArray(string) {
      var lWordCount;
      var lMessageLength = string.length;
      var lNumberOfWords_temp1=lMessageLength + 8;
      var lNumberOfWords_temp2=(lNumberOfWords_temp1-(lNumberOfWords_temp1 % 64))/64;
      var lNumberOfWords = (lNumberOfWords_temp2+1)*16;
      var lWordArray=Array(lNumberOfWords-1);
      var lBytePosition = 0;
      var lByteCount = 0;
      while ( lByteCount < lMessageLength ) {
        lWordCount = (lByteCount-(lByteCount % 4))/4;
        lBytePosition = (lByteCount % 4)*8;
        lWordArray[lWordCount] = (lWordArray[lWordCount] | (string.charCodeAt(lByteCount)<<lBytePosition));
        lByteCount++;
      }
      lWordCount = (lByteCount-(lByteCount % 4))/4;
      lBytePosition = (lByteCount % 4)*8;
      lWordArray[lWordCount] = lWordArray[lWordCount] | (0x80<<lBytePosition);
      lWordArray[lNumberOfWords-2] = lMessageLength<<3;
      lWordArray[lNumberOfWords-1] = lMessageLength>>>29;
      return lWordArray;
    };

    function WordToHex(lValue) {
      var WordToHexValue="",WordToHexValue_temp="",lByte,lCount;
      for (lCount = 0;lCount<=3;lCount++) {
        lByte = (lValue>>>(lCount*8)) & 255;
        WordToHexValue_temp = "0" + lByte.toString(16);
        WordToHexValue = WordToHexValue + WordToHexValue_temp.substr(WordToHexValue_temp.length-2,2);
      }
      return WordToHexValue;
    };

    //**	function Utf8Encode(string) removed. Aready defined in pidcrypt_utils.js

    var x=Array();
    var k,AA,BB,CC,DD,a,b,c,d;
    var S11=7, S12=12, S13=17, S14=22;
    var S21=5, S22=9 , S23=14, S24=20;
    var S31=4, S32=11, S33=16, S34=23;
    var S41=6, S42=10, S43=15, S44=21;

    //	string = Utf8Encode(string); #function call removed

    x = ConvertToWordArray(string);

    a = 0x67452301; b = 0xEFCDAB89; c = 0x98BADCFE; d = 0x10325476;

    for (k=0;k<x.length;k+=16) {
      AA=a; BB=b; CC=c; DD=d;
      a=FF(a,b,c,d,x[k+0], S11,0xD76AA478);
      d=FF(d,a,b,c,x[k+1], S12,0xE8C7B756);
      c=FF(c,d,a,b,x[k+2], S13,0x242070DB);
      b=FF(b,c,d,a,x[k+3], S14,0xC1BDCEEE);
      a=FF(a,b,c,d,x[k+4], S11,0xF57C0FAF);
      d=FF(d,a,b,c,x[k+5], S12,0x4787C62A);
      c=FF(c,d,a,b,x[k+6], S13,0xA8304613);
      b=FF(b,c,d,a,x[k+7], S14,0xFD469501);
      a=FF(a,b,c,d,x[k+8], S11,0x698098D8);
      d=FF(d,a,b,c,x[k+9], S12,0x8B44F7AF);
      c=FF(c,d,a,b,x[k+10],S13,0xFFFF5BB1);
      b=FF(b,c,d,a,x[k+11],S14,0x895CD7BE);
      a=FF(a,b,c,d,x[k+12],S11,0x6B901122);
      d=FF(d,a,b,c,x[k+13],S12,0xFD987193);
      c=FF(c,d,a,b,x[k+14],S13,0xA679438E);
      b=FF(b,c,d,a,x[k+15],S14,0x49B40821);
      a=GG(a,b,c,d,x[k+1], S21,0xF61E2562);
      d=GG(d,a,b,c,x[k+6], S22,0xC040B340);
      c=GG(c,d,a,b,x[k+11],S23,0x265E5A51);
      b=GG(b,c,d,a,x[k+0], S24,0xE9B6C7AA);
      a=GG(a,b,c,d,x[k+5], S21,0xD62F105D);
      d=GG(d,a,b,c,x[k+10],S22,0x2441453);
      c=GG(c,d,a,b,x[k+15],S23,0xD8A1E681);
      b=GG(b,c,d,a,x[k+4], S24,0xE7D3FBC8);
      a=GG(a,b,c,d,x[k+9], S21,0x21E1CDE6);
      d=GG(d,a,b,c,x[k+14],S22,0xC33707D6);
      c=GG(c,d,a,b,x[k+3], S23,0xF4D50D87);
      b=GG(b,c,d,a,x[k+8], S24,0x455A14ED);
      a=GG(a,b,c,d,x[k+13],S21,0xA9E3E905);
      d=GG(d,a,b,c,x[k+2], S22,0xFCEFA3F8);
      c=GG(c,d,a,b,x[k+7], S23,0x676F02D9);
      b=GG(b,c,d,a,x[k+12],S24,0x8D2A4C8A);
      a=HH(a,b,c,d,x[k+5], S31,0xFFFA3942);
      d=HH(d,a,b,c,x[k+8], S32,0x8771F681);
      c=HH(c,d,a,b,x[k+11],S33,0x6D9D6122);
      b=HH(b,c,d,a,x[k+14],S34,0xFDE5380C);
      a=HH(a,b,c,d,x[k+1], S31,0xA4BEEA44);
      d=HH(d,a,b,c,x[k+4], S32,0x4BDECFA9);
      c=HH(c,d,a,b,x[k+7], S33,0xF6BB4B60);
      b=HH(b,c,d,a,x[k+10],S34,0xBEBFBC70);
      a=HH(a,b,c,d,x[k+13],S31,0x289B7EC6);
      d=HH(d,a,b,c,x[k+0], S32,0xEAA127FA);
      c=HH(c,d,a,b,x[k+3], S33,0xD4EF3085);
      b=HH(b,c,d,a,x[k+6], S34,0x4881D05);
      a=HH(a,b,c,d,x[k+9], S31,0xD9D4D039);
      d=HH(d,a,b,c,x[k+12],S32,0xE6DB99E5);
      c=HH(c,d,a,b,x[k+15],S33,0x1FA27CF8);
      b=HH(b,c,d,a,x[k+2], S34,0xC4AC5665);
      a=II(a,b,c,d,x[k+0], S41,0xF4292244);
      d=II(d,a,b,c,x[k+7], S42,0x432AFF97);
      c=II(c,d,a,b,x[k+14],S43,0xAB9423A7);
      b=II(b,c,d,a,x[k+5], S44,0xFC93A039);
      a=II(a,b,c,d,x[k+12],S41,0x655B59C3);
      d=II(d,a,b,c,x[k+3], S42,0x8F0CCC92);
      c=II(c,d,a,b,x[k+10],S43,0xFFEFF47D);
      b=II(b,c,d,a,x[k+1], S44,0x85845DD1);
      a=II(a,b,c,d,x[k+8], S41,0x6FA87E4F);
      d=II(d,a,b,c,x[k+15],S42,0xFE2CE6E0);
      c=II(c,d,a,b,x[k+6], S43,0xA3014314);
      b=II(b,c,d,a,x[k+13],S44,0x4E0811A1);
      a=II(a,b,c,d,x[k+4], S41,0xF7537E82);
      d=II(d,a,b,c,x[k+11],S42,0xBD3AF235);
      c=II(c,d,a,b,x[k+2], S43,0x2AD7D2BB);
      b=II(b,c,d,a,x[k+9], S44,0xEB86D391);
      a=AddUnsigned(a,AA);
      b=AddUnsigned(b,BB);
      c=AddUnsigned(c,CC);
      d=AddUnsigned(d,DD);
    }
    var temp = WordToHex(a)+WordToHex(b)+WordToHex(c)+WordToHex(d);
    return temp.toLowerCase();
  }
})();

//----------------------------------------------------------------------
//
// ECMAScript 5 Polyfills
//  from www.calocomrmen./polyfill/
//
//----------------------------------------------------------------------

//----------------------------------------------------------------------
// ES5 15.2 Object Objects
//----------------------------------------------------------------------



// ES 15.2.3.6 Object.defineProperty ( O, P, Attributes )
// Partial support for most common case - getters, setters, and values
(function() {
  if (!Object.defineProperty ||
      !(function () { try { Object.defineProperty({}, 'x', {}); return true; } catch (e) { return false; } } ())) {
    var orig = Object.defineProperty;
    Object.defineProperty = function (o, prop, desc) {
      "use strict";

      // In IE8 try built-in implementation for defining properties on DOM prototypes.
      if (orig) { try { return orig(o, prop, desc); } catch (e) {} }

      if (o !== Object(o)) { throw new TypeError("Object.defineProperty called on non-object"); }
      if (Object.prototype.__defineGetter__ && ('get' in desc)) {
        Object.prototype.__defineGetter__.call(o, prop, desc.get);
      }
      if (Object.prototype.__defineSetter__ && ('set' in desc)) {
        Object.prototype.__defineSetter__.call(o, prop, desc.set);
      }
      if ('value' in desc) {
        o[prop] = desc.value;
      }
      return o;
    };
  }
}());



// ES5 15.2.3.14 Object.keys ( O )
// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/keys
if (!Object.keys) {
  Object.keys = function (o) {
    if (o !== Object(o)) { throw new TypeError('Object.keys called on non-object'); }
    var ret = [], p;
    for (p in o) {
      if (Object.prototype.hasOwnProperty.call(o, p)) {
        ret.push(p);
      }
    }
    return ret;
  };
}

//----------------------------------------------------------------------
// ES5 15.4 Array Objects
//----------------------------------------------------------------------



// ES5 15.4.4.18 Array.prototype.forEach ( callbackfn [ , thisArg ] )
// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/forEach
if (!Array.prototype.forEach) {
  Array.prototype.forEach = function (fun /*, thisp */) {
    "use strict";

    if (this === void 0 || this === null) { throw new TypeError(); }

    var t = Object(this);
    var len = t.length >>> 0;
    if (typeof fun !== "function") { throw new TypeError(); }

    var thisp = arguments[1], i;
    for (i = 0; i < len; i++) {
      if (i in t) {
        fun.call(thisp, t[i], i, t);
      }
    }
  };
}


// ES5 15.4.4.19 Array.prototype.map ( callbackfn [ , thisArg ] )
// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/Map
if (!Array.prototype.map) {
  Array.prototype.map = function (fun /*, thisp */) {
    "use strict";

    if (this === void 0 || this === null) { throw new TypeError(); }

    var t = Object(this);
    var len = t.length >>> 0;
    if (typeof fun !== "function") { throw new TypeError(); }

    var res = []; res.length = len;
    var thisp = arguments[1], i;
    for (i = 0; i < len; i++) {
      if (i in t) {
        res[i] = fun.call(thisp, t[i], i, t);
      }
    }

    return res;
  };
}


// Extends method
// (taken from http://code.jquery.com/jquery-1.9.0.js)
// Populate the class2type map
var class2type = {};

var types = ["Boolean", "Number", "String", "Function", "Array", "Date", "RegExp", "Object", "Error"];
for (var i = 0; i < types.length; i++) {
  var typename = types[i];
  class2type[ "[object " + typename + "]" ] = typename.toLowerCase();
}

var core_toString = class2type.toString;
var core_hasOwn = class2type.hasOwnProperty;

var type = function(obj) {
  if (obj === null) {
    return String( obj );
  }
  return typeof obj === "object" || typeof obj === "function" ?
    class2type[core_toString.call(obj)] || "object" :
    typeof obj;
};

var isWindow = function(obj) {
  return obj !== null && obj === obj.window;
};

var isPlainObject = function( obj ) {
  // Must be an Object.
  // Because of IE, we also have to check the presence of the constructor property.
  // Make sure that DOM nodes and window objects don't pass through, as well
  if ( !obj || type(obj) !== "object" || obj.nodeType || isWindow( obj ) ) {
    return false;
  }

  try {
    // Not own constructor property must be Object
    if ( obj.constructor &&
      !core_hasOwn.call(obj, "constructor") &&
      !core_hasOwn.call(obj.constructor.prototype, "isPrototypeOf") ) {
      return false;
    }
  } catch ( e ) {
    // IE8,9 Will throw exceptions on certain host objects #9897
    return false;
  }

  // Own properties are enumerated firstly, so to speed up,
  // if last one is own, then all properties are own.

  var key;
  for ( key in obj ) {}

  return key === undefined || core_hasOwn.call( obj, key );
};

var isFunction = function(obj) {
  return type(obj) === "function";
};

var isArray = Array.isArray || function(obj) {
  return type(obj) === "array";
};

var extend = function() {
  var options, name, src, copy, copyIsArray, clone,
    target = arguments[0] || {},
    i = 1,
    length = arguments.length,
    deep = false;

  // Handle a deep copy situation
  if ( typeof target === "boolean" ) {
    deep = target;
    target = arguments[1] || {};
    // skip the boolean and the target
    i = 2;
  }

  // Handle case when target is a string or something (possible in deep copy)
  if ( typeof target !== "object" && !isFunction(target) ) {
    target = {};
  }

  // extend jQuery itself if only one argument is passed
  if ( length === i ) {
    target = this;
    --i;
  }

  for ( ; i < length; i++ ) {
    // Only deal with non-null/undefined values
    if ((options = arguments[ i ]) != null) {
      // Extend the base object
      for ( name in options ) {
        src = target[ name ];
        copy = options[ name ];

        // Prevent never-ending loop
        if ( target === copy ) {
          continue;
        }

        // Recurse if we're merging plain objects or arrays
        if ( deep && copy && ( isPlainObject(copy) || (copyIsArray = isArray(copy)) ) ) {
          if ( copyIsArray ) {
            copyIsArray = false;
            clone = src && isArray(src) ? src : [];

          } else {
            clone = src && isPlainObject(src) ? src : {};
          }

          // Never move original objects, clone them
          target[ name ] = extend( deep, clone, copy );

        // Don't bring in undefined values
        } else if ( copy !== undefined ) {
          if (!(isArray(options) && isFunction(copy))) {
            target[ name ] = copy;
          }
        }
      }
    }
  }

  // Return the modified object
  return target;
};

var request;
var extend;

var ajax = function ajax(options, callback) {

  if (typeof options === "function") {
    callback = options;
    options = {};
  }

  var call = function(fun) {
    var args = Array.prototype.slice.call(arguments, 1);
    if (typeof fun === typeof Function) {
      fun.apply(this, args);
    }
  };

  var defaultOptions = {
    method : "GET",
    headers: {},
    json: true,
    processData: true,
    timeout: 10000
  };

  options = extend(true, defaultOptions, options);

  var onSuccess = function(obj, resp, cb){
    if (!options.binary && !options.json && options.processData &&
        typeof obj !== 'string') {
      obj = JSON.stringify(obj);
    } else if (!options.binary && options.json && typeof obj === 'string') {
      try {
        obj = JSON.parse(obj);
      } catch (e) {
        // Probably a malformed JSON from server
        call(cb, e);
        return;
      }
    }
    call(cb, null, obj, resp);
  };

  var onError = function(err, cb){
    var errParsed;
    var errObj = {status: err.status};
    try {
      errParsed = JSON.parse(err.responseText);
      //would prefer not to have a try/catch clause
      errObj = extend(true, {}, errObj, errParsed);
    } catch(e) {}
    call(cb, errObj);
  };

  if (typeof window !== 'undefined' && window.XMLHttpRequest) {
    var timer, timedout = false;
    var xhr = new XMLHttpRequest();

    xhr.open(options.method, options.url);
    xhr.withCredentials = true;

    if (options.json) {
      options.headers.Accept = 'application/json';
      options.headers['Content-Type'] = options.headers['Content-Type'] ||
        'application/json';
      if (options.body && options.processData && typeof options.body !== "string") {
        options.body = JSON.stringify(options.body);
      }
    }

    if (options.binary) {
      xhr.responseType = 'arraybuffer';
    }

    function createCookie(name,value,days) {
      if (days) {
	var date = new Date();
	date.setTime(date.getTime()+(days*24*60*60*1000));
	var expires = "; expires="+date.toGMTString();
      } else {
        var expires = "";
      }
      document.cookie = name+"="+value+expires+"; path=/";
    }

    for (var key in options.headers) {
      if (key === 'Cookie') {
        var cookie = options.headers[key].split('=');
        createCookie(cookie[0], cookie[1], 10);
      } else {
        xhr.setRequestHeader(key, options.headers[key]);
      }
    }

    if (!("body" in options)) {
      options.body = null;
    }

    var abortReq = function() {
      timedout=true;
      xhr.abort();
      call(onError, xhr, callback);
    };

    xhr.onreadystatechange = function() {
      if (xhr.readyState !== 4 || timedout) {
        return;
      }
      clearTimeout(timer);
      if (xhr.status >= 200 && xhr.status < 300) {
        var data;
        if (options.binary) {
          data = new Blob([xhr.response || ''], {
            type: xhr.getResponseHeader('Content-Type')
          });
        } else {
          data = xhr.responseText;
        }
        call(onSuccess, data, xhr, callback);
      } else {
         call(onError, xhr, callback);
      }
    };

    if (options.timeout > 0) {
      timer = setTimeout(abortReq, options.timeout);
    }
    xhr.send(options.body);
    return {abort:abortReq};

  } else {

    if (options.json) {
      if (!options.binary) {
        options.headers.Accept = 'application/json';
      }
      options.headers['Content-Type'] = options.headers['Content-Type'] ||
        'application/json';
    }

    if (options.binary) {
      options.encoding = null;
      options.json = false;
    }

    if (!options.processData) {
      options.json = false;
    }

    return request(options, function(err, response, body) {
      if (err) {
        err.status = response ? response.statusCode : 400;
        return call(onError, err, callback);
      }

      var content_type = response.headers['content-type'];
      var data = (body || '');

      // CouchDB doesn't always return the right content-type for JSON data, so
      // we check for ^{ and }$ (ignoring leading/trailing whitespace)
      if (!options.binary && (options.json || !options.processData) &&
          typeof data !== 'object' &&
          (/json/.test(content_type) ||
           (/^[\s]*\{/.test(data) && /\}[\s]*$/.test(data)))) {
        data = JSON.parse(data);
      }

      if (response.statusCode >= 200 && response.statusCode < 300) {
        call(onSuccess, data, response, callback);
      }
      else {
        if (options.binary) {
          var data = JSON.parse(data.toString());
        }
        data.status = response.statusCode;
        call(callback, data);
      }
    });
  }
};

/*globals PouchAdapter: true, PouchUtils: true */

"use strict";

var PouchUtils;

var Pouch = function Pouch(name, opts, callback) {

  if (!(this instanceof Pouch)) {
    return new Pouch(name, opts, callback);
  }

  if (typeof opts === 'function' || typeof opts === 'undefined') {
    callback = opts;
    opts = {};
  }

  if (typeof name === 'object') {
    opts = name;
    name = undefined;
  }

  if (typeof callback === 'undefined') {
    callback = function() {};
  }

  var backend = Pouch.parseAdapter(opts.name || name);
  opts.originalName = name;
  opts.name = opts.name || backend.name;
  opts.adapter = opts.adapter || backend.adapter;

  if (!Pouch.adapters[opts.adapter]) {
    throw 'Adapter is missing';
  }

  if (!Pouch.adapters[opts.adapter].valid()) {
    throw 'Invalid Adapter';
  }

  var adapter = new PouchAdapter(opts, function(err, db) {
    if (err) {
      if (callback) {
        callback(err);
      }
      return;
    }

    for (var plugin in Pouch.plugins) {
      // In future these will likely need to be async to allow the plugin
      // to initialise
      var pluginObj = Pouch.plugins[plugin](db);
      for (var api in pluginObj) {
        // We let things like the http adapter use its own implementation
        // as it shares a lot of code
        if (!(api in db)) {
          db[api] = pluginObj[api];
        }
      }
    }
    db.taskqueue.ready(true);
    db.taskqueue.execute(db);
    callback(null, db);
  });
  for (var j in adapter) {
    this[j] = adapter[j];
  }
  for (var plugin in Pouch.plugins) {
    // In future these will likely need to be async to allow the plugin
    // to initialise
    var pluginObj = Pouch.plugins[plugin](this);
    for (var api in pluginObj) {
      // We let things like the http adapter use its own implementation
      // as it shares a lot of code
      if (!(api in this)) {
        this[api] = pluginObj[api];
      }
    }
  }
};

Pouch.DEBUG = false;
Pouch.openReqList = {};
Pouch.adapters = {};
Pouch.plugins = {};

Pouch.prefix = '_pouch_';

Pouch.parseAdapter = function(name) {
  var match = name.match(/([a-z\-]*):\/\/(.*)/);
  var adapter;
  if (match) {
    // the http adapter expects the fully qualified name
    name = /http(s?)/.test(match[1]) ? match[1] + '://' + match[2] : match[2];
    adapter = match[1];
    if (!Pouch.adapters[adapter].valid()) {
      throw 'Invalid adapter';
    }
    return {name: name, adapter: match[1]};
  }

  var preferredAdapters = ['idb', 'leveldb', 'websql'];
  for (var i = 0; i < preferredAdapters.length; ++i) {
    if (preferredAdapters[i] in Pouch.adapters) {
      adapter = Pouch.adapters[preferredAdapters[i]];
      var use_prefix = 'use_prefix' in adapter ? adapter.use_prefix : true;

      return {
        name: use_prefix ? Pouch.prefix + name : name,
        adapter: preferredAdapters[i]
      };
    }
  }

  throw 'No valid adapter found';
};

Pouch.destroy = function(name, opts, callback) {
  if (typeof opts === 'function' || typeof opts === 'undefined') {
    callback = opts;
    opts = {};
  }

  if (typeof name === 'object') {
    opts = name;
    name = undefined;
  }

  if (typeof callback === 'undefined') {
    callback = function() {};
  }
  var backend = Pouch.parseAdapter(opts.name || name);

  var cb = function(err, response) {
    if (err) {
      callback(err);
      return;
    }

    for (var plugin in Pouch.plugins) {
      Pouch.plugins[plugin]._delete(backend.name);
    }
    if (Pouch.DEBUG) {
      console.log(backend.name + ': Delete Database');
    }

    // call destroy method of the particular adaptor
    Pouch.adapters[backend.adapter].destroy(backend.name, opts, callback);
  };

  // remove Pouch from allDBs
  Pouch.removeFromAllDbs(backend, cb);
};

Pouch.removeFromAllDbs = function(opts, callback) {
  // Only execute function if flag is enabled
  if (!Pouch.enableAllDbs) {
    callback();
    return;
  }

  // skip http and https adaptors for allDbs
  var adapter = opts.adapter;
  if (adapter === "http" || adapter === "https") {
    callback();
    return;
  }

  // remove db from Pouch.ALL_DBS
  new Pouch(Pouch.allDBName(opts.adapter), function(err, db) {
    if (err) {
      // don't fail when allDbs fail
      console.error(err);
      callback();
      return;
    }
    // check if db has been registered in Pouch.ALL_DBS
    var dbname = Pouch.dbName(opts.adapter, opts.name);
    db.get(dbname, function(err, doc) {
      if (err) {
        callback();
      } else {
        db.remove(doc, function(err, response) {
          if (err) {
            console.error(err);
          }
          callback();
        });
      }
    });
  });

};

Pouch.adapter = function (id, obj) {
  if (obj.valid()) {
    Pouch.adapters[id] = obj;
  }
};

Pouch.plugin = function(id, obj) {
  Pouch.plugins[id] = obj;
};

// flag to toggle allDbs (off by default)
Pouch.enableAllDbs = false;

// name of database used to keep track of databases
Pouch.ALL_DBS = "_allDbs";
Pouch.dbName = function(adapter, name) {
  return [adapter, "-", name].join('');
};
Pouch.realDBName = function(adapter, name) {
  return [adapter, "://", name].join('');
};
Pouch.allDBName = function(adapter) {
  return [adapter, "://", Pouch.prefix + Pouch.ALL_DBS].join('');
};

Pouch.open = function(opts, callback) {
  // Only register pouch with allDbs if flag is enabled
  if (!Pouch.enableAllDbs) {
    callback();
    return;
  }

  var adapter = opts.adapter;
  // skip http and https adaptors for allDbs
  if (adapter === "http" || adapter === "https") {
    callback();
    return;
  }

  new Pouch(Pouch.allDBName(adapter), function(err, db) {
    if (err) {
      // don't fail when allDb registration fails
      console.error(err);
      callback();
      return;
    }

    // check if db has been registered in Pouch.ALL_DBS
    var dbname = Pouch.dbName(adapter, opts.name);
    db.get(dbname, function(err, response) {
      if (err && err.status === 404) {
        db.put({
          _id: dbname,
          dbname: opts.originalName
        }, function(err) {
            if (err) {
                console.error(err);
            }

            callback();
        });
      } else {
        callback();
      }
    });
  });
};

Pouch.allDbs = function(callback) {
  var accumulate = function(adapters, all_dbs) {
    if (adapters.length === 0) {
      // remove duplicates
      var result = [];
      all_dbs.forEach(function(doc) {
        var exists = result.some(function(db) {
          return db.id === doc.id;
        });

        if (!exists) {
          result.push(doc);
        }
      });

      // return an array of dbname
      callback(null, result.map(function(row) {
          return row.doc.dbname;
      }));
      return;
    }

    var adapter = adapters.shift();

    // skip http and https adaptors for allDbs
    if (adapter === "http" || adapter === "https") {
      accumulate(adapters, all_dbs);
      return;
    }

    new Pouch(Pouch.allDBName(adapter), function(err, db) {
      if (err) {
        callback(err);
        return;
      }
      db.allDocs({include_docs: true}, function(err, response) {
        if (err) {
          callback(err);
          return;
        }

        // append from current adapter rows
        all_dbs.unshift.apply(all_dbs, response.rows);

        // code to clear allDbs.
        // response.rows.forEach(function(row) {
        //   db.remove(row.doc, function() {
        //     console.log(arguments);
        //   });
        // });

        // recurse
        accumulate(adapters, all_dbs);
      });
    });
  };
  var adapters = Object.keys(Pouch.adapters);
  accumulate(adapters, []);
};

/*
  Examples:

  >>> Pouch.uuids()
  "92329D39-6F5C-4520-ABFC-AAB64544E172"]

  >>> Pouch.uuids(10, {length: 32, radix: 5})
  [ '04422200002240221333300140323100',
    '02304411022101001312440440020110',
    '41432430322114143303343433433030',
    '21234330022303431304443100330401',
    '23044133434242034101422131301213',
    '43142032223224403322031032232041',
    '41121132424023141101403324200330',
    '00341042023103204342124004122342',
    '01001141433040113422403034004214',
    '30221232324132303123433131020020' ]
 */
Pouch.uuids = function (count, options) {

  if (typeof(options) !== 'object') {
    options = {};
  }

  var length = options.length;
  var radix = options.radix;
  var uuids = [];

  while (uuids.push(PouchUtils.uuid(length, radix)) < count) { }

  return uuids;
};

// Give back one UUID
Pouch.uuid = function (options) {
  return Pouch.uuids(1, options)[0];
};

// Enumerate errors, add the status code so we can reflect the HTTP api
// in future
Pouch.Errors = {
  MISSING_BULK_DOCS: {
    status: 400,
    error: 'bad_request',
    reason: "Missing JSON list of 'docs'"
  },
  MISSING_DOC: {
    status: 404,
    error: 'not_found',
    reason: 'missing'
  },
  REV_CONFLICT: {
    status: 409,
    error: 'conflict',
    reason: 'Document update conflict'
  },
  INVALID_ID: {
    status: 400,
    error: 'invalid_id',
    reason: '_id field must contain a string'
  },
  MISSING_ID: {
    status: 412,
    error: 'missing_id',
    reason: '_id is required for puts'
  },
  RESERVED_ID: {
    status: 400,
    error: 'bad_request',
    reason: 'Only reserved document ids may start with underscore.'
  },
  NOT_OPEN: {
    status: 412,
    error: 'precondition_failed',
    reason: 'Database not open so cannot close'
  },
  UNKNOWN_ERROR: {
    status: 500,
    error: 'unknown_error',
    reason: 'Database encountered an unknown error'
  },
  BAD_ARG: {
    status: 500,
    error: 'badarg',
    reason: 'Some query argument is invalid'
  },
  INVALID_REQUEST: {
    status: 400,
    error: 'invalid_request',
    reason: 'Request was invalid'
  },
  QUERY_PARSE_ERROR: {
    status: 400,
    error: 'query_parse_error',
    reason: 'Some query parameter is invalid'
  },
  DOC_VALIDATION: {
    status: 500,
    error: 'doc_validation',
    reason: 'Bad special document member'
  },
  BAD_REQUEST: {
    status: 400,
    error: 'bad_request',
    reason: 'Something wrong with the request'
  },
  NOT_AN_OBJECT: {
    status: 400,
    error: 'bad_request',
    reason: 'Document must be a JSON object'
  }
};

Pouch.error = function(error, reason) {
  return PouchUtils.extend({}, error, {reason: reason});
};

  window.Pouch = Pouch;
  window.PouchDB = Pouch;

'use strict';

var pouchCollate = function(a, b) {
  var ai = collationIndex(a);
  var bi = collationIndex(b);
  if ((ai - bi) !== 0) {
    return ai - bi;
  }
  if (a === null) {
    return 0;
  }
  if (typeof a === 'number') {
    return a - b;
  }
  if (typeof a === 'boolean') {
    return a < b ? -1 : 1;
  }
  if (typeof a === 'string') {
    return stringCollate(a, b);
  }
  if (Array.isArray(a)) {
    return arrayCollate(a, b);
  }
  if (typeof a === 'object') {
    return objectCollate(a, b);
  }
};

var stringCollate = function(a, b) {
  // See: https://github.com/daleharvey/pouchdb/issues/40
  // This is incompatible with the CouchDB implementation, but its the
  // best we can do for now
  return (a === b) ? 0 : ((a > b) ? 1 : -1);
};

var objectCollate = function(a, b) {
  var ak = Object.keys(a), bk = Object.keys(b);
  var len = Math.min(ak.length, bk.length);
  for (var i = 0; i < len; i++) {
    // First sort the keys
    var sort = pouchCollate(ak[i], bk[i]);
    if (sort !== 0) {
      return sort;
    }
    // if the keys are equal sort the values
    sort = pouchCollate(a[ak[i]], b[bk[i]]);
    if (sort !== 0) {
      return sort;
    }

  }
  return (ak.length === bk.length) ? 0 :
    (ak.length > bk.length) ? 1 : -1;
};

var arrayCollate = function(a, b) {
  var len = Math.min(a.length, b.length);
  for (var i = 0; i < len; i++) {
    var sort = pouchCollate(a[i], b[i]);
    if (sort !== 0) {
      return sort;
    }
  }
  return (a.length === b.length) ? 0 :
    (a.length > b.length) ? 1 : -1;
};

// The collation is defined by erlangs ordered terms
// the atoms null, true, false come first, then numbers, strings,
// arrays, then objects
var collationIndex = function(x) {
  var id = ['boolean', 'number', 'string', 'object'];
  if (id.indexOf(typeof x) !== -1) {
    if (x === null) {
      return 1;
    }
    return id.indexOf(typeof x) + 2;
  }
  if (Array.isArray(x)) {
    return 4.5;
  }
};

// a few hacks to get things in the right place for node.js
'use strict';

var extend;

// for a better overview of what this is doing, read:
// https://github.com/apache/couchdb/blob/master/src/couchdb/couch_key_tree.erl
//
// But for a quick intro, CouchDB uses a revision tree to store a documents
// history, A -> B -> C, when a document has conflicts, that is a branch in the
// tree, A -> (B1 | B2 -> C), We store these as a nested array in the format
//
// KeyTree = [Path ... ]
// Path = {pos: position_from_root, ids: Tree}
// Tree = [Key, Opts, [Tree, ...]], in particular single node: [Key, []]

// Turn a path as a flat array into a tree with a single branch
function pathToTree(path) {
  var doc = path.shift();
  var root = [doc.id, doc.opts, []];
  var leaf = root;
  var nleaf;

  while (path.length) {
    doc = path.shift();
    nleaf = [doc.id, doc.opts, []];
    leaf[2].push(nleaf);
    leaf = nleaf;
  }
  return root;
}

// Merge two trees together
// The roots of tree1 and tree2 must be the same revision
function mergeTree(in_tree1, in_tree2) {
  var queue = [{tree1: in_tree1, tree2: in_tree2}];
  var conflicts = false;
  while (queue.length > 0) {
    var item = queue.pop();
    var tree1 = item.tree1;
    var tree2 = item.tree2;

    if (tree1[1].status || tree2[1].status) {
      tree1[1].status = (tree1[1].status ===  'available' ||
                         tree2[1].status === 'available') ? 'available' : 'missing';
    }

    for (var i = 0; i < tree2[2].length; i++) {
      if (!tree1[2][0]) {
        conflicts = 'new_leaf';
        tree1[2][0] = tree2[2][i];
        continue;
      }

      var merged = false;
      for (var j = 0; j < tree1[2].length; j++) {
        if (tree1[2][j][0] === tree2[2][i][0]) {
          queue.push({tree1: tree1[2][j], tree2: tree2[2][i]});
          merged = true;
        }
      }
      if (!merged) {
        conflicts = 'new_branch';
        tree1[2].push(tree2[2][i]);
        tree1[2].sort();
      }
    }
  }
  return {conflicts: conflicts, tree: in_tree1};
}

function doMerge(tree, path, dontExpand) {
  var restree = [];
  var conflicts = false;
  var merged = false;
  var res, branch;

  if (!tree.length) {
    return {tree: [path], conflicts: 'new_leaf'};
  }

  tree.forEach(function(branch) {
    if (branch.pos === path.pos && branch.ids[0] === path.ids[0]) {
      // Paths start at the same position and have the same root, so they need
      // merged
      res = mergeTree(branch.ids, path.ids);
      restree.push({pos: branch.pos, ids: res.tree});
      conflicts = conflicts || res.conflicts;
      merged = true;
    } else if (dontExpand !== true) {
      // The paths start at a different position, take the earliest path and
      // traverse up until it as at the same point from root as the path we want to
      // merge.  If the keys match we return the longer path with the other merged
      // After stemming we dont want to expand the trees

      var t1 = branch.pos < path.pos ? branch : path;
      var t2 = branch.pos < path.pos ? path : branch;
      var diff = t2.pos - t1.pos;

      var candidateParents = [];

      var trees = [];
      trees.push({ids: t1.ids, diff: diff, parent: null, parentIdx: null});
      while (trees.length > 0) {
        var item = trees.pop();
        if (item.diff === 0) {
          if (item.ids[0] === t2.ids[0]) {
            candidateParents.push(item);
          }
          continue;
        }
        if (!item.ids) {
          continue;
        }
        /*jshint loopfunc:true */
        item.ids[2].forEach(function(el, idx) {
          trees.push({ids: el, diff: item.diff-1, parent: item.ids, parentIdx: idx});
        });
      }

      var el = candidateParents[0];

      if (!el) {
        restree.push(branch);
      } else {
        res = mergeTree(el.ids, t2.ids);
        el.parent[2][el.parentIdx] = res.tree;
        restree.push({pos: t1.pos, ids: t1.ids});
        conflicts = conflicts || res.conflicts;
        merged = true;
      }
    } else {
      restree.push(branch);
    }
  });

  // We didnt find
  if (!merged) {
    restree.push(path);
  }

  restree.sort(function(a, b) {
    return a.pos - b.pos;
  });

  return {
    tree: restree,
    conflicts: conflicts || 'internal_node'
  };
}

// To ensure we dont grow the revision tree infinitely, we stem old revisions
function stem(tree, depth) {
  // First we break out the tree into a complete list of root to leaf paths,
  // we cut off the start of the path and generate a new set of flat trees
  var stemmedPaths = PouchMerge.rootToLeaf(tree).map(function(path) {
    var stemmed = path.ids.slice(-depth);
    return {
      pos: path.pos + (path.ids.length - stemmed.length),
      ids: pathToTree(stemmed)
    };
  });
  // Then we remerge all those flat trees together, ensuring that we dont
  // connect trees that would go beyond the depth limit
  return stemmedPaths.reduce(function(prev, current, i, arr) {
    return doMerge(prev, current, true).tree;
  }, [stemmedPaths.shift()]);
}

var PouchMerge = {};

PouchMerge.merge = function(tree, path, depth) {
  // Ugh, nicer way to not modify arguments in place?
  tree = extend(true, [], tree);
  path = extend(true, {}, path);
  var newTree = doMerge(tree, path);
  return {
    tree: stem(newTree.tree, depth),
    conflicts: newTree.conflicts
  };
};

// We fetch all leafs of the revision tree, and sort them based on tree length
// and whether they were deleted, undeleted documents with the longest revision
// tree (most edits) win
// The final sort algorithm is slightly documented in a sidebar here:
// http://guide.couchdb.org/draft/conflicts.html
PouchMerge.winningRev = function(metadata) {
  var leafs = [];
  PouchMerge.traverseRevTree(metadata.rev_tree,
                              function(isLeaf, pos, id, something, opts) {
    if (isLeaf) {
      leafs.push({pos: pos, id: id, deleted: !!opts.deleted});
    }
  });
  leafs.sort(function(a, b) {
    if (a.deleted !== b.deleted) {
      return a.deleted > b.deleted ? 1 : -1;
    }
    if (a.pos !== b.pos) {
      return b.pos - a.pos;
    }
    return a.id < b.id ? 1 : -1;
  });

  return leafs[0].pos + '-' + leafs[0].id;
};

// Pretty much all below can be combined into a higher order function to
// traverse revisions
// The return value from the callback will be passed as context to all
// children of that node
PouchMerge.traverseRevTree = function(revs, callback) {
  var toVisit = [];

  revs.forEach(function(tree) {
    toVisit.push({pos: tree.pos, ids: tree.ids});
  });
  while (toVisit.length > 0) {
    var node = toVisit.pop();
    var pos = node.pos;
    var tree = node.ids;
    var newCtx = callback(tree[2].length === 0, pos, tree[0], node.ctx, tree[1]);
    /*jshint loopfunc: true */
    tree[2].forEach(function(branch) {
      toVisit.push({pos: pos+1, ids: branch, ctx: newCtx});
    });
  }
};

PouchMerge.collectLeaves = function(revs) {
  var leaves = [];
  PouchMerge.traverseRevTree(revs, function(isLeaf, pos, id, acc, opts) {
    if (isLeaf) {
      leaves.unshift({rev: pos + "-" + id, pos: pos, opts: opts});
    }
  });
  leaves.sort(function(a, b) {
    return b.pos - a.pos;
  });
  leaves.map(function(leaf) { delete leaf.pos; });
  return leaves;
};

// returns revs of all conflicts that is leaves such that
// 1. are not deleted and
// 2. are different than winning revision
PouchMerge.collectConflicts = function(metadata) {
  var win = PouchMerge.winningRev(metadata);
  var leaves = PouchMerge.collectLeaves(metadata.rev_tree);
  var conflicts = [];
  leaves.forEach(function(leaf) {
    if (leaf.rev !== win && !leaf.opts.deleted) {
      conflicts.push(leaf.rev);
    }
  });
  return conflicts;
};

PouchMerge.rootToLeaf = function(tree) {
  var paths = [];
  PouchMerge.traverseRevTree(tree, function(isLeaf, pos, id, history, opts) {
    history = history ? history.slice(0) : [];
    history.push({id: id, opts: opts});
    if (isLeaf) {
      var rootPos = pos + 1 - history.length;
      paths.unshift({pos: rootPos, ids: history});
    }
    return history;
  });
  return paths;
};

/*globals PouchUtils: true */

'use strict';

var PouchUtils;

// We create a basic promise so the caller can cancel the replication possibly
// before we have actually started listening to changes etc
var Promise = function() {
  this.cancelled = false;
  this.cancel = function() {
    this.cancelled = true;
  };
};

// The RequestManager ensures that only one database request is active at
// at time, it ensures we dont max out simultaneous HTTP requests and makes
// the replication process easier to reason about
var RequestManager = function() {

  var queue = [];
  var api = {};
  var processing = false;

  // Add a new request to the queue, if we arent currently processing anything
  // then process it immediately
  api.enqueue = function(fun, args) {
    queue.push({fun: fun, args: args});
    if (!processing) {
      api.process();
    }
  };

  // Process the next request
  api.process = function() {
    if (processing || !queue.length) {
      return;
    }
    processing = true;
    var task = queue.shift();
    task.fun.apply(null, task.args);
  };

  // We need to be notified whenever a request is complete to process
  // the next request
  api.notifyRequestComplete = function() {
    processing = false;
    api.process();
  };

  return api;
};

// TODO: check CouchDB's replication id generation, generate a unique id particular
// to this replication
var genReplicationId = function(src, target, opts) {
  var filterFun = opts.filter ? opts.filter.toString() : '';
  return '_local/' + PouchUtils.Crypto.MD5(src.id() + target.id() + filterFun);
};

// A checkpoint lets us restart replications from when they were last cancelled
var fetchCheckpoint = function(src, target, id, callback) {
  target.get(id, function(err, targetDoc) {
    if (err && err.status === 404) {
      callback(null, 0);
    } else {
      src.get(id, function(err, sourceDoc) {
        if (err && err.status === 404 || targetDoc.last_seq !== sourceDoc.last_seq) {
          callback(null, 0);
        } else {
          callback(null, sourceDoc.last_seq);
        }
      });
    }
  });
};

var writeCheckpoint = function(src, target, id, checkpoint, callback) {
  var check = {
    _id: id,
    last_seq: checkpoint
  };
  target.put(check, function(err, doc) {
    src.put(check, function(err, doc) {
      callback();
    });
  });
};

function replicate(src, target, opts, promise) {

  var requests = new RequestManager();
  var writeQueue = [];
  var repId = genReplicationId(src, target, opts);
  var results = [];
  var completed = false;
  var pendingRevs = 0;
  var last_seq = 0;
  var continuous = opts.continuous || false;
  var doc_ids = opts.doc_ids;
  var result = {
    ok: true,
    start_time: new Date(),
    docs_read: 0,
    docs_written: 0
  };

  function docsWritten(err, res, len) {
    if (opts.onChange) {
      for (var i = 0; i < len; i++) {
        /*jshint validthis:true */
        opts.onChange.apply(this, [result]);
      }
    }
    pendingRevs -= len;
    result.docs_written += len;

    writeCheckpoint(src, target, repId, last_seq, function(err, res) {
      requests.notifyRequestComplete();
      isCompleted();
    });
  }

  function writeDocs() {
    if (!writeQueue.length) {
      return requests.notifyRequestComplete();
    }
    var len = writeQueue.length;
    target.bulkDocs({docs: writeQueue}, {new_edits: false}, function(err, res) {
      docsWritten(err, res, len);
    });
    writeQueue = [];
  }

  function eachRev(id, rev) {
    src.get(id, {revs: true, rev: rev, attachments: true}, function(err, doc) {
      result.docs_read++;
      requests.notifyRequestComplete();
      writeQueue.push(doc);
      requests.enqueue(writeDocs);
    });
  }

  function onRevsDiff(diffCounts) {
    return function (err, diffs) {
      requests.notifyRequestComplete();
      if (err) {
        if (continuous) {
          promise.cancel();
        }
        PouchUtils.call(opts.complete, err, null);
        return;
      }

      // We already have all diffs passed in `diffCounts`
      if (Object.keys(diffs).length === 0) {
        for (var docid in diffCounts) {
          pendingRevs -= diffCounts[docid];
        }
        isCompleted();
        return;
      }

      var _enqueuer = function (rev) {
        requests.enqueue(eachRev, [id, rev]);
      };

      for (var id in diffs) {
        var diffsAlreadyHere = diffCounts[id] - diffs[id].missing.length;
        pendingRevs -= diffsAlreadyHere;
        diffs[id].missing.forEach(_enqueuer);
      }
    };
  }

  function fetchRevsDiff(diff, diffCounts) {
    target.revsDiff(diff, onRevsDiff(diffCounts));
  }

  function onChange(change) {
    last_seq = change.seq;
    results.push(change);
    var diff = {};
    diff[change.id] = change.changes.map(function(x) { return x.rev; });
    var counts = {};
    counts[change.id] = change.changes.length;
    pendingRevs += change.changes.length;
    requests.enqueue(fetchRevsDiff, [diff, counts]);
  }

  function complete() {
    completed = true;
    isCompleted();
  }

  function isCompleted() {
    if (completed && pendingRevs === 0) {
      result.end_time = new Date();
      PouchUtils.call(opts.complete, null, result);
    }
  }

  fetchCheckpoint(src, target, repId, function(err, checkpoint) {

    if (err) {
      return PouchUtils.call(opts.complete, err);
    }

    last_seq = checkpoint;

    // Was the replication cancelled by the caller before it had a chance
    // to start. Shouldnt we be calling complete?
    if (promise.cancelled) {
      return;
    }

    var repOpts = {
      continuous: continuous,
      since: last_seq,
      style: 'all_docs',
      onChange: onChange,
      complete: complete,
      doc_ids: doc_ids
    };

    if (opts.filter) {
      repOpts.filter = opts.filter;
    }

    if (opts.query_params) {
      repOpts.query_params = opts.query_params;
    }

    var changes = src.changes(repOpts);

    if (opts.continuous) {
      promise.cancel = changes.cancel;
    }
  });

}

function toPouch(db, callback) {
  if (typeof db === 'string') {
    return new Pouch(db, callback);
  }
  callback(null, db);
}

Pouch.replicate = function(src, target, opts, callback) {
  if (opts instanceof Function) {
    callback = opts;
    opts = {};
  }
  if (opts === undefined) {
    opts = {};
  }
  if (!opts.complete) {
    opts.complete = callback;
  }
  var replicateRet = new Promise();
  toPouch(src, function(err, src) {
    if (err) {
      return PouchUtils.call(callback, err);
    }
    toPouch(target, function(err, target) {
      if (err) {
        return PouchUtils.call(callback, err);
      }
      replicate(src, target, opts, replicateRet);
    });
  });
  return replicateRet;
};

/*jshint strict: false */
/*global Buffer: true, escape: true, module, window, Crypto */
/*global chrome, extend, ajax, btoa, atob, uuid, require, PouchMerge: true */

var PouchUtils = {};

  PouchUtils.Crypto = Crypto;
  PouchUtils.extend = extend;
  PouchUtils.ajax = ajax;
  PouchUtils.uuid = uuid;

// List of top level reserved words for doc
var reservedWords = [
  '_id',
  '_rev',
  '_attachments',
  '_deleted',
  '_revisions',
  '_revs_info',
  '_conflicts',
  '_deleted_conflicts',
  '_local_seq',
  '_rev_tree'
];

// Determine id an ID is valid
//   - invalid IDs begin with an underescore that does not begin '_design' or '_local'
//   - any other string value is a valid id
var isValidId = function(id) {
  if (/^_/.test(id)) {
    return (/^_(design|local)/).test(id);
  }
  return true;
};

var isChromeApp = function(){
  return (typeof chrome !== "undefined" &&
          typeof chrome.storage !== "undefined" &&
          typeof chrome.storage.local !== "undefined");
};

// Pretty dumb name for a function, just wraps callback calls so we dont
// to if (callback) callback() everywhere
PouchUtils.call = function(fun) {
  if (typeof fun === typeof Function) {
    var args = Array.prototype.slice.call(arguments, 1);
    fun.apply(this, args);
  }
};

PouchUtils.isLocalId = function(id) {
  return (/^_local/).test(id);
};

// check if a specific revision of a doc has been deleted
//  - metadata: the metadata object from the doc store
//  - rev: (optional) the revision to check. defaults to winning revision
PouchUtils.isDeleted = function(metadata, rev) {
  if (!rev) {
    rev = PouchMerge.winningRev(metadata);
  }
  if (rev.indexOf('-') >= 0) {
    rev = rev.split('-')[1];
  }
  var deleted = false;
  PouchMerge.traverseRevTree(metadata.rev_tree, function(isLeaf, pos, id, acc, opts) {
    if (id === rev) {
      deleted = !!opts.deleted;
    }
  });

  return deleted;
};

PouchUtils.filterChange = function(opts) {
  return function(change) {
    var req = {};
    var hasFilter = opts.filter && typeof opts.filter === 'function';

    req.query = opts.query_params;
    if (opts.filter && hasFilter && !opts.filter.call(this, change.doc, req)) {
      return false;
    }
    if (opts.doc_ids && opts.doc_ids.indexOf(change.id) === -1) {
      return false;
    }
    if (!opts.include_docs) {
      delete change.doc;
    } else {
      for (var att in change.doc._attachments) {
        change.doc._attachments[att].stub = true;
      }
    }
    return true;
  };
};

PouchUtils.processChanges = function(opts, changes, last_seq) {
  // TODO: we should try to filter and limit as soon as possible
  changes = changes.filter(PouchUtils.filterChange(opts));
  if (opts.limit) {
    if (opts.limit < changes.length) {
      changes.length = opts.limit;
    }
  }
  changes.forEach(function(change){
    PouchUtils.call(opts.onChange, change);
  });
  PouchUtils.call(opts.complete, null, {results: changes, last_seq: last_seq});
};

// Preprocess documents, parse their revisions, assign an id and a
// revision for new writes that are missing them, etc
PouchUtils.parseDoc = function(doc, newEdits) {
  var error = null;
  var nRevNum;
  var newRevId;
  var revInfo;
  var opts = {status: 'available'};
  if (doc._deleted) {
    opts.deleted = true;
  }

  if (newEdits) {
    if (!doc._id) {
      doc._id = Pouch.uuid();
    }
    newRevId = Pouch.uuid({length: 32, radix: 16}).toLowerCase();
    if (doc._rev) {
      revInfo = /^(\d+)-(.+)$/.exec(doc._rev);
      if (!revInfo) {
        throw "invalid value for property '_rev'";
      }
      doc._rev_tree = [{
        pos: parseInt(revInfo[1], 10),
        ids: [revInfo[2], {status: 'missing'}, [[newRevId, opts, []]]]
      }];
      nRevNum = parseInt(revInfo[1], 10) + 1;
    } else {
      doc._rev_tree = [{
        pos: 1,
        ids : [newRevId, opts, []]
      }];
      nRevNum = 1;
    }
  } else {
    if (doc._revisions) {
      doc._rev_tree = [{
        pos: doc._revisions.start - doc._revisions.ids.length + 1,
        ids: doc._revisions.ids.reduce(function(acc, x) {
          if (acc === null) {
            return [x, opts, []];
          } else {
            return [x, {status: 'missing'}, [acc]];
          }
        }, null)
      }];
      nRevNum = doc._revisions.start;
      newRevId = doc._revisions.ids[0];
    }
    if (!doc._rev_tree) {
      revInfo = /^(\d+)-(.+)$/.exec(doc._rev);
      if (!revInfo) {
        return Pouch.Errors.BAD_ARG;
      }
      nRevNum = parseInt(revInfo[1], 10);
      newRevId = revInfo[2];
      doc._rev_tree = [{
        pos: parseInt(revInfo[1], 10),
        ids: [revInfo[2], opts, []]
      }];
    }
  }

  if (typeof doc._id !== 'string') {
    error = Pouch.Errors.INVALID_ID;
  }
  else if (!isValidId(doc._id)) {
    error = Pouch.Errors.RESERVED_ID;
  }

  for (var key in doc) {
    if (doc.hasOwnProperty(key) && key[0] === '_' && reservedWords.indexOf(key) === -1) {
      error = PouchUtils.extend({}, Pouch.Errors.DOC_VALIDATION);
      error.reason += ': ' + key;
    }
  }

  doc._id = decodeURIComponent(doc._id);
  doc._rev = [nRevNum, newRevId].join('-');

  if (error) {
    return error;
  }

  return Object.keys(doc).reduce(function(acc, key) {
    if (/^_/.test(key) && key !== '_attachments') {
      acc.metadata[key.slice(1)] = doc[key];
    } else {
      acc.data[key] = doc[key];
    }
    return acc;
  }, {metadata : {}, data : {}});
};

PouchUtils.isCordova = function(){
  return (typeof cordova !== "undefined" ||
          typeof PhoneGap !== "undefined" ||
          typeof phonegap !== "undefined");
};

PouchUtils.Changes = function() {

  var api = {};
  var listeners = {};

  if (isChromeApp()){
    chrome.storage.onChanged.addListener(function(e){
      // make sure it's event addressed to us
      if (e.db_name != null) {
        api.notify(e.db_name.newValue);//object only has oldValue, newValue members
      }
    });
  } else if (typeof window !== 'undefined') {
    window.addEventListener("storage", function(e) {
      api.notify(e.key);
    });
  }

  api.addListener = function(db_name, id, db, opts) {
    if (!listeners[db_name]) {
      listeners[db_name] = {};
    }
    listeners[db_name][id] = {
      db: db,
      opts: opts
    };
  };

  api.removeListener = function(db_name, id) {
    delete listeners[db_name][id];
  };

  api.clearListeners = function(db_name) {
    delete listeners[db_name];
  };

  api.notifyLocalWindows = function(db_name){
    //do a useless change on a storage thing
    //in order to get other windows's listeners to activate
    if (!isChromeApp()){
      localStorage[db_name] = (localStorage[db_name] === "a") ? "b" : "a";
    } else {
      chrome.storage.local.set({db_name: db_name});
    }
  };

  api.notify = function(db_name) {
    if (!listeners[db_name]) { return; }

    Object.keys(listeners[db_name]).forEach(function (i) {
      var opts = listeners[db_name][i].opts;
      listeners[db_name][i].db.changes({
        include_docs: opts.include_docs,
        conflicts: opts.conflicts,
        continuous: false,
        descending: false,
        filter: opts.filter,
        since: opts.since,
        query_params: opts.query_params,
        onChange: function(c) {
          if (c.seq > opts.since && !opts.cancelled) {
            opts.since = c.seq;
            PouchUtils.call(opts.onChange, c);
          }
        }
      });
    });
  };

  return api;
};

if (typeof window === 'undefined' || !('atob' in window)) {
  PouchUtils.atob = function(str) {
    var base64 = new Buffer(str, 'base64');
    // Node.js will just skip the characters it can't encode instead of
    // throwing and exception
    if (base64.toString('base64') !== str) {
      throw("Cannot base64 encode full string");
    }
    return base64.toString('binary');
  };
} else {
  PouchUtils.atob = atob.bind(null);
}

if (typeof window === 'undefined' || !('btoa' in window)) {
  PouchUtils.btoa = function(str) {
    return new Buffer(str, 'binary').toString('base64');
  };
} else {
  PouchUtils.btoa = btoa.bind(null);
}

/*globals Pouch: true, cordova, PouchUtils: true, PouchMerge */

"use strict";

var PouchAdapter;
var PouchUtils;

var call = PouchUtils.call;

/*
 * A generic pouch adapter
 */

// returns first element of arr satisfying callback predicate
function arrayFirst(arr, callback) {
  for (var i = 0; i < arr.length; i++) {
    if (callback(arr[i], i) === true) {
      return arr[i];
    }
  }
  return false;
}

// Wrapper for functions that call the bulkdocs api with a single doc,
// if the first result is an error, return an error
function yankError(callback) {
  return function(err, results) {
    if (err || results[0].error) {
      call(callback, err || results[0]);
    } else {
      call(callback, null, results[0]);
    }
  };
}

// for every node in a revision tree computes its distance from the closest
// leaf
function computeHeight(revs) {
  var height = {};
  var edges = [];
  PouchMerge.traverseRevTree(revs, function(isLeaf, pos, id, prnt) {
    var rev = pos + "-" + id;
    if (isLeaf) {
      height[rev] = 0;
    }
    if (prnt !== undefined) {
      edges.push({from: prnt, to: rev});
    }
    return rev;
  });

  edges.reverse();
  edges.forEach(function(edge) {
    if (height[edge.from] === undefined) {
      height[edge.from] = 1 + height[edge.to];
    } else {
      height[edge.from] = Math.min(height[edge.from], 1 + height[edge.to]);
    }
  });
  return height;
}

PouchAdapter = function(opts, callback) {

  var api = {};

  var customApi = Pouch.adapters[opts.adapter](opts, function(err, db) {
    if (err) {
      if (callback) {
        callback(err);
      }
      return;
    }

    for (var j in api) {
      if (!db.hasOwnProperty(j)) {
        db[j] = api[j];
      }
    }

    // Don't call Pouch.open for ALL_DBS
    // Pouch.open saves the db's name into ALL_DBS
    if (opts.name === Pouch.prefix + Pouch.ALL_DBS) {
      callback(err, db);
    } else {
      Pouch.open(opts, function(err) {
        callback(err, db);
      });
    }
  });

  var auto_compaction = (opts.auto_compaction === true);

  // wraps a callback with a function that runs compaction after each edit
  var autoCompact = function(callback) {
    if (!auto_compaction) {
      return callback;
    }
    return function(err, res) {
      if (err) {
        call(callback, err);
      } else {
        var count = res.length;
        var decCount = function() {
          count--;
          if (!count) {
            call(callback, null, res);
          }
        };
        res.forEach(function(doc) {
          if (doc.ok) {
            // TODO: we need better error handling
            compactDocument(doc.id, 1, decCount);
          } else {
            decCount();
          }
        });
      }
    };
  };

  api.post = function (doc, opts, callback) {
    if (typeof opts === 'function') {
      callback = opts;
      opts = {};
    }
    if (typeof doc !== 'object' || Array.isArray(doc)) {
      return call(callback, Pouch.Errors.NOT_AN_OBJECT);
    }
    return customApi.bulkDocs({docs: [doc]}, opts,
        autoCompact(yankError(callback)));
  };

  api.put = function(doc, opts, callback) {
    if (typeof opts === 'function') {
      callback = opts;
      opts = {};
    }
    if (typeof doc !== 'object') {
      return call(callback, Pouch.Errors.NOT_AN_OBJECT);
    }
    if (!('_id' in doc)) {
      return call(callback, Pouch.Errors.MISSING_ID);
    }
    return customApi.bulkDocs({docs: [doc]}, opts,
        autoCompact(yankError(callback)));
  };

  api.putAttachment = function (docId, attachmentId, rev, blob, type, callback) {
    if (!api.taskqueue.ready()) {
      api.taskqueue.addTask('putAttachment', arguments);
      return;
    }
    if (typeof type === 'function') {
      callback = type;
      type = blob;
      blob = rev;
      rev = null;
    }
    if (typeof type === 'undefined') {
      type = blob;
      blob = rev;
      rev = null;
    }

    function createAttachment(doc) {
      doc._attachments = doc._attachments || {};
      doc._attachments[attachmentId] = {
        content_type: type,
        data: blob
      };
      api.put(doc, callback);
    }

    api.get(docId, function(err, doc) {
      // create new doc
      if (err && err.error === Pouch.Errors.MISSING_DOC.error) {
        createAttachment({_id: docId});
        return;
      }
      if (err) {
        call(callback, err);
        return;
      }

      if (doc._rev !== rev) {
        call(callback, Pouch.Errors.REV_CONFLICT);
        return;
      }

      createAttachment(doc);
    });
  };

  api.removeAttachment = function (docId, attachmentId, rev, callback) {
    api.get(docId, function(err, obj) {
      if (err) {
        call(callback, err);
        return;
      }
      if (obj._rev !== rev) {
        call(callback, Pouch.Errors.REV_CONFLICT);
        return;
      }
      if (!obj._attachments) {
        return call(callback, null);
      }
      delete obj._attachments[attachmentId];
      if (Object.keys(obj._attachments).length === 0){
        delete obj._attachments;
      }
      api.put(obj, callback);
    });
  };

  api.remove = function (doc, opts, callback) {
    if (typeof opts === 'function') {
      callback = opts;
      opts = {};
    }
    if (opts === undefined) {
      opts = {};
    }
    opts.was_delete = true;
    var newDoc = {_id: doc._id, _rev: doc._rev};
    newDoc._deleted = true;
    return customApi.bulkDocs({docs: [newDoc]}, opts, yankError(callback));
  };

  api.revsDiff = function (req, opts, callback) {
    if (typeof opts === 'function') {
      callback = opts;
      opts = {};
    }
    var ids = Object.keys(req);
    var count = 0;
    var missing = {};

    function addToMissing(id, revId) {
      if (!missing[id]) {
        missing[id] = {missing: []};
      }
      missing[id].missing.push(revId);
    }

    function processDoc(id, rev_tree) {
      // Is this fast enough? Maybe we should switch to a set simulated by a map
      var missingForId = req[id].slice(0);
      PouchMerge.traverseRevTree(rev_tree, function(isLeaf, pos, revHash, ctx,
        opts) {
          var rev = pos + '-' + revHash;
          var idx = missingForId.indexOf(rev);
          if (idx === -1) {
            return;
          }

          missingForId.splice(idx, 1);
          if (opts.status !== 'available') {
            addToMissing(id, rev);
          }
      });

      // Traversing the tree is synchronous, so now `missingForId` contains
      // revisions that were not found in the tree
      missingForId.forEach(function(rev) {
        addToMissing(id, rev);
      });
    }

    ids.map(function(id) {
      customApi._getRevisionTree(id, function(err, rev_tree) {
        if (err && err.error === 'not_found' && err.reason === 'missing') {
          missing[id] = {missing: req[id]};
        } else if (err) {
          return call(callback, err);
        } else {
          processDoc(id, rev_tree);
        }

        if (++count === ids.length) {
          return call(callback, null, missing);
        }
      });
    });
  };

  // compact one document and fire callback
  // by compacting we mean removing all revisions which
  // are further from the leaf in revision tree than max_height
  var compactDocument = function(docId, max_height, callback) {
    customApi._getRevisionTree(docId, function(err, rev_tree){
      if (err) {
        return call(callback);
      }
      var height = computeHeight(rev_tree);
      var candidates = [];
      var revs = [];
      Object.keys(height).forEach(function(rev) {
        if (height[rev] > max_height) {
          candidates.push(rev);
        }
      });

      PouchMerge.traverseRevTree(rev_tree, function(isLeaf, pos, revHash, ctx, opts) {
        var rev = pos + '-' + revHash;
        if (opts.status === 'available' && candidates.indexOf(rev) !== -1) {
          opts.status = 'missing';
          revs.push(rev);
        }
      });
      customApi._doCompaction(docId, rev_tree, revs, callback);
    });
  };

  // compact the whole database using single document
  // compaction
  api.compact = function(opts, callback) {
    if (typeof opts === 'function') {
      callback = opts;
      opts = {};
    }
    api.changes({complete: function(err, res) {
      if (err) {
        call(callback); // TODO: silently fail
        return;
      }
      var count = res.results.length;
      if (!count) {
        call(callback);
        return;
      }
      res.results.forEach(function(row) {
        compactDocument(row.id, 0, function() {
          count--;
          if (!count) {
            call(callback);
          }
        });
      });
    }});
  };

  /* Begin api wrappers. Specific functionality to storage belongs in the _[method] */
  api.get = function (id, opts, callback) {
    if (!api.taskqueue.ready()) {
      api.taskqueue.addTask('get', arguments);
      return;
    }
    if (typeof opts === 'function') {
      callback = opts;
      opts = {};
    }

    var leaves = [];
    function finishOpenRevs() {
      var result = [];
      var count = leaves.length;
      if (!count) {
        return call(callback, null, result);
      }
      // order with open_revs is unspecified
      leaves.forEach(function(leaf){
        api.get(id, {rev: leaf, revs: opts.revs}, function(err, doc){
          if (!err) {
            result.push({ok: doc});
          } else {
            result.push({missing: leaf});
          }
          count--;
          if(!count) {
            call(callback, null, result);
          }
        });
      });
    }

    if (opts.open_revs) {
      if (opts.open_revs === "all") {
        customApi._getRevisionTree(id, function(err, rev_tree){
          if (err) {
            // if there's no such document we should treat this
            // situation the same way as if revision tree was empty
            rev_tree = [];
          }
          leaves = PouchMerge.collectLeaves(rev_tree).map(function(leaf){
            return leaf.rev;
          });
          finishOpenRevs();
        });
      } else {
        if (Array.isArray(opts.open_revs)) {
          leaves = opts.open_revs;
          for (var i = 0; i < leaves.length; i++) {
            var l = leaves[i];
            // looks like it's the only thing couchdb checks
            if (!(typeof(l) === "string" && /^\d+-/.test(l))) {
              return call(callback, Pouch.error(Pouch.Errors.BAD_REQUEST,
                "Invalid rev format" ));
            }
          }
          finishOpenRevs();
        } else {
          return call(callback, Pouch.error(Pouch.Errors.UNKNOWN_ERROR,
            'function_clause'));
        }
      }
      return; // open_revs does not like other options
    }

    return customApi._get(id, opts, function(err, result) {
      if (err) {
        return call(callback, err);
      }

      var doc = result.doc;
      var metadata = result.metadata;
      var ctx = result.ctx;

      if (opts.conflicts) {
        var conflicts = PouchMerge.collectConflicts(metadata);
        if (conflicts.length) {
          doc._conflicts = conflicts;
        }
      }

      if (opts.revs || opts.revs_info) {
        var paths = PouchMerge.rootToLeaf(metadata.rev_tree);
        var path = arrayFirst(paths, function(arr) {
          return arr.ids.map(function(x) { return x.id; })
            .indexOf(doc._rev.split('-')[1]) !== -1;
        });

        path.ids.splice(path.ids.map(function(x) {return x.id;})
                        .indexOf(doc._rev.split('-')[1]) + 1);
        path.ids.reverse();

        if (opts.revs) {
          doc._revisions = {
            start: (path.pos + path.ids.length) - 1,
            ids: path.ids.map(function(rev) {
              return rev.id;
            })
          };
        }
        if (opts.revs_info) {
          var pos =  path.pos + path.ids.length;
          doc._revs_info = path.ids.map(function(rev) {
            pos--;
            return {
              rev: pos + '-' + rev.id,
              status: rev.opts.status
            };
          });
        }
      }

      if (opts.local_seq) {
        doc._local_seq = result.metadata.seq;
      }

      if (opts.attachments && doc._attachments) {
        var attachments = doc._attachments;
        var count = Object.keys(attachments).length;
        if (count === 0) {
          return call(callback, null, doc);
        }
        Object.keys(attachments).forEach(function(key) {
          customApi._getAttachment(attachments[key], {encode: true, ctx: ctx}, function(err, data) {
            doc._attachments[key].data = data;
            if (!--count){
              call(callback, null, doc);
            }
          });
        });
      } else {
        if (doc._attachments){
          for (var key in doc._attachments) {
            doc._attachments[key].stub = true;
          }
        }
        call(callback, null, doc);
      }
    });
  };

  api.getAttachment = function(docId, attachmentId, opts, callback) {
    if (!api.taskqueue.ready()) {
      api.taskqueue.addTask('getAttachment', arguments);
      return;
    }
    if (opts instanceof Function) {
      callback = opts;
      opts = {};
    }
    customApi._get(docId, opts, function(err, res) {
      if (err) {
        return call(callback, err);
      }
      if (res.doc._attachments && res.doc._attachments[attachmentId]) {
        opts.ctx = res.ctx;
        customApi._getAttachment(res.doc._attachments[attachmentId], opts, callback);
      } else {
        return call(callback, Pouch.Errors.MISSING_DOC);
      }
    });
  };

  api.allDocs = function(opts, callback) {
    if (!api.taskqueue.ready()) {
      api.taskqueue.addTask('allDocs', arguments);
      return;
    }
    if (typeof opts === 'function') {
      callback = opts;
      opts = {};
    }
    if ('keys' in opts) {
      if ('startkey' in opts) {
        call(callback, Pouch.error(Pouch.Errors.QUERY_PARSE_ERROR,
          'Query parameter `start_key` is not compatible with multi-get'
        ));
        return;
      }
      if ('endkey' in opts) {
        call(callback, Pouch.error(Pouch.Errors.QUERY_PARSE_ERROR,
          'Query parameter `end_key` is not compatible with multi-get'
        ));
        return;
      }
    }
    if (typeof opts.skip === 'undefined') {
      opts.skip = 0;
    }

    return customApi._allDocs(opts, callback);
  };

  api.changes = function(opts) {
    if (!api.taskqueue.ready()) {
      api.taskqueue.addTask('changes', arguments);
      return;
    }
    opts = PouchUtils.extend(true, {}, opts);

    if (!opts.since) {
      opts.since = 0;
    }
    if (opts.since === 'latest') {
      api.info(function (err, info) {
        opts.since = info.update_seq  - 1;
        api.changes(opts);
      });
      return;
    }

    if (!('descending' in opts)) {
      opts.descending = false;
    }

    // 0 and 1 should return 1 document
    opts.limit = opts.limit === 0 ? 1 : opts.limit;
    return customApi._changes(opts);
  };

  api.close = function(callback) {
    if (!api.taskqueue.ready()) {
      api.taskqueue.addTask('close', arguments);
      return;
    }
    return customApi._close(callback);
  };

  api.info = function(callback) {
    if (!api.taskqueue.ready()) {
      api.taskqueue.addTask('info', arguments);
      return;
    }
    return customApi._info(callback);
  };

  api.id = function() {
    return customApi._id();
  };

  api.type = function() {
    return (typeof customApi._type === 'function') ? customApi._type() : opts.adapter;
  };

  api.bulkDocs = function(req, opts, callback) {
    if (!api.taskqueue.ready()) {
      api.taskqueue.addTask('bulkDocs', arguments);
      return;
    }
    if (typeof opts === 'function') {
      callback = opts;
      opts = {};
    }
    if (!opts) {
      opts = {};
    } else {
      opts = PouchUtils.extend(true, {}, opts);
    }

    if (!req || !req.docs || req.docs.length < 1) {
      return call(callback, Pouch.Errors.MISSING_BULK_DOCS);
    }

    if (!Array.isArray(req.docs)) {
      return call(callback, Pouch.Errors.QUERY_PARSE_ERROR);
    }

    for (var i = 0; i < req.docs.length; ++i) {
      if (typeof req.docs[i] !== 'object' || Array.isArray(req.docs[i])) {
        return call(callback, Pouch.Errors.NOT_AN_OBJECT);
      }
    }

    req = PouchUtils.extend(true, {}, req);
    if (!('new_edits' in opts)) {
      opts.new_edits = true;
    }

    return customApi._bulkDocs(req, opts, autoCompact(callback));
  };

  /* End Wrappers */
  var taskqueue = {};

  taskqueue.ready = false;
  taskqueue.queue = [];

  api.taskqueue = {};

  api.taskqueue.execute = function (db) {
    if (taskqueue.ready) {
      taskqueue.queue.forEach(function(d) {
        db[d.task].apply(null, d.parameters);
      });
    }
  };

  api.taskqueue.ready = function() {
    if (arguments.length === 0) {
      return taskqueue.ready;
    }
    taskqueue.ready = arguments[0];
  };

  api.taskqueue.addTask = function(task, parameters) {
    taskqueue.queue.push({ task: task, parameters: parameters });
  };

  api.replicate = {};

  api.replicate.from = function (url, opts, callback) {
    if (typeof opts === 'function') {
      callback = opts;
      opts = {};
    }
    return Pouch.replicate(url, customApi, opts, callback);
  };

  api.replicate.to = function (dbName, opts, callback) {
    if (typeof opts === 'function') {
      callback = opts;
      opts = {};
    }
    return Pouch.replicate(customApi, dbName, opts, callback);
  };

  for (var j in api) {
    if (!customApi.hasOwnProperty(j)) {
      customApi[j] = api[j];
    }
  }

  // Http adapter can skip setup so we force the db to be ready and execute any jobs
  if (opts.skipSetup) {
    api.taskqueue.ready(true);
    api.taskqueue.execute(api);
  }

  if (PouchUtils.isCordova()) {
    //to inform websql adapter that we can use api
    cordova.fireWindowEvent(opts.name + "_pouch", {});
  }
  return customApi;
};

/*globals Pouch: true, PouchUtils: true, require, console */

"use strict";

var PouchUtils;

var ajax = PouchUtils.ajax;

var HTTP_TIMEOUT = 10000;

// parseUri 1.2.2
// (c) Steven Levithan <stevenlevithan.com>
// MIT License
function parseUri (str) {
  var o = parseUri.options;
  var m = o.parser[o.strictMode ? "strict" : "loose"].exec(str);
  var uri = {};
  var i = 14;

  while (i--) {
    uri[o.key[i]] = m[i] || "";
  }

  uri[o.q.name] = {};
  uri[o.key[12]].replace(o.q.parser, function ($0, $1, $2) {
    if ($1) {
      uri[o.q.name][$1] = $2;
    }
  });

  return uri;
}

function encodeDocId(id) {
  if (/^_design/.test(id)) {
    return id;
  }
  return encodeURIComponent(id);
}

parseUri.options = {
  strictMode: false,
  key: ["source","protocol","authority","userInfo","user","password","host",
        "port","relative","path","directory","file","query","anchor"],
  q:   {
    name:   "queryKey",
    parser: /(?:^|&)([^&=]*)=?([^&]*)/g
  },
  parser: {
    strict: /^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
    loose:  /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/
  }
};

// Get all the information you possibly can about the URI given by name and
// return it as a suitable object.
function getHost(name, opts) {
  // If the given name contains "http:"
  if (/http(s?):/.test(name)) {
    // Prase the URI into all its little bits
    var uri = parseUri(name);

    // Store the fact that it is a remote URI
    uri.remote = true;

    // Store the user and password as a separate auth object
    if (uri.user || uri.password) {
      uri.auth = {username: uri.user, password: uri.password};
    }

    // Split the path part of the URI into parts using '/' as the delimiter
    // after removing any leading '/' and any trailing '/'
    var parts = uri.path.replace(/(^\/|\/$)/g, '').split('/');

    // Store the first part as the database name and remove it from the parts
    // array
    uri.db = parts.pop();

    // Restore the path by joining all the remaining parts (all the parts
    // except for the database name) with '/'s
    uri.path = parts.join('/');
    opts = opts || {};
    uri.headers = opts.headers || {};
    
    if (opts.auth || uri.auth) { 
      var nAuth = opts.auth || uri.auth;
      var token = PouchUtils.btoa(nAuth.username + ':' + nAuth.password);
      uri.headers.Authorization = 'Basic ' + token; 
    }

    if (opts.headers) {
      uri.headers = opts.headers;
    }

    return uri;
  }

  // If the given name does not contain 'http:' then return a very basic object
  // with no host, the current path, the given name as the database name and no
  // username/password
  return {host: '', path: '/', db: name, auth: false};
}

// Generate a URL with the host data given by opts and the given path
function genDBUrl(opts, path) {
  // If the host is remote
  if (opts.remote) {
    // If the host already has a path, then we need to have a path delimiter
    // Otherwise, the path delimiter is the empty string
    var pathDel = !opts.path ? '' : '/';

    // Return the URL made up of all the host's information and the given path
    return opts.protocol + '://' + opts.host + ':' + opts.port + '/' +
      opts.path + pathDel + opts.db + '/' + path;
  }

  // If the host is not remote, then return the URL made up of just the
  // database name and the given path
  return '/' + opts.db + '/' + path;
}

// Generate a URL with the host data given by opts and the given path
function genUrl(opts, path) {
  if (opts.remote) {
    // If the host already has a path, then we need to have a path delimiter
    // Otherwise, the path delimiter is the empty string
    var pathDel = !opts.path ? '' : '/';

    // If the host already has a path, then we need to have a path delimiter
    // Otherwise, the path delimiter is the empty string
    return opts.protocol + '://' + opts.host + ':' + opts.port + '/' + opts.path + pathDel + path;
  }

  return '/' + path;
}

// Implements the PouchDB API for dealing with CouchDB instances over HTTP
var HttpPouch = function(opts, callback) {

  // Parse the URI given by opts.name into an easy-to-use object
  var host = getHost(opts.name, opts);

  // Generate the database URL based on the host
  var db_url = genDBUrl(host, '');

  // The functions that will be publically available for HttpPouch
  var api = {};

  var uuids = {
    list: [],
    get: function(opts, callback) {
      if (typeof opts === 'function') {
        callback = opts;
        opts = {count: 10};
      }
      var cb = function(err, body) {
        if (err || !('uuids' in body)) {
          PouchUtils.call(callback, err || Pouch.Errors.UNKNOWN_ERROR);
        } else {
          uuids.list = uuids.list.concat(body.uuids);
          PouchUtils.call(callback, null, "OK");
        }
      };
      var params = '?count=' + opts.count;
      ajax({
        headers: host.headers,
        method: 'GET',
        url: genUrl(host, '_uuids') + params
      }, cb);
    }
  };

  // Create a new CouchDB database based on the given opts
  var createDB = function(){
    ajax({headers: host.headers, method: 'PUT', url: db_url}, function(err, ret) {
      // If we get an "Unauthorized" error
      if (err && err.status === 401) {
        // Test if the database already exists
        ajax({headers: host.headers, method: 'HEAD', url: db_url}, function (err, ret) {
          // If there is still an error
          if (err) {
            // Give the error to the callback to deal with
            PouchUtils.call(callback, err);
          } else {
            // Continue as if there had been no errors
            PouchUtils.call(callback, null, api);
          }
        });
        // If there were no errros or if the only error is "Precondition Failed"
        // (note: "Precondition Failed" occurs when we try to create a database
        // that already exists)
      } else if (!err || err.status === 412) {
        // Continue as if there had been no errors
        PouchUtils.call(callback, null, api);
      } else {
        PouchUtils.call(callback, Pouch.Errors.UNKNOWN_ERROR);
      }
    });
  };
  if (!opts.skipSetup) {
    ajax({headers: host.headers, method: 'GET', url: db_url}, function(err, ret) {
      //check if the db exists
      if (err) {
        if (err.status === 404) {
          //if it doesn't, create it
          createDB();
        } else {
          PouchUtils.call(callback, err);
        }
      } else {
        //go do stuff with the db
        PouchUtils.call(callback, null, api);
      }
    });
  }

  api.type = function() {
    return 'http';
  };

  // The HttpPouch's ID is its URL
  api.id = function() {
    return genDBUrl(host, '');
  };

  api.request = function(options, callback) {
    if (!api.taskqueue.ready()) {
      api.taskqueue.addTask('request', arguments);
      return;
    }
    options.headers = host.headers;
    options.url = genDBUrl(host, options.url);
    ajax(options, callback);
  };

  // Sends a POST request to the host calling the couchdb _compact function
  //    version: The version of CouchDB it is running
  api.compact = function(opts, callback) {
    if (!api.taskqueue.ready()) {
      api.taskqueue.addTask('compact', arguments);
      return;
    }
    if (typeof opts === 'function') {
      callback = opts;
      opts = {};
    }
    ajax({
      headers: host.headers,
      url: genDBUrl(host, '_compact'),
      method: 'POST'
    }, function() {
      function ping() {
        api.info(function(err, res) {
          if (!res.compact_running) {
            PouchUtils.call(callback, null);
          } else {
            setTimeout(ping, opts.interval || 200);
          }
        });
      }
      // Ping the http if it's finished compaction
      if (typeof callback === "function") {
        ping();
      }
    });
  };

  // Calls GET on the host, which gets back a JSON string containing
  //    couchdb: A welcome string
  //    version: The version of CouchDB it is running
  api.info = function(callback) {
    if (!api.taskqueue.ready()) {
      api.taskqueue.addTask('info', arguments);
      return;
    }
    ajax({
      headers: host.headers,
      method:'GET',
      url: genDBUrl(host, '')
    }, callback);
  };

  // Get the document with the given id from the database given by host.
  // The id could be solely the _id in the database, or it may be a
  // _design/ID or _local/ID path
  api.get = function(id, opts, callback) {
    if (!api.taskqueue.ready()) {
      api.taskqueue.addTask('get', arguments);
      return;
    }
    // If no options were given, set the callback to the second parameter
    if (typeof opts === 'function') {
      callback = opts;
      opts = {};
    }

    if (opts.auto_encode === undefined) {
      opts.auto_encode = true;
    }

    // List of parameters to add to the GET request
    var params = [];

    // If it exists, add the opts.revs value to the list of parameters.
    // If revs=true then the resulting JSON will include a field
    // _revisions containing an array of the revision IDs.
    if (opts.revs) {
      params.push('revs=true');
    }

    // If it exists, add the opts.revs_info value to the list of parameters.
    // If revs_info=true then the resulting JSON will include the field
    // _revs_info containing an array of objects in which each object
    // representing an available revision.
    if (opts.revs_info) {
      params.push('revs_info=true');
    }

    if (opts.local_seq) {
      params.push('local_seq=true');
    }
    // If it exists, add the opts.open_revs value to the list of parameters.
    // If open_revs=all then the resulting JSON will include all the leaf
    // revisions. If open_revs=["rev1", "rev2",...] then the resulting JSON
    // will contain an array of objects containing data of all revisions
    if (opts.open_revs) {
      if (opts.open_revs !== "all") {
        opts.open_revs = JSON.stringify(opts.open_revs);
      }
      params.push('open_revs=' + opts.open_revs);
    }

    // If it exists, add the opts.attachments value to the list of parameters.
    // If attachments=true the resulting JSON will include the base64-encoded
    // contents in the "data" property of each attachment.
    if (opts.attachments) {
      params.push('attachments=true');
    }

    // If it exists, add the opts.rev value to the list of parameters.
    // If rev is given a revision number then get the specified revision.
    if (opts.rev) {
      params.push('rev=' + opts.rev);
    }

    // If it exists, add the opts.conflicts value to the list of parameters.
    // If conflicts=true then the resulting JSON will include the field
    // _conflicts containing all the conflicting revisions.
    if (opts.conflicts) {
      params.push('conflicts=' + opts.conflicts);
    }

    // Format the list of parameters into a valid URI query string
    params = params.join('&');
    params = params === '' ? '' : '?' + params;

    if (opts.auto_encode) {
      id = encodeDocId(id);
    }

    // Set the options for the ajax call
    var options = {
      headers: host.headers,
      method: 'GET',
      url: genDBUrl(host, id + params)
    };

    // If the given id contains at least one '/' and the part before the '/'
    // is NOT "_design" and is NOT "_local"
    // OR
    // If the given id contains at least two '/' and the part before the first
    // '/' is "_design".
    // TODO This second condition seems strange since if parts[0] === '_design'
    // then we already know that parts[0] !== '_local'.
    var parts = id.split('/');
    if ((parts.length > 1 && parts[0] !== '_design' && parts[0] !== '_local') ||
        (parts.length > 2 && parts[0] === '_design' && parts[0] !== '_local')) {
      // Binary is expected back from the server
      options.binary = true;
    }

    // Get the document
    ajax(options, function(err, doc, xhr) {
      // If the document does not exist, send an error to the callback
      if (err) {
        return PouchUtils.call(callback, err);
      }

      // Send the document to the callback
      PouchUtils.call(callback, null, doc, xhr);
    });
  };

  // Delete the document given by doc from the database given by host.
  api.remove = function(doc, opts, callback) {
    if (!api.taskqueue.ready()) {
      api.taskqueue.addTask('remove', arguments);
      return;
    }
    // If no options were given, set the callback to be the second parameter
    if (typeof opts === 'function') {
      callback = opts;
      opts = {};
    }

    // Delete the document
    ajax({
      headers: host.headers,
      method:'DELETE',
      url: genDBUrl(host, encodeDocId(doc._id)) + '?rev=' + doc._rev
    }, callback);
  };

  // Get the attachment
  api.getAttachment = function(docId, attachmentId, opts, callback) {
    if (typeof opts === 'function') {
      callback = opts;
      opts = {};
    }
    if (opts.auto_encode === undefined) {
      opts.auto_encode = true;
    }
    if (opts.auto_encode) {
      docId = encodeDocId(docId);
    }
    opts.auto_encode = false;
    api.get(docId + '/' + attachmentId, opts, callback);
  };

  // Remove the attachment given by the id and rev
  api.removeAttachment = function(docId, attachmentId, rev, callback) {
    if (!api.taskqueue.ready()) {
      api.taskqueue.addTask('removeAttachment', arguments);
      return;
    }
    ajax({
      headers: host.headers,
      method: 'DELETE',
      url: genDBUrl(host, encodeDocId(docId) + '/' + attachmentId) + '?rev=' + rev
    }, callback);
  };

  // Add the attachment given by blob and its contentType property
  // to the document with the given id, the revision given by rev, and
  // add it to the database given by host.
  api.putAttachment = function(docId, attachmentId, rev, blob, type, callback) {
    if (!api.taskqueue.ready()) {
      api.taskqueue.addTask('putAttachment', arguments);
      return;
    }
    if (typeof type === 'function') {
      callback = type;
      type = blob;
      blob = rev;
      rev = null;
    }
    if (typeof type === 'undefined') {
      type = blob;
      blob = rev;
      rev = null;
    }
    var id = encodeDocId(docId) + '/' + attachmentId;
    var url = genDBUrl(host, id);
    if (rev) {
      url += '?rev=' + rev;
    }

    var opts = {
      headers: host.headers,
      method:'PUT',
      url: url,
      processData: false,
      body: blob,
      timeout: 60000
    };
    opts.headers['Content-Type'] = type;
    // Add the attachment
    ajax(opts, callback);
  };

  // Add the document given by doc (in JSON string format) to the database
  // given by host. This fails if the doc has no _id field.
  api.put = function(doc, opts, callback) {
    if (!api.taskqueue.ready()) {
      api.taskqueue.addTask('put', arguments);
      return;
    }
    // If no options were given, set the callback to be the second parameter
    if (typeof opts === 'function') {
      callback = opts;
      opts = {};
    }
    if (typeof doc !== 'object') {
      return PouchUtils.call(callback, Pouch.Errors.NOT_AN_OBJECT);
    }
    if (!('_id' in doc)) {
      return PouchUtils.call(callback, Pouch.Errors.MISSING_ID);
    }

    // List of parameter to add to the PUT request
    var params = [];

    // If it exists, add the opts.new_edits value to the list of parameters.
    // If new_edits = false then the database will NOT assign this document a
    // new revision number
    if (opts && typeof opts.new_edits !== 'undefined') {
      params.push('new_edits=' + opts.new_edits);
    }

    // Format the list of parameters into a valid URI query string
    params = params.join('&');
    if (params !== '') {
      params = '?' + params;
    }

    // Add the document
    ajax({
      headers: host.headers,
      method: 'PUT',
      url: genDBUrl(host, encodeDocId(doc._id)) + params,
      body: doc
    }, callback);
  };

  // Add the document given by doc (in JSON string format) to the database
  // given by host. This does not assume that doc is a new document (i.e. does not
  // have a _id or a _rev field.
  api.post = function(doc, opts, callback) {
    if (!api.taskqueue.ready()) {
      api.taskqueue.addTask('post', arguments);
      return;
    }
    // If no options were given, set the callback to be the second parameter
    if (typeof opts === 'function') {
      callback = opts;
      opts = {};
    }
    if (typeof doc !== 'object') {
      return PouchUtils.call(callback, Pouch.Errors.NOT_AN_OBJECT);
    }
    if (! ("_id" in doc)) {
      if (uuids.list.length > 0) {
        doc._id = uuids.list.pop();
        api.put(doc, opts, callback);
      }else {
        uuids.get(function(err, resp) {
          if (err) {
            return PouchUtils.call(callback, Pouch.Errors.UNKNOWN_ERROR);
          }
          doc._id = uuids.list.pop();
          api.put(doc, opts, callback);
        });
      }
    } else {
      api.put(doc, opts, callback);
    }
  };

  // Update/create multiple documents given by req in the database
  // given by host.
  api.bulkDocs = function(req, opts, callback) {
    if (!api.taskqueue.ready()) {
      api.taskqueue.addTask('bulkDocs', arguments);
      return;
    }
    // If no options were given, set the callback to be the second parameter
    if (typeof opts === 'function') {
      callback = opts;
      opts = {};
    }
    if (!opts) {
      opts = {};
    }

    // If opts.new_edits exists add it to the document data to be
    // send to the database.
    // If new_edits=false then it prevents the database from creating
    // new revision numbers for the documents. Instead it just uses
    // the old ones. This is used in database replication.
    if (typeof opts.new_edits !== 'undefined') {
      req.new_edits = opts.new_edits;
    }

    // Update/create the documents
    ajax({
      headers: host.headers,
      method:'POST',
      url: genDBUrl(host, '_bulk_docs'),
      body: req
    }, callback);
  };

  // Get a listing of the documents in the database given
  // by host and ordered by increasing id.
  api.allDocs = function(opts, callback) {
    // If no options were given, set the callback to be the second parameter
    if (!api.taskqueue.ready()) {
      api.taskqueue.addTask('allDocs', arguments);
      return;
    }
    if (typeof opts === 'function') {
      callback = opts;
      opts = {};
    }

    // List of parameters to add to the GET request
    var params = [];
    var body;
    var method = 'GET';

    // TODO I don't see conflicts as a valid parameter for a
    // _all_docs request (see http://wiki.apache.org/couchdb/HTTP_Document_API#all_docs)
    if (opts.conflicts) {
      params.push('conflicts=true');
    }

    // If opts.descending is truthy add it to params
    if (opts.descending) {
      params.push('descending=true');
    }

    // If opts.include_docs exists, add the include_docs value to the
    // list of parameters.
    // If include_docs=true then include the associated document with each
    // result.
    if (opts.include_docs) {
      params.push('include_docs=true');
    }

    // If opts.startkey exists, add the startkey value to the list of
    // parameters.
    // If startkey is given then the returned list of documents will
    // start with the document whose id is startkey.
    if (opts.startkey) {
      params.push('startkey=' +
                  encodeURIComponent(JSON.stringify(opts.startkey)));
    }

    // If opts.endkey exists, add the endkey value to the list of parameters.
    // If endkey is given then the returned list of docuemnts will
    // end with the document whose id is endkey.
    if (opts.endkey) {
      params.push('endkey=' + encodeURIComponent(JSON.stringify(opts.endkey)));
    }

    // If opts.limit exists, add the limit value to the parameter list.
    if (opts.limit) {
      params.push('limit=' + opts.limit);
    }

    if (typeof opts.skip !== 'undefined') {
      params.push('skip=' + opts.skip);
    }

    // Format the list of parameters into a valid URI query string
    params = params.join('&');
    if (params !== '') {
      params = '?' + params;
    }

    // If keys are supplied, issue a POST request to circumvent GET query string limits
    // see http://wiki.apache.org/couchdb/HTTP_view_API#Querying_Options
    if (typeof opts.keys !== 'undefined') {
      method = 'POST';
      body = JSON.stringify({keys:opts.keys});
    }

    // Get the document listing
    ajax({
      headers: host.headers,
      method: method,
      url: genDBUrl(host, '_all_docs' + params),
      body: body
    }, callback);
  };

  // Get a list of changes made to documents in the database given by host.
  // TODO According to the README, there should be two other methods here,
  // api.changes.addListener and api.changes.removeListener.
  api.changes = function(opts) {

    // We internally page the results of a changes request, this means
    // if there is a large set of changes to be returned we can start
    // processing them quicker instead of waiting on the entire
    // set of changes to return and attempting to process them at once
    var CHANGES_LIMIT = 25;

    if (!api.taskqueue.ready()) {
      api.taskqueue.addTask('changes', arguments);
      return;
    }
    
    if (opts.since === 'latest') {
      api.info(function (err, info) {
        opts.since = info.update_seq - 1;
        api.changes(opts);
      });
      return;
    }

    if (Pouch.DEBUG) {
      console.log(db_url + ': Start Changes Feed: continuous=' + opts.continuous);
    }

    var params = {};
    var limit = (typeof opts.limit !== 'undefined') ? opts.limit : false;
    if (limit === 0) {
      limit = 1;
    }
    //
    var leftToFetch = limit;

    if (opts.style) {
      params.style = opts.style;
    }

    if (opts.include_docs || opts.filter && typeof opts.filter === 'function') {
      params.include_docs = true;
    }

    if (opts.continuous) {
      params.feed = 'longpoll';
    }

    if (opts.conflicts) {
      params.conflicts = true;
    }

    if (opts.descending) {
      params.descending = true;
    }

    if (opts.filter && typeof opts.filter === 'string') {
      params.filter = opts.filter;
    }

    // If opts.query_params exists, pass it through to the changes request.
    // These parameters may be used by the filter on the source database.
    if (opts.query_params && typeof opts.query_params === 'object') {
      for (var param_name in opts.query_params) {
        if (opts.query_params.hasOwnProperty(param_name)) {
          params[param_name] = opts.query_params[param_name];
        }
      }
    }

    var xhr;
    var lastFetchedSeq;
    var remoteLastSeq;

    // Get all the changes starting wtih the one immediately after the
    // sequence number given by since.
    var fetch = function(since, callback) {
      params.since = since;
      params.limit = (!limit || leftToFetch > CHANGES_LIMIT) ?
        CHANGES_LIMIT : leftToFetch;

      var paramStr = '?' + Object.keys(params).map(function(k) {
        return k + '=' + params[k];
      }).join('&');

      // Set the options for the ajax call
      var xhrOpts = {
        headers: host.headers, method:'GET',
        url: genDBUrl(host, '_changes' + paramStr),
        // _changes can take a long time to generate, especially when filtered
        timeout: null
      };
      lastFetchedSeq = since;

      if (opts.aborted) {
        return;
      }

      // Get the changes
      xhr = ajax(xhrOpts, callback);
    };

    // If opts.since exists, get all the changes from the sequence
    // number given by opts.since. Otherwise, get all the changes
    // from the sequence number 0.
    var fetchTimeout = 10;
    var fetchRetryCount = 0;

    var results = {results: []};

    var fetched = function(err, res) {
      // If the result of the ajax call (res) contains changes (res.results)
      if (res && res.results) {
        results.last_seq = res.last_seq;
        // For each change
        var req = {};
        req.query = opts.query_params;
        res.results = res.results.filter(function(c) {
          leftToFetch--;
          var ret = PouchUtils.filterChange(opts)(c);
          if (ret) {
            results.results.push(c);
            PouchUtils.call(opts.onChange, c);
          }
          return ret;
        });
      }

      // The changes feed may have timed out with no results
      // if so reuse last update sequence
      if (res && res.last_seq) {
        lastFetchedSeq = res.last_seq;
      }

      var resultsLength = res && res.results.length || 0;
      var finished = (limit && leftToFetch <= 0) ||
        (res && !resultsLength) ||
        (resultsLength && res.last_seq === remoteLastSeq) ||
        (opts.descending && lastFetchedSeq !== 0);

      if (opts.continuous || !finished) {
        // Increase retry delay exponentially as long as errors persist
        if (err) {
          fetchRetryCount += 1;
        } else {
          fetchRetryCount = 0;
        }
        var timeoutMultiplier = 1 << fetchRetryCount;
        var retryWait = fetchTimeout * timeoutMultiplier;
        var maximumWait = opts.maximumWait || 30000;

        if (retryWait > maximumWait) {
          PouchUtils.call(opts.complete, err || Pouch.Errors.UNKNOWN_ERROR, null);
        }

        // Queue a call to fetch again with the newest sequence number
        setTimeout(function() { fetch(lastFetchedSeq, fetched); }, retryWait);
      } else {
        // We're done, call the callback
        PouchUtils.call(opts.complete, null, results);
      }
    };

    // If we arent doing a continuous changes request we need to know
    // the current update_seq so we know when to stop processing the
    // changes
    if (opts.continuous) {
      fetch(opts.since || 0, fetched);
    } else {
      api.info(function(err, res) {
        if (err) {
          return PouchUtils.call(opts.complete, err);
        }
        remoteLastSeq = res.update_seq;
        fetch(opts.since || 0, fetched);
      });
    }

    // Return a method to cancel this method from processing any more
    return {
      cancel: function() {
        if (Pouch.DEBUG) {
          console.log(db_url + ': Cancel Changes Feed');
        }
        opts.aborted = true;
        xhr.abort();
      }
    };
  };

  // Given a set of document/revision IDs (given by req), tets the subset of
  // those that do NOT correspond to revisions stored in the database.
  // See http://wiki.apache.org/couchdb/HttpPostRevsDiff
  api.revsDiff = function(req, opts, callback) {
    if (!api.taskqueue.ready()) {
      api.taskqueue.addTask('revsDiff', arguments);
      return;
    }
    // If no options were given, set the callback to be the second parameter
    if (typeof opts === 'function') {
      callback = opts;
      opts = {};
    }

    // Get the missing document/revision IDs
    ajax({
      headers: host.headers,
      method:'POST',
      url: genDBUrl(host, '_revs_diff'),
      body: req
    }, function(err, res) {
      PouchUtils.call(callback, err, res);
    });
  };

  api.close = function(callback) {
    if (!api.taskqueue.ready()) {
      api.taskqueue.addTask('close', arguments);
      return;
    }
    PouchUtils.call(callback, null);
  };

  return api;
};

// Delete the HttpPouch specified by the given name.
HttpPouch.destroy = function(name, opts, callback) {
  var host = getHost(name, opts);
  ajax({headers: host.headers, method: 'DELETE', url: genDBUrl(host, '')}, callback);
};

// HttpPouch is a valid adapter.
HttpPouch.valid = function() {
  return true;
};

// Set HttpPouch to be the adapter used with the http scheme.
Pouch.adapter('http', HttpPouch);
Pouch.adapter('https', HttpPouch);

/*globals PouchUtils: true, PouchMerge */

'use strict';

var PouchUtils;

var idbError = function(callback) {
  return function(event) {
    PouchUtils.call(callback, {
      status: 500,
      error: event.type,
      reason: event.target
    });
  };
};

var IdbPouch = function(opts, callback) {

  // IndexedDB requires a versioned database structure, this is going to make
  // it hard to dynamically create object stores if we needed to for things
  // like views
  var POUCH_VERSION = 1;

  // The object stores created for each database
  // DOC_STORE stores the document meta data, its revision history and state
  var DOC_STORE = 'document-store';
  // BY_SEQ_STORE stores a particular version of a document, keyed by its
  // sequence id
  var BY_SEQ_STORE = 'by-sequence';
  // Where we store attachments
  var ATTACH_STORE = 'attach-store';
  // Where we store meta data
  var META_STORE = 'meta-store';
  // Where we detect blob support
  var DETECT_BLOB_SUPPORT_STORE = 'detect-blob-support';


  var name = opts.name;
  var req = window.indexedDB.open(name, POUCH_VERSION);

  if (Pouch.openReqList) {
    Pouch.openReqList[name] = req;
  }

  var blobSupport = null;

  var instanceId = null;
  var api = {};
  var idb = null;

  if (Pouch.DEBUG) {
    console.log(name + ': Open Database');
  }

  req.onupgradeneeded = function(e) {
    var db = e.target.result;
    var currentVersion = e.oldVersion;
    while (currentVersion !== e.newVersion) {
      if (currentVersion === 0) {
        createSchema(db);
      }
      currentVersion++;
    }
  };

  function createSchema(db) {
    db.createObjectStore(DOC_STORE, {keyPath : 'id'})
      .createIndex('seq', 'seq', {unique: true});
    db.createObjectStore(BY_SEQ_STORE, {autoIncrement : true})
      .createIndex('_doc_id_rev', '_doc_id_rev', {unique: true});
    db.createObjectStore(ATTACH_STORE, {keyPath: 'digest'});
    db.createObjectStore(META_STORE, {keyPath: 'id', autoIncrement: false});
    db.createObjectStore(DETECT_BLOB_SUPPORT_STORE);
  }

  // From http://stackoverflow.com/questions/14967647/encode-decode-image-with-base64-breaks-image (2013-04-21)
  function fixBinary(bin) {
    var length = bin.length;
    var buf = new ArrayBuffer(length);
    var arr = new Uint8Array(buf);
    for (var i = 0; i < length; i++) {
      arr[i] = bin.charCodeAt(i);
    }
    return buf;
  }

  req.onsuccess = function(e) {

    idb = e.target.result;

    var txn = idb.transaction([META_STORE, DETECT_BLOB_SUPPORT_STORE],
                              'readwrite');

    idb.onversionchange = function() {
      idb.close();
    };

    // polyfill the new onupgradeneeded api for chrome. can get rid of when
    // saucelabs moves to chrome 23
    if (idb.setVersion && Number(idb.version) !== POUCH_VERSION) {
      var versionReq = idb.setVersion(POUCH_VERSION);
      versionReq.onsuccess = function(evt) {
        function setVersionComplete() {
          req.onsuccess(e);
        }
        evt.target.result.oncomplete = setVersionComplete;
        req.onupgradeneeded(e);
      };
      return;
    }

    var req = txn.objectStore(META_STORE).get(META_STORE);

    req.onsuccess = function(e) {
      var meta = e.target.result || {id: META_STORE};
      if (name + '_id' in meta) {
        instanceId = meta[name + '_id'];
      } else {
        instanceId = Pouch.uuid();
        meta[name + '_id'] = instanceId;
        txn.objectStore(META_STORE).put(meta);
      }

      // detect blob support
      try {
        txn.objectStore(DETECT_BLOB_SUPPORT_STORE).put(new Blob(), "key");
        blobSupport = true;
      } catch (err) {
        blobSupport = false;
      } finally {
        PouchUtils.call(callback, null, api);
      }
    };
  };

  req.onerror = idbError(callback);

  api.type = function() {
    return 'idb';
  };

  // Each database needs a unique id so that we can store the sequence
  // checkpoint without having other databases confuse itself.
  api.id = function idb_id() {
    return instanceId;
  };

  api._bulkDocs = function idb_bulkDocs(req, opts, callback) {
    var newEdits = opts.new_edits;
    var userDocs = req.docs;
    // Parse the docs, give them a sequence number for the result
    var docInfos = userDocs.map(function(doc, i) {
      var newDoc = PouchUtils.parseDoc(doc, newEdits);
      newDoc._bulk_seq = i;
      return newDoc;
    });

    var docInfoErrors = docInfos.filter(function(docInfo) {
      return docInfo.error;
    });
    if (docInfoErrors.length) {
      return PouchUtils.call(callback, docInfoErrors[0]);
    }

    var results = [];
    var docsWritten = 0;

    function writeMetaData(e) {
      var meta = e.target.result;
      meta.updateSeq = (meta.updateSeq || 0) + docsWritten;
      txn.objectStore(META_STORE).put(meta);
    }

    function processDocs() {
      if (!docInfos.length) {
        txn.objectStore(META_STORE).get(META_STORE).onsuccess = writeMetaData;
        return;
      }
      var currentDoc = docInfos.shift();
      var req = txn.objectStore(DOC_STORE).get(currentDoc.metadata.id);
      req.onsuccess = function process_docRead(event) {
        var oldDoc = event.target.result;
        if (!oldDoc) {
          insertDoc(currentDoc);
        } else {
          updateDoc(oldDoc, currentDoc);
        }
      };
    }

    function complete(event) {
      var aresults = [];
      results.sort(sortByBulkSeq);
      results.forEach(function(result) {
        delete result._bulk_seq;
        if (result.error) {
          aresults.push(result);
          return;
        }
        var metadata = result.metadata;
        var rev = PouchMerge.winningRev(metadata);

        aresults.push({
          ok: true,
          id: metadata.id,
          rev: rev
        });

        if (PouchUtils.isLocalId(metadata.id)) {
          return;
        }

        IdbPouch.Changes.notify(name);
        IdbPouch.Changes.notifyLocalWindows(name);
      });
      PouchUtils.call(callback, null, aresults);
    }

    function preprocessAttachment(att, finish) {
      if (att.stub) {
        return finish();
      }
      if (typeof att.data === 'string') {
        var data;
        try {
          data = atob(att.data);
        } catch (e) {
          var err = Pouch.error(Pouch.Errors.BAD_ARG,
                                "Attachments need to be base64 encoded");
          return PouchUtils.call(callback, err);
        }
        att.digest = 'md5-' + PouchUtils.Crypto.MD5(data);
        if (blobSupport) {
          var type = att.content_type;
          data = fixBinary(data);
          att.data = new Blob([data], {type: type});
        }
        return finish();
      }
      var reader = new FileReader();
      reader.onloadend = function(e) {
        att.digest = 'md5-' + PouchUtils.Crypto.MD5(this.result);
        if (!blobSupport) {
          att.data = btoa(this.result);
        }
        finish();
      };
      reader.readAsBinaryString(att.data);
    }

    function preprocessAttachments(callback) {
      if (!docInfos.length) {
        return callback();
      }

      var docv = 0;
      docInfos.forEach(function(docInfo) {
        var attachments = docInfo.data && docInfo.data._attachments ?
          Object.keys(docInfo.data._attachments) : [];

        if (!attachments.length) {
          return done();
        }

        var recv = 0;
        function attachmentProcessed() {
          recv++;
          if (recv === attachments.length) {
            done();
          }
        }

        for (var key in docInfo.data._attachments) {
          preprocessAttachment(docInfo.data._attachments[key], attachmentProcessed);
        }
      });

      function done() {
        docv++;
        if (docInfos.length === docv) {
          callback();
        }
      }
    }

    function writeDoc(docInfo, callback) {
      var err = null;
      var recv = 0;
      docInfo.data._id = docInfo.metadata.id;
      docInfo.data._rev = docInfo.metadata.rev;

      docsWritten++;

      if (PouchUtils.isDeleted(docInfo.metadata, docInfo.metadata.rev)) {
        docInfo.data._deleted = true;
      }

      var attachments = docInfo.data._attachments ?
        Object.keys(docInfo.data._attachments) : [];

      function collectResults(attachmentErr) {
        if (!err) {
          if (attachmentErr) {
            err = attachmentErr;
            PouchUtils.call(callback, err);
          } else if (recv === attachments.length) {
            finish();
          }
        }
      }

      function attachmentSaved(err) {
        recv++;
        collectResults(err);
      }

      for (var key in docInfo.data._attachments) {
        if (!docInfo.data._attachments[key].stub) {
          var data = docInfo.data._attachments[key].data;
          delete docInfo.data._attachments[key].data;
          var digest = docInfo.data._attachments[key].digest;
          saveAttachment(docInfo, digest, data, attachmentSaved);
        } else {
          recv++;
          collectResults();
        }
      }

      function finish() {
        docInfo.data._doc_id_rev = docInfo.data._id + "::" + docInfo.data._rev;
        var dataReq = txn.objectStore(BY_SEQ_STORE).put(docInfo.data);
        dataReq.onsuccess = function(e) {
          if (Pouch.DEBUG) {
            console.log(name + ': Wrote Document ', docInfo.metadata.id);
          }
          docInfo.metadata.seq = e.target.result;
          // Current _rev is calculated from _rev_tree on read
          delete docInfo.metadata.rev;
          var metaDataReq = txn.objectStore(DOC_STORE).put(docInfo.metadata);
          metaDataReq.onsuccess = function() {
            results.push(docInfo);
            PouchUtils.call(callback);
          };
        };
      }

      if (!attachments.length) {
        finish();
      }
    }

    function updateDoc(oldDoc, docInfo) {
      var merged = PouchMerge.merge(oldDoc.rev_tree, docInfo.metadata.rev_tree[0], 1000);
      var wasPreviouslyDeleted = PouchUtils.isDeleted(oldDoc);
      var inConflict = (wasPreviouslyDeleted &&
                        PouchUtils.isDeleted(docInfo.metadata)) ||
        (!wasPreviouslyDeleted && newEdits && merged.conflicts !== 'new_leaf');

      if (inConflict) {
        results.push(makeErr(Pouch.Errors.REV_CONFLICT, docInfo._bulk_seq));
        return processDocs();
      }

      docInfo.metadata.rev_tree = merged.tree;
      writeDoc(docInfo, processDocs);
    }

    function insertDoc(docInfo) {
      // Cant insert new deleted documents
      if ('was_delete' in opts && PouchUtils.isDeleted(docInfo.metadata)) {
        results.push(Pouch.Errors.MISSING_DOC);
        return processDocs();
      }
      writeDoc(docInfo, processDocs);
    }

    // Insert sequence number into the error so we can sort later
    function makeErr(err, seq) {
      err._bulk_seq = seq;
      return err;
    }

    function saveAttachment(docInfo, digest, data, callback) {
      var objectStore = txn.objectStore(ATTACH_STORE);
      var getReq = objectStore.get(digest).onsuccess = function(e) {
        var originalRefs = e.target.result && e.target.result.refs || {};
        var ref = [docInfo.metadata.id, docInfo.metadata.rev].join('@');
        var newAtt = {
          digest: digest,
          body: data,
          refs: originalRefs
        };
        newAtt.refs[ref] = true;
        var putReq = objectStore.put(newAtt).onsuccess = function(e) {
          PouchUtils.call(callback);
        };
      };
    }

    var txn;
    preprocessAttachments(function() {
      txn = idb.transaction([DOC_STORE, BY_SEQ_STORE, ATTACH_STORE, META_STORE],
                            'readwrite');
      txn.onerror = idbError(callback);
      txn.ontimeout = idbError(callback);
      txn.oncomplete = complete;

      processDocs();
    });
  };

  function sortByBulkSeq(a, b) {
    return a._bulk_seq - b._bulk_seq;
  }

  // First we look up the metadata in the ids database, then we fetch the
  // current revision(s) from the by sequence store
  api._get = function idb_get(id, opts, callback) {
    var doc;
    var metadata;
    var err;
    var txn;
    if (opts.ctx) {
      txn = opts.ctx;
    } else {
      txn = idb.transaction([DOC_STORE, BY_SEQ_STORE, ATTACH_STORE], 'readonly');
    }

    function finish(){
      PouchUtils.call(callback, err, {doc: doc, metadata: metadata, ctx: txn});
    }

    txn.objectStore(DOC_STORE).get(id).onsuccess = function(e) {
      metadata = e.target.result;
      // we can determine the result here if:
      // 1. there is no such document
      // 2. the document is deleted and we don't ask about specific rev
      // When we ask with opts.rev we expect the answer to be either
      // doc (possibly with _deleted=true) or missing error
      if (!metadata) {
        err = Pouch.Errors.MISSING_DOC;
        return finish();
      }
      if (PouchUtils.isDeleted(metadata) && !opts.rev) {
        err = Pouch.error(Pouch.Errors.MISSING_DOC, "deleted");
        return finish();
      }

      var rev = PouchMerge.winningRev(metadata);
      var key = metadata.id + '::' + (opts.rev ? opts.rev : rev);
      var index = txn.objectStore(BY_SEQ_STORE).index('_doc_id_rev');

      index.get(key).onsuccess = function(e) {
        doc = e.target.result;
        if(doc && doc._doc_id_rev) {
          delete(doc._doc_id_rev);
        }
        if (!doc) {
          err = Pouch.Errors.MISSING_DOC;
          return finish();
        }
        finish();
      };
    };
  };

  api._getAttachment = function(attachment, opts, callback) {
    var result;
    var txn;
    if (opts.ctx) {
      txn = opts.ctx;
    } else {
      txn = idb.transaction([DOC_STORE, BY_SEQ_STORE, ATTACH_STORE], 'readonly');
    }
    var digest = attachment.digest;
    var type = attachment.content_type;

    txn.objectStore(ATTACH_STORE).get(digest).onsuccess = function(e) {
      var data = e.target.result.body;
      if (opts.encode) {
        if (blobSupport) {
          var reader = new FileReader();
          reader.onloadend = function(e) {
            result = btoa(this.result);
            PouchUtils.call(callback, null, result);
          };
          reader.readAsBinaryString(data);
        } else {
          result = data;
          PouchUtils.call(callback, null, result);
        }
      } else {
        if (blobSupport) {
          result = data;
        } else {
          data = fixBinary(atob(data));
          result = new Blob([data], {type: type});
        }
        PouchUtils.call(callback, null, result);
      }
    };
  };

  api._allDocs = function idb_allDocs(opts, callback) {
    var start = 'startkey' in opts ? opts.startkey : false;
    var end = 'endkey' in opts ? opts.endkey : false;

    var descending = 'descending' in opts ? opts.descending : false;
    descending = descending ? 'prev' : null;

    var keyRange = start && end ? window.IDBKeyRange.bound(start, end)
      : start ? window.IDBKeyRange.lowerBound(start)
      : end ? window.IDBKeyRange.upperBound(end) : null;

    var transaction = idb.transaction([DOC_STORE, BY_SEQ_STORE], 'readonly');
    transaction.oncomplete = function() {
      if ('keys' in opts) {
        opts.keys.forEach(function(key) {
          if (key in resultsMap) {
            results.push(resultsMap[key]);
          } else {
            results.push({"key": key, "error": "not_found"});
          }
        });
        if (opts.descending) {
          results.reverse();
        }
      }
      PouchUtils.call(callback, null, {
        total_rows: results.length,
        offset: opts.skip,
        rows: ('limit' in opts) ? results.slice(opts.skip, opts.limit + opts.skip) :
          (opts.skip > 0) ? results.slice(opts.skip) : results
      });
    };

    var oStore = transaction.objectStore(DOC_STORE);
    var oCursor = descending ? oStore.openCursor(keyRange, descending)
      : oStore.openCursor(keyRange);
    var results = [];
    var resultsMap = {};
    oCursor.onsuccess = function(e) {
      if (!e.target.result) {
        return;
      }
      var cursor = e.target.result;
      var metadata = cursor.value;
      // If opts.keys is set we want to filter here only those docs with
      // key in opts.keys. With no performance tests it is difficult to
      // guess if iteration with filter is faster than many single requests
      function allDocsInner(metadata, data) {
        if (PouchUtils.isLocalId(metadata.id)) {
          return cursor['continue']();
        }
        var doc = {
          id: metadata.id,
          key: metadata.id,
          value: {
            rev: PouchMerge.winningRev(metadata)
          }
        };
        if (opts.include_docs) {
          doc.doc = data;
          doc.doc._rev = PouchMerge.winningRev(metadata);
          if (doc.doc._doc_id_rev) {
              delete(doc.doc._doc_id_rev);
          }
          if (opts.conflicts) {
            doc.doc._conflicts = PouchMerge.collectConflicts(metadata);
          }
          for (var att in doc.doc._attachments) {
            doc.doc._attachments[att].stub = true;
          }
        }
        if ('keys' in opts) {
          if (opts.keys.indexOf(metadata.id) > -1) {
            if (PouchUtils.isDeleted(metadata)) {
              doc.value.deleted = true;
              doc.doc = null;
            }
            resultsMap[doc.id] = doc;
          }
        } else {
          if (!PouchUtils.isDeleted(metadata)) {
            results.push(doc);
          }
        }
        cursor['continue']();
      }

      if (!opts.include_docs) {
        allDocsInner(metadata);
      } else {
        var index = transaction.objectStore(BY_SEQ_STORE).index('_doc_id_rev');
        var mainRev = PouchMerge.winningRev(metadata);
        var key = metadata.id + "::" + mainRev;
        index.get(key).onsuccess = function(event) {
          allDocsInner(cursor.value, event.target.result);
        };
      }
    };
  };

  api._info = function idb_info(callback) {
    var count = 0;
    var update_seq = 0;
    var txn = idb.transaction([DOC_STORE, META_STORE], 'readonly');

    function fetchUpdateSeq(e) {
      update_seq = e.target.result && e.target.result.updateSeq || 0;
    }

    function countDocs(e) {
      var cursor = e.target.result;
      if (!cursor) {
        txn.objectStore(META_STORE).get(META_STORE).onsuccess = fetchUpdateSeq;
        return;
      }
      if (cursor.value.deleted !== true) {
        count++;
      }
      cursor['continue']();
    }

    txn.oncomplete = function() {
      callback(null, {
        db_name: name,
        doc_count: count,
        update_seq: update_seq
      });
    };

    txn.objectStore(DOC_STORE).openCursor().onsuccess = countDocs;
  };

  api._changes = function idb_changes(opts) {
    if (Pouch.DEBUG) {
      console.log(name + ': Start Changes Feed: continuous=' + opts.continuous);
    }

    if (opts.continuous) {
      var id = name + ':' + Pouch.uuid();
      opts.cancelled = false;
      IdbPouch.Changes.addListener(name, id, api, opts);
      IdbPouch.Changes.notify(name);
      return {
        cancel: function() {
          if (Pouch.DEBUG) {
            console.log(name + ': Cancel Changes Feed');
          }
          opts.cancelled = true;
          IdbPouch.Changes.removeListener(name, id);
        }
      };
    }

    var descending = opts.descending ? 'prev' : null;
    var last_seq = 0;

    // Ignore the `since` parameter when `descending` is true
    opts.since = opts.since && !descending ? opts.since : 0;

    var results = [], resultIndices = {}, dedupResults = [];
    var txn;

    function fetchChanges() {
      txn = idb.transaction([DOC_STORE, BY_SEQ_STORE]);
      txn.oncomplete = onTxnComplete;

      var req;

      if (descending) {
        req = txn.objectStore(BY_SEQ_STORE)
            .openCursor(window.IDBKeyRange.lowerBound(opts.since, true), descending);
      } else {
        req = txn.objectStore(BY_SEQ_STORE)
            .openCursor(window.IDBKeyRange.lowerBound(opts.since, true));
      }

      req.onsuccess = onsuccess;
      req.onerror = onerror;
    }

    if (opts.filter && typeof opts.filter === 'string') {
      var filterName = opts.filter.split('/');
      api.get('_design/' + filterName[0], function(err, ddoc) {
        /*jshint evil: true */
        var filter = eval('(function() { return ' +
                          ddoc.filters[filterName[1]] + ' })()');
        opts.filter = filter;
        fetchChanges();
      });
    } else {
      fetchChanges();
    }

    function onsuccess(event) {
      if (!event.target.result) {
        // Filter out null results casued by deduping
        for (var i = 0, l = results.length; i < l; i++ ) {
          var result = results[i];
          if (result) {
            dedupResults.push(result);
          }
        }
        return false;
      }

      var cursor = event.target.result;

      // Try to pre-emptively dedup to save us a bunch of idb calls
      var changeId = cursor.value._id;
      var changeIdIndex = resultIndices[changeId];
      if (changeIdIndex !== undefined) {
        results[changeIdIndex].seq = cursor.key;
        // update so it has the later sequence number
        results.push(results[changeIdIndex]);
        results[changeIdIndex] = null;
        resultIndices[changeId] = results.length - 1;
        return cursor['continue']();
      }

      var index = txn.objectStore(DOC_STORE);
      index.get(cursor.value._id).onsuccess = function(event) {
        var metadata = event.target.result;
        if (PouchUtils.isLocalId(metadata.id)) {
          return cursor['continue']();
        }

        if(last_seq < metadata.seq){
          last_seq = metadata.seq;
        }

        var mainRev = PouchMerge.winningRev(metadata);
        var key = metadata.id + "::" + mainRev;
        var index = txn.objectStore(BY_SEQ_STORE).index('_doc_id_rev');
        index.get(key).onsuccess = function(docevent) {
          var doc = docevent.target.result;
          delete doc['_doc_id_rev'];
          var changeList = [{rev: mainRev}];
          if (opts.style === 'all_docs') {
            changeList = PouchMerge.collectLeaves(metadata.rev_tree)
              .map(function(x) { return {rev: x.rev}; });
          }
          var change = {
            id: metadata.id,
            seq: cursor.key,
            changes: changeList,
            doc: doc
          };

          if (PouchUtils.isDeleted(metadata, mainRev)) {
            change.deleted = true;
          }
          if (opts.conflicts) {
            change.doc._conflicts = PouchMerge.collectConflicts(metadata);
          }

          // Dedupe the changes feed
          var changeId = change.id, changeIdIndex = resultIndices[changeId];
          if (changeIdIndex !== undefined) {
            results[changeIdIndex] = null;
          }
          results.push(change);
          resultIndices[changeId] = results.length - 1;
          cursor['continue']();
        };
      };
    }

    function onTxnComplete() {
      PouchUtils.processChanges(opts, dedupResults, last_seq);
    }

    function onerror(error) {
      // TODO: shouldn't we pass some params here?
      PouchUtils.call(opts.complete);
    }
  };

  api._close = function(callback) {
    if (idb === null) {
      return PouchUtils.call(callback, Pouch.Errors.NOT_OPEN);
    }

    // https://developer.mozilla.org/en-US/docs/IndexedDB/IDBDatabase#close
    // "Returns immediately and closes the connection in a separate thread..."
    idb.close();
    PouchUtils.call(callback, null);
  };

  api._getRevisionTree = function(docId, callback) {
    var txn = idb.transaction([DOC_STORE], 'readonly');
    var req = txn.objectStore(DOC_STORE).get(docId);
    req.onsuccess = function (event) {
      var doc = event.target.result;
      if (!doc) {
        PouchUtils.call(callback, Pouch.Errors.MISSING_DOC);
      } else {
        PouchUtils.call(callback, null, doc.rev_tree);
      }
    };
  };

  // This function removes revisions of document docId
  // which are listed in revs and sets this document
  // revision to to rev_tree
  api._doCompaction = function(docId, rev_tree, revs, callback) {
    var txn = idb.transaction([DOC_STORE, BY_SEQ_STORE], 'readwrite');

    var index = txn.objectStore(DOC_STORE);
    index.get(docId).onsuccess = function(event) {
      var metadata = event.target.result;
      metadata.rev_tree = rev_tree;

      var count = revs.length;
      revs.forEach(function(rev) {
        var index = txn.objectStore(BY_SEQ_STORE).index('_doc_id_rev');
        var key = docId + "::" + rev;
        index.getKey(key).onsuccess = function(e) {
          var seq = e.target.result;
          if (!seq) {
            return;
          }
          var req = txn.objectStore(BY_SEQ_STORE)['delete'](seq);

          count--;
          if (!count) {
            txn.objectStore(DOC_STORE).put(metadata);
          }
        };
      });
    };
    txn.oncomplete = function() {
      PouchUtils.call(callback);
    };
  };

  return api;
};

IdbPouch.valid = function idb_valid() {
  return typeof window !== 'undefined' && !!window.indexedDB;
};

IdbPouch.destroy = function idb_destroy(name, opts, callback) {
  if (Pouch.DEBUG) {
    console.log(name + ': Delete Database');
  }
  IdbPouch.Changes.clearListeners(name);

  //Close open request for "name" database to fix ie delay.
  if (Pouch.openReqList[name] && Pouch.openReqList[name].result) {
    Pouch.openReqList[name].result.close();
  }
  var req = window.indexedDB.deleteDatabase(name);

  req.onsuccess = function() {
    //Remove open request from the list.
    if (Pouch.openReqList[name]) {
      Pouch.openReqList[name] = null;
    }
    PouchUtils.call(callback, null);
  };

  req.onerror = idbError(callback);
};

IdbPouch.Changes = new PouchUtils.Changes();

Pouch.adapter('idb', IdbPouch);

/*globals PouchUtils: true, PouchMerge */

'use strict';

var PouchUtils;

function quote(str) {
  return "'" + str + "'";
}

var POUCH_VERSION = 1;
var POUCH_SIZE = 5 * 1024 * 1024;

// The object stores created for each database
// DOC_STORE stores the document meta data, its revision history and state
var DOC_STORE = quote('document-store');
// BY_SEQ_STORE stores a particular version of a document, keyed by its
// sequence id
var BY_SEQ_STORE = quote('by-sequence');
// Where we store attachments
var ATTACH_STORE = quote('attach-store');
var META_STORE = quote('metadata-store');

var unknownError = function(callback) {
  return function(event) {
    PouchUtils.call(callback, {
      status: 500,
      error: event.type,
      reason: event.target
    });
  };
};

var webSqlPouch = function(opts, callback) {

  var api = {};
  var instanceId = null;
  var name = opts.name;

  var db = openDatabase(name, POUCH_VERSION, name, POUCH_SIZE);
  if (!db) {
    return PouchUtils.call(callback, Pouch.Errors.UNKNOWN_ERROR);
  }

  function dbCreated() {
    callback(null, api);
  }

  function setup(){
    db.transaction(function (tx) {
      var meta = 'CREATE TABLE IF NOT EXISTS ' + META_STORE +
        ' (update_seq, dbid)';
      var attach = 'CREATE TABLE IF NOT EXISTS ' + ATTACH_STORE +
        ' (digest, json, body BLOB)';
      var doc = 'CREATE TABLE IF NOT EXISTS ' + DOC_STORE +
        ' (id unique, seq, json, winningseq)';
      var seq = 'CREATE TABLE IF NOT EXISTS ' + BY_SEQ_STORE +
        ' (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, doc_id_rev UNIQUE, json)';

      tx.executeSql(attach);
      tx.executeSql(doc);
      tx.executeSql(seq);
      tx.executeSql(meta);

      var updateseq = 'SELECT update_seq FROM ' + META_STORE;
      tx.executeSql(updateseq, [], function(tx, result) {
        if (!result.rows.length) {
          var initSeq = 'INSERT INTO ' + META_STORE + ' (update_seq) VALUES (?)';
          tx.executeSql(initSeq, [0]);
          return;
        }
      });

      var dbid = 'SELECT dbid FROM ' + META_STORE + ' WHERE dbid IS NOT NULL';
      tx.executeSql(dbid, [], function(tx, result) {
        if (!result.rows.length) {
          var initDb = 'UPDATE ' + META_STORE + ' SET dbid=?';
          instanceId = Pouch.uuid();
          tx.executeSql(initDb, [instanceId]);
          return;
        }
        instanceId = result.rows.item(0).dbid;
      });
    }, unknownError(callback), dbCreated);
  }
  if (PouchUtils.isCordova() && typeof window !== 'undefined') {
    //to wait until custom api is made in pouch.adapters before doing setup
    window.addEventListener(name + '_pouch', function cordova_init() {
      window.removeEventListener(name + '_pouch', cordova_init, false);
      setup();
    }, false);
  } else {
    setup();
  }


  api.type = function() {
    return 'websql';
  };

  api.id = function() {
    return instanceId;
  };

  api._info = function(callback) {
    db.transaction(function(tx) {
      var sql = 'SELECT COUNT(id) AS count FROM ' + DOC_STORE;
      tx.executeSql(sql, [], function(tx, result) {
        var doc_count = result.rows.item(0).count;
        var updateseq = 'SELECT update_seq FROM ' + META_STORE;
        tx.executeSql(updateseq, [], function(tx, result) {
          var update_seq = result.rows.item(0).update_seq;
          callback(null, {
            db_name: name,
            doc_count: doc_count,
            update_seq: update_seq
          });
        });
      });
    });
  };

  api._bulkDocs = function idb_bulkDocs(req, opts, callback) {

    var newEdits = opts.new_edits;
    var userDocs = req.docs;
    var docsWritten = 0;

    // Parse the docs, give them a sequence number for the result
    var docInfos = userDocs.map(function(doc, i) {
      var newDoc = PouchUtils.parseDoc(doc, newEdits);
      newDoc._bulk_seq = i;
      return newDoc;
    });

    var docInfoErrors = docInfos.filter(function(docInfo) {
      return docInfo.error;
    });
    if (docInfoErrors.length) {
      return PouchUtils.call(callback, docInfoErrors[0]);
    }

    var tx;
    var results = [];
    var fetchedDocs = {};

    function sortByBulkSeq(a, b) {
      return a._bulk_seq - b._bulk_seq;
    }

    function complete(event) {
      var aresults = [];
      results.sort(sortByBulkSeq);
      results.forEach(function(result) {
        delete result._bulk_seq;
        if (result.error) {
          aresults.push(result);
          return;
        }
        var metadata = result.metadata;
        var rev = PouchMerge.winningRev(metadata);

        aresults.push({
          ok: true,
          id: metadata.id,
          rev: rev
        });

        if (PouchUtils.isLocalId(metadata.id)) {
          return;
        }

        docsWritten++;

        webSqlPouch.Changes.notify(name);
        webSqlPouch.Changes.notifyLocalWindows(name);
      });

      var updateseq = 'SELECT update_seq FROM ' + META_STORE;
      tx.executeSql(updateseq, [], function(tx, result) {
        var update_seq = result.rows.item(0).update_seq + docsWritten;
        var sql = 'UPDATE ' + META_STORE + ' SET update_seq=?';
        tx.executeSql(sql, [update_seq], function() {
          PouchUtils.call(callback, null, aresults);
        });
      });
    }

    function preprocessAttachment(att, finish) {
      if (att.stub) {
        return finish();
      }
      if (typeof att.data === 'string') {
        try {
          att.data = atob(att.data);
        } catch (e) {
          var err = Pouch.error(Pouch.Errors.BAD_ARG,
                                "Attachments need to be base64 encoded");
          return PouchUtils.call(callback, err);
        }
        att.digest = 'md5-' + PouchUtils.Crypto.MD5(att.data);
        return finish();
      }
      var reader = new FileReader();
      reader.onloadend = function(e) {
        att.data = this.result;
        att.digest = 'md5-' + PouchUtils.Crypto.MD5(this.result);
        finish();
      };
      reader.readAsBinaryString(att.data);
    }

    function preprocessAttachments(callback) {
      if (!docInfos.length) {
        return callback();
      }

      var docv = 0;
      var recv = 0;

      docInfos.forEach(function(docInfo) {
        var attachments = docInfo.data && docInfo.data._attachments ?
          Object.keys(docInfo.data._attachments) : [];

        if (!attachments.length) {
          return done();
        }

        function processedAttachment() {
          recv++;
          if (recv === attachments.length) {
            done();
          }
        }

        for (var key in docInfo.data._attachments) {
          preprocessAttachment(docInfo.data._attachments[key], processedAttachment);
        }
      });

      function done() {
        docv++;
        if (docInfos.length === docv) {
          callback();
        }
      }
    }

    function writeDoc(docInfo, callback, isUpdate) {

      function finish() {
        var data = docInfo.data;
        var sql = 'INSERT INTO ' + BY_SEQ_STORE + ' (doc_id_rev, json) VALUES (?, ?);';
        tx.executeSql(sql, [data._id + "::" + data._rev,
                            JSON.stringify(data)], dataWritten);
      }

      function collectResults(attachmentErr) {
        if (!err) {
          if (attachmentErr) {
            err = attachmentErr;
            PouchUtils.call(callback, err);
          } else if (recv === attachments.length) {
            finish();
          }
        }
      }

      var err = null;
      var recv = 0;

      docInfo.data._id = docInfo.metadata.id;
      docInfo.data._rev = docInfo.metadata.rev;

      if (PouchUtils.isDeleted(docInfo.metadata, docInfo.metadata.rev)) {
        docInfo.data._deleted = true;
      }

      var attachments = docInfo.data._attachments ?
        Object.keys(docInfo.data._attachments) : [];

      function attachmentSaved(err) {
        recv++;
        collectResults(err);
      }

      for (var key in docInfo.data._attachments) {
        if (!docInfo.data._attachments[key].stub) {
          var data = docInfo.data._attachments[key].data;
          delete docInfo.data._attachments[key].data;
          var digest = docInfo.data._attachments[key].digest;
          saveAttachment(docInfo, digest, data, attachmentSaved);
        } else {
          recv++;
          collectResults();
        }
      }

      if (!attachments.length) {
        finish();
      }

      function dataWritten(tx, result) {
        var seq = docInfo.metadata.seq = result.insertId;
        delete docInfo.metadata.rev;

        var mainRev = PouchMerge.winningRev(docInfo.metadata);

        var sql = isUpdate ?
          'UPDATE ' + DOC_STORE + ' SET seq=?, json=?, winningseq=(SELECT seq FROM ' +
          BY_SEQ_STORE + ' WHERE doc_id_rev=?) WHERE id=?' :
          'INSERT INTO ' + DOC_STORE + ' (id, seq, winningseq, json) VALUES (?, ?, ?, ?);';
        var metadataStr = JSON.stringify(docInfo.metadata);
        var key = docInfo.metadata.id + "::" + mainRev;
        var params = isUpdate ?
          [seq, metadataStr, key, docInfo.metadata.id] :
          [docInfo.metadata.id, seq, seq, metadataStr];
        tx.executeSql(sql, params, function(tx, result) {
          results.push(docInfo);
          PouchUtils.call(callback, null);
        });
      }
    }

    function updateDoc(oldDoc, docInfo) {
      var merged = PouchMerge.merge(oldDoc.rev_tree, docInfo.metadata.rev_tree[0], 1000);
      var inConflict = (PouchUtils.isDeleted(oldDoc) &&
                        PouchUtils.isDeleted(docInfo.metadata)) ||
        (!PouchUtils.isDeleted(oldDoc) &&
         newEdits && merged.conflicts !== 'new_leaf');

      if (inConflict) {
        results.push(makeErr(Pouch.Errors.REV_CONFLICT, docInfo._bulk_seq));
        return processDocs();
      }

      docInfo.metadata.rev_tree = merged.tree;
      writeDoc(docInfo, processDocs, true);
    }

    function insertDoc(docInfo) {
      // Cant insert new deleted documents
      if ('was_delete' in opts && PouchUtils.isDeleted(docInfo.metadata)) {
        results.push(Pouch.Errors.MISSING_DOC);
        return processDocs();
      }
      writeDoc(docInfo, processDocs, false);
    }

    function processDocs() {
      if (!docInfos.length) {
        return complete();
      }
      var currentDoc = docInfos.shift();
      var id = currentDoc.metadata.id;
      if (id in fetchedDocs) {
        updateDoc(fetchedDocs[id], currentDoc);
      } else {
        // if we have newEdits=false then we can update the same
        // document twice in a single bulk docs call
        fetchedDocs[id] = currentDoc.metadata;
        insertDoc(currentDoc);
      }
    }

    // Insert sequence number into the error so we can sort later
    function makeErr(err, seq) {
      err._bulk_seq = seq;
      return err;
    }

    function saveAttachment(docInfo, digest, data, callback) {
      var ref = [docInfo.metadata.id, docInfo.metadata.rev].join('@');
      var newAtt = {digest: digest};
      var sql = 'SELECT digest, json FROM ' + ATTACH_STORE + ' WHERE digest=?';
      tx.executeSql(sql, [digest], function(tx, result) {
        if (!result.rows.length) {
          newAtt.refs = {};
          newAtt.refs[ref] = true;
          sql = 'INSERT INTO ' + ATTACH_STORE + '(digest, json, body) VALUES (?, ?, ?)';
          tx.executeSql(sql, [digest, JSON.stringify(newAtt), data], function() {
            PouchUtils.call(callback, null);
          });
        } else {
          newAtt.refs = JSON.parse(result.rows.item(0).json).refs;
          sql = 'UPDATE ' + ATTACH_STORE + ' SET json=?, body=? WHERE digest=?';
          tx.executeSql(sql, [JSON.stringify(newAtt), data, digest], function() {
            PouchUtils.call(callback, null);
          });
        }
      });
    }

    function metadataFetched(tx, results) {
      for (var j=0; j<results.rows.length; j++) {
        var row = results.rows.item(j);
        fetchedDocs[row.id] = JSON.parse(row.json);
      }
      processDocs();
    }

    preprocessAttachments(function() {
      db.transaction(function(txn) {
        tx = txn;
        var ids = '(' + docInfos.map(function(d) {
          return quote(d.metadata.id);
        }).join(',') + ')';
        var sql = 'SELECT * FROM ' + DOC_STORE + ' WHERE id IN ' + ids;
        tx.executeSql(sql, [], metadataFetched);
      }, unknownError(callback));
    });
  };

  api._get = function(id, opts, callback) {
    var doc;
    var metadata;
    var err;
    if (!opts.ctx) {
      db.transaction(function(txn) {
        opts.ctx = txn;
        api._get(id, opts, callback);
      });
      return;
    }
    var tx = opts.ctx;

    function finish() {
      PouchUtils.call(callback, err, {doc: doc, metadata: metadata, ctx: tx});
    }

    var sql = 'SELECT * FROM ' + DOC_STORE + ' WHERE id=?';
    tx.executeSql(sql, [id], function(a, results) {
      if (!results.rows.length) {
        err = Pouch.Errors.MISSING_DOC;
        return finish();
      }
      metadata = JSON.parse(results.rows.item(0).json);
      if (PouchUtils.isDeleted(metadata) && !opts.rev) {
        err = Pouch.error(Pouch.Errors.MISSING_DOC, "deleted");
        return finish();
      }

      var rev = PouchMerge.winningRev(metadata);
      var key = opts.rev ? opts.rev : rev;
      key = metadata.id + '::' + key;
      var sql = 'SELECT * FROM ' + BY_SEQ_STORE + ' WHERE doc_id_rev=?';
      tx.executeSql(sql, [key], function(tx, results) {
        if (!results.rows.length) {
          err = Pouch.Errors.MISSING_DOC;
          return finish();
        }
        doc = JSON.parse(results.rows.item(0).json);

        finish();
      });
    });
  };

  function makeRevs(arr) {
    return arr.map(function(x) { return {rev: x.rev}; });
  }

  api._allDocs = function(opts, callback) {
    var results = [];
    var resultsMap = {};
    var start = 'startkey' in opts ? opts.startkey : false;
    var end = 'endkey' in opts ? opts.endkey : false;
    var descending = 'descending' in opts ? opts.descending : false;
    var sql = 'SELECT ' + DOC_STORE + '.id, ' + BY_SEQ_STORE + '.seq, ' +
      BY_SEQ_STORE + '.json AS data, ' + DOC_STORE + '.json AS metadata FROM ' +
      BY_SEQ_STORE + ' JOIN ' + DOC_STORE + ' ON ' + BY_SEQ_STORE + '.seq = ' +
      DOC_STORE + '.winningseq';

    if ('keys' in opts) {
      sql += ' WHERE ' + DOC_STORE + '.id IN (' + opts.keys.map(function(key){
        return quote(key);
      }).join(',') + ')';
    } else {
      if (start) {
        sql += ' WHERE ' + DOC_STORE + '.id >= "' + start + '"';
      }
      if (end) {
        sql += (start ? ' AND ' : ' WHERE ') + DOC_STORE + '.id <= "' + end + '"';
      }
      sql += ' ORDER BY ' + DOC_STORE + '.id ' + (descending ? 'DESC' : 'ASC');
    }

    db.transaction(function(tx) {
      tx.executeSql(sql, [], function(tx, result) {
        for (var i = 0, l = result.rows.length; i < l; i++ ) {
          var doc = result.rows.item(i);
          var metadata = JSON.parse(doc.metadata);
          var data = JSON.parse(doc.data);
          if (!(PouchUtils.isLocalId(metadata.id))) {
            doc = {
              id: metadata.id,
              key: metadata.id,
              value: {rev: PouchMerge.winningRev(metadata)}
            };
            if (opts.include_docs) {
              doc.doc = data;
              doc.doc._rev = PouchMerge.winningRev(metadata);
              if (opts.conflicts) {
                doc.doc._conflicts = PouchMerge.collectConflicts(metadata);
              }
              for (var att in doc.doc._attachments) {
                doc.doc._attachments[att].stub = true;
              }
            }
            if ('keys' in opts) {
              if (opts.keys.indexOf(metadata.id) > -1) {
                if (PouchUtils.isDeleted(metadata)) {
                  doc.value.deleted = true;
                  doc.doc = null;
                }
                resultsMap[doc.id] = doc;
              }
            } else {
              if(!PouchUtils.isDeleted(metadata)) {
                results.push(doc);
              }
            }
          }
        }
      });
    }, unknownError(callback), function() {
      if ('keys' in opts) {
        opts.keys.forEach(function(key) {
          if (key in resultsMap) {
            results.push(resultsMap[key]);
          } else {
            results.push({"key": key, "error": "not_found"});
          }
        });
        if (opts.descending) {
          results.reverse();
        }
      }
      PouchUtils.call(callback, null, {
        total_rows: results.length,
        offset: opts.skip,
        rows: ('limit' in opts) ? results.slice(opts.skip, opts.limit + opts.skip) :
          (opts.skip > 0) ? results.slice(opts.skip) : results
      });
    });
  };

  api._changes = function idb_changes(opts) {

    if (Pouch.DEBUG) {
      console.log(name + ': Start Changes Feed: continuous=' + opts.continuous);
    }

    if (opts.continuous) {
      var id = name + ':' + Pouch.uuid();
      opts.cancelled = false;
      webSqlPouch.Changes.addListener(name, id, api, opts);
      webSqlPouch.Changes.notify(name);
      return {
        cancel: function() {
          if (Pouch.DEBUG) {
            console.log(name + ': Cancel Changes Feed');
          }
          opts.cancelled = true;
          webSqlPouch.Changes.removeListener(name, id);
        }
      };
    }

    var descending = opts.descending;

    // Ignore the `since` parameter when `descending` is true
    opts.since = opts.since && !descending ? opts.since : 0;

    var results = [];
    var txn;

    function fetchChanges() {
      var sql = 'SELECT ' + DOC_STORE + '.id, ' + BY_SEQ_STORE + '.seq, ' +
        BY_SEQ_STORE + '.json AS data, ' + DOC_STORE + '.json AS metadata FROM ' +
        BY_SEQ_STORE + ' JOIN ' + DOC_STORE + ' ON ' + BY_SEQ_STORE + '.seq = ' +
        DOC_STORE + '.winningseq WHERE ' + DOC_STORE + '.seq > ' + opts.since +
        ' ORDER BY ' + DOC_STORE + '.seq ' + (descending ? 'DESC' : 'ASC');

      db.transaction(function(tx) {
        tx.executeSql(sql, [], function(tx, result) {
          var last_seq = 0;
          for (var i = 0, l = result.rows.length; i < l; i++ ) {
            var res = result.rows.item(i);
            var metadata = JSON.parse(res.metadata);
            if (!PouchUtils.isLocalId(metadata.id)) {
              if (last_seq < res.seq) {
                last_seq = res.seq;
              }
              var doc = JSON.parse(res.data);
              var mainRev = doc._rev;
              var changeList = [{rev: mainRev}];
              if (opts.style === 'all_docs') {
                changeList = makeRevs(PouchMerge.collectLeaves(metadata.rev_tree));
              }
              var change = {
                id: metadata.id,
                seq: res.seq,
                changes: changeList,
                doc: doc
              };
              if (PouchUtils.isDeleted(metadata, mainRev)) {
                change.deleted = true;
              }
              if (opts.conflicts) {
                change.doc._conflicts = PouchMerge.collectConflicts(metadata);
              }
              results.push(change);
            }
          }
          PouchUtils.processChanges(opts, results, last_seq);
        });
      });
    }

    if (opts.filter && typeof opts.filter === 'string') {
      var filterName = opts.filter.split('/');
      api.get('_design/' + filterName[0], function(err, ddoc) {
        /*jshint evil: true */
        var filter = eval('(function() { return ' +
                          ddoc.filters[filterName[1]] + ' })()');
        opts.filter = filter;
        fetchChanges();
      });
    } else {
      fetchChanges();
    }
  };

  api._close = function(callback) {
    //WebSQL databases do not need to be closed
    PouchUtils.call(callback, null);
  };

  api._getAttachment = function(attachment, opts, callback) {
    var res;
    var tx = opts.ctx;
    var digest = attachment.digest;
    var type = attachment.content_type;
    var sql = 'SELECT body FROM ' + ATTACH_STORE + ' WHERE digest=?';
    tx.executeSql(sql, [digest], function(tx, result) {
      var data = result.rows.item(0).body;
      if (opts.encode) {
        res = btoa(data);
      } else {
        res = new Blob([data], {type: type});
      }
      PouchUtils.call(callback, null, res);
    });
  };

  api._getRevisionTree = function(docId, callback) {
    db.transaction(function (tx) {
      var sql = 'SELECT json AS metadata FROM ' + DOC_STORE + ' WHERE id = ?';
      tx.executeSql(sql, [docId], function(tx, result) {
        if (!result.rows.length) {
          PouchUtils.call(callback, Pouch.Errors.MISSING_DOC);
        } else {
          var data = JSON.parse(result.rows.item(0).metadata);
          PouchUtils.call(callback, null, data.rev_tree);
        }
      });
    });
  };

  api._doCompaction = function(docId, rev_tree, revs, callback) {
    db.transaction(function (tx) {
      var sql = 'SELECT json AS metadata FROM ' + DOC_STORE + ' WHERE id = ?';
      tx.executeSql(sql, [docId], function(tx, result) {
        if (!result.rows.length) {
          return PouchUtils.call(callback);
        }
        var metadata = JSON.parse(result.rows.item(0).metadata);
        metadata.rev_tree = rev_tree;

        var sql = 'DELETE FROM ' + BY_SEQ_STORE + ' WHERE doc_id_rev IN (' +
          revs.map(function(rev){return quote(docId + '::' + rev);}).join(',') + ')';

        tx.executeSql(sql, [], function(tx, result) {
          var sql = 'UPDATE ' + DOC_STORE + ' SET json = ? WHERE id = ?';

          tx.executeSql(sql, [JSON.stringify(metadata), docId], function(tx, result) {
            callback();
          });
        });
      });
    });
  };

  return api;
};

webSqlPouch.valid = function() {
  return typeof window !== 'undefined' && !!window.openDatabase;
};

webSqlPouch.destroy = function(name, opts, callback) {
  var db = openDatabase(name, POUCH_VERSION, name, POUCH_SIZE);
  db.transaction(function (tx) {
    tx.executeSql('DROP TABLE IF EXISTS ' + DOC_STORE, []);
    tx.executeSql('DROP TABLE IF EXISTS ' + BY_SEQ_STORE, []);
    tx.executeSql('DROP TABLE IF EXISTS ' + ATTACH_STORE, []);
    tx.executeSql('DROP TABLE IF EXISTS ' + META_STORE, []);
  }, unknownError(callback), function() {
    PouchUtils.call(callback, null);
  });
};

webSqlPouch.Changes = new PouchUtils.Changes();

Pouch.adapter('websql', webSqlPouch);

/*global Pouch: true, pouchCollate: true */

"use strict";

var pouchCollate;

// This is the first implementation of a basic plugin, we register the
// plugin object with pouch and it is mixin'd to each database created
// (regardless of adapter), adapters can override plugins by providing
// their own implementation. functions on the plugin object that start
// with _ are reserved function that are called by pouchdb for special
// notifications.

// If we wanted to store incremental views we can do it here by listening
// to the changes feed (keeping track of our last update_seq between page loads)
// and storing the result of the map function (possibly using the upcoming
// extracted adapter functions)

var MapReduce = function(db) {

  function viewQuery(fun, options) {
    if (!options.complete) {
      return;
    }

    if (!options.skip) {
      options.skip = 0;
    }

    if (!fun.reduce) {
      options.reduce = false;
    }

    function sum(values) {
      return values.reduce(function(a, b) { return a + b; }, 0);
    }

    var builtInReduce = {
      "_sum": function(keys, values){
        return sum(values);
      },

      "_count": function(keys, values, rereduce){
        if (rereduce){
          return sum(values);
        } else {
          return values.length;
        }
      },

      "_stats": function(keys, values, rereduce) {
        return {
          'sum': sum(values),
          'min': Math.min.apply(null, values),
          'max': Math.max.apply(null, values),
          'count': values.length,
          'sumsqr': (function(){
            var _sumsqr = 0;
            for(var idx in values) {
              if (typeof values[idx] === 'number') {
              _sumsqr += values[idx] * values[idx];
              }
            }
            return _sumsqr;
          })()
        };
      }
    };

    var results = [];
    var current = null;
    var num_started= 0;
    var completed= false;

    var emit = function(key, val) {
      var viewRow = {
        id: current.doc._id,
        key: key,
        value: val
      };

      if (options.startkey && pouchCollate(key, options.startkey) < 0) return;
      if (options.endkey && pouchCollate(key, options.endkey) > 0) return;
      if (options.key && pouchCollate(key, options.key) !== 0) return;

      num_started++;
      if (options.include_docs) {
        //in this special case, join on _id (issue #106)
        if (val && typeof val === 'object' && val._id){
          db.get(val._id,
              function(_, joined_doc){
                if (joined_doc) {
                  viewRow.doc = joined_doc;
                }
                results.push(viewRow);
                checkComplete();
              });
          return;
        } else {
          viewRow.doc = current.doc;
        }
      }
      results.push(viewRow);
    };

    // ugly way to make sure references to 'emit' in map/reduce bind to the
    // above emit
    eval('fun.map = ' + fun.map.toString() + ';');
    if (fun.reduce) {
      if (builtInReduce[fun.reduce]) {
        fun.reduce = builtInReduce[fun.reduce];
      }

      eval('fun.reduce = ' + fun.reduce.toString() + ';');
    }

    //only proceed once all documents are mapped and joined
    var checkComplete= function(){
      if (completed && results.length == num_started){
        results.sort(function(a, b) {
          return pouchCollate(a.key, b.key);
        });
        if (options.descending) {
          results.reverse();
        }
        if (options.reduce === false) {
          return options.complete(null, {
            total_rows: results.length,
            offset: options.skip,
            rows: ('limit' in options) ? results.slice(options.skip, options.limit + options.skip) :
              (options.skip > 0) ? results.slice(options.skip) : results
          });
        }

        var groups = [];
        results.forEach(function(e) {
          var last = groups[groups.length-1] || null;
          if (last && pouchCollate(last.key[0][0], e.key) === 0) {
            last.key.push([e.key, e.id]);
            last.value.push(e.value);
            return;
          }
          groups.push({key: [[e.key, e.id]], value: [e.value]});
        });
        groups.forEach(function(e) {
          e.value = fun.reduce(e.key, e.value);
          e.value = (typeof e.value === 'undefined') ? null : e.value;
          e.key = e.key[0][0];
        });

        options.complete(null, {
          total_rows: groups.length,
          offset: options.skip,
          rows: ('limit' in options) ? groups.slice(options.skip, options.limit + options.skip) :
            (options.skip > 0) ? groups.slice(options.skip) : groups
        });
      }
    };

    db.changes({
      conflicts: true,
      include_docs: true,
      onChange: function(doc) {
        if (!('deleted' in doc)) {
          current = {doc: doc.doc};
          fun.map.call(this, doc.doc);
        }
      },
      complete: function() {
        completed= true;
        checkComplete();
      }
    });
  }

  function httpQuery(fun, opts, callback) {

    // List of parameters to add to the PUT request
    var params = [];
    var body = undefined;
    var method = 'GET';

    // If opts.reduce exists and is defined, then add it to the list
    // of parameters.
    // If reduce=false then the results are that of only the map function
    // not the final result of map and reduce.
    if (typeof opts.reduce !== 'undefined') {
      params.push('reduce=' + opts.reduce);
    }
    if (typeof opts.include_docs !== 'undefined') {
      params.push('include_docs=' + opts.include_docs);
    }
    if (typeof opts.limit !== 'undefined') {
      params.push('limit=' + opts.limit);
    }
    if (typeof opts.descending !== 'undefined') {
      params.push('descending=' + opts.descending);
    }
    if (typeof opts.startkey !== 'undefined') {
      params.push('startkey=' + encodeURIComponent(JSON.stringify(opts.startkey)));
    }
    if (typeof opts.endkey !== 'undefined') {
      params.push('endkey=' + encodeURIComponent(JSON.stringify(opts.endkey)));
    }
    if (typeof opts.key !== 'undefined') {
      params.push('key=' + encodeURIComponent(JSON.stringify(opts.key)));
    }
    if (typeof opts.group !== 'undefined') {
      params.push('group=' + opts.group);
    }
    if (typeof opts.group_level !== 'undefined') {
      params.push('group_level=' + opts.group_level);
    }
    if (typeof opts.skip !== 'undefined') {
      params.push('skip=' + opts.skip);
    }

    // If keys are supplied, issue a POST request to circumvent GET query string limits
    // see http://wiki.apache.org/couchdb/HTTP_view_API#Querying_Options
    if (typeof opts.keys !== 'undefined') {
      method = 'POST';
      body = JSON.stringify({keys:opts.keys});
    }

    // Format the list of parameters into a valid URI query string
    params = params.join('&');
    params = params === '' ? '' : '?' + params;

    // We are referencing a query defined in the design doc
    if (typeof fun === 'string') {
      var parts = fun.split('/');
      db.request({
        method: method,
        url: '_design/' + parts[0] + '/_view/' + parts[1] + params,
        body: body
      }, callback);
      return;
    }

    // We are using a temporary view, terrible for performance but good for testing
    var queryObject = JSON.parse(JSON.stringify(fun, function(key, val) {
      if (typeof val === 'function') {
        return val + ''; // implicitly `toString` it
      }
      return val;
    }));

    db.request({
      method:'POST',
      url: '_temp_view' + params,
      body: queryObject
    }, callback);
  }

  function query(fun, opts, callback) {
    if (typeof opts === 'function') {
      callback = opts;
      opts = {};
    }

    if (callback) {
      opts.complete = callback;
    }

    if (db.type() === 'http') {
	  if (typeof fun === 'function'){
	    return httpQuery({map: fun}, opts, callback);
	  }
	  return httpQuery(fun, opts, callback);
    }

    if (typeof fun === 'object') {
      return viewQuery(fun, opts);
    }

    if (typeof fun === 'function') {
      return viewQuery({map: fun}, opts);
    }

    var parts = fun.split('/');
    db.get('_design/' + parts[0], function(err, doc) {
      if (err) {
        if (callback) callback(err);
        return;
      }

      if (!doc.views[parts[1]]) {
        if (callback) callback({ error: 'not_found', reason: 'missing_named_view' });
        return;
      }

      viewQuery({
        map: doc.views[parts[1]].map,
        reduce: doc.views[parts[1]].reduce
      }, opts);
    });
  }

  return {'query': query};
};

// Deletion is a noop since we dont store the results of the view
MapReduce._delete = function() { };

Pouch.plugin('mapreduce', MapReduce);

 })(this);

},{"__browserify_Buffer":7}],17:[function(require,module,exports){
var rfile, zone_files;

rfile = undefined /* removed rfile require */;

module.exports = zone_files = {};

zone_files['africa'] = "# <pre>\n# This file is in the public domain, so clarified as of\n# 2009-05-17 by Arthur David Olson.\n\n# This data is by no means authoritative; if you think you know better,\n# go ahead and edit the file (and please send any changes to\n# tz@iana.org for general use in the future).\n\n# From Paul Eggert (2013-02-21):\n#\n# A good source for time zone historical data outside the U.S. is\n# Thomas G. Shanks and Rique Pottenger, The International Atlas (6th edition),\n# San Diego: ACS Publications, Inc. (2003).\n#\n# Gwillim Law writes that a good source\n# for recent time zone data is the International Air Transport\n# Association's Standard Schedules Information Manual (IATA SSIM),\n# published semiannually.  Law sent in several helpful summaries\n# of the IATA's data after 1990.\n#\n# Except where otherwise noted, Shanks & Pottenger is the source for\n# entries through 1990, and IATA SSIM is the source for entries afterwards.\n#\n# Another source occasionally used is Edward W. Whitman, World Time Differences,\n# Whitman Publishing Co, 2 Niagara Av, Ealing, London (undated), which\n# I found in the UCLA library.\n#\n# For data circa 1899, a common source is:\n# Milne J. Civil time. Geogr J. 1899 Feb;13(2):173-94\n# <http://www.jstor.org/stable/1774359>.\n#\n# A reliable and entertaining source about time zones is\n# Derek Howse, Greenwich time and longitude, Philip Wilson Publishers (1997).\n#\n# Previous editions of this database used WAT, CAT, SAT, and EAT\n# for +0:00 through +3:00, respectively,\n# but Mark R V Murray reports that\n# `SAST' is the official abbreviation for +2:00 in the country of South Africa,\n# `CAT' is commonly used for +2:00 in countries north of South Africa, and\n# `WAT' is probably the best name for +1:00, as the common phrase for\n# the area that includes Nigeria is ``West Africa''.\n# He has heard of ``Western Sahara Time'' for +0:00 but can find no reference.\n#\n# To make things confusing, `WAT' seems to have been used for -1:00 long ago;\n# I'd guess that this was because people needed _some_ name for -1:00,\n# and at the time, far west Africa was the only major land area in -1:00.\n# This usage is now obsolete, as the last use of -1:00 on the African\n# mainland seems to have been 1976 in Western Sahara.\n#\n# To summarize, the following abbreviations seem to have some currency:\n#\t-1:00\tWAT\tWest Africa Time (no longer used)\n#\t 0:00\tGMT\tGreenwich Mean Time\n#\t 2:00\tCAT\tCentral Africa Time\n#\t 2:00\tSAST\tSouth Africa Standard Time\n# and Murray suggests the following abbreviation:\n#\t 1:00\tWAT\tWest Africa Time\n# I realize that this leads to `WAT' being used for both -1:00 and 1:00\n# for times before 1976, but this is the best I can think of\n# until we get more information.\n#\n# I invented the following abbreviations; corrections are welcome!\n#\t 2:00\tWAST\tWest Africa Summer Time\n#\t 2:30\tBEAT\tBritish East Africa Time (no longer used)\n#\t 2:45\tBEAUT\tBritish East Africa Unified Time (no longer used)\n#\t 3:00\tCAST\tCentral Africa Summer Time (no longer used)\n#\t 3:00\tSAST\tSouth Africa Summer Time (no longer used)\n#\t 3:00\tEAT\tEast Africa Time\n#\t 4:00\tEAST\tEast Africa Summer Time (no longer used)\n\n# Algeria\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tAlgeria\t1916\tonly\t-\tJun\t14\t23:00s\t1:00\tS\nRule\tAlgeria\t1916\t1919\t-\tOct\tSun>=1\t23:00s\t0\t-\nRule\tAlgeria\t1917\tonly\t-\tMar\t24\t23:00s\t1:00\tS\nRule\tAlgeria\t1918\tonly\t-\tMar\t 9\t23:00s\t1:00\tS\nRule\tAlgeria\t1919\tonly\t-\tMar\t 1\t23:00s\t1:00\tS\nRule\tAlgeria\t1920\tonly\t-\tFeb\t14\t23:00s\t1:00\tS\nRule\tAlgeria\t1920\tonly\t-\tOct\t23\t23:00s\t0\t-\nRule\tAlgeria\t1921\tonly\t-\tMar\t14\t23:00s\t1:00\tS\nRule\tAlgeria\t1921\tonly\t-\tJun\t21\t23:00s\t0\t-\nRule\tAlgeria\t1939\tonly\t-\tSep\t11\t23:00s\t1:00\tS\nRule\tAlgeria\t1939\tonly\t-\tNov\t19\t 1:00\t0\t-\nRule\tAlgeria\t1944\t1945\t-\tApr\tMon>=1\t 2:00\t1:00\tS\nRule\tAlgeria\t1944\tonly\t-\tOct\t 8\t 2:00\t0\t-\nRule\tAlgeria\t1945\tonly\t-\tSep\t16\t 1:00\t0\t-\nRule\tAlgeria\t1971\tonly\t-\tApr\t25\t23:00s\t1:00\tS\nRule\tAlgeria\t1971\tonly\t-\tSep\t26\t23:00s\t0\t-\nRule\tAlgeria\t1977\tonly\t-\tMay\t 6\t 0:00\t1:00\tS\nRule\tAlgeria\t1977\tonly\t-\tOct\t21\t 0:00\t0\t-\nRule\tAlgeria\t1978\tonly\t-\tMar\t24\t 1:00\t1:00\tS\nRule\tAlgeria\t1978\tonly\t-\tSep\t22\t 3:00\t0\t-\nRule\tAlgeria\t1980\tonly\t-\tApr\t25\t 0:00\t1:00\tS\nRule\tAlgeria\t1980\tonly\t-\tOct\t31\t 2:00\t0\t-\n# Shanks & Pottenger give 0:09:20 for Paris Mean Time; go with Howse's\n# more precise 0:09:21.\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Algiers\t0:12:12 -\tLMT\t1891 Mar 15 0:01\n\t\t\t0:09:21\t-\tPMT\t1911 Mar 11    # Paris Mean Time\n\t\t\t0:00\tAlgeria\tWE%sT\t1940 Feb 25 2:00\n\t\t\t1:00\tAlgeria\tCE%sT\t1946 Oct  7\n\t\t\t0:00\t-\tWET\t1956 Jan 29\n\t\t\t1:00\t-\tCET\t1963 Apr 14\n\t\t\t0:00\tAlgeria\tWE%sT\t1977 Oct 21\n\t\t\t1:00\tAlgeria\tCE%sT\t1979 Oct 26\n\t\t\t0:00\tAlgeria\tWE%sT\t1981 May\n\t\t\t1:00\t-\tCET\n\n# Angola\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Luanda\t0:52:56\t-\tLMT\t1892\n\t\t\t0:52:04\t-\tAOT\t1911 May 26 # Angola Time\n\t\t\t1:00\t-\tWAT\n\n# Benin\n# Whitman says they switched to 1:00 in 1946, not 1934;\n# go with Shanks & Pottenger.\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Africa/Porto-Novo\t0:10:28\t-\tLMT\t1912\n\t\t\t0:00\t-\tGMT\t1934 Feb 26\n\t\t\t1:00\t-\tWAT\n\n# Botswana\n# From Paul Eggert (2013-02-21):\n# Milne says they were regulated by the Cape Town Signal in 1899;\n# assume they switched to 2:00 when Cape Town did.\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Gaborone\t1:43:40 -\tLMT\t1885\n\t\t\t1:30\t-\tSAST\t1903 Mar\n\t\t\t2:00\t-\tCAT\t1943 Sep 19 2:00\n\t\t\t2:00\t1:00\tCAST\t1944 Mar 19 2:00\n\t\t\t2:00\t-\tCAT\n\n# Burkina Faso\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Africa/Ouagadougou\t-0:06:04 -\tLMT\t1912\n\t\t\t 0:00\t-\tGMT\n\n# Burundi\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Africa/Bujumbura\t1:57:28\t-\tLMT\t1890\n\t\t\t2:00\t-\tCAT\n\n# Cameroon\n# Whitman says they switched to 1:00 in 1920; go with Shanks & Pottenger.\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Douala\t0:38:48\t-\tLMT\t1912\n\t\t\t1:00\t-\tWAT\n\n# Cape Verde\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Atlantic/Cape_Verde -1:34:04 -\tLMT\t1907\t\t\t# Praia\n\t\t\t-2:00\t-\tCVT\t1942 Sep\n\t\t\t-2:00\t1:00\tCVST\t1945 Oct 15\n\t\t\t-2:00\t-\tCVT\t1975 Nov 25 2:00\n\t\t\t-1:00\t-\tCVT\n\n# Central African Republic\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Bangui\t1:14:20\t-\tLMT\t1912\n\t\t\t1:00\t-\tWAT\n\n# Chad\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Ndjamena\t1:00:12 -\tLMT\t1912\n\t\t\t1:00\t-\tWAT\t1979 Oct 14\n\t\t\t1:00\t1:00\tWAST\t1980 Mar  8\n\t\t\t1:00\t-\tWAT\n\n# Comoros\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tIndian/Comoro\t2:53:04 -\tLMT\t1911 Jul   # Moroni, Gran Comoro\n\t\t\t3:00\t-\tEAT\n\n# Democratic Republic of Congo\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Africa/Kinshasa\t1:01:12 -\tLMT\t1897 Nov 9\n\t\t\t1:00\t-\tWAT\nZone Africa/Lubumbashi\t1:49:52 -\tLMT\t1897 Nov 9\n\t\t\t2:00\t-\tCAT\n\n# Republic of the Congo\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Africa/Brazzaville\t1:01:08 -\tLMT\t1912\n\t\t\t1:00\t-\tWAT\n\n# Cote D'Ivoire\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Abidjan\t-0:16:08 -\tLMT\t1912\n\t\t\t 0:00\t-\tGMT\n\n# Djibouti\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Djibouti\t2:52:36 -\tLMT\t1911 Jul\n\t\t\t3:00\t-\tEAT\n\n###############################################################################\n\n# Egypt\n\n# Milne says Cairo used 2:05:08.9, the local mean time of the Abbasizeh\n# observatory; round to nearest.  Milne also says that the official time for\n# Egypt was mean noon at the Great Pyramid, 2:04:30.5, but apparently this\n# did not apply to Cairo, Alexandria, or Port Said.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tEgypt\t1940\tonly\t-\tJul\t15\t0:00\t1:00\tS\nRule\tEgypt\t1940\tonly\t-\tOct\t 1\t0:00\t0\t-\nRule\tEgypt\t1941\tonly\t-\tApr\t15\t0:00\t1:00\tS\nRule\tEgypt\t1941\tonly\t-\tSep\t16\t0:00\t0\t-\nRule\tEgypt\t1942\t1944\t-\tApr\t 1\t0:00\t1:00\tS\nRule\tEgypt\t1942\tonly\t-\tOct\t27\t0:00\t0\t-\nRule\tEgypt\t1943\t1945\t-\tNov\t 1\t0:00\t0\t-\nRule\tEgypt\t1945\tonly\t-\tApr\t16\t0:00\t1:00\tS\nRule\tEgypt\t1957\tonly\t-\tMay\t10\t0:00\t1:00\tS\nRule\tEgypt\t1957\t1958\t-\tOct\t 1\t0:00\t0\t-\nRule\tEgypt\t1958\tonly\t-\tMay\t 1\t0:00\t1:00\tS\nRule\tEgypt\t1959\t1981\t-\tMay\t 1\t1:00\t1:00\tS\nRule\tEgypt\t1959\t1965\t-\tSep\t30\t3:00\t0\t-\nRule\tEgypt\t1966\t1994\t-\tOct\t 1\t3:00\t0\t-\nRule\tEgypt\t1982\tonly\t-\tJul\t25\t1:00\t1:00\tS\nRule\tEgypt\t1983\tonly\t-\tJul\t12\t1:00\t1:00\tS\nRule\tEgypt\t1984\t1988\t-\tMay\t 1\t1:00\t1:00\tS\nRule\tEgypt\t1989\tonly\t-\tMay\t 6\t1:00\t1:00\tS\nRule\tEgypt\t1990\t1994\t-\tMay\t 1\t1:00\t1:00\tS\n# IATA (after 1990) says transitions are at 0:00.\n# Go with IATA starting in 1995, except correct 1995 entry from 09-30 to 09-29.\n\n# From Alexander Krivenyshev (2011-04-20):\n# \"...Egypt's interim cabinet decided on Wednesday to cancel daylight\n# saving time after a poll posted on its website showed the majority of\n# Egyptians would approve the cancellation.\"\n#\n# Egypt to cancel daylight saving time\n# <a href=\"http://www.almasryalyoum.com/en/node/407168\">\n# http://www.almasryalyoum.com/en/node/407168\n# </a>\n# or\n# <a href=\"http://www.worldtimezone.com/dst_news/dst_news_egypt04.html\">\n# http://www.worldtimezone.com/dst_news/dst_news_egypt04.html\n# </a>\nRule\tEgypt\t1995\t2010\t-\tApr\tlastFri\t 0:00s\t1:00\tS\nRule\tEgypt\t1995\t2005\t-\tSep\tlastThu\t23:00s\t0\t-\n# From Steffen Thorsen (2006-09-19):\n# The Egyptian Gazette, issue 41,090 (2006-09-18), page 1, reports:\n# Egypt will turn back clocks by one hour at the midnight of Thursday\n# after observing the daylight saving time since May.\n# http://news.gom.com.eg/gazette/pdf/2006/09/18/01.pdf\nRule\tEgypt\t2006\tonly\t-\tSep\t21\t23:00s\t0\t-\n# From Dirk Losch (2007-08-14):\n# I received a mail from an airline which says that the daylight\n# saving time in Egypt will end in the night of 2007-09-06 to 2007-09-07.\n# From Jesper Norgaard Welen (2007-08-15): [The following agree:]\n# http://www.nentjes.info/Bill/bill5.htm\n# http://www.timeanddate.com/worldclock/city.html?n=53\n# From Steffen Thorsen (2007-09-04): The official information...:\n# http://www.sis.gov.eg/En/EgyptOnline/Miscellaneous/000002/0207000000000000001580.htm\nRule\tEgypt\t2007\tonly\t-\tSep\tThu>=1\t23:00s\t0\t-\n# From Abdelrahman Hassan (2007-09-06):\n# Due to the Hijri (lunar Islamic calendar) year being 11 days shorter\n# than the year of the Gregorian calendar, Ramadan shifts earlier each\n# year. This year it will be observed September 13 (September is quite\n# hot in Egypt), and the idea is to make fasting easier for workers by\n# shifting business hours one hour out of daytime heat. Consequently,\n# unless discontinued, next DST may end Thursday 28 August 2008.\n# From Paul Eggert (2007-08-17):\n# For lack of better info, assume the new rule is last Thursday in August.\n\n# From Petr Machata (2009-04-06):\n# The following appeared in Red Hat bugzilla[1] (edited):\n#\n# > $ zdump -v /usr/share/zoneinfo/Africa/Cairo | grep 2009\n# > /usr/share/zoneinfo/Africa/Cairo  Thu Apr 23 21:59:59 2009 UTC = Thu =\n# Apr 23\n# > 23:59:59 2009 EET isdst=0 gmtoff=7200\n# > /usr/share/zoneinfo/Africa/Cairo  Thu Apr 23 22:00:00 2009 UTC = Fri =\n# Apr 24\n# > 01:00:00 2009 EEST isdst=1 gmtoff=10800\n# > /usr/share/zoneinfo/Africa/Cairo  Thu Aug 27 20:59:59 2009 UTC = Thu =\n# Aug 27\n# > 23:59:59 2009 EEST isdst=1 gmtoff=10800\n# > /usr/share/zoneinfo/Africa/Cairo  Thu Aug 27 21:00:00 2009 UTC = Thu =\n# Aug 27\n# > 23:00:00 2009 EET isdst=0 gmtoff=7200\n#\n# > end date should be Thu Sep 24 2009 (Last Thursday in September at 23:59=\n# :59)\n# > http://support.microsoft.com/kb/958729/\n#\n# timeanddate[2] and another site I've found[3] also support that.\n#\n# [1] <a href=\"https://bugzilla.redhat.com/show_bug.cgi?id=492263\">\n# https://bugzilla.redhat.com/show_bug.cgi?id=492263\n# </a>\n# [2] <a href=\"http://www.timeanddate.com/worldclock/clockchange.html?n=53\">\n# http://www.timeanddate.com/worldclock/clockchange.html?n=53\n# </a>\n# [3] <a href=\"http://wwp.greenwichmeantime.com/time-zone/africa/egypt/\">\n# http://wwp.greenwichmeantime.com/time-zone/africa/egypt/\n# </a>\n\n# From Arthur David Olson (2009-04-20):\n# In 2009 (and for the next several years), Ramadan ends before the fourth\n# Thursday in September; Egypt is expected to revert to the last Thursday\n# in September.\n\n# From Steffen Thorsen (2009-08-11):\n# We have been able to confirm the August change with the Egyptian Cabinet\n# Information and Decision Support Center:\n# <a href=\"http://www.timeanddate.com/news/time/egypt-dst-ends-2009.html\">\n# http://www.timeanddate.com/news/time/egypt-dst-ends-2009.html\n# </a>\n#\n# The Middle East News Agency\n# <a href=\"http://www.mena.org.eg/index.aspx\">\n# http://www.mena.org.eg/index.aspx\n# </a>\n# also reports \"Egypt starts winter time on August 21\"\n# today in article numbered \"71, 11/08/2009 12:25 GMT.\"\n# Only the title above is available without a subscription to their service,\n# and can be found by searching for \"winter\" in their search engine\n# (at least today).\n\n# From Alexander Krivenyshev (2010-07-20):\n# According to News from Egypt -  Al-Masry Al-Youm Egypt's cabinet has\n# decided that Daylight Saving Time will not be used in Egypt during\n# Ramadan.\n#\n# Arabic translation:\n# \"Clocks to go back during Ramadan--and then forward again\"\n# <a href=\"http://www.almasryalyoum.com/en/news/clocks-go-back-during-ramadan-and-then-forward-again\">\n# http://www.almasryalyoum.com/en/news/clocks-go-back-during-ramadan-and-then-forward-again\n# </a>\n# or\n# <a href=\"http://www.worldtimezone.com/dst_news/dst_news_egypt02.html\">\n# http://www.worldtimezone.com/dst_news/dst_news_egypt02.html\n# </a>\n\nRule\tEgypt\t2008\tonly\t-\tAug\tlastThu\t23:00s\t0\t-\nRule\tEgypt\t2009\tonly\t-\tAug\t20\t23:00s\t0\t-\nRule\tEgypt\t2010\tonly\t-\tAug\t11\t0:00\t0\t-\nRule\tEgypt\t2010\tonly\t-\tSep\t10\t0:00\t1:00\tS\nRule\tEgypt\t2010\tonly\t-\tSep\tlastThu\t23:00s\t0\t-\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Cairo\t2:05:09 -\tLMT\t1900 Oct\n\t\t\t2:00\tEgypt\tEE%sT\n\n# Equatorial Guinea\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Malabo\t0:35:08 -\tLMT\t1912\n\t\t\t0:00\t-\tGMT\t1963 Dec 15\n\t\t\t1:00\t-\tWAT\n\n# Eritrea\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Asmara\t2:35:32 -\tLMT\t1870\n\t\t\t2:35:32\t-\tAMT\t1890\t      # Asmara Mean Time\n\t\t\t2:35:20\t-\tADMT\t1936 May 5    # Adis Dera MT\n\t\t\t3:00\t-\tEAT\n\n# Ethiopia\n# From Paul Eggert (2006-03-22):\n# Shanks & Pottenger write that Ethiopia had six narrowly-spaced time zones\n# between 1870 and 1890, and that they merged to 38E50 (2:35:20) in 1890.\n# We'll guess that 38E50 is for Adis Dera.\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Africa/Addis_Ababa\t2:34:48 -\tLMT\t1870\n\t\t\t2:35:20\t-\tADMT\t1936 May 5    # Adis Dera MT\n\t\t\t3:00\t-\tEAT\n\n# Gabon\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Africa/Libreville\t0:37:48 -\tLMT\t1912\n\t\t\t1:00\t-\tWAT\n\n# Gambia\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Banjul\t-1:06:36 -\tLMT\t1912\n\t\t\t-1:06:36 -\tBMT\t1935\t# Banjul Mean Time\n\t\t\t-1:00\t-\tWAT\t1964\n\t\t\t 0:00\t-\tGMT\n\n# Ghana\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\n# Whitman says DST was observed from 1931 to ``the present'';\n# go with Shanks & Pottenger.\nRule\tGhana\t1936\t1942\t-\tSep\t 1\t0:00\t0:20\tGHST\nRule\tGhana\t1936\t1942\t-\tDec\t31\t0:00\t0\tGMT\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Accra\t-0:00:52 -\tLMT\t1918\n\t\t\t 0:00\tGhana\t%s\n\n# Guinea\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Conakry\t-0:54:52 -\tLMT\t1912\n\t\t\t 0:00\t-\tGMT\t1934 Feb 26\n\t\t\t-1:00\t-\tWAT\t1960\n\t\t\t 0:00\t-\tGMT\n\n# Guinea-Bissau\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Bissau\t-1:02:20 -\tLMT\t1911 May 26\n\t\t\t-1:00\t-\tWAT\t1975\n\t\t\t 0:00\t-\tGMT\n\n# Kenya\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Nairobi\t2:27:16\t-\tLMT\t1928 Jul\n\t\t\t3:00\t-\tEAT\t1930\n\t\t\t2:30\t-\tBEAT\t1940\n\t\t\t2:45\t-\tBEAUT\t1960\n\t\t\t3:00\t-\tEAT\n\n# Lesotho\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Maseru\t1:50:00 -\tLMT\t1903 Mar\n\t\t\t2:00\t-\tSAST\t1943 Sep 19 2:00\n\t\t\t2:00\t1:00\tSAST\t1944 Mar 19 2:00\n\t\t\t2:00\t-\tSAST\n\n# Liberia\n# From Paul Eggert (2006-03-22):\n# In 1972 Liberia was the last country to switch\n# from a UTC offset that was not a multiple of 15 or 20 minutes.\n# Howse reports that it was in honor of their president's birthday.\n# Shank & Pottenger report the date as May 1, whereas Howse reports Jan;\n# go with Shanks & Pottenger.\n# For Liberia before 1972, Shanks & Pottenger report -0:44, whereas Howse and\n# Whitman each report -0:44:30; go with the more precise figure.\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Monrovia\t-0:43:08 -\tLMT\t1882\n\t\t\t-0:43:08 -\tMMT\t1919 Mar # Monrovia Mean Time\n\t\t\t-0:44:30 -\tLRT\t1972 May # Liberia Time\n\t\t\t 0:00\t-\tGMT\n\n###############################################################################\n\n# Libya\n\n# From Even Scharning (2012-11-10):\n# Libya set their time one hour back at 02:00 on Saturday November 10.\n# http://www.libyaherald.com/2012/11/04/clocks-to-go-back-an-hour-on-saturday/\n# Here is an official source [in Arabic]: http://ls.ly/fb6Yc\n#\n# Steffen Thorsen forwarded a translation (2012-11-10) in\n# http://mm.icann.org/pipermail/tz/2012-November/018451.html\n#\n# From Tim Parenti (2012-11-11):\n# Treat the 2012-11-10 change as a zone change from UTC+2 to UTC+1.\n# The DST rules planned for 2013 and onward roughly mirror those of Europe\n# (either two days before them or five days after them, so as to fall on\n# lastFri instead of lastSun).\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tLibya\t1951\tonly\t-\tOct\t14\t2:00\t1:00\tS\nRule\tLibya\t1952\tonly\t-\tJan\t 1\t0:00\t0\t-\nRule\tLibya\t1953\tonly\t-\tOct\t 9\t2:00\t1:00\tS\nRule\tLibya\t1954\tonly\t-\tJan\t 1\t0:00\t0\t-\nRule\tLibya\t1955\tonly\t-\tSep\t30\t0:00\t1:00\tS\nRule\tLibya\t1956\tonly\t-\tJan\t 1\t0:00\t0\t-\nRule\tLibya\t1982\t1984\t-\tApr\t 1\t0:00\t1:00\tS\nRule\tLibya\t1982\t1985\t-\tOct\t 1\t0:00\t0\t-\nRule\tLibya\t1985\tonly\t-\tApr\t 6\t0:00\t1:00\tS\nRule\tLibya\t1986\tonly\t-\tApr\t 4\t0:00\t1:00\tS\nRule\tLibya\t1986\tonly\t-\tOct\t 3\t0:00\t0\t-\nRule\tLibya\t1987\t1989\t-\tApr\t 1\t0:00\t1:00\tS\nRule\tLibya\t1987\t1989\t-\tOct\t 1\t0:00\t0\t-\nRule\tLibya\t1997\tonly\t-\tApr\t 4\t0:00\t1:00\tS\nRule\tLibya\t1997\tonly\t-\tOct\t 4\t0:00\t0\t-\nRule\tLibya\t2013\tmax\t-\tMar\tlastFri\t1:00\t1:00\tS\nRule\tLibya\t2013\tmax\t-\tOct\tlastFri\t2:00\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Tripoli\t0:52:44 -\tLMT\t1920\n\t\t\t1:00\tLibya\tCE%sT\t1959\n\t\t\t2:00\t-\tEET\t1982\n\t\t\t1:00\tLibya\tCE%sT\t1990 May  4\n# The 1996 and 1997 entries are from Shanks & Pottenger;\n# the IATA SSIM data contain some obvious errors.\n\t\t\t2:00\t-\tEET\t1996 Sep 30\n\t\t\t1:00\tLibya\tCE%sT\t1997 Oct  4\n\t\t\t2:00\t-\tEET\t2012 Nov 10 2:00\n\t\t\t1:00\tLibya\tCE%sT\n\n# Madagascar\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Indian/Antananarivo 3:10:04 -\tLMT\t1911 Jul\n\t\t\t3:00\t-\tEAT\t1954 Feb 27 23:00s\n\t\t\t3:00\t1:00\tEAST\t1954 May 29 23:00s\n\t\t\t3:00\t-\tEAT\n\n# Malawi\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Blantyre\t2:20:00 -\tLMT\t1903 Mar\n\t\t\t2:00\t-\tCAT\n\n# Mali\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Bamako\t-0:32:00 -\tLMT\t1912\n\t\t\t 0:00\t-\tGMT\t1934 Feb 26\n\t\t\t-1:00\t-\tWAT\t1960 Jun 20\n\t\t\t 0:00\t-\tGMT\n\n# Mauritania\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Africa/Nouakchott\t-1:03:48 -\tLMT\t1912\n\t\t\t 0:00\t-\tGMT\t1934 Feb 26\n\t\t\t-1:00\t-\tWAT\t1960 Nov 28\n\t\t\t 0:00\t-\tGMT\n\n# Mauritius\n\n# From Steffen Thorsen (2008-06-25):\n# Mauritius plans to observe DST from 2008-11-01 to 2009-03-31 on a trial\n# basis....\n# It seems that Mauritius observed daylight saving time from 1982-10-10 to\n# 1983-03-20 as well, but that was not successful....\n# http://www.timeanddate.com/news/time/mauritius-daylight-saving-time.html\n\n# From Alex Krivenyshev (2008-06-25):\n# http://economicdevelopment.gov.mu/portal/site/Mainhomepage/menuitem.a42b24128104d9845dabddd154508a0c/?content_id=0a7cee8b5d69a110VgnVCM1000000a04a8c0RCRD\n\n# From Arthur David Olson (2008-06-30):\n# The www.timeanddate.com article cited by Steffen Thorsen notes that \"A\n# final decision has yet to be made on the times that daylight saving\n# would begin and end on these dates.\" As a place holder, use midnight.\n\n# From Paul Eggert (2008-06-30):\n# Follow Thorsen on DST in 1982/1983, instead of Shanks & Pottenger.\n\n# From Steffen Thorsen (2008-07-10):\n# According to\n# <a href=\"http://www.lexpress.mu/display_article.php?news_id=111216\">\n# http://www.lexpress.mu/display_article.php?news_id=111216\n# </a>\n# (in French), Mauritius will start and end their DST a few days earlier\n# than previously announced (2008-11-01 to 2009-03-31).  The new start\n# date is 2008-10-26 at 02:00 and the new end date is 2009-03-27 (no time\n# given, but it is probably at either 2 or 3 wall clock time).\n#\n# A little strange though, since the article says that they moved the date\n# to align itself with Europe and USA which also change time on that date,\n# but that means they have not paid attention to what happened in\n# USA/Canada last year (DST ends first Sunday in November). I also wonder\n# why that they end on a Friday, instead of aligning with Europe which\n# changes two days later.\n\n# From Alex Krivenyshev (2008-07-11):\n# Seems that English language article \"The revival of daylight saving\n# time:  Energy conservation?\"-# No. 16578 (07/11/2008) was originally\n# published on Monday, June 30, 2008...\n#\n# I guess that article in French \"Le gouvernement avance l'introduction\n# de l'heure d'ete\" stating that DST in Mauritius starting on October 26\n# and ending on March 27, 2009 is the most recent one.\n# ...\n# <a href=\"http://www.worldtimezone.com/dst_news/dst_news_mauritius02.html\">\n# http://www.worldtimezone.com/dst_news/dst_news_mauritius02.html\n# </a>\n\n# From Riad M. Hossen Ally (2008-08-03):\n# The Government of Mauritius weblink\n# <a href=\"http://www.gov.mu/portal/site/pmosite/menuitem.4ca0efdee47462e7440a600248a521ca/?content_id=4728ca68b2a5b110VgnVCM1000000a04a8c0RCRD\">\n# http://www.gov.mu/portal/site/pmosite/menuitem.4ca0efdee47462e7440a600248a521ca/?content_id=4728ca68b2a5b110VgnVCM1000000a04a8c0RCRD\n# </a>\n# Cabinet Decision of July 18th, 2008 states as follows:\n#\n# 4. ...Cabinet has agreed to the introduction into the National Assembly\n# of the Time Bill which provides for the introduction of summer time in\n# Mauritius. The summer time period which will be of one hour ahead of\n# the standard time, will be aligned with that in Europe and the United\n# States of America. It will start at two o'clock in the morning on the\n# last Sunday of October and will end at two o'clock in the morning on\n# the last Sunday of March the following year. The summer time for the\n# year 2008 - 2009 will, therefore, be effective as from 26 October 2008\n# and end on 29 March 2009.\n\n# From Ed Maste (2008-10-07):\n# THE TIME BILL (No. XXVII of 2008) Explanatory Memorandum states the\n# beginning / ending of summer time is 2 o'clock standard time in the\n# morning of the last Sunday of October / last Sunday of March.\n# <a href=\"http://www.gov.mu/portal/goc/assemblysite/file/bill2708.pdf\">\n# http://www.gov.mu/portal/goc/assemblysite/file/bill2708.pdf\n# </a>\n\n# From Steffen Thorsen (2009-06-05):\n# According to several sources, Mauritius will not continue to observe\n# DST the coming summer...\n#\n# Some sources, in French:\n# <a href=\"http://www.defimedia.info/news/946/Rashid-Beebeejaun-:-%C2%AB-L%E2%80%99heure-d%E2%80%99%C3%A9t%C3%A9-ne-sera-pas-appliqu%C3%A9e-cette-ann%C3%A9e-%C2%BB\">\n# http://www.defimedia.info/news/946/Rashid-Beebeejaun-:-%C2%AB-L%E2%80%99heure-d%E2%80%99%C3%A9t%C3%A9-ne-sera-pas-appliqu%C3%A9e-cette-ann%C3%A9e-%C2%BB\n# </a>\n# <a href=\"http://lexpress.mu/Story/3398~Beebeejaun---Les-objectifs-d-%C3%A9conomie-d-%C3%A9nergie-de-l-heure-d-%C3%A9t%C3%A9-ont-%C3%A9t%C3%A9-atteints-\">\n# http://lexpress.mu/Story/3398~Beebeejaun---Les-objectifs-d-%C3%A9conomie-d-%C3%A9nergie-de-l-heure-d-%C3%A9t%C3%A9-ont-%C3%A9t%C3%A9-atteints-\n# </a>\n#\n# Our wrap-up:\n# <a href=\"http://www.timeanddate.com/news/time/mauritius-dst-will-not-repeat.html\">\n# http://www.timeanddate.com/news/time/mauritius-dst-will-not-repeat.html\n# </a>\n\n# From Arthur David Olson (2009-07-11):\n# The \"mauritius-dst-will-not-repeat\" wrapup includes this:\n# \"The trial ended on March 29, 2009, when the clocks moved back by one hour\n# at 2am (or 02:00) local time...\"\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule Mauritius\t1982\tonly\t-\tOct\t10\t0:00\t1:00\tS\nRule Mauritius\t1983\tonly\t-\tMar\t21\t0:00\t0\t-\nRule Mauritius\t2008\tonly\t-\tOct\tlastSun\t2:00\t1:00\tS\nRule Mauritius\t2009\tonly\t-\tMar\tlastSun\t2:00\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Indian/Mauritius\t3:50:00 -\tLMT\t1907\t\t# Port Louis\n\t\t\t4:00 Mauritius\tMU%sT\t# Mauritius Time\n# Agalega Is, Rodriguez\n# no information; probably like Indian/Mauritius\n\n# Mayotte\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tIndian/Mayotte\t3:00:56 -\tLMT\t1911 Jul\t# Mamoutzou\n\t\t\t3:00\t-\tEAT\n\n# Morocco\n# See the `europe' file for Spanish Morocco (Africa/Ceuta).\n\n# From Alex Krivenyshev (2008-05-09):\n# Here is an article that Morocco plan to introduce Daylight Saving Time between\n# 1 June, 2008 and 27 September, 2008.\n#\n# \"... Morocco is to save energy by adjusting its clock during summer so it will\n# be one hour ahead of GMT between 1 June and 27 September, according to\n# Communication Minister and Gov ernment Spokesman, Khalid Naciri....\"\n#\n# <a href=\"http://www.worldtimezone.net/dst_news/dst_news_morocco01.html\">\n# http://www.worldtimezone.net/dst_news/dst_news_morocco01.html\n# </a>\n# OR\n# <a href=\"http://en.afrik.com/news11892.html\">\n# http://en.afrik.com/news11892.html\n# </a>\n\n# From Alex Krivenyshev (2008-05-09):\n# The Morocco time change can be confirmed on Morocco web site Maghreb Arabe Presse:\n# <a href=\"http://www.map.ma/eng/sections/box3/morocco_shifts_to_da/view\">\n# http://www.map.ma/eng/sections/box3/morocco_shifts_to_da/view\n# </a>\n#\n# Morocco shifts to daylight time on June 1st through September 27, Govt.\n# spokesman.\n\n# From Patrice Scattolin (2008-05-09):\n# According to this article:\n# <a href=\"http://www.avmaroc.com/actualite/heure-dete-comment-a127896.html\">\n# http://www.avmaroc.com/actualite/heure-dete-comment-a127896.html\n# </a>\n# (and republished here:\n# <a href=\"http://www.actu.ma/heure-dete-comment_i127896_0.html\">\n# http://www.actu.ma/heure-dete-comment_i127896_0.html\n# </a>\n# )\n# the changes occurs at midnight:\n#\n# saturday night may 31st at midnight (which in french is to be\n# intrepreted as the night between saturday and sunday)\n# sunday night the 28th  at midnight\n#\n# Seeing that the 28th is monday, I am guessing that she intends to say\n# the midnight of the 28th which is the midnight between sunday and\n# monday, which jives with other sources that say that it's inclusive\n# june1st to sept 27th.\n#\n# The decision was taken by decree *2-08-224 *but I can't find the decree\n# published on the web.\n#\n# It's also confirmed here:\n# <a href=\"http://www.maroc.ma/NR/exeres/FACF141F-D910-44B0-B7FA-6E03733425D1.htm\">\n# http://www.maroc.ma/NR/exeres/FACF141F-D910-44B0-B7FA-6E03733425D1.htm\n# </a>\n# on a government portal as being  between june 1st and sept 27th (not yet\n# posted in english).\n#\n# The following google query will generate many relevant hits:\n# <a href=\"http://www.google.com/search?hl=en&q=Conseil+de+gouvernement+maroc+heure+avance&btnG=Search\">\n# http://www.google.com/search?hl=en&q=Conseil+de+gouvernement+maroc+heure+avance&btnG=Search\n# </a>\n\n# From Alex Krivenyshev (2008-05-09):\n# Is Western Sahara (part which administrated by Morocco) going to follow\n# Morocco DST changes?  Any information?  What about other part of\n# Western Sahara - under administration of POLISARIO Front (also named\n# SADR Saharawi Arab Democratic Republic)?\n\n# From Arthur David Olson (2008-05-09):\n# XXX--guess that it is only Morocco for now; guess only 2008 for now.\n\n# From Steffen Thorsen (2008-08-27):\n# Morocco will change the clocks back on the midnight between August 31\n# and September 1. They originally planned to observe DST to near the end\n# of September:\n#\n# One article about it (in French):\n# <a href=\"http://www.menara.ma/fr/Actualites/Maroc/Societe/ci.retour_a_l_heure_gmt_a_partir_du_dimanche_31_aout_a_minuit_officiel_.default\">\n# http://www.menara.ma/fr/Actualites/Maroc/Societe/ci.retour_a_l_heure_gmt_a_partir_du_dimanche_31_aout_a_minuit_officiel_.default\n# </a>\n#\n# We have some further details posted here:\n# <a href=\"http://www.timeanddate.com/news/time/morocco-ends-dst-early-2008.html\">\n# http://www.timeanddate.com/news/time/morocco-ends-dst-early-2008.html\n# </a>\n\n# From Steffen Thorsen (2009-03-17):\n# Morocco will observe DST from 2009-06-01 00:00 to 2009-08-21 00:00 according\n# to many sources, such as\n# <a href=\"http://news.marweb.com/morocco/entertainment/morocco-daylight-saving.html\">\n# http://news.marweb.com/morocco/entertainment/morocco-daylight-saving.html\n# </a>\n# <a href=\"http://www.medi1sat.ma/fr/depeche.aspx?idp=2312\">\n# http://www.medi1sat.ma/fr/depeche.aspx?idp=2312\n# </a>\n# (French)\n#\n# Our summary:\n# <a href=\"http://www.timeanddate.com/news/time/morocco-starts-dst-2009.html\">\n# http://www.timeanddate.com/news/time/morocco-starts-dst-2009.html\n# </a>\n\n# From Alexander Krivenyshev (2009-03-17):\n# Here is a link to official document from Royaume du Maroc Premier Ministre,\n# Ministere de la Modernisation des Secteurs Publics\n#\n# Under Article 1 of Royal Decree No. 455-67 of Act 23 safar 1387 (2 june 1967)\n# concerning the amendment of the legal time, the Ministry of Modernization of\n# Public Sectors announced that the official time in the Kingdom will be\n# advanced 60 minutes from Sunday 31 May 2009 at midnight.\n#\n# <a href=\"http://www.mmsp.gov.ma/francais/Actualites_fr/PDF_Actualites_Fr/HeureEte_FR.pdf\">\n# http://www.mmsp.gov.ma/francais/Actualites_fr/PDF_Actualites_Fr/HeureEte_FR.pdf\n# </a>\n#\n# <a href=\"http://www.worldtimezone.com/dst_news/dst_news_morocco03.html\">\n# http://www.worldtimezone.com/dst_news/dst_news_morocco03.html\n# </a>\n\n# From Steffen Thorsen (2010-04-13):\n# Several news media in Morocco report that the Ministry of Modernization\n# of Public Sectors has announced that Morocco will have DST from\n# 2010-05-02 to 2010-08-08.\n#\n# Example:\n# <a href=\"http://www.lavieeco.com/actualites/4099-le-maroc-passera-a-l-heure-d-ete-gmt1-le-2-mai.html\">\n# http://www.lavieeco.com/actualites/4099-le-maroc-passera-a-l-heure-d-ete-gmt1-le-2-mai.html\n# </a>\n# (French)\n# Our page:\n# <a href=\"http://www.timeanddate.com/news/time/morocco-starts-dst-2010.html\">\n# http://www.timeanddate.com/news/time/morocco-starts-dst-2010.html\n# </a>\n\n# From Dan Abitol (2011-03-30):\n# ...Rules for Africa/Casablanca are the following (24h format)\n# The 3rd april 2011 at 00:00:00, [it] will be 3rd april 1:00:00\n# The 31th july 2011 at 00:59:59,  [it] will be 31th July 00:00:00\n# ...Official links of change in morocco\n# The change was broadcast on the FM Radio\n# I ve called ANRT (telecom regulations in Morocco) at\n# +212.537.71.84.00\n# <a href=\"http://www.anrt.net.ma/fr/\">\n# http://www.anrt.net.ma/fr/\n# </a>\n# They said that\n# <a href=\"http://www.map.ma/fr/sections/accueil/l_heure_legale_au_ma/view\">\n# http://www.map.ma/fr/sections/accueil/l_heure_legale_au_ma/view\n# </a>\n# is the official publication to look at.\n# They said that the decision was already taken.\n#\n# More articles in the press\n# <a href=\"http://www.yabiladi.com/articles/details/5058/secret-l-heure-d-ete-maroc-lev\">\n# http://www.yabiladi.com/articles/details/5058/secret-l-heure-d-ete-maroc-lev\n# </a>\n# e.html\n# <a href=\"http://www.lematin.ma/Actualite/Express/Article.asp?id=148923\">\n# http://www.lematin.ma/Actualite/Express/Article.asp?id=148923\n# </a>\n# <a href=\"http://www.lavieeco.com/actualite/Le-Maroc-passe-sur-GMT%2B1-a-partir-de-dim\">\n# http://www.lavieeco.com/actualite/Le-Maroc-passe-sur-GMT%2B1-a-partir-de-dim\n# anche-prochain-5538.html\n# </a>\n\n# From Petr Machata (2011-03-30):\n# They have it written in English here:\n# <a href=\"http://www.map.ma/eng/sections/home/morocco_to_spring_fo/view\">\n# http://www.map.ma/eng/sections/home/morocco_to_spring_fo/view\n# </a>\n#\n# It says there that \"Morocco will resume its standard time on July 31,\n# 2011 at midnight.\" Now they don't say whether they mean midnight of\n# wall clock time (i.e. 11pm UTC), but that's what I would assume. It has\n# also been like that in the past.\n\n# From Alexander Krivenyshev (2012-03-09):\n# According to Infom&eacute;diaire web site from Morocco (infomediaire.ma),\n# on March 9, 2012, (in French) Heure l&eacute;gale:\n# Le Maroc adopte officiellement l'heure d'&eacute;t&eacute;\n# <a href=\"http://www.infomediaire.ma/news/maroc/heure-l%C3%A9gale-le-maroc-adopte-officiellement-lheure-d%C3%A9t%C3%A9\">\n# http://www.infomediaire.ma/news/maroc/heure-l%C3%A9gale-le-maroc-adopte-officiellement-lheure-d%C3%A9t%C3%A9\n# </a>\n# Governing Council adopted draft decree, that Morocco DST starts on\n# the last Sunday of March (March 25, 2012) and ends on\n# last Sunday of September (September 30, 2012)\n# except the month of Ramadan.\n# or (brief)\n# <a href=\"http://www.worldtimezone.com/dst_news/dst_news_morocco06.html\">\n# http://www.worldtimezone.com/dst_news/dst_news_morocco06.html\n# </a>\n\n# From Arthur David Olson (2012-03-10):\n# The infomediaire.ma source indicates that the system is to be in\n# effect every year. It gives 03H00 as the \"fall back\" time of day;\n# it lacks a \"spring forward\" time of day; assume 2:00 XXX.\n# Wait on specifying the Ramadan exception for details about\n# start date, start time of day, end date, and end time of day XXX.\n\n# From Christophe Tropamer (2012-03-16):\n# Seen Morocco change again:\n# <a href=\"http://www.le2uminutes.com/actualite.php\">\n# http://www.le2uminutes.com/actualite.php\n# </a>\n# \"...&agrave; partir du dernier dimance d'avril et non fins mars,\n# comme annonc&eacute; pr&eacute;c&eacute;demment.\"\n\n# From Milamber Space Network (2012-07-17):\n# The official return to GMT is announced by the Moroccan government:\n# <a href=\"http://www.mmsp.gov.ma/fr/actualites.aspx?id=288\">\n# http://www.mmsp.gov.ma/fr/actualites.aspx?id=288 [in French]\n# </a>\n#\n# Google translation, lightly edited:\n# Back to the standard time of the Kingdom (GMT)\n# Pursuant to Decree No. 2-12-126 issued on 26 Jumada (I) 1433 (April 18,\n# 2012) and in accordance with the order of Mr. President of the\n# Government No. 3-47-12 issued on 24 Sha'ban (11 July 2012), the Ministry\n# of Public Service and Administration Modernization announces the return\n# of the legal time of the Kingdom (GMT) from Friday, July 20, 2012 until\n# Monday, August 20, 2012.  So the time will be delayed by 60 minutes from\n# 3:00 am Friday, July 20, 2012 and will again be advanced by 60 minutes\n# August 20, 2012 from 2:00 am.\n\n# From Paul Eggert (2013-03-06):\n# Morocco's daylight-saving transitions due to Ramadan seem to be\n# announced a bit in advance.  On 2012-07-11 the Moroccan government\n# announced that year's Ramadan daylight-saving transitions would be\n# 2012-07-20 and 2012-08-20; see\n# <http://www.mmsp.gov.ma/fr/actualites.aspx?id=288>.\n\n# From Andrew Paprocki (2013-07-02):\n# Morocco announced that the year's Ramadan daylight-savings\n# transitions would be 2013-07-07 and 2013-08-10; see:\n# http://www.maroc.ma/en/news/morocco-suspends-daylight-saving-time-july-7-aug10\n\n# From Steffen Thorsen (2013-09-28):\n# Morocco extends DST by one month, on very short notice, just 1 day\n# before it was going to end.  There is a new decree (2.13.781) for\n# this, where DST from now on goes from last Sunday of March at 02:00\n# to last Sunday of October at 03:00, similar to EU rules.  Official\n# source (French):\n# http://www.maroc.gov.ma/fr/actualites/lhoraire-dete-gmt1-maintenu-jusquau-27-octobre-2013\n# Another source (specifying the time for start and end in the decree):\n# http://www.lemag.ma/Heure-d-ete-au-Maroc-jusqu-au-27-octobre_a75620.html\n\n# From Paul Eggert (2013-09-30):\n# To estimate what the Moroccan government will do in future years,\n# transition dates for 2014 through 2037 were determined by running\n# the following program under GNU Emacs 24.3:\n#\n# (let ((islamic-year 1435))\n#   (while (< islamic-year 1460)\n#     (let ((a\n#\t     (calendar-gregorian-from-absolute\n#\t      (calendar-islamic-to-absolute (list 9 1 islamic-year))))\n#\t    (b\n#\t     (calendar-gregorian-from-absolute\n#\t      (calendar-islamic-to-absolute (list 10 1 islamic-year)))))\n#\t(insert\n#\t (format\n#\t  (concat \"Rule\\tMorocco\\t%d\\tonly\\t-\\t%s\\t %2d\\t 3:00\\t0\\t-\\n\"\n#\t\t  \"Rule\\tMorocco\\t%d\\tonly\\t-\\t%s\\t %2d\\t 2:00\\t1:00\\tS\\n\")\n#\t  (car (cdr (cdr a))) (calendar-month-name (car a) t) (car (cdr a))\n#\t  (car (cdr (cdr b))) (calendar-month-name (car b) t) (car (cdr b)))))\n#     (setq islamic-year (+ 1 islamic-year))))\n#\n# with spring-forward transitions removed for 2023-2025, when the\n# normal spring-forward date falls during the estimated Ramadan; with\n# all transitions removed for 2026-2035, where the estimated Ramadan\n# falls entirely outside daylight-saving time; and with fall-back\n# transitions removed for 2036-2037, where the normal fall-back\n# date falls during the estimated Ramadan.  Problems continue after that,\n# but 32-bit time_t values roll around in 2038 so for now do not worry\n# about dates after 2037.\n\n# RULE\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\n\nRule\tMorocco\t1939\tonly\t-\tSep\t12\t 0:00\t1:00\tS\nRule\tMorocco\t1939\tonly\t-\tNov\t19\t 0:00\t0\t-\nRule\tMorocco\t1940\tonly\t-\tFeb\t25\t 0:00\t1:00\tS\nRule\tMorocco\t1945\tonly\t-\tNov\t18\t 0:00\t0\t-\nRule\tMorocco\t1950\tonly\t-\tJun\t11\t 0:00\t1:00\tS\nRule\tMorocco\t1950\tonly\t-\tOct\t29\t 0:00\t0\t-\nRule\tMorocco\t1967\tonly\t-\tJun\t 3\t12:00\t1:00\tS\nRule\tMorocco\t1967\tonly\t-\tOct\t 1\t 0:00\t0\t-\nRule\tMorocco\t1974\tonly\t-\tJun\t24\t 0:00\t1:00\tS\nRule\tMorocco\t1974\tonly\t-\tSep\t 1\t 0:00\t0\t-\nRule\tMorocco\t1976\t1977\t-\tMay\t 1\t 0:00\t1:00\tS\nRule\tMorocco\t1976\tonly\t-\tAug\t 1\t 0:00\t0\t-\nRule\tMorocco\t1977\tonly\t-\tSep\t28\t 0:00\t0\t-\nRule\tMorocco\t1978\tonly\t-\tJun\t 1\t 0:00\t1:00\tS\nRule\tMorocco\t1978\tonly\t-\tAug\t 4\t 0:00\t0\t-\nRule\tMorocco\t2008\tonly\t-\tJun\t 1\t 0:00\t1:00\tS\nRule\tMorocco\t2008\tonly\t-\tSep\t 1\t 0:00\t0\t-\nRule\tMorocco\t2009\tonly\t-\tJun\t 1\t 0:00\t1:00\tS\nRule\tMorocco\t2009\tonly\t-\tAug\t 21\t 0:00\t0\t-\nRule\tMorocco\t2010\tonly\t-\tMay\t 2\t 0:00\t1:00\tS\nRule\tMorocco\t2010\tonly\t-\tAug\t 8\t 0:00\t0\t-\nRule\tMorocco\t2011\tonly\t-\tApr\t 3\t 0:00\t1:00\tS\nRule\tMorocco\t2011\tonly\t-\tJul\t 31\t 0\t0\t-\nRule\tMorocco\t2012\t2013\t-\tApr\t lastSun 2:00\t1:00\tS\nRule\tMorocco\t2012\tonly\t-\tSep\t 30\t 3:00\t0\t-\nRule\tMorocco\t2012\tonly\t-\tJul\t 20\t 3:00\t0\t-\nRule\tMorocco\t2012\tonly\t-\tAug\t 20\t 2:00\t1:00\tS\nRule\tMorocco\t2013\tonly\t-\tJul\t  7\t 3:00\t0\t-\nRule\tMorocco\t2013\tonly\t-\tAug\t 10\t 2:00\t1:00\tS\nRule\tMorocco\t2013\t2035\t-\tOct\t lastSun 3:00\t0\t-\nRule\tMorocco\t2014\t2022\t-\tMar\t lastSun 2:00\t1:00\tS\nRule\tMorocco\t2014\tonly\t-\tJun\t 29\t 3:00\t0\t-\nRule\tMorocco\t2014\tonly\t-\tJul\t 29\t 2:00\t1:00\tS\nRule\tMorocco\t2015\tonly\t-\tJun\t 18\t 3:00\t0\t-\nRule\tMorocco\t2015\tonly\t-\tJul\t 18\t 2:00\t1:00\tS\nRule\tMorocco\t2016\tonly\t-\tJun\t  7\t 3:00\t0\t-\nRule\tMorocco\t2016\tonly\t-\tJul\t  7\t 2:00\t1:00\tS\nRule\tMorocco\t2017\tonly\t-\tMay\t 27\t 3:00\t0\t-\nRule\tMorocco\t2017\tonly\t-\tJun\t 26\t 2:00\t1:00\tS\nRule\tMorocco\t2018\tonly\t-\tMay\t 16\t 3:00\t0\t-\nRule\tMorocco\t2018\tonly\t-\tJun\t 15\t 2:00\t1:00\tS\nRule\tMorocco\t2019\tonly\t-\tMay\t  6\t 3:00\t0\t-\nRule\tMorocco\t2019\tonly\t-\tJun\t  5\t 2:00\t1:00\tS\nRule\tMorocco\t2020\tonly\t-\tApr\t 24\t 3:00\t0\t-\nRule\tMorocco\t2020\tonly\t-\tMay\t 24\t 2:00\t1:00\tS\nRule\tMorocco\t2021\tonly\t-\tApr\t 13\t 3:00\t0\t-\nRule\tMorocco\t2021\tonly\t-\tMay\t 13\t 2:00\t1:00\tS\nRule\tMorocco\t2022\tonly\t-\tApr\t  3\t 3:00\t0\t-\nRule\tMorocco\t2022\tonly\t-\tMay\t  3\t 2:00\t1:00\tS\nRule\tMorocco\t2023\tonly\t-\tApr\t 22\t 2:00\t1:00\tS\nRule\tMorocco\t2024\tonly\t-\tApr\t 10\t 2:00\t1:00\tS\nRule\tMorocco\t2025\tonly\t-\tMar\t 31\t 2:00\t1:00\tS\nRule\tMorocco\t2026\tmax\t-\tMar\t lastSun 2:00\t1:00\tS\nRule\tMorocco\t2036\tonly\t-\tOct\t 21\t 3:00\t0\t-\nRule\tMorocco\t2037\tonly\t-\tOct\t 11\t 3:00\t0\t-\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Africa/Casablanca\t-0:30:20 -\tLMT\t1913 Oct 26\n\t\t\t 0:00\tMorocco\tWE%sT\t1984 Mar 16\n\t\t\t 1:00\t-\tCET\t1986\n\t\t\t 0:00\tMorocco\tWE%sT\n# Western Sahara\nZone Africa/El_Aaiun\t-0:52:48 -\tLMT\t1934 Jan\n\t\t\t-1:00\t-\tWAT\t1976 Apr 14\n\t\t\t 0:00\t-\tWET\n\n# Mozambique\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Maputo\t2:10:20 -\tLMT\t1903 Mar\n\t\t\t2:00\t-\tCAT\n\n# Namibia\n# The 1994-04-03 transition is from Shanks & Pottenger.\n# Shanks & Pottenger report no DST after 1998-04; go with IATA.\n\n# From Petronella Sibeene (2007-03-30) in\n# <http://allafrica.com/stories/200703300178.html>:\n# While the entire country changes its time, Katima Mulilo and other\n# settlements in Caprivi unofficially will not because the sun there\n# rises and sets earlier compared to other regions.  Chief of\n# Forecasting Riaan van Zyl explained that the far eastern parts of\n# the country are close to 40 minutes earlier in sunrise than the rest\n# of the country.\n#\n# From Paul Eggert (2007-03-31):\n# Apparently the Caprivi Strip informally observes Botswana time, but\n# we have no details.  In the meantime people there can use Africa/Gaborone.\n\n# RULE\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tNamibia\t1994\tmax\t-\tSep\tSun>=1\t2:00\t1:00\tS\nRule\tNamibia\t1995\tmax\t-\tApr\tSun>=1\t2:00\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Windhoek\t1:08:24 -\tLMT\t1892 Feb 8\n\t\t\t1:30\t-\tSWAT\t1903 Mar\t# SW Africa Time\n\t\t\t2:00\t-\tSAST\t1942 Sep 20 2:00\n\t\t\t2:00\t1:00\tSAST\t1943 Mar 21 2:00\n\t\t\t2:00\t-\tSAST\t1990 Mar 21 # independence\n\t\t\t2:00\t-\tCAT\t1994 Apr  3\n\t\t\t1:00\tNamibia\tWA%sT\n\n# Niger\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Niamey\t 0:08:28 -\tLMT\t1912\n\t\t\t-1:00\t-\tWAT\t1934 Feb 26\n\t\t\t 0:00\t-\tGMT\t1960\n\t\t\t 1:00\t-\tWAT\n\n# Nigeria\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Lagos\t0:13:36 -\tLMT\t1919 Sep\n\t\t\t1:00\t-\tWAT\n\n# Reunion\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tIndian/Reunion\t3:41:52 -\tLMT\t1911 Jun\t# Saint-Denis\n\t\t\t4:00\t-\tRET\t# Reunion Time\n#\n# Scattered Islands (Iles Eparses) administered from Reunion are as follows.\n# The following information about them is taken from\n# Iles Eparses (www.outre-mer.gouv.fr/domtom/ile.htm, 1997-07-22, in French;\n# no longer available as of 1999-08-17).\n# We have no info about their time zone histories.\n#\n# Bassas da India - uninhabited\n# Europa Island - inhabited from 1905 to 1910 by two families\n# Glorioso Is - inhabited until at least 1958\n# Juan de Nova - uninhabited\n# Tromelin - inhabited until at least 1958\n\n# Rwanda\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Kigali\t2:00:16 -\tLMT\t1935 Jun\n\t\t\t2:00\t-\tCAT\n\n# St Helena\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Atlantic/St_Helena\t-0:22:48 -\tLMT\t1890\t\t# Jamestown\n\t\t\t-0:22:48 -\tJMT\t1951\t# Jamestown Mean Time\n\t\t\t 0:00\t-\tGMT\n# The other parts of the St Helena territory are similar:\n#\tTristan da Cunha: on GMT, say Whitman and the CIA\n#\tAscension: on GMT, says usno1995 and the CIA\n#\tGough (scientific station since 1955; sealers wintered previously):\n#\t\ton GMT, says the CIA\n#\tInaccessible, Nightingale: no information, but probably GMT\n\n# Sao Tome and Principe\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Sao_Tome\t 0:26:56 -\tLMT\t1884\n\t\t\t-0:36:32 -\tLMT\t1912\t# Lisbon Mean Time\n\t\t\t 0:00\t-\tGMT\n\n# Senegal\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Dakar\t-1:09:44 -\tLMT\t1912\n\t\t\t-1:00\t-\tWAT\t1941 Jun\n\t\t\t 0:00\t-\tGMT\n\n# Seychelles\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tIndian/Mahe\t3:41:48 -\tLMT\t1906 Jun\t# Victoria\n\t\t\t4:00\t-\tSCT\t# Seychelles Time\n# From Paul Eggert (2001-05-30):\n# Aldabra, Farquhar, and Desroches, originally dependencies of the\n# Seychelles, were transferred to the British Indian Ocean Territory\n# in 1965 and returned to Seychelles control in 1976.  We don't know\n# whether this affected their time zone, so omit this for now.\n# Possibly the islands were uninhabited.\n\n# Sierra Leone\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\n# Whitman gives Mar 31 - Aug 31 for 1931 on; go with Shanks & Pottenger.\nRule\tSL\t1935\t1942\t-\tJun\t 1\t0:00\t0:40\tSLST\nRule\tSL\t1935\t1942\t-\tOct\t 1\t0:00\t0\tWAT\nRule\tSL\t1957\t1962\t-\tJun\t 1\t0:00\t1:00\tSLST\nRule\tSL\t1957\t1962\t-\tSep\t 1\t0:00\t0\tGMT\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Freetown\t-0:53:00 -\tLMT\t1882\n\t\t\t-0:53:00 -\tFMT\t1913 Jun # Freetown Mean Time\n\t\t\t-1:00\tSL\t%s\t1957\n\t\t\t 0:00\tSL\t%s\n\n# Somalia\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Africa/Mogadishu\t3:01:28 -\tLMT\t1893 Nov\n\t\t\t3:00\t-\tEAT\t1931\n\t\t\t2:30\t-\tBEAT\t1957\n\t\t\t3:00\t-\tEAT\n\n# South Africa\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tSA\t1942\t1943\t-\tSep\tSun>=15\t2:00\t1:00\t-\nRule\tSA\t1943\t1944\t-\tMar\tSun>=15\t2:00\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Africa/Johannesburg 1:52:00 -\tLMT\t1892 Feb 8\n\t\t\t1:30\t-\tSAST\t1903 Mar\n\t\t\t2:00\tSA\tSAST\n# Marion and Prince Edward Is\n# scientific station since 1947\n# no information\n\n# Sudan\n#\n# From <a href=\"http://www.sunanews.net/sn13jane.html\">\n# Sudan News Agency (2000-01-13)\n# </a>, also reported by Michael De Beukelaer-Dossche via Steffen Thorsen:\n# Clocks will be moved ahead for 60 minutes all over the Sudan as of noon\n# Saturday....  This was announced Thursday by Caretaker State Minister for\n# Manpower Abdul-Rahman Nur-Eddin.\n#\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tSudan\t1970\tonly\t-\tMay\t 1\t0:00\t1:00\tS\nRule\tSudan\t1970\t1985\t-\tOct\t15\t0:00\t0\t-\nRule\tSudan\t1971\tonly\t-\tApr\t30\t0:00\t1:00\tS\nRule\tSudan\t1972\t1985\t-\tApr\tlastSun\t0:00\t1:00\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Khartoum\t2:10:08 -\tLMT\t1931\n\t\t\t2:00\tSudan\tCA%sT\t2000 Jan 15 12:00\n\t\t\t3:00\t-\tEAT\n\n# South Sudan\nLink Africa/Khartoum Africa/Juba\n\n# Swaziland\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Mbabane\t2:04:24 -\tLMT\t1903 Mar\n\t\t\t2:00\t-\tSAST\n\n# Tanzania\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Africa/Dar_es_Salaam 2:37:08 -\tLMT\t1931\n\t\t\t3:00\t-\tEAT\t1948\n\t\t\t2:45\t-\tBEAUT\t1961\n\t\t\t3:00\t-\tEAT\n\n# Togo\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Lome\t0:04:52 -\tLMT\t1893\n\t\t\t0:00\t-\tGMT\n\n# Tunisia\n\n# From Gwillim Law (2005-04-30):\n# My correspondent, Risto Nykanen, has alerted me to another adoption of DST,\n# this time in Tunisia.  According to Yahoo France News\n# <http://fr.news.yahoo.com/050426/5/4dumk.html>, in a story attributed to AP\n# and dated 2005-04-26, \"Tunisia has decided to advance its official time by\n# one hour, starting on Sunday, May 1.  Henceforth, Tunisian time will be\n# UTC+2 instead of UTC+1.  The change will take place at 23:00 UTC next\n# Saturday.\"  (My translation)\n#\n# From Oscar van Vlijmen (2005-05-02):\n# LaPresse, the first national daily newspaper ...\n# <http://www.lapresse.tn/archives/archives280405/actualites/lheure.html>\n# ... DST for 2005: on: Sun May 1 0h standard time, off: Fri Sept. 30,\n# 1h standard time.\n#\n# From Atef Loukil (2006-03-28):\n# The daylight saving time will be the same each year:\n# Beginning      : the last Sunday of March at 02:00\n# Ending         : the last Sunday of October at 03:00 ...\n# http://www.tap.info.tn/en/index.php?option=com_content&task=view&id=1188&Itemid=50\n\n# From Steffen Thorsen (2009-03-16):\n# According to several news sources, Tunisia will not observe DST this year.\n# (Arabic)\n# <a href=\"http://www.elbashayer.com/?page=viewn&nid=42546\">\n# http://www.elbashayer.com/?page=viewn&nid=42546\n# </a>\n# <a href=\"http://www.babnet.net/kiwidetail-15295.asp\">\n# http://www.babnet.net/kiwidetail-15295.asp\n# </a>\n#\n# We have also confirmed this with the US embassy in Tunisia.\n# We have a wrap-up about this on the following page:\n# <a href=\"http://www.timeanddate.com/news/time/tunisia-cancels-dst-2009.html\">\n# http://www.timeanddate.com/news/time/tunisia-cancels-dst-2009.html\n# </a>\n\n# From Alexander Krivenyshev (2009-03-17):\n# Here is a link to Tunis Afrique Presse News Agency\n#\n# Standard time to be kept the whole year long (tap.info.tn):\n#\n# (in English)\n# <a href=\"http://www.tap.info.tn/en/index.php?option=com_content&task=view&id=26813&Itemid=157\">\n# http://www.tap.info.tn/en/index.php?option=com_content&task=view&id=26813&Itemid=157\n# </a>\n#\n# (in Arabic)\n# <a href=\"http://www.tap.info.tn/ar/index.php?option=com_content&task=view&id=61240&Itemid=1\">\n# http://www.tap.info.tn/ar/index.php?option=com_content&task=view&id=61240&Itemid=1\n# </a>\n\n# From Arthur David Olson (2009--3-18):\n# The Tunis Afrique Presse News Agency notice contains this: \"This measure is due to the fact\n# that the fasting month of ramadan coincides with the period concerned by summer time.\n# Therefore, the standard time will be kept unchanged the whole year long.\"\n# So foregoing DST seems to be an exception (albeit one that may be repeated in the  future).\n\n# From Alexander Krivenyshev (2010-03-27):\n# According to some news reports Tunis confirmed not to use DST in 2010\n#\n# (translation):\n# \"The Tunisian government has decided to abandon DST, which was scheduled on\n# Sunday...\n# Tunisian authorities had suspended the DST for the first time last year also\n# coincided with the month of Ramadan...\"\n#\n# (in Arabic)\n# <a href=\"http://www.moheet.com/show_news.aspx?nid=358861&pg=1\">\n# http://www.moheet.com/show_news.aspx?nid=358861&pg=1\n# <a href=\"http://www.almadenahnews.com/newss/news.php?c=118&id=38036\">\n# http://www.almadenahnews.com/newss/news.php?c=118&id=38036\n# or\n# <a href=\"http://www.worldtimezone.com/dst_news/dst_news_tunis02.html\">\n# http://www.worldtimezone.com/dst_news/dst_news_tunis02.html\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tTunisia\t1939\tonly\t-\tApr\t15\t23:00s\t1:00\tS\nRule\tTunisia\t1939\tonly\t-\tNov\t18\t23:00s\t0\t-\nRule\tTunisia\t1940\tonly\t-\tFeb\t25\t23:00s\t1:00\tS\nRule\tTunisia\t1941\tonly\t-\tOct\t 6\t 0:00\t0\t-\nRule\tTunisia\t1942\tonly\t-\tMar\t 9\t 0:00\t1:00\tS\nRule\tTunisia\t1942\tonly\t-\tNov\t 2\t 3:00\t0\t-\nRule\tTunisia\t1943\tonly\t-\tMar\t29\t 2:00\t1:00\tS\nRule\tTunisia\t1943\tonly\t-\tApr\t17\t 2:00\t0\t-\nRule\tTunisia\t1943\tonly\t-\tApr\t25\t 2:00\t1:00\tS\nRule\tTunisia\t1943\tonly\t-\tOct\t 4\t 2:00\t0\t-\nRule\tTunisia\t1944\t1945\t-\tApr\tMon>=1\t 2:00\t1:00\tS\nRule\tTunisia\t1944\tonly\t-\tOct\t 8\t 0:00\t0\t-\nRule\tTunisia\t1945\tonly\t-\tSep\t16\t 0:00\t0\t-\nRule\tTunisia\t1977\tonly\t-\tApr\t30\t 0:00s\t1:00\tS\nRule\tTunisia\t1977\tonly\t-\tSep\t24\t 0:00s\t0\t-\nRule\tTunisia\t1978\tonly\t-\tMay\t 1\t 0:00s\t1:00\tS\nRule\tTunisia\t1978\tonly\t-\tOct\t 1\t 0:00s\t0\t-\nRule\tTunisia\t1988\tonly\t-\tJun\t 1\t 0:00s\t1:00\tS\nRule\tTunisia\t1988\t1990\t-\tSep\tlastSun\t 0:00s\t0\t-\nRule\tTunisia\t1989\tonly\t-\tMar\t26\t 0:00s\t1:00\tS\nRule\tTunisia\t1990\tonly\t-\tMay\t 1\t 0:00s\t1:00\tS\nRule\tTunisia\t2005\tonly\t-\tMay\t 1\t 0:00s\t1:00\tS\nRule\tTunisia\t2005\tonly\t-\tSep\t30\t 1:00s\t0\t-\nRule\tTunisia\t2006\t2008\t-\tMar\tlastSun\t 2:00s\t1:00\tS\nRule\tTunisia\t2006\t2008\t-\tOct\tlastSun\t 2:00s\t0\t-\n\n# Shanks & Pottenger give 0:09:20 for Paris Mean Time; go with Howse's\n# more precise 0:09:21.\n# Shanks & Pottenger say the 1911 switch was on Mar 9; go with Howse's Mar 11.\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Tunis\t0:40:44 -\tLMT\t1881 May 12\n\t\t\t0:09:21\t-\tPMT\t1911 Mar 11    # Paris Mean Time\n\t\t\t1:00\tTunisia\tCE%sT\n\n# Uganda\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Kampala\t2:09:40 -\tLMT\t1928 Jul\n\t\t\t3:00\t-\tEAT\t1930\n\t\t\t2:30\t-\tBEAT\t1948\n\t\t\t2:45\t-\tBEAUT\t1957\n\t\t\t3:00\t-\tEAT\n\n# Zambia\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Lusaka\t1:53:08 -\tLMT\t1903 Mar\n\t\t\t2:00\t-\tCAT\n\n# Zimbabwe\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAfrica/Harare\t2:04:12 -\tLMT\t1903 Mar\n\t\t\t2:00\t-\tCAT\n";

zone_files['antarctica'] = "# <pre>\n# This file is in the public domain, so clarified as of\n# 2009-05-17 by Arthur David Olson.\n\n# From Paul Eggert (1999-11-15):\n# To keep things manageable, we list only locations occupied year-round; see\n# <a href=\"http://www.comnap.aq/comnap/comnap.nsf/P/Stations/\">\n# COMNAP - Stations and Bases\n# </a>\n# and\n# <a href=\"http://www.spri.cam.ac.uk/bob/periant.htm\">\n# Summary of the Peri-Antarctic Islands (1998-07-23)\n# </a>\n# for information.\n# Unless otherwise specified, we have no time zone information.\n#\n# Except for the French entries,\n# I made up all time zone abbreviations mentioned here; corrections welcome!\n# FORMAT is 'zzz' and GMTOFF is 0 for locations while uninhabited.\n\n# These rules are stolen from the 'southamerica' file.\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tArgAQ\t1964\t1966\t-\tMar\t 1\t0:00\t0\t-\nRule\tArgAQ\t1964\t1966\t-\tOct\t15\t0:00\t1:00\tS\nRule\tArgAQ\t1967\tonly\t-\tApr\t 2\t0:00\t0\t-\nRule\tArgAQ\t1967\t1968\t-\tOct\tSun>=1\t0:00\t1:00\tS\nRule\tArgAQ\t1968\t1969\t-\tApr\tSun>=1\t0:00\t0\t-\nRule\tArgAQ\t1974\tonly\t-\tJan\t23\t0:00\t1:00\tS\nRule\tArgAQ\t1974\tonly\t-\tMay\t 1\t0:00\t0\t-\nRule\tChileAQ\t1972\t1986\t-\tMar\tSun>=9\t3:00u\t0\t-\nRule\tChileAQ\t1974\t1987\t-\tOct\tSun>=9\t4:00u\t1:00\tS\nRule\tChileAQ\t1987\tonly\t-\tApr\t12\t3:00u\t0\t-\nRule\tChileAQ\t1988\t1989\t-\tMar\tSun>=9\t3:00u\t0\t-\nRule\tChileAQ\t1988\tonly\t-\tOct\tSun>=1\t4:00u\t1:00\tS\nRule\tChileAQ\t1989\tonly\t-\tOct\tSun>=9\t4:00u\t1:00\tS\nRule\tChileAQ\t1990\tonly\t-\tMar\t18\t3:00u\t0\t-\nRule\tChileAQ\t1990\tonly\t-\tSep\t16\t4:00u\t1:00\tS\nRule\tChileAQ\t1991\t1996\t-\tMar\tSun>=9\t3:00u\t0\t-\nRule\tChileAQ\t1991\t1997\t-\tOct\tSun>=9\t4:00u\t1:00\tS\nRule\tChileAQ\t1997\tonly\t-\tMar\t30\t3:00u\t0\t-\nRule\tChileAQ\t1998\tonly\t-\tMar\tSun>=9\t3:00u\t0\t-\nRule\tChileAQ\t1998\tonly\t-\tSep\t27\t4:00u\t1:00\tS\nRule\tChileAQ\t1999\tonly\t-\tApr\t 4\t3:00u\t0\t-\nRule\tChileAQ\t1999\t2010\t-\tOct\tSun>=9\t4:00u\t1:00\tS\nRule\tChileAQ\t2000\t2007\t-\tMar\tSun>=9\t3:00u\t0\t-\n# N.B.: the end of March 29 in Chile is March 30 in Universal time,\n# which is used below in specifying the transition.\nRule\tChileAQ\t2008\tonly\t-\tMar\t30\t3:00u\t0\t-\nRule\tChileAQ\t2009\tonly\t-\tMar\tSun>=9\t3:00u\t0\t-\nRule\tChileAQ\t2010\tonly\t-\tApr\tSun>=1\t3:00u\t0\t-\nRule\tChileAQ\t2011\tonly\t-\tMay\tSun>=2\t3:00u\t0\t-\nRule\tChileAQ\t2011\tonly\t-\tAug\tSun>=16\t4:00u\t1:00\tS\nRule\tChileAQ\t2012\tmax\t-\tApr\tSun>=23\t3:00u\t0\t-\nRule\tChileAQ\t2012\tmax\t-\tSep\tSun>=2\t4:00u\t1:00\tS\n\n# Argentina - year-round bases\n# Belgrano II, Confin Coast, -770227-0343737, since 1972-02-05\n# Esperanza, San Martin Land, -6323-05659, since 1952-12-17\n# Jubany, Potter Peninsula, King George Island, -6414-0602320, since 1982-01\n# Marambio, Seymour I, -6414-05637, since 1969-10-29\n# Orcadas, Laurie I, -6016-04444, since 1904-02-22\n# San Martin, Debenham I, -6807-06708, since 1951-03-21\n#\t(except 1960-03 / 1976-03-21)\n\n# Australia - territories\n# Heard Island, McDonald Islands (uninhabited)\n#\tpreviously sealers and scientific personnel wintered\n#\t<a href=\"http://web.archive.org/web/20021204222245/http://www.dstc.qut.edu.au/DST/marg/daylight.html\">\n#\tMargaret Turner reports\n#\t</a> (1999-09-30) that they're UTC+5, with no DST;\n#\tpresumably this is when they have visitors.\n#\n# year-round bases\n# Casey, Bailey Peninsula, -6617+11032, since 1969\n# Davis, Vestfold Hills, -6835+07759, since 1957-01-13\n#\t(except 1964-11 - 1969-02)\n# Mawson, Holme Bay, -6736+06253, since 1954-02-13\n\n# From Steffen Thorsen (2009-03-11):\n# Three Australian stations in Antarctica have changed their time zone:\n# Casey moved from UTC+8 to UTC+11\n# Davis moved from UTC+7 to UTC+5\n# Mawson moved from UTC+6 to UTC+5\n# The changes occurred on 2009-10-18 at 02:00 (local times).\n#\n# Government source: (Australian Antarctic Division)\n# <a href=\"http://www.aad.gov.au/default.asp?casid=37079\">\n# http://www.aad.gov.au/default.asp?casid=37079\n# </a>\n#\n# We have more background information here:\n# <a href=\"http://www.timeanddate.com/news/time/antarctica-new-times.html\">\n# http://www.timeanddate.com/news/time/antarctica-new-times.html\n# </a>\n\n# From Steffen Thorsen (2010-03-10):\n# We got these changes from the Australian Antarctic Division: ...\n#\n# - Casey station reverted to its normal time of UTC+8 on 5 March 2010.\n# The change to UTC+11 is being considered as a regular summer thing but\n# has not been decided yet.\n#\n# - Davis station will revert to its normal time of UTC+7 at 10 March 2010\n# 20:00 UTC.\n#\n# - Mawson station stays on UTC+5.\n#\n# Background:\n# <a href=\"http://www.timeanddate.com/news/time/antartica-time-changes-2010.html\">\n# http://www.timeanddate.com/news/time/antartica-time-changes-2010.html\n# </a>\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Antarctica/Casey\t0\t-\tzzz\t1969\n\t\t\t8:00\t-\tWST\t2009 Oct 18 2:00\n\t\t\t\t\t\t# Western (Aus) Standard Time\n\t\t\t11:00\t-\tCAST\t2010 Mar 5 2:00\n\t\t\t\t\t\t# Casey Time\n\t\t\t8:00\t-\tWST\t2011 Oct 28 2:00\n\t\t\t11:00\t-\tCAST\t2012 Feb 21 17:00u\n\t\t\t8:00\t-\tWST\nZone Antarctica/Davis\t0\t-\tzzz\t1957 Jan 13\n\t\t\t7:00\t-\tDAVT\t1964 Nov # Davis Time\n\t\t\t0\t-\tzzz\t1969 Feb\n\t\t\t7:00\t-\tDAVT\t2009 Oct 18 2:00\n\t\t\t5:00\t-\tDAVT\t2010 Mar 10 20:00u\n\t\t\t7:00\t-\tDAVT\t2011 Oct 28 2:00\n\t\t\t5:00\t-\tDAVT\t2012 Feb 21 20:00u\n\t\t\t7:00\t-\tDAVT\nZone Antarctica/Mawson\t0\t-\tzzz\t1954 Feb 13\n\t\t\t6:00\t-\tMAWT\t2009 Oct 18 2:00\n\t\t\t\t\t\t# Mawson Time\n\t\t\t5:00\t-\tMAWT\n# References:\n# <a href=\"http://www.antdiv.gov.au/aad/exop/sfo/casey/casey_aws.html\">\n# Casey Weather (1998-02-26)\n# </a>\n# <a href=\"http://www.antdiv.gov.au/aad/exop/sfo/davis/video.html\">\n# Davis Station, Antarctica (1998-02-26)\n# </a>\n# <a href=\"http://www.antdiv.gov.au/aad/exop/sfo/mawson/video.html\">\n# Mawson Station, Antarctica (1998-02-25)\n# </a>\n\n# Brazil - year-round base\n# Comandante Ferraz, King George Island, -6205+05824, since 1983/4\n\n# Chile - year-round bases and towns\n# Escudero, South Shetland Is, -621157-0585735, since 1994\n# Presidente Eduadro Frei, King George Island, -6214-05848, since 1969-03-07\n# General Bernardo O'Higgins, Antarctic Peninsula, -6319-05704, since 1948-02\n# Capitan Arturo Prat, -6230-05941\n# Villa Las Estrellas (a town), around the Frei base, since 1984-04-09\n# These locations have always used Santiago time; use TZ='America/Santiago'.\n\n# China - year-round bases\n# Great Wall, King George Island, -6213-05858, since 1985-02-20\n# Zhongshan, Larsemann Hills, Prydz Bay, -6922+07623, since 1989-02-26\n\n# France - year-round bases\n#\n# From Antoine Leca (1997-01-20):\n# Time data are from Nicole Pailleau at the IFRTP\n# (French Institute for Polar Research and Technology).\n# She confirms that French Southern Territories and Terre Adelie bases\n# don't observe daylight saving time, even if Terre Adelie supplies came\n# from Tasmania.\n#\n# French Southern Territories with year-round inhabitants\n#\n# Martin-de-Vivies Base, Amsterdam Island, -374105+0773155, since 1950\n# Alfred-Faure Base, Crozet Islands, -462551+0515152, since 1964\n# Port-aux-Francais, Kerguelen Islands, -492110+0701303, since 1951;\n#\twhaling & sealing station operated 1908/1914, 1920/1929, and 1951/1956\n#\n# St Paul Island - near Amsterdam, uninhabited\n#\tfishing stations operated variously 1819/1931\n#\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Indian/Kerguelen\t0\t-\tzzz\t1950\t# Port-aux-Francais\n\t\t\t5:00\t-\tTFT\t# ISO code TF Time\n#\n# year-round base in the main continent\n# Dumont-d'Urville, Ile des Petrels, -6640+14001, since 1956-11\n#\n# Another base at Port-Martin, 50km east, began operation in 1947.\n# It was destroyed by fire on 1952-01-14.\n#\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Antarctica/DumontDUrville 0 -\tzzz\t1947\n\t\t\t10:00\t-\tPMT\t1952 Jan 14 # Port-Martin Time\n\t\t\t0\t-\tzzz\t1956 Nov\n\t\t\t10:00\t-\tDDUT\t# Dumont-d'Urville Time\n# Reference:\n# <a href=\"http://en.wikipedia.org/wiki/Dumont_d'Urville_Station\">\n# Dumont d'Urville Station (2005-12-05)\n# </a>\n\n# Germany - year-round base\n# Georg von Neumayer, -7039-00815\n\n# India - year-round base\n# Dakshin Gangotri, -7005+01200\n\n# Japan - year-round bases\n# Dome Fuji, -7719+03942\n# Syowa, -690022+0393524\n#\n# From Hideyuki Suzuki (1999-02-06):\n# In all Japanese stations, +0300 is used as the standard time.\n#\n# Syowa station, which is the first antarctic station of Japan,\n# was established on 1957-01-29.  Since Syowa station is still the main\n# station of Japan, it's appropriate for the principal location.\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Antarctica/Syowa\t0\t-\tzzz\t1957 Jan 29\n\t\t\t3:00\t-\tSYOT\t# Syowa Time\n# See:\n# <a href=\"http://www.nipr.ac.jp/english/ara01.html\">\n# NIPR Antarctic Research Activities (1999-08-17)\n# </a>\n\n# S Korea - year-round base\n# King Sejong, King George Island, -6213-05847, since 1988\n\n# New Zealand - claims\n# Balleny Islands (never inhabited)\n# Scott Island (never inhabited)\n#\n# year-round base\n# Scott Base, Ross Island, since 1957-01.\n# See Pacific/Auckland.\n#\n# These rules for New Zealand are stolen from the 'australasia' file.\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tNZAQ\t1974\tonly\t-\tNov\t 3\t2:00s\t1:00\tD\nRule\tNZAQ\t1975\t1988\t-\tOct\tlastSun\t2:00s\t1:00\tD\nRule\tNZAQ\t1989\tonly\t-\tOct\t 8\t2:00s\t1:00\tD\nRule\tNZAQ\t1990\t2006\t-\tOct\tSun>=1\t2:00s\t1:00\tD\nRule\tNZAQ\t1975\tonly\t-\tFeb\t23\t2:00s\t0\tS\nRule\tNZAQ\t1976\t1989\t-\tMar\tSun>=1\t2:00s\t0\tS\nRule\tNZAQ\t1990\t2007\t-\tMar\tSun>=15\t2:00s\t0\tS\nRule\tNZAQ\t2007\tmax\t-\tSep\tlastSun\t2:00s\t1:00\tD\nRule\tNZAQ\t2008\tmax\t-\tApr\tSun>=1\t2:00s\t0\tS\n\n# Norway - territories\n# Bouvet (never inhabited)\n#\n# claims\n# Peter I Island (never inhabited)\n\n# Poland - year-round base\n# Arctowski, King George Island, -620945-0582745, since 1977\n\n# Russia - year-round bases\n# Bellingshausen, King George Island, -621159-0585337, since 1968-02-22\n# Mirny, Davis coast, -6633+09301, since 1956-02\n# Molodezhnaya, Alasheyev Bay, -6740+04551,\n#\tyear-round from 1962-02 to 1999-07-01\n# Novolazarevskaya, Queen Maud Land, -7046+01150,\n#\tyear-round from 1960/61 to 1992\n\n# Vostok, since 1957-12-16, temporarily closed 1994-02/1994-11\n# <a href=\"http://quest.arc.nasa.gov/antarctica/QA/computers/Directions,Time,ZIP\">\n# From Craig Mundell (1994-12-15)</a>:\n# Vostok, which is one of the Russian stations, is set on the same\n# time as Moscow, Russia.\n#\n# From Lee Hotz (2001-03-08):\n# I queried the folks at Columbia who spent the summer at Vostok and this is\n# what they had to say about time there:\n# \"in the US Camp (East Camp) we have been on New Zealand (McMurdo)\n# time, which is 12 hours ahead of GMT. The Russian Station Vostok was\n# 6 hours behind that (although only 2 miles away, i.e. 6 hours ahead\n# of GMT). This is a time zone I think two hours east of Moscow. The\n# natural time zone is in between the two: 8 hours ahead of GMT.\"\n#\n# From Paul Eggert (2001-05-04):\n# This seems to be hopelessly confusing, so I asked Lee Hotz about it\n# in person.  He said that some Antartic locations set their local\n# time so that noon is the warmest part of the day, and that this\n# changes during the year and does not necessarily correspond to mean\n# solar noon.  So the Vostok time might have been whatever the clocks\n# happened to be during their visit.  So we still don't really know what time\n# it is at Vostok.  But we'll guess UTC+6.\n#\nZone Antarctica/Vostok\t0\t-\tzzz\t1957 Dec 16\n\t\t\t6:00\t-\tVOST\t# Vostok time\n\n# S Africa - year-round bases\n# Marion Island, -4653+03752\n# Sanae, -7141-00250\n\n# UK\n#\n# British Antarctic Territories (BAT) claims\n# South Orkney Islands\n#\tscientific station from 1903\n#\twhaling station at Signy I 1920/1926\n# South Shetland Islands\n#\n# year-round bases\n# Bird Island, South Georgia, -5400-03803, since 1983\n# Deception Island, -6259-06034, whaling station 1912/1931,\n#\tscientific station 1943/1967,\n#\tpreviously sealers and a scientific expedition wintered by accident,\n#\tand a garrison was deployed briefly\n# Halley, Coates Land, -7535-02604, since 1956-01-06\n#\tHalley is on a moving ice shelf and is periodically relocated\n#\tso that it is never more than 10km from its nominal location.\n# Rothera, Adelaide Island, -6734-6808, since 1976-12-01\n#\n# From Paul Eggert (2002-10-22)\n# <http://webexhibits.org/daylightsaving/g.html> says Rothera is -03 all year.\n#\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Antarctica/Rothera\t0\t-\tzzz\t1976 Dec  1\n\t\t\t-3:00\t-\tROTT\t# Rothera time\n\n# Uruguay - year round base\n# Artigas, King George Island, -621104-0585107\n\n# USA - year-round bases\n#\n# Palmer, Anvers Island, since 1965 (moved 2 miles in 1968)\n#\n# From Ethan Dicks (1996-10-06):\n# It keeps the same time as Punta Arenas, Chile, because, just like us\n# and the South Pole, that's the other end of their supply line....\n# I verified with someone who was there that since 1980,\n# Palmer has followed Chile.  Prior to that, before the Falklands War,\n# Palmer used to be supplied from Argentina.\n#\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Antarctica/Palmer\t0\t-\tzzz\t1965\n\t\t\t-4:00\tArgAQ\tAR%sT\t1969 Oct 5\n\t\t\t-3:00\tArgAQ\tAR%sT\t1982 May\n\t\t\t-4:00\tChileAQ\tCL%sT\n#\n#\n# McMurdo Station, Ross Island, since 1955-12\n# Amundsen-Scott South Pole Station, continuously occupied since 1956-11-20\n#\n# From Chris Carrier (1996-06-27):\n# Siple, the first commander of the South Pole station,\n# stated that he would have liked to have kept GMT at the station,\n# but that he found it more convenient to keep GMT+12\n# as supplies for the station were coming from McMurdo Sound,\n# which was on GMT+12 because New Zealand was on GMT+12 all year\n# at that time (1957).  (Source: Siple's book 90 degrees SOUTH.)\n#\n# From Susan Smith\n# http://www.cybertours.com/whs/pole10.html\n# (1995-11-13 16:24:56 +1300, no longer available):\n# We use the same time as McMurdo does.\n# And they use the same time as Christchurch, NZ does....\n# One last quirk about South Pole time.\n# All the electric clocks are usually wrong.\n# Something about the generators running at 60.1hertz or something\n# makes all of the clocks run fast.  So every couple of days,\n# we have to go around and set them back 5 minutes or so.\n# Maybe if we let them run fast all of the time, we'd get to leave here sooner!!\n#\n# See 'australasia' for Antarctica/McMurdo.\n";

zone_files['asia'] = "# <pre>\n# This file is in the public domain, so clarified as of\n# 2009-05-17 by Arthur David Olson.\n\n# This data is by no means authoritative; if you think you know better,\n# go ahead and edit the file (and please send any changes to\n# tz@iana.org for general use in the future).\n\n# From Paul Eggert (2013-08-11):\n#\n# A good source for time zone historical data outside the U.S. is\n# Thomas G. Shanks and Rique Pottenger, The International Atlas (6th edition),\n# San Diego: ACS Publications, Inc. (2003).\n#\n# Gwillim Law writes that a good source\n# for recent time zone data is the International Air Transport\n# Association's Standard Schedules Information Manual (IATA SSIM),\n# published semiannually.  Law sent in several helpful summaries\n# of the IATA's data after 1990.\n#\n# Except where otherwise noted, Shanks & Pottenger is the source for\n# entries through 1990, and IATA SSIM is the source for entries afterwards.\n#\n# Another source occasionally used is Edward W. Whitman, World Time Differences,\n# Whitman Publishing Co, 2 Niagara Av, Ealing, London (undated), which\n# I found in the UCLA library.\n#\n# For data circa 1899, a common source is:\n# Milne J. Civil time. Geogr J. 1899 Feb;13(2):173-94\n# <http://www.jstor.org/stable/1774359>.\n#\n# A reliable and entertaining source about time zones is\n# Derek Howse, Greenwich time and longitude, Philip Wilson Publishers (1997).\n#\n# I invented the abbreviations marked `*' in the following table;\n# the rest are from earlier versions of this file, or from other sources.\n# Corrections are welcome!\n#\t     std  dst\n#\t     LMT\tLocal Mean Time\n#\t2:00 EET  EEST\tEastern European Time\n#\t2:00 IST  IDT\tIsrael\n#\t3:00 AST  ADT\tArabia*\n#\t3:30 IRST IRDT\tIran\n#\t4:00 GST\tGulf*\n#\t5:30 IST\tIndia\n#\t7:00 ICT\tIndochina*\n#\t7:00 WIB\twest Indonesia (Waktu Indonesia Barat)\n#\t8:00 WITA\tcentral Indonesia (Waktu Indonesia Tengah)\n#\t8:00 CST\tChina\n#\t9:00 CJT\tCentral Japanese Time (1896/1937)*\n#\t9:00 WIT\teast Indonesia (Waktu Indonesia Timur)\n#\t9:00 JST  JDT\tJapan\n#\t9:00 KST  KDT\tKorea\n#\t9:30 CST\t(Australian) Central Standard Time\n#\n# See the `europe' file for Russia and Turkey in Asia.\n\n# From Guy Harris:\n# Incorporates data for Singapore from Robert Elz' asia 1.1, as well as\n# additional information from Tom Yap, Sun Microsystems Intercontinental\n# Technical Support (including a page from the Official Airline Guide -\n# Worldwide Edition).  The names for time zones are guesses.\n\n###############################################################################\n\n# These rules are stolen from the `europe' file.\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tEUAsia\t1981\tmax\t-\tMar\tlastSun\t 1:00u\t1:00\tS\nRule\tEUAsia\t1979\t1995\t-\tSep\tlastSun\t 1:00u\t0\t-\nRule\tEUAsia\t1996\tmax\t-\tOct\tlastSun\t 1:00u\t0\t-\nRule E-EurAsia\t1981\tmax\t-\tMar\tlastSun\t 0:00\t1:00\tS\nRule E-EurAsia\t1979\t1995\t-\tSep\tlastSun\t 0:00\t0\t-\nRule E-EurAsia\t1996\tmax\t-\tOct\tlastSun\t 0:00\t0\t-\nRule RussiaAsia\t1981\t1984\t-\tApr\t1\t 0:00\t1:00\tS\nRule RussiaAsia\t1981\t1983\t-\tOct\t1\t 0:00\t0\t-\nRule RussiaAsia\t1984\t1991\t-\tSep\tlastSun\t 2:00s\t0\t-\nRule RussiaAsia\t1985\t1991\t-\tMar\tlastSun\t 2:00s\t1:00\tS\nRule RussiaAsia\t1992\tonly\t-\tMar\tlastSat\t23:00\t1:00\tS\nRule RussiaAsia\t1992\tonly\t-\tSep\tlastSat\t23:00\t0\t-\nRule RussiaAsia\t1993\tmax\t-\tMar\tlastSun\t 2:00s\t1:00\tS\nRule RussiaAsia\t1993\t1995\t-\tSep\tlastSun\t 2:00s\t0\t-\nRule RussiaAsia\t1996\tmax\t-\tOct\tlastSun\t 2:00s\t0\t-\n\n# Afghanistan\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Kabul\t4:36:48 -\tLMT\t1890\n\t\t\t4:00\t-\tAFT\t1945\n\t\t\t4:30\t-\tAFT\n\n# Armenia\n# From Paul Eggert (2006-03-22):\n# Shanks & Pottenger have Yerevan switching to 3:00 (with Russian DST)\n# in spring 1991, then to 4:00 with no DST in fall 1995, then\n# readopting Russian DST in 1997.  Go with Shanks & Pottenger, even\n# when they disagree with others.  Edgar Der-Danieliantz\n# reported (1996-05-04) that Yerevan probably wouldn't use DST\n# in 1996, though it did use DST in 1995.  IATA SSIM (1991/1998) reports that\n# Armenia switched from 3:00 to 4:00 in 1998 and observed DST after 1991,\n# but started switching at 3:00s in 1998.\n\n# From Arthur David Olson (2011-06-15):\n# While Russia abandoned DST in 2011, Armenia may choose to\n# follow Russia's \"old\" rules.\n\n# From Alexander Krivenyshev (2012-02-10):\n# According to News Armenia, on Feb 9, 2012,\n# http://newsarmenia.ru/society/20120209/42609695.html\n#\n# The Armenia National Assembly adopted final reading of Amendments to the\n# Law \"On procedure of calculation time on the territory of the Republic of\n# Armenia\" according to which Armenia [is] abolishing Daylight Saving Time.\n# or\n# (brief)\n# http://www.worldtimezone.com/dst_news/dst_news_armenia03.html\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Yerevan\t2:58:00 -\tLMT\t1924 May  2\n\t\t\t3:00\t-\tYERT\t1957 Mar    # Yerevan Time\n\t\t\t4:00 RussiaAsia YER%sT\t1991 Mar 31 2:00s\n\t\t\t3:00\t1:00\tYERST\t1991 Sep 23 # independence\n\t\t\t3:00 RussiaAsia\tAM%sT\t1995 Sep 24 2:00s\n\t\t\t4:00\t-\tAMT\t1997\n\t\t\t4:00 RussiaAsia\tAM%sT\t2012 Mar 25 2:00s\n\t\t\t4:00\t-\tAMT\n\n# Azerbaijan\n# From Rustam Aliyev of the Azerbaijan Internet Forum (2005-10-23):\n# According to the resolution of Cabinet of Ministers, 1997\n# Resolution available at: http://aif.az/docs/daylight_res.pdf\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tAzer\t1997\tmax\t-\tMar\tlastSun\t 4:00\t1:00\tS\nRule\tAzer\t1997\tmax\t-\tOct\tlastSun\t 5:00\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Baku\t3:19:24 -\tLMT\t1924 May  2\n\t\t\t3:00\t-\tBAKT\t1957 Mar    # Baku Time\n\t\t\t4:00 RussiaAsia BAK%sT\t1991 Mar 31 2:00s\n\t\t\t3:00\t1:00\tBAKST\t1991 Aug 30 # independence\n\t\t\t3:00 RussiaAsia\tAZ%sT\t1992 Sep lastSat 23:00\n\t\t\t4:00\t-\tAZT\t1996 # Azerbaijan time\n\t\t\t4:00\tEUAsia\tAZ%sT\t1997\n\t\t\t4:00\tAzer\tAZ%sT\n\n# Bahrain\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Bahrain\t3:22:20 -\tLMT\t1920\t\t# Al Manamah\n\t\t\t4:00\t-\tGST\t1972 Jun\n\t\t\t3:00\t-\tAST\n\n# Bangladesh\n# From Alexander Krivenyshev (2009-05-13):\n# According to newspaper Asian Tribune (May 6, 2009) Bangladesh may introduce\n# Daylight Saving Time from June 16 to Sept 30\n#\n# Bangladesh to introduce daylight saving time likely from June 16\n# <a href=\"http://www.asiantribune.com/?q=node/17288\">\n# http://www.asiantribune.com/?q=node/17288\n# </a>\n# or\n# <a href=\"http://www.worldtimezone.com/dst_news/dst_news_bangladesh02.html\">\n# http://www.worldtimezone.com/dst_news/dst_news_bangladesh02.html\n# </a>\n#\n# \"... Bangladesh government has decided to switch daylight saving time from\n# June\n# 16 till September 30 in a bid to ensure maximum use of daylight to cope with\n# crippling power crisis. \"\n#\n# The switch will remain in effect from June 16 to Sept 30 (2009) but if\n# implemented the next year, it will come in force from April 1, 2010\n\n# From Steffen Thorsen (2009-06-02):\n# They have finally decided now, but changed the start date to midnight between\n# the 19th and 20th, and they have not set the end date yet.\n#\n# Some sources:\n# <a href=\"http://in.reuters.com/article/southAsiaNews/idINIndia-40017620090601\">\n# http://in.reuters.com/article/southAsiaNews/idINIndia-40017620090601\n# </a>\n# <a href=\"http://bdnews24.com/details.php?id=85889&cid=2\">\n# http://bdnews24.com/details.php?id=85889&cid=2\n# </a>\n#\n# Our wrap-up:\n# <a href=\"http://www.timeanddate.com/news/time/bangladesh-daylight-saving-2009.html\">\n# http://www.timeanddate.com/news/time/bangladesh-daylight-saving-2009.html\n# </a>\n\n# From A. N. M. Kamrus Saadat (2009-06-15):\n# Finally we've got the official mail regarding DST start time where DST start\n# time is mentioned as Jun 19 2009, 23:00 from BTRC (Bangladesh\n# Telecommunication Regulatory Commission).\n#\n# No DST end date has been announced yet.\n\n# From Alexander Krivenyshev (2009-09-25):\n# Bangladesh won't go back to Standard Time from October 1, 2009,\n# instead it will continue DST measure till the cabinet makes a fresh decision.\n#\n# Following report by same newspaper-\"The Daily Star Friday\":\n# \"DST change awaits cabinet decision-Clock won't go back by 1-hr from Oct 1\"\n# <a href=\"http://www.thedailystar.net/newDesign/news-details.php?nid=107021\">\n# http://www.thedailystar.net/newDesign/news-details.php?nid=107021\n# </a>\n# or\n# <a href=\"http://www.worldtimezone.com/dst_news/dst_news_bangladesh04.html\">\n# http://www.worldtimezone.com/dst_news/dst_news_bangladesh04.html\n# </a>\n\n# From Steffen Thorsen (2009-10-13):\n# IANS (Indo-Asian News Service) now reports:\n# Bangladesh has decided that the clock advanced by an hour to make\n# maximum use of daylight hours as an energy saving measure would\n# \"continue for an indefinite period.\"\n#\n# One of many places where it is published:\n# <a href=\"http://www.thaindian.com/newsportal/business/bangladesh-to-continue-indefinitely-with-advanced-time_100259987.html\">\n# http://www.thaindian.com/newsportal/business/bangladesh-to-continue-indefinitely-with-advanced-time_100259987.html\n# </a>\n\n# From Alexander Krivenyshev (2009-12-24):\n# According to Bangladesh newspaper \"The Daily Star,\"\n# Bangladesh will change its clock back to Standard Time on Dec 31, 2009.\n#\n# Clock goes back 1-hr on Dec 31 night.\n# <a href=\"http://www.thedailystar.net/newDesign/news-details.php?nid=119228\">\n# http://www.thedailystar.net/newDesign/news-details.php?nid=119228\n# </a>\n# and\n# <a href=\"http://www.worldtimezone.com/dst_news/dst_news_bangladesh05.html\">\n# http://www.worldtimezone.com/dst_news/dst_news_bangladesh05.html\n# </a>\n#\n# \"...The government yesterday decided to put the clock back by one hour\n# on December 31 midnight and the new time will continue until March 31,\n# 2010 midnight. The decision came at a cabinet meeting at the Prime\n# Minister's Office last night...\"\n\n# From Alexander Krivenyshev (2010-03-22):\n# According to Bangladesh newspaper \"The Daily Star,\"\n# Cabinet cancels Daylight Saving Time\n# <a href=\"http://www.thedailystar.net/newDesign/latest_news.php?nid=22817\">\n# http://www.thedailystar.net/newDesign/latest_news.php?nid=22817\n# </a>\n# or\n# <a href=\"http://www.worldtimezone.com/dst_news/dst_news_bangladesh06.html\">\n# http://www.worldtimezone.com/dst_news/dst_news_bangladesh06.html\n# </a>\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tDhaka\t2009\tonly\t-\tJun\t19\t23:00\t1:00\tS\nRule\tDhaka\t2009\tonly\t-\tDec\t31\t23:59\t0\t-\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Dhaka\t6:01:40 -\tLMT\t1890\n\t\t\t5:53:20\t-\tHMT\t1941 Oct    # Howrah Mean Time?\n\t\t\t6:30\t-\tBURT\t1942 May 15 # Burma Time\n\t\t\t5:30\t-\tIST\t1942 Sep\n\t\t\t6:30\t-\tBURT\t1951 Sep 30\n\t\t\t6:00\t-\tDACT\t1971 Mar 26 # Dacca Time\n\t\t\t6:00\t-\tBDT\t2009\n\t\t\t6:00\tDhaka\tBD%sT\n\n# Bhutan\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Thimphu\t5:58:36 -\tLMT\t1947 Aug 15 # or Thimbu\n\t\t\t5:30\t-\tIST\t1987 Oct\n\t\t\t6:00\t-\tBTT\t# Bhutan Time\n\n# British Indian Ocean Territory\n# Whitman and the 1995 CIA time zone map say 5:00, but the\n# 1997 and later maps say 6:00.  Assume the switch occurred in 1996.\n# We have no information as to when standard time was introduced;\n# assume it occurred in 1907, the same year as Mauritius (which\n# then contained the Chagos Archipelago).\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tIndian/Chagos\t4:49:40\t-\tLMT\t1907\n\t\t\t5:00\t-\tIOT\t1996 # BIOT Time\n\t\t\t6:00\t-\tIOT\n\n# Brunei\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Brunei\t7:39:40 -\tLMT\t1926 Mar   # Bandar Seri Begawan\n\t\t\t7:30\t-\tBNT\t1933\n\t\t\t8:00\t-\tBNT\n\n# Burma / Myanmar\n\n# Milne says 6:24:40 was the meridian of the time ball observatory at Rangoon.\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Rangoon\t6:24:40 -\tLMT\t1880\t\t# or Yangon\n\t\t\t6:24:40\t-\tRMT\t1920\t   # Rangoon Mean Time?\n\t\t\t6:30\t-\tBURT\t1942 May   # Burma Time\n\t\t\t9:00\t-\tJST\t1945 May 3\n\t\t\t6:30\t-\tMMT\t\t   # Myanmar Time\n\n# Cambodia\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Phnom_Penh\t6:59:40 -\tLMT\t1906 Jun  9\n\t\t\t7:06:20\t-\tSMT\t1911 Mar 11 0:01 # Saigon MT?\n\t\t\t7:00\t-\tICT\t1912 May\n\t\t\t8:00\t-\tICT\t1931 May\n\t\t\t7:00\t-\tICT\n\n# China\n\n# From Guy Harris:\n# People's Republic of China.  Yes, they really have only one time zone.\n\n# From Bob Devine (1988-01-28):\n# No they don't.  See TIME mag, 1986-02-17 p.52.  Even though\n# China is across 4 physical time zones, before Feb 1, 1986 only the\n# Peking (Bejing) time zone was recognized.  Since that date, China\n# has two of 'em -- Peking's and Urumqi (named after the capital of\n# the Xinjiang Uyghur Autonomous Region).  I don't know about DST for it.\n#\n# . . .I just deleted the DST table and this editor makes it too\n# painful to suck in another copy..  So, here is what I have for\n# DST start/end dates for Peking's time zone (info from AP):\n#\n#     1986 May 4 - Sept 14\n#     1987 mid-April - ??\n\n# From U. S. Naval Observatory (1989-01-19):\n# CHINA               8 H  AHEAD OF UTC  ALL OF CHINA, INCL TAIWAN\n# CHINA               9 H  AHEAD OF UTC  APR 17 - SEP 10\n\n# From Paul Eggert (2006-03-22):\n# Shanks & Pottenger write that China (except for Hong Kong and Macau)\n# has had a single time zone since 1980 May 1, observing summer DST\n# from 1986 through 1991; this contradicts Devine's\n# note about Time magazine, though apparently _something_ happened in 1986.\n# Go with Shanks & Pottenger for now.  I made up names for the other\n# pre-1980 time zones.\n\n# From Shanks & Pottenger:\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tShang\t1940\tonly\t-\tJun\t 3\t0:00\t1:00\tD\nRule\tShang\t1940\t1941\t-\tOct\t 1\t0:00\t0\tS\nRule\tShang\t1941\tonly\t-\tMar\t16\t0:00\t1:00\tD\nRule\tPRC\t1986\tonly\t-\tMay\t 4\t0:00\t1:00\tD\nRule\tPRC\t1986\t1991\t-\tSep\tSun>=11\t0:00\t0\tS\nRule\tPRC\t1987\t1991\t-\tApr\tSun>=10\t0:00\t1:00\tD\n\n# From Anthony Fok (2001-12-20):\n# BTW, I did some research on-line and found some info regarding these five\n# historic timezones from some Taiwan websites.  And yes, there are official\n# Chinese names for these locales (before 1949).\n#\n# From Jesper Norgaard Welen (2006-07-14):\n# I have investigated the timezones around 1970 on the\n# http://www.astro.com/atlas site [with provinces and county\n# boundaries summarized below]....  A few other exceptions were two\n# counties on the Sichuan side of the Xizang-Sichuan border,\n# counties Dege and Baiyu which lies on the Sichuan side and are\n# therefore supposed to be GMT+7, Xizang region being GMT+6, but Dege\n# county is GMT+8 according to astro.com while Baiyu county is GMT+6\n# (could be true), for the moment I am assuming that those two\n# counties are mistakes in the astro.com data.\n\n# From Paul Eggert (2008-02-11):\n# I just now checked Google News for western news sources that talk\n# about China's single time zone, and couldn't find anything before 1986\n# talking about China being in one time zone.  (That article was: Jim\n# Mann, \"A clumsy embrace for another western custom: China on daylight\n# time--sort of\", Los Angeles Times, 1986-05-05.  By the way, this\n# article confirms the tz database's data claiming that China began\n# observing daylight saving time in 1986.\n#\n# From Thomas S. Mullaney (2008-02-11):\n# I think you're combining two subjects that need to treated\n# separately: daylight savings (which, you're correct, wasn't\n# implemented until the 1980s) and the unified time zone centered near\n# Beijing (which was implemented in 1949). Briefly, there was also a\n# \"Lhasa Time\" in Tibet and \"Urumqi Time\" in Xinjiang. The first was\n# ceased, and the second eventually recognized (again, in the 1980s).\n#\n# From Paul Eggert (2008-06-30):\n# There seems to be a good chance China switched to a single time zone in 1949\n# rather than in 1980 as Shanks & Pottenger have it, but we don't have a\n# reliable documentary source saying so yet, so for now we still go with\n# Shanks & Pottenger.\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\n# Changbai Time (\"Long-white Time\", Long-white = Heilongjiang area)\n# Heilongjiang (except Mohe county), Jilin\nZone\tAsia/Harbin\t8:26:44\t-\tLMT\t1928 # or Haerbin\n\t\t\t8:30\t-\tCHAT\t1932 Mar # Changbai Time\n\t\t\t8:00\t-\tCST\t1940\n\t\t\t9:00\t-\tCHAT\t1966 May\n\t\t\t8:30\t-\tCHAT\t1980 May\n\t\t\t8:00\tPRC\tC%sT\n# Zhongyuan Time (\"Central plain Time\")\n# most of China\n# Milne gives 8:05:56.7; round to nearest.\nZone\tAsia/Shanghai\t8:05:57\t-\tLMT\t1928\n\t\t\t8:00\tShang\tC%sT\t1949\n\t\t\t8:00\tPRC\tC%sT\n# Long-shu Time (probably due to Long and Shu being two names of that area)\n# Guangxi, Guizhou, Hainan, Ningxia, Sichuan, Shaanxi, and Yunnan;\n# most of Gansu; west Inner Mongolia; west Qinghai; and the Guangdong\n# counties Deqing, Enping, Kaiping, Luoding, Taishan, Xinxing,\n# Yangchun, Yangjiang, Yu'nan, and Yunfu.\nZone\tAsia/Chongqing\t7:06:20\t-\tLMT\t1928 # or Chungking\n\t\t\t7:00\t-\tLONT\t1980 May # Long-shu Time\n\t\t\t8:00\tPRC\tC%sT\n# Xin-zang Time (\"Xinjiang-Tibet Time\")\n# The Gansu counties Aksay, Anxi, Dunhuang, Subei; west Qinghai;\n# the Guangdong counties  Xuwen, Haikang, Suixi, Lianjiang,\n# Zhanjiang, Wuchuan, Huazhou, Gaozhou, Maoming, Dianbai, and Xinyi;\n# east Tibet, including Lhasa, Chamdo, Shigaise, Jimsar, Shawan and Hutubi;\n# east Xinjiang, including Urumqi, Turpan, Karamay, Korla, Minfeng, Jinghe,\n# Wusu, Qiemo, Xinyan, Wulanwusu, Jinghe, Yumin, Tacheng, Tuoli, Emin,\n# Shihezi, Changji, Yanqi, Heshuo, Tuokexun, Tulufan, Shanshan, Hami,\n# Fukang, Kuitun, Kumukuli, Miquan, Qitai, and Turfan.\nZone\tAsia/Urumqi\t5:50:20\t-\tLMT\t1928 # or Urumchi\n\t\t\t6:00\t-\tURUT\t1980 May # Urumqi Time\n\t\t\t8:00\tPRC\tC%sT\n# Kunlun Time\n# West Tibet, including Pulan, Aheqi, Shufu, Shule;\n# West Xinjiang, including Aksu, Atushi, Yining, Hetian, Cele, Luopu, Nileke,\n# Zhaosu, Tekesi, Gongliu, Chabuchaer, Huocheng, Bole, Pishan, Suiding,\n# and Yarkand.\n\n# From Luther Ma (2009-10-17):\n# Almost all (>99.9%) ethnic Chinese (properly ethnic Han) living in\n# Xinjiang use Chinese Standard Time. Some are aware of Xinjiang time,\n# but have no need of it. All planes, trains, and schools function on\n# what is called \"Beijing time.\" When Han make an appointment in Chinese\n# they implicitly use Beijing time.\n#\n# On the other hand, ethnic Uyghurs, who make up about half the\n# population of Xinjiang, typically use \"Xinjiang time\" which is two\n# hours behind Beijing time, or UTC +0600. The government of the Xinjiang\n# Uyghur Autonomous Region, (XAUR, or just Xinjiang for short) as well as\n# local governments such as the Urumqi city government use both times in\n# publications, referring to what is popularly called Xinjiang time as\n# \"Urumqi time.\" When Uyghurs make an appointment in the Uyghur language\n# they almost invariably use Xinjiang time.\n#\n# (Their ethnic Han compatriots would typically have no clue of its\n# widespread use, however, because so extremely few of them are fluent in\n# Uyghur, comparable to the number of Anglo-Americans fluent in Navajo.)\n#\n# (...As with the rest of China there was a brief interval ending in 1990\n# or 1991 when summer time was in use.  The confusion was severe, with\n# the province not having dual times but four times in use at the same\n# time. Some areas remained on standard Xinjiang time or Beijing time and\n# others moving their clocks ahead.)\n#\n# ...an example of an official website using of Urumqi time.\n#\n# The first few lines of the Google translation of\n# <a href=\"http://www.fjysgl.gov.cn/show.aspx?id=2379&cid=39\">\n# http://www.fjysgl.gov.cn/show.aspx?id=2379&cid=39\n# </a>\n# (retrieved 2009-10-13)\n# > Urumqi fire seven people are missing the alleged losses of at least\n# > 500 million yuan\n# >\n# > (Reporter Dong Liu) the day before 20:20 or so (Urumqi Time 18:20),\n# > Urumqi City Department of International Plaza Luther Qiantang River\n# > burst fire. As of yesterday, 18:30, Urumqi City Fire officers and men\n# > have worked continuously for 22 hours...\n\n# From Luther Ma (2009-11-19):\n# With the risk of being redundant to previous answers these are the most common\n# English \"transliterations\" (w/o using non-English symbols):\n#\n# 1. Wulumuqi...\n# 2. Kashi...\n# 3. Urumqi...\n# 4. Kashgar...\n# ...\n# 5. It seems that Uyghurs in Urumqi has been using Xinjiang since at least the\n# 1960's. I know of one Han, now over 50, who grew up in the surrounding\n# countryside and used Xinjiang time as a child.\n#\n# 6. Likewise for Kashgar and the rest of south Xinjiang I don't know of any\n# start date for Xinjiang time.\n#\n# Without having access to local historical records, nor the ability to legally\n# publish them, I would go with October 1, 1949, when Xinjiang became the Uyghur\n# Autonomous Region under the PRC. (Before that Uyghurs, of course, would also\n# not be using Beijing time, but some local time.)\n\nZone\tAsia/Kashgar\t5:03:56\t-\tLMT\t1928 # or Kashi or Kaxgar\n\t\t\t5:30\t-\tKAST\t1940\t # Kashgar Time\n\t\t\t5:00\t-\tKAST\t1980 May\n\t\t\t8:00\tPRC\tC%sT\n\n\n# Hong Kong (Xianggang)\n\n# Milne gives 7:36:41.7; round this.\n\n# From Lee Yiu Chung (2009-10-24):\n# I found there are some mistakes for the...DST rule for Hong\n# Kong. [According] to the DST record from Hong Kong Observatory (actually,\n# it is not [an] observatory, but the official meteorological agency of HK,\n# and also serves as the official timing agency), there are some missing\n# and incorrect rules. Although the exact switch over time is missing, I\n# think 3:30 is correct. The official DST record for Hong Kong can be\n# obtained from\n# <a href=\"http://www.hko.gov.hk/gts/time/Summertime.htm\">\n# http://www.hko.gov.hk/gts/time/Summertime.htm\n# </a>.\n\n# From Arthur David Olson (2009-10-28):\n# Here are the dates given at\n# <a href=\"http://www.hko.gov.hk/gts/time/Summertime.htm\">\n# http://www.hko.gov.hk/gts/time/Summertime.htm\n# </a>\n# as of 2009-10-28:\n# Year        Period\n# 1941        1 Apr to 30 Sep\n# 1942        Whole year\n# 1943        Whole year\n# 1944        Whole year\n# 1945        Whole year\n# 1946        20 Apr to 1 Dec\n# 1947        13 Apr to 30 Dec\n# 1948        2 May to 31 Oct\n# 1949        3 Apr to 30 Oct\n# 1950        2 Apr to 29 Oct\n# 1951        1 Apr to 28 Oct\n# 1952        6 Apr to 25 Oct\n# 1953        5 Apr to 1 Nov\n# 1954        21 Mar to 31 Oct\n# 1955        20 Mar to 6 Nov\n# 1956        18 Mar to 4 Nov\n# 1957        24 Mar to 3 Nov\n# 1958        23 Mar to 2 Nov\n# 1959        22 Mar to 1 Nov\n# 1960        20 Mar to 6 Nov\n# 1961        19 Mar to 5 Nov\n# 1962        18 Mar to 4 Nov\n# 1963        24 Mar to 3 Nov\n# 1964        22 Mar to 1 Nov\n# 1965        18 Apr to 17 Oct\n# 1966        17 Apr to 16 Oct\n# 1967        16 Apr to 22 Oct\n# 1968        21 Apr to 20 Oct\n# 1969        20 Apr to 19 Oct\n# 1970        19 Apr to 18 Oct\n# 1971        18 Apr to 17 Oct\n# 1972        16 Apr to 22 Oct\n# 1973        22 Apr to 21 Oct\n# 1973/74     30 Dec 73 to 20 Oct 74\n# 1975        20 Apr to 19 Oct\n# 1976        18 Apr to 17 Oct\n# 1977        Nil\n# 1978        Nil\n# 1979        13 May to 21 Oct\n# 1980 to Now Nil\n# The page does not give start or end times of day.\n# The page does not give a start date for 1942.\n# The page does not givw an end date for 1945.\n# The Japanese occupation of Hong Kong began on 1941-12-25.\n# The Japanese surrender of Hong Kong was signed 1945-09-15.\n# For lack of anything better, use start of those days as the transition times.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tHK\t1941\tonly\t-\tApr\t1\t3:30\t1:00\tS\nRule\tHK\t1941\tonly\t-\tSep\t30\t3:30\t0\t-\nRule\tHK\t1946\tonly\t-\tApr\t20\t3:30\t1:00\tS\nRule\tHK\t1946\tonly\t-\tDec\t1\t3:30\t0\t-\nRule\tHK\t1947\tonly\t-\tApr\t13\t3:30\t1:00\tS\nRule\tHK\t1947\tonly\t-\tDec\t30\t3:30\t0\t-\nRule\tHK\t1948\tonly\t-\tMay\t2\t3:30\t1:00\tS\nRule\tHK\t1948\t1951\t-\tOct\tlastSun\t3:30\t0\t-\nRule\tHK\t1952\tonly\t-\tOct\t25\t3:30\t0\t-\nRule\tHK\t1949\t1953\t-\tApr\tSun>=1\t3:30\t1:00\tS\nRule\tHK\t1953\tonly\t-\tNov\t1\t3:30\t0\t-\nRule\tHK\t1954\t1964\t-\tMar\tSun>=18\t3:30\t1:00\tS\nRule\tHK\t1954\tonly\t-\tOct\t31\t3:30\t0\t-\nRule\tHK\t1955\t1964\t-\tNov\tSun>=1\t3:30\t0\t-\nRule\tHK\t1965\t1976\t-\tApr\tSun>=16\t3:30\t1:00\tS\nRule\tHK\t1965\t1976\t-\tOct\tSun>=16\t3:30\t0\t-\nRule\tHK\t1973\tonly\t-\tDec\t30\t3:30\t1:00\tS\nRule\tHK\t1979\tonly\t-\tMay\tSun>=8\t3:30\t1:00\tS\nRule\tHK\t1979\tonly\t-\tOct\tSun>=16\t3:30\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Hong_Kong\t7:36:42 -\tLMT\t1904 Oct 30\n\t\t\t8:00\tHK\tHK%sT\t1941 Dec 25\n\t\t\t9:00\t-\tJST\t1945 Sep 15\n\t\t\t8:00\tHK\tHK%sT\n\n###############################################################################\n\n# Taiwan\n\n# Shanks & Pottenger write that Taiwan observed DST during 1945, when it\n# was still controlled by Japan.  This is hard to believe, but we don't\n# have any other information.\n\n# From smallufo (2010-04-03):\n# According to Taiwan's CWB,\n# <a href=\"http://www.cwb.gov.tw/V6/astronomy/cdata/summert.htm\">\n# http://www.cwb.gov.tw/V6/astronomy/cdata/summert.htm\n# </a>\n# Taipei has DST in 1979 between July 1st and Sep 30.\n\n# From Arthur David Olson (2010-04-07):\n# Here's Google's translation of the table at the bottom of the \"summert.htm\" page:\n# Decade \t                                                    Name                      Start and end date\n# Republic of China 34 years to 40 years (AD 1945-1951 years) Summer Time               May 1 to September 30\n# 41 years of the Republic of China (AD 1952)                 Daylight Saving Time      March 1 to October 31\n# Republic of China 42 years to 43 years (AD 1953-1954 years) Daylight Saving Time      April 1 to October 31\n# In the 44 years to 45 years (AD 1955-1956 years)            Daylight Saving Time      April 1 to September 30\n# Republic of China 46 years to 48 years (AD 1957-1959)       Summer Time               April 1 to September 30\n# Republic of China 49 years to 50 years (AD 1960-1961)       Summer Time               June 1 to September 30\n# Republic of China 51 years to 62 years (AD 1962-1973 years) Stop Summer Time\n# Republic of China 63 years to 64 years (1974-1975 AD)       Daylight Saving Time      April 1 to September 30\n# Republic of China 65 years to 67 years (1976-1978 AD)       Stop Daylight Saving Time\n# Republic of China 68 years (AD 1979)                        Daylight Saving Time      July 1 to September 30\n# Republic of China since 69 years (AD 1980)                  Stop Daylight Saving Time\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tTaiwan\t1945\t1951\t-\tMay\t1\t0:00\t1:00\tD\nRule\tTaiwan\t1945\t1951\t-\tOct\t1\t0:00\t0\tS\nRule\tTaiwan\t1952\tonly\t-\tMar\t1\t0:00\t1:00\tD\nRule\tTaiwan\t1952\t1954\t-\tNov\t1\t0:00\t0\tS\nRule\tTaiwan\t1953\t1959\t-\tApr\t1\t0:00\t1:00\tD\nRule\tTaiwan\t1955\t1961\t-\tOct\t1\t0:00\t0\tS\nRule\tTaiwan\t1960\t1961\t-\tJun\t1\t0:00\t1:00\tD\nRule\tTaiwan\t1974\t1975\t-\tApr\t1\t0:00\t1:00\tD\nRule\tTaiwan\t1974\t1975\t-\tOct\t1\t0:00\t0\tS\nRule\tTaiwan\t1979\tonly\t-\tJun\t30\t0:00\t1:00\tD\nRule\tTaiwan\t1979\tonly\t-\tSep\t30\t0:00\t0\tS\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Taipei\t8:06:00 -\tLMT\t1896 # or Taibei or T'ai-pei\n\t\t\t8:00\tTaiwan\tC%sT\n\n# Macau (Macao, Aomen)\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tMacau\t1961\t1962\t-\tMar\tSun>=16\t3:30\t1:00\tS\nRule\tMacau\t1961\t1964\t-\tNov\tSun>=1\t3:30\t0\t-\nRule\tMacau\t1963\tonly\t-\tMar\tSun>=16\t0:00\t1:00\tS\nRule\tMacau\t1964\tonly\t-\tMar\tSun>=16\t3:30\t1:00\tS\nRule\tMacau\t1965\tonly\t-\tMar\tSun>=16\t0:00\t1:00\tS\nRule\tMacau\t1965\tonly\t-\tOct\t31\t0:00\t0\t-\nRule\tMacau\t1966\t1971\t-\tApr\tSun>=16\t3:30\t1:00\tS\nRule\tMacau\t1966\t1971\t-\tOct\tSun>=16\t3:30\t0\t-\nRule\tMacau\t1972\t1974\t-\tApr\tSun>=15\t0:00\t1:00\tS\nRule\tMacau\t1972\t1973\t-\tOct\tSun>=15\t0:00\t0\t-\nRule\tMacau\t1974\t1977\t-\tOct\tSun>=15\t3:30\t0\t-\nRule\tMacau\t1975\t1977\t-\tApr\tSun>=15\t3:30\t1:00\tS\nRule\tMacau\t1978\t1980\t-\tApr\tSun>=15\t0:00\t1:00\tS\nRule\tMacau\t1978\t1980\t-\tOct\tSun>=15\t0:00\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Macau\t7:34:20 -\tLMT\t1912\n\t\t\t8:00\tMacau\tMO%sT\t1999 Dec 20 # return to China\n\t\t\t8:00\tPRC\tC%sT\n\n\n###############################################################################\n\n# Cyprus\n#\n# Milne says the Eastern Telegraph Company used 2:14:00.  Stick with LMT.\n#\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tCyprus\t1975\tonly\t-\tApr\t13\t0:00\t1:00\tS\nRule\tCyprus\t1975\tonly\t-\tOct\t12\t0:00\t0\t-\nRule\tCyprus\t1976\tonly\t-\tMay\t15\t0:00\t1:00\tS\nRule\tCyprus\t1976\tonly\t-\tOct\t11\t0:00\t0\t-\nRule\tCyprus\t1977\t1980\t-\tApr\tSun>=1\t0:00\t1:00\tS\nRule\tCyprus\t1977\tonly\t-\tSep\t25\t0:00\t0\t-\nRule\tCyprus\t1978\tonly\t-\tOct\t2\t0:00\t0\t-\nRule\tCyprus\t1979\t1997\t-\tSep\tlastSun\t0:00\t0\t-\nRule\tCyprus\t1981\t1998\t-\tMar\tlastSun\t0:00\t1:00\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Nicosia\t2:13:28 -\tLMT\t1921 Nov 14\n\t\t\t2:00\tCyprus\tEE%sT\t1998 Sep\n\t\t\t2:00\tEUAsia\tEE%sT\n# IATA SSIM (1998-09) has Cyprus using EU rules for the first time.\n\n# Classically, Cyprus belongs to Asia; e.g. see Herodotus, Histories, I.72.\n# However, for various reasons many users expect to find it under Europe.\nLink\tAsia/Nicosia\tEurope/Nicosia\n\n# Georgia\n# From Paul Eggert (1994-11-19):\n# Today's _Economist_ (p 60) reports that Georgia moved its clocks forward\n# an hour recently, due to a law proposed by Zurab Murvanidze,\n# an MP who went on a hunger strike for 11 days to force discussion about it!\n# We have no details, but we'll guess they didn't move the clocks back in fall.\n#\n# From Mathew Englander, quoting AP (1996-10-23 13:05-04):\n# Instead of putting back clocks at the end of October, Georgia\n# will stay on daylight savings time this winter to save energy,\n# President Eduard Shevardnadze decreed Wednesday.\n#\n# From the BBC via Joseph S. Myers (2004-06-27):\n#\n# Georgia moved closer to Western Europe on Sunday...  The former Soviet\n# republic has changed its time zone back to that of Moscow.  As a result it\n# is now just four hours ahead of Greenwich Mean Time, rather than five hours\n# ahead.  The switch was decreed by the pro-Western president of Georgia,\n# Mikhail Saakashvili, who said the change was partly prompted by the process\n# of integration into Europe.\n\n# From Teimuraz Abashidze (2005-11-07):\n# Government of Georgia ... decided to NOT CHANGE daylight savings time on\n# [Oct.] 30, as it was done before during last more than 10 years.\n# Currently, we are in fact GMT +4:00, as before 30 October it was GMT\n# +3:00.... The problem is, there is NO FORMAL LAW or governmental document\n# about it.  As far as I can find, I was told, that there is no document,\n# because we just DIDN'T ISSUE document about switching to winter time....\n# I don't know what can be done, especially knowing that some years ago our\n# DST rules where changed THREE TIMES during one month.\n\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Tbilisi\t2:59:16 -\tLMT\t1880\n\t\t\t2:59:16\t-\tTBMT\t1924 May  2 # Tbilisi Mean Time\n\t\t\t3:00\t-\tTBIT\t1957 Mar    # Tbilisi Time\n\t\t\t4:00 RussiaAsia TBI%sT\t1991 Mar 31 2:00s\n\t\t\t3:00\t1:00\tTBIST\t1991 Apr  9 # independence\n\t\t\t3:00 RussiaAsia GE%sT\t1992 # Georgia Time\n\t\t\t3:00 E-EurAsia\tGE%sT\t1994 Sep lastSun\n\t\t\t4:00 E-EurAsia\tGE%sT\t1996 Oct lastSun\n\t\t\t4:00\t1:00\tGEST\t1997 Mar lastSun\n\t\t\t4:00 E-EurAsia\tGE%sT\t2004 Jun 27\n\t\t\t3:00 RussiaAsia\tGE%sT\t2005 Mar lastSun 2:00\n\t\t\t4:00\t-\tGET\n\n# East Timor\n\n# See Indonesia for the 1945 transition.\n\n# From Joao Carrascalao, brother of the former governor of East Timor, in\n# <a href=\"http://etan.org/et99c/december/26-31/30ETMAY.htm\">\n# East Timor may be late for its millennium\n# </a> (1999-12-26/31):\n# Portugal tried to change the time forward in 1974 because the sun\n# rises too early but the suggestion raised a lot of problems with the\n# Timorese and I still don't think it would work today because it\n# conflicts with their way of life.\n\n# From Paul Eggert (2000-12-04):\n# We don't have any record of the above attempt.\n# Most likely our records are incomplete, but we have no better data.\n\n# <a href=\"http://www.hri.org/news/world/undh/last/00-08-16.undh.html\">\n# From Manoel de Almeida e Silva, Deputy Spokesman for the UN Secretary-General\n# (2000-08-16)</a>:\n# The Cabinet of the East Timor Transition Administration decided\n# today to advance East Timor's time by one hour.  The time change,\n# which will be permanent, with no seasonal adjustment, will happen at\n# midnight on Saturday, September 16.\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Dili\t8:22:20 -\tLMT\t1912\n\t\t\t8:00\t-\tTLT\t1942 Feb 21 23:00 # E Timor Time\n\t\t\t9:00\t-\tJST\t1945 Sep 23\n\t\t\t9:00\t-\tTLT\t1976 May  3\n\t\t\t8:00\t-\tWITA\t2000 Sep 17 00:00\n\t\t\t9:00\t-\tTLT\n\n# India\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Kolkata\t5:53:28 -\tLMT\t1880\t# Kolkata\n\t\t\t5:53:20\t-\tHMT\t1941 Oct    # Howrah Mean Time?\n\t\t\t6:30\t-\tBURT\t1942 May 15 # Burma Time\n\t\t\t5:30\t-\tIST\t1942 Sep\n\t\t\t5:30\t1:00\tIST\t1945 Oct 15\n\t\t\t5:30\t-\tIST\n# The following are like Asia/Kolkata:\n#\tAndaman Is\n#\tLakshadweep (Laccadive, Minicoy and Amindivi Is)\n#\tNicobar Is\n\n# Indonesia\n#\n# From Gwillim Law (2001-05-28), overriding Shanks & Pottenger:\n# <http://www.sumatera-inc.com/go_to_invest/about_indonesia.asp#standtime>\n# says that Indonesia's time zones changed on 1988-01-01.  Looking at some\n# time zone maps, I think that must refer to Western Borneo (Kalimantan Barat\n# and Kalimantan Tengah) switching from UTC+8 to UTC+7.\n#\n# From Paul Eggert (2007-03-10):\n# Here is another correction to Shanks & Pottenger.\n# JohnTWB writes that Japanese forces did not surrender control in\n# Indonesia until 1945-09-01 00:00 at the earliest (in Jakarta) and\n# other formal surrender ceremonies were September 9, 11, and 13, plus\n# September 12 for the regional surrender to Mountbatten in Singapore.\n# These would be the earliest possible times for a change.\n# Regimes horaires pour le monde entier, by Henri Le Corre, (Editions\n# Traditionnelles, 1987, Paris) says that Java and Madura switched\n# from JST to UTC+07:30 on 1945-09-23, and gives 1944-09-01 for Jayapura\n# (Hollandia).  For now, assume all Indonesian locations other than Jayapura\n# switched on 1945-09-23.\n#\n# From Paul Eggert (2013-08-11):\n# Normally the tz database uses English-language abbreviations, but in\n# Indonesia it's typical to use Indonesian-language abbreviations even\n# when writing in English.  For example, see the English-language\n# summary published by the Time and Frequency Laboratory of the\n# Research Center for Calibration, Instrumentation and Metrology,\n# Indonesia, <http://time.kim.lipi.go.id/time-eng.php> (2006-09-29).\n# The abbreviations are:\n#\n# WIB  - UTC+7 - Waktu Indonesia Barat (Indonesia western time)\n# WITA - UTC+8 - Waktu Indonesia Tengah (Indonesia central time)\n# WIT  - UTC+9 - Waktu Indonesia Timur (Indonesia eastern time)\n#\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\n# Java, Sumatra\nZone Asia/Jakarta\t7:07:12 -\tLMT\t1867 Aug 10\n# Shanks & Pottenger say the next transition was at 1924 Jan 1 0:13,\n# but this must be a typo.\n\t\t\t7:07:12\t-\tBMT\t1923 Dec 31 23:47:12 # Batavia\n\t\t\t7:20\t-\tJAVT\t1932 Nov\t # Java Time\n\t\t\t7:30\t-\tWIB\t1942 Mar 23\n\t\t\t9:00\t-\tJST\t1945 Sep 23\n\t\t\t7:30\t-\tWIB\t1948 May\n\t\t\t8:00\t-\tWIB\t1950 May\n\t\t\t7:30\t-\tWIB\t1964\n\t\t\t7:00\t-\tWIB\n# west and central Borneo\nZone Asia/Pontianak\t7:17:20\t-\tLMT\t1908 May\n\t\t\t7:17:20\t-\tPMT\t1932 Nov    # Pontianak MT\n\t\t\t7:30\t-\tWIB\t1942 Jan 29\n\t\t\t9:00\t-\tJST\t1945 Sep 23\n\t\t\t7:30\t-\tWIB\t1948 May\n\t\t\t8:00\t-\tWIB\t1950 May\n\t\t\t7:30\t-\tWIB\t1964\n\t\t\t8:00\t-\tWITA\t1988 Jan  1\n\t\t\t7:00\t-\tWIB\n# Sulawesi, Lesser Sundas, east and south Borneo\nZone Asia/Makassar\t7:57:36 -\tLMT\t1920\n\t\t\t7:57:36\t-\tMMT\t1932 Nov    # Macassar MT\n\t\t\t8:00\t-\tWITA\t1942 Feb  9\n\t\t\t9:00\t-\tJST\t1945 Sep 23\n\t\t\t8:00\t-\tWITA\n# Maluku Islands, West Papua, Papua\nZone Asia/Jayapura\t9:22:48 -\tLMT\t1932 Nov\n\t\t\t9:00\t-\tWIT\t1944 Sep  1\n\t\t\t9:30\t-\tCST\t1964\n\t\t\t9:00\t-\tWIT\n\n# Iran\n\n# From Roozbeh Pournader (2003-03-15):\n# This is an English translation of what I just found (originally in Persian).\n# The Gregorian dates in brackets are mine:\n#\n#\tOfficial Newspaper No. 13548-1370/6/25 [1991-09-16]\n#\tNo. 16760/T233 H\t\t\t\t1370/6/10 [1991-09-01]\n#\n#\tThe Rule About Change of the Official Time of the Country\n#\n#\tThe Board of Ministers, in the meeting dated 1370/5/23 [1991-08-14],\n#\tbased on the suggestion number 2221/D dated 1370/4/22 [1991-07-13]\n#\tof the Country's Organization for Official and Employment Affairs,\n#\tand referring to the law for equating the working hours of workers\n#\tand officers in the whole country dated 1359/4/23 [1980-07-14], and\n#\tfor synchronizing the official times of the country, agreed that:\n#\n#\tThe official time of the country will should move forward one hour\n#\tat the 24[:00] hours of the first day of Farvardin and should return\n#\tto its previous state at the 24[:00] hours of the 30th day of\n#\tShahrivar.\n#\n#\tFirst Deputy to the President - Hassan Habibi\n#\n# From personal experience, that agrees with what has been followed\n# for at least the last 5 years.  Before that, for a few years, the\n# date used was the first Thursday night of Farvardin and the last\n# Thursday night of Shahrivar, but I can't give exact dates....\n# I have also changed the abbreviations to what is considered correct\n# here in Iran, IRST for regular time and IRDT for daylight saving time.\n#\n# From Roozbeh Pournader (2005-04-05):\n# The text of the Iranian law, in effect since 1925, clearly mentions\n# that the true solar year is the measure, and there is no arithmetic\n# leap year calculation involved.  There has never been any serious\n# plan to change that law....\n#\n# From Paul Eggert (2006-03-22):\n# Go with Shanks & Pottenger before Sept. 1991, and with Pournader thereafter.\n# I used Ed Reingold's cal-persia in GNU Emacs 21.2 to check Persian dates,\n# stopping after 2037 when 32-bit time_t's overflow.\n# That cal-persia used Birashk's approximation, which disagrees with the solar\n# calendar predictions for the year 2025, so I corrected those dates by hand.\n#\n# From Oscar van Vlijmen (2005-03-30), writing about future\n# discrepancies between cal-persia and the Iranian calendar:\n# For 2091 solar-longitude-after yields 2091-03-20 08:40:07.7 UT for\n# the vernal equinox and that gets so close to 12:00 some local\n# Iranian time that the definition of the correct location needs to be\n# known exactly, amongst other factors.  2157 is even closer:\n# 2157-03-20 08:37:15.5 UT.  But the Gregorian year 2025 should give\n# no interpretation problem whatsoever.  By the way, another instant\n# in the near future where there will be a discrepancy between\n# arithmetical and astronomical Iranian calendars will be in 2058:\n# vernal equinox on 2058-03-20 09:03:05.9 UT.  The Java version of\n# Reingold's/Dershowitz' calculator gives correctly the Gregorian date\n# 2058-03-21 for 1 Farvardin 1437 (astronomical).\n#\n# From Steffen Thorsen (2006-03-22):\n# Several of my users have reported that Iran will not observe DST anymore:\n# http://www.irna.ir/en/news/view/line-17/0603193812164948.htm\n#\n# From Reuters (2007-09-16), with a heads-up from Jesper Norgaard Welen:\n# ... the Guardian Council ... approved a law on Sunday to re-introduce\n# daylight saving time ...\n# http://uk.reuters.com/article/oilRpt/idUKBLA65048420070916\n#\n# From Roozbeh Pournader (2007-11-05):\n# This is quoted from Official Gazette of the Islamic Republic of\n# Iran, Volume 63, Number 18242, dated Tuesday 1386/6/24\n# [2007-10-16]. I am doing the best translation I can:...\n# The official time of the country will be moved forward for one hour\n# on the 24 hours of the first day of the month of Farvardin and will\n# be changed back to its previous state on the 24 hours of the\n# thirtieth day of Shahrivar.\n#\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tIran\t1978\t1980\t-\tMar\t21\t0:00\t1:00\tD\nRule\tIran\t1978\tonly\t-\tOct\t21\t0:00\t0\tS\nRule\tIran\t1979\tonly\t-\tSep\t19\t0:00\t0\tS\nRule\tIran\t1980\tonly\t-\tSep\t23\t0:00\t0\tS\nRule\tIran\t1991\tonly\t-\tMay\t 3\t0:00\t1:00\tD\nRule\tIran\t1992\t1995\t-\tMar\t22\t0:00\t1:00\tD\nRule\tIran\t1991\t1995\t-\tSep\t22\t0:00\t0\tS\nRule\tIran\t1996\tonly\t-\tMar\t21\t0:00\t1:00\tD\nRule\tIran\t1996\tonly\t-\tSep\t21\t0:00\t0\tS\nRule\tIran\t1997\t1999\t-\tMar\t22\t0:00\t1:00\tD\nRule\tIran\t1997\t1999\t-\tSep\t22\t0:00\t0\tS\nRule\tIran\t2000\tonly\t-\tMar\t21\t0:00\t1:00\tD\nRule\tIran\t2000\tonly\t-\tSep\t21\t0:00\t0\tS\nRule\tIran\t2001\t2003\t-\tMar\t22\t0:00\t1:00\tD\nRule\tIran\t2001\t2003\t-\tSep\t22\t0:00\t0\tS\nRule\tIran\t2004\tonly\t-\tMar\t21\t0:00\t1:00\tD\nRule\tIran\t2004\tonly\t-\tSep\t21\t0:00\t0\tS\nRule\tIran\t2005\tonly\t-\tMar\t22\t0:00\t1:00\tD\nRule\tIran\t2005\tonly\t-\tSep\t22\t0:00\t0\tS\nRule\tIran\t2008\tonly\t-\tMar\t21\t0:00\t1:00\tD\nRule\tIran\t2008\tonly\t-\tSep\t21\t0:00\t0\tS\nRule\tIran\t2009\t2011\t-\tMar\t22\t0:00\t1:00\tD\nRule\tIran\t2009\t2011\t-\tSep\t22\t0:00\t0\tS\nRule\tIran\t2012\tonly\t-\tMar\t21\t0:00\t1:00\tD\nRule\tIran\t2012\tonly\t-\tSep\t21\t0:00\t0\tS\nRule\tIran\t2013\t2015\t-\tMar\t22\t0:00\t1:00\tD\nRule\tIran\t2013\t2015\t-\tSep\t22\t0:00\t0\tS\nRule\tIran\t2016\tonly\t-\tMar\t21\t0:00\t1:00\tD\nRule\tIran\t2016\tonly\t-\tSep\t21\t0:00\t0\tS\nRule\tIran\t2017\t2019\t-\tMar\t22\t0:00\t1:00\tD\nRule\tIran\t2017\t2019\t-\tSep\t22\t0:00\t0\tS\nRule\tIran\t2020\tonly\t-\tMar\t21\t0:00\t1:00\tD\nRule\tIran\t2020\tonly\t-\tSep\t21\t0:00\t0\tS\nRule\tIran\t2021\t2023\t-\tMar\t22\t0:00\t1:00\tD\nRule\tIran\t2021\t2023\t-\tSep\t22\t0:00\t0\tS\nRule\tIran\t2024\tonly\t-\tMar\t21\t0:00\t1:00\tD\nRule\tIran\t2024\tonly\t-\tSep\t21\t0:00\t0\tS\nRule\tIran\t2025\t2027\t-\tMar\t22\t0:00\t1:00\tD\nRule\tIran\t2025\t2027\t-\tSep\t22\t0:00\t0\tS\nRule\tIran\t2028\t2029\t-\tMar\t21\t0:00\t1:00\tD\nRule\tIran\t2028\t2029\t-\tSep\t21\t0:00\t0\tS\nRule\tIran\t2030\t2031\t-\tMar\t22\t0:00\t1:00\tD\nRule\tIran\t2030\t2031\t-\tSep\t22\t0:00\t0\tS\nRule\tIran\t2032\t2033\t-\tMar\t21\t0:00\t1:00\tD\nRule\tIran\t2032\t2033\t-\tSep\t21\t0:00\t0\tS\nRule\tIran\t2034\t2035\t-\tMar\t22\t0:00\t1:00\tD\nRule\tIran\t2034\t2035\t-\tSep\t22\t0:00\t0\tS\nRule\tIran\t2036\t2037\t-\tMar\t21\t0:00\t1:00\tD\nRule\tIran\t2036\t2037\t-\tSep\t21\t0:00\t0\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Tehran\t3:25:44\t-\tLMT\t1916\n\t\t\t3:25:44\t-\tTMT\t1946\t# Tehran Mean Time\n\t\t\t3:30\t-\tIRST\t1977 Nov\n\t\t\t4:00\tIran\tIR%sT\t1979\n\t\t\t3:30\tIran\tIR%sT\n\n\n# Iraq\n#\n# From Jonathan Lennox (2000-06-12):\n# An article in this week's Economist (\"Inside the Saddam-free zone\", p. 50 in\n# the U.S. edition) on the Iraqi Kurds contains a paragraph:\n# \"The three northern provinces ... switched their clocks this spring and\n# are an hour ahead of Baghdad.\"\n#\n# But Rives McDow (2000-06-18) quotes a contact in Iraqi-Kurdistan as follows:\n# In the past, some Kurdish nationalists, as a protest to the Iraqi\n# Government, did not adhere to daylight saving time.  They referred\n# to daylight saving as Saddam time.  But, as of today, the time zone\n# in Iraqi-Kurdistan is on standard time with Baghdad, Iraq.\n#\n# So we'll ignore the Economist's claim.\n\n# From Steffen Thorsen (2008-03-10):\n# The cabinet in Iraq abolished DST last week, according to the following\n# news sources (in Arabic):\n# <a href=\"http://www.aljeeran.net/wesima_articles/news-20080305-98602.html\">\n# http://www.aljeeran.net/wesima_articles/news-20080305-98602.html\n# </a>\n# <a href=\"http://www.aswataliraq.info/look/article.tpl?id=2047&IdLanguage=17&IdPublication=4&NrArticle=71743&NrIssue=1&NrSection=10\">\n# http://www.aswataliraq.info/look/article.tpl?id=2047&IdLanguage=17&IdPublication=4&NrArticle=71743&NrIssue=1&NrSection=10\n# </a>\n#\n# We have published a short article in English about the change:\n# <a href=\"http://www.timeanddate.com/news/time/iraq-dumps-daylight-saving.html\">\n# http://www.timeanddate.com/news/time/iraq-dumps-daylight-saving.html\n# </a>\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tIraq\t1982\tonly\t-\tMay\t1\t0:00\t1:00\tD\nRule\tIraq\t1982\t1984\t-\tOct\t1\t0:00\t0\tS\nRule\tIraq\t1983\tonly\t-\tMar\t31\t0:00\t1:00\tD\nRule\tIraq\t1984\t1985\t-\tApr\t1\t0:00\t1:00\tD\nRule\tIraq\t1985\t1990\t-\tSep\tlastSun\t1:00s\t0\tS\nRule\tIraq\t1986\t1990\t-\tMar\tlastSun\t1:00s\t1:00\tD\n# IATA SSIM (1991/1996) says Apr 1 12:01am UTC; guess the `:01' is a typo.\n# Shanks & Pottenger say Iraq did not observe DST 1992/1997; ignore this.\n#\nRule\tIraq\t1991\t2007\t-\tApr\t 1\t3:00s\t1:00\tD\nRule\tIraq\t1991\t2007\t-\tOct\t 1\t3:00s\t0\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Baghdad\t2:57:40\t-\tLMT\t1890\n\t\t\t2:57:36\t-\tBMT\t1918\t    # Baghdad Mean Time?\n\t\t\t3:00\t-\tAST\t1982 May\n\t\t\t3:00\tIraq\tA%sT\n\n\n###############################################################################\n\n# Israel\n\n# From Ephraim Silverberg (2001-01-11):\n#\n# I coined \"IST/IDT\" circa 1988.  Until then there were three\n# different abbreviations in use:\n#\n# JST  Jerusalem Standard Time [Danny Braniss, Hebrew University]\n# IZT  Israel Zonal (sic) Time [Prof. Haim Papo, Technion]\n# EEST Eastern Europe Standard Time [used by almost everyone else]\n#\n# Since timezones should be called by country and not capital cities,\n# I ruled out JST.  As Israel is in Asia Minor and not Eastern Europe,\n# EEST was equally unacceptable.  Since \"zonal\" was not compatible with\n# any other timezone abbreviation, I felt that 'IST' was the way to go\n# and, indeed, it has received almost universal acceptance in timezone\n# settings in Israeli computers.\n#\n# In any case, I am happy to share timezone abbreviations with India,\n# high on my favorite-country list (and not only because my wife's\n# family is from India).\n\n# From Shanks & Pottenger:\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tZion\t1940\tonly\t-\tJun\t 1\t0:00\t1:00\tD\nRule\tZion\t1942\t1944\t-\tNov\t 1\t0:00\t0\tS\nRule\tZion\t1943\tonly\t-\tApr\t 1\t2:00\t1:00\tD\nRule\tZion\t1944\tonly\t-\tApr\t 1\t0:00\t1:00\tD\nRule\tZion\t1945\tonly\t-\tApr\t16\t0:00\t1:00\tD\nRule\tZion\t1945\tonly\t-\tNov\t 1\t2:00\t0\tS\nRule\tZion\t1946\tonly\t-\tApr\t16\t2:00\t1:00\tD\nRule\tZion\t1946\tonly\t-\tNov\t 1\t0:00\t0\tS\nRule\tZion\t1948\tonly\t-\tMay\t23\t0:00\t2:00\tDD\nRule\tZion\t1948\tonly\t-\tSep\t 1\t0:00\t1:00\tD\nRule\tZion\t1948\t1949\t-\tNov\t 1\t2:00\t0\tS\nRule\tZion\t1949\tonly\t-\tMay\t 1\t0:00\t1:00\tD\nRule\tZion\t1950\tonly\t-\tApr\t16\t0:00\t1:00\tD\nRule\tZion\t1950\tonly\t-\tSep\t15\t3:00\t0\tS\nRule\tZion\t1951\tonly\t-\tApr\t 1\t0:00\t1:00\tD\nRule\tZion\t1951\tonly\t-\tNov\t11\t3:00\t0\tS\nRule\tZion\t1952\tonly\t-\tApr\t20\t2:00\t1:00\tD\nRule\tZion\t1952\tonly\t-\tOct\t19\t3:00\t0\tS\nRule\tZion\t1953\tonly\t-\tApr\t12\t2:00\t1:00\tD\nRule\tZion\t1953\tonly\t-\tSep\t13\t3:00\t0\tS\nRule\tZion\t1954\tonly\t-\tJun\t13\t0:00\t1:00\tD\nRule\tZion\t1954\tonly\t-\tSep\t12\t0:00\t0\tS\nRule\tZion\t1955\tonly\t-\tJun\t11\t2:00\t1:00\tD\nRule\tZion\t1955\tonly\t-\tSep\t11\t0:00\t0\tS\nRule\tZion\t1956\tonly\t-\tJun\t 3\t0:00\t1:00\tD\nRule\tZion\t1956\tonly\t-\tSep\t30\t3:00\t0\tS\nRule\tZion\t1957\tonly\t-\tApr\t29\t2:00\t1:00\tD\nRule\tZion\t1957\tonly\t-\tSep\t22\t0:00\t0\tS\nRule\tZion\t1974\tonly\t-\tJul\t 7\t0:00\t1:00\tD\nRule\tZion\t1974\tonly\t-\tOct\t13\t0:00\t0\tS\nRule\tZion\t1975\tonly\t-\tApr\t20\t0:00\t1:00\tD\nRule\tZion\t1975\tonly\t-\tAug\t31\t0:00\t0\tS\nRule\tZion\t1985\tonly\t-\tApr\t14\t0:00\t1:00\tD\nRule\tZion\t1985\tonly\t-\tSep\t15\t0:00\t0\tS\nRule\tZion\t1986\tonly\t-\tMay\t18\t0:00\t1:00\tD\nRule\tZion\t1986\tonly\t-\tSep\t 7\t0:00\t0\tS\nRule\tZion\t1987\tonly\t-\tApr\t15\t0:00\t1:00\tD\nRule\tZion\t1987\tonly\t-\tSep\t13\t0:00\t0\tS\nRule\tZion\t1988\tonly\t-\tApr\t 9\t0:00\t1:00\tD\nRule\tZion\t1988\tonly\t-\tSep\t 3\t0:00\t0\tS\n\n# From Ephraim Silverberg\n# (1997-03-04, 1998-03-16, 1998-12-28, 2000-01-17, 2000-07-25, 2004-12-22,\n# and 2005-02-17):\n\n# According to the Office of the Secretary General of the Ministry of\n# Interior, there is NO set rule for Daylight-Savings/Standard time changes.\n# One thing is entrenched in law, however: that there must be at least 150\n# days of daylight savings time annually.  From 1993-1998, the change to\n# daylight savings time was on a Friday morning from midnight IST to\n# 1 a.m IDT; up until 1998, the change back to standard time was on a\n# Saturday night from midnight daylight savings time to 11 p.m. standard\n# time.  1996 is an exception to this rule where the change back to standard\n# time took place on Sunday night instead of Saturday night to avoid\n# conflicts with the Jewish New Year.  In 1999, the change to\n# daylight savings time was still on a Friday morning but from\n# 2 a.m. IST to 3 a.m. IDT; furthermore, the change back to standard time\n# was also on a Friday morning from 2 a.m. IDT to 1 a.m. IST for\n# 1999 only.  In the year 2000, the change to daylight savings time was\n# similar to 1999, but although the change back will be on a Friday, it\n# will take place from 1 a.m. IDT to midnight IST.  Starting in 2001, all\n# changes to/from will take place at 1 a.m. old time, but now there is no\n# rule as to what day of the week it will take place in as the start date\n# (except in 2003) is the night after the Passover Seder (i.e. the eve\n# of the 16th of Nisan in the lunar Hebrew calendar) and the end date\n# (except in 2002) is three nights before Yom Kippur [Day of Atonement]\n# (the eve of the 7th of Tishrei in the lunar Hebrew calendar).\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tZion\t1989\tonly\t-\tApr\t30\t0:00\t1:00\tD\nRule\tZion\t1989\tonly\t-\tSep\t 3\t0:00\t0\tS\nRule\tZion\t1990\tonly\t-\tMar\t25\t0:00\t1:00\tD\nRule\tZion\t1990\tonly\t-\tAug\t26\t0:00\t0\tS\nRule\tZion\t1991\tonly\t-\tMar\t24\t0:00\t1:00\tD\nRule\tZion\t1991\tonly\t-\tSep\t 1\t0:00\t0\tS\nRule\tZion\t1992\tonly\t-\tMar\t29\t0:00\t1:00\tD\nRule\tZion\t1992\tonly\t-\tSep\t 6\t0:00\t0\tS\nRule\tZion\t1993\tonly\t-\tApr\t 2\t0:00\t1:00\tD\nRule\tZion\t1993\tonly\t-\tSep\t 5\t0:00\t0\tS\n\n# The dates for 1994-1995 were obtained from Office of the Spokeswoman for the\n# Ministry of Interior, Jerusalem, Israel.  The spokeswoman can be reached by\n# calling the office directly at 972-2-6701447 or 972-2-6701448.\n\n# Rule\tNAME    FROM    TO      TYPE    IN      ON      AT      SAVE    LETTER/S\nRule\tZion\t1994\tonly\t-\tApr\t 1\t0:00\t1:00\tD\nRule\tZion\t1994\tonly\t-\tAug\t28\t0:00\t0\tS\nRule\tZion\t1995\tonly\t-\tMar\t31\t0:00\t1:00\tD\nRule\tZion\t1995\tonly\t-\tSep\t 3\t0:00\t0\tS\n\n# The dates for 1996 were determined by the Minister of Interior of the\n# time, Haim Ramon.  The official announcement regarding 1996-1998\n# (with the dates for 1997-1998 no longer being relevant) can be viewed at:\n#\n#   ftp://ftp.cs.huji.ac.il/pub/tz/announcements/1996-1998.ramon.ps.gz\n#\n# The dates for 1997-1998 were altered by his successor, Rabbi Eli Suissa.\n#\n# The official announcements for the years 1997-1999 can be viewed at:\n#\n#   ftp://ftp.cs.huji.ac.il/pub/tz/announcements/YYYY.ps.gz\n#\n#       where YYYY is the relevant year.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tZion\t1996\tonly\t-\tMar\t15\t0:00\t1:00\tD\nRule\tZion\t1996\tonly\t-\tSep\t16\t0:00\t0\tS\nRule\tZion\t1997\tonly\t-\tMar\t21\t0:00\t1:00\tD\nRule\tZion\t1997\tonly\t-\tSep\t14\t0:00\t0\tS\nRule\tZion\t1998\tonly\t-\tMar\t20\t0:00\t1:00\tD\nRule\tZion\t1998\tonly\t-\tSep\t 6\t0:00\t0\tS\nRule\tZion\t1999\tonly\t-\tApr\t 2\t2:00\t1:00\tD\nRule\tZion\t1999\tonly\t-\tSep\t 3\t2:00\t0\tS\n\n# The Knesset Interior Committee has changed the dates for 2000 for\n# the third time in just over a year and have set new dates for the\n# years 2001-2004 as well.\n#\n# The official announcement for the start date of 2000 can be viewed at:\n#\n#\tftp://ftp.cs.huji.ac.il/pub/tz/announcements/2000-start.ps.gz\n#\n# The official announcement for the end date of 2000 and the dates\n# for the years 2001-2004 can be viewed at:\n#\n#\tftp://ftp.cs.huji.ac.il/pub/tz/announcements/2000-2004.ps.gz\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tZion\t2000\tonly\t-\tApr\t14\t2:00\t1:00\tD\nRule\tZion\t2000\tonly\t-\tOct\t 6\t1:00\t0\tS\nRule\tZion\t2001\tonly\t-\tApr\t 9\t1:00\t1:00\tD\nRule\tZion\t2001\tonly\t-\tSep\t24\t1:00\t0\tS\nRule\tZion\t2002\tonly\t-\tMar\t29\t1:00\t1:00\tD\nRule\tZion\t2002\tonly\t-\tOct\t 7\t1:00\t0\tS\nRule\tZion\t2003\tonly\t-\tMar\t28\t1:00\t1:00\tD\nRule\tZion\t2003\tonly\t-\tOct\t 3\t1:00\t0\tS\nRule\tZion\t2004\tonly\t-\tApr\t 7\t1:00\t1:00\tD\nRule\tZion\t2004\tonly\t-\tSep\t22\t1:00\t0\tS\n\n# The proposed law agreed upon by the Knesset Interior Committee on\n# 2005-02-14 is that, for 2005 and beyond, DST starts at 02:00 the\n# last Friday before April 2nd (i.e. the last Friday in March or April\n# 1st itself if it falls on a Friday) and ends at 02:00 on the Saturday\n# night _before_ the fast of Yom Kippur.\n#\n# Those who can read Hebrew can view the announcement at:\n#\n#\tftp://ftp.cs.huji.ac.il/pub/tz/announcements/2005+beyond.ps\n\n# From Paul Eggert (2012-10-26):\n# I used Ephraim Silverberg's dst-israel.el program\n# <ftp://ftp.cs.huji.ac.il/pub/tz/software/dst-israel.el> (2005-02-20)\n# along with Ed Reingold's cal-hebrew in GNU Emacs 21.4,\n# to generate the transitions from 2005 through 2012.\n# (I replaced \"lastFri\" with \"Fri>=26\" by hand.)\n# The spring transitions all correspond to the following Rule:\n#\n# Rule\tZion\t2005\t2012\t-\tMar\tFri>=26\t2:00\t1:00\tD\n#\n# but older zic implementations (e.g., Solaris 8) do not support\n# \"Fri>=26\" to mean April 1 in years like 2005, so for now we list the\n# springtime transitions explicitly.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tZion\t2005\tonly\t-\tApr\t 1\t2:00\t1:00\tD\nRule\tZion\t2005\tonly\t-\tOct\t 9\t2:00\t0\tS\nRule\tZion\t2006\t2010\t-\tMar\tFri>=26\t2:00\t1:00\tD\nRule\tZion\t2006\tonly\t-\tOct\t 1\t2:00\t0\tS\nRule\tZion\t2007\tonly\t-\tSep\t16\t2:00\t0\tS\nRule\tZion\t2008\tonly\t-\tOct\t 5\t2:00\t0\tS\nRule\tZion\t2009\tonly\t-\tSep\t27\t2:00\t0\tS\nRule\tZion\t2010\tonly\t-\tSep\t12\t2:00\t0\tS\nRule\tZion\t2011\tonly\t-\tApr\t 1\t2:00\t1:00\tD\nRule\tZion\t2011\tonly\t-\tOct\t 2\t2:00\t0\tS\nRule\tZion\t2012\tonly\t-\tMar\tFri>=26\t2:00\t1:00\tD\nRule\tZion\t2012\tonly\t-\tSep\t23\t2:00\t0\tS\n\n# From Ephraim Silverberg (2013-06-27):\n# On June 23, 2013, the Israeli government approved changes to the\n# Time Decree Law.  The next day, the changes passed the First Reading\n# in the Knesset.  The law is expected to pass the Second and Third\n# (final) Readings by the beginning of September 2013.\n#\n# As of 2013, DST starts at 02:00 on the Friday before the last Sunday\n# in March.  DST ends at 02:00 on the last Sunday of October.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tZion\t2013\tmax\t-\tMar\tFri>=23\t2:00\t1:00\tD\nRule\tZion\t2013\tmax\t-\tOct\tlastSun\t2:00\t0\tS\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Jerusalem\t2:20:54 -\tLMT\t1880\n\t\t\t2:20:40\t-\tJMT\t1918\t# Jerusalem Mean Time?\n\t\t\t2:00\tZion\tI%sT\n\n\n\n###############################################################################\n\n# Japan\n\n# `9:00' and `JST' is from Guy Harris.\n\n# From Paul Eggert (1995-03-06):\n# Today's _Asahi Evening News_ (page 4) reports that Japan had\n# daylight saving between 1948 and 1951, but ``the system was discontinued\n# because the public believed it would lead to longer working hours.''\n\n# From Mayumi Negishi in the 2005-08-10 Japan Times\n# <http://www.japantimes.co.jp/cgi-bin/getarticle.pl5?nn20050810f2.htm>:\n# Occupation authorities imposed daylight-saving time on Japan on\n# [1948-05-01]....  But lack of prior debate and the execution of\n# daylight-saving time just three days after the bill was passed generated\n# deep hatred of the concept....  The Diet unceremoniously passed a bill to\n# dump the unpopular system in October 1951, less than a month after the San\n# Francisco Peace Treaty was signed.  (A government poll in 1951 showed 53%\n# of the Japanese wanted to scrap daylight-saving time, as opposed to 30% who\n# wanted to keep it.)\n\n# From Paul Eggert (2006-03-22):\n# Shanks & Pottenger write that DST in Japan during those years was as follows:\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tJapan\t1948\tonly\t-\tMay\tSun>=1\t2:00\t1:00\tD\nRule\tJapan\t1948\t1951\t-\tSep\tSat>=8\t2:00\t0\tS\nRule\tJapan\t1949\tonly\t-\tApr\tSun>=1\t2:00\t1:00\tD\nRule\tJapan\t1950\t1951\t-\tMay\tSun>=1\t2:00\t1:00\tD\n# but the only locations using it (for birth certificates, presumably, since\n# their audience is astrologers) were US military bases.  For now, assume\n# that for most purposes daylight-saving time was observed; otherwise, what\n# would have been the point of the 1951 poll?\n\n# From Hideyuki Suzuki (1998-11-09):\n# 'Tokyo' usually stands for the former location of Tokyo Astronomical\n# Observatory: E 139 44' 40\".90 (9h 18m 58s.727), N 35 39' 16\".0.\n# This data is from 'Rika Nenpyou (Chronological Scientific Tables) 1996'\n# edited by National Astronomical Observatory of Japan....\n# JST (Japan Standard Time) has been used since 1888-01-01 00:00 (JST).\n# The law is enacted on 1886-07-07.\n\n# From Hideyuki Suzuki (1998-11-16):\n# The ordinance No. 51 (1886) established \"standard time\" in Japan,\n# which stands for the time on E 135 degree.\n# In the ordinance No. 167 (1895), \"standard time\" was renamed to \"central\n# standard time\".  And the same ordinance also established \"western standard\n# time\", which stands for the time on E 120 degree....  But \"western standard\n# time\" was abolished in the ordinance No. 529 (1937).  In the ordinance No.\n# 167, there is no mention regarding for what place western standard time is\n# standard....\n#\n# I wrote \"ordinance\" above, but I don't know how to translate.\n# In Japanese it's \"chokurei\", which means ordinance from emperor.\n\n# Shanks & Pottenger claim JST in use since 1896, and that a few\n# places (e.g. Ishigaki) use +0800; go with Suzuki.  Guess that all\n# ordinances took effect on Jan 1.\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Tokyo\t9:18:59\t-\tLMT\t1887 Dec 31 15:00u\n\t\t\t9:00\t-\tJST\t1896\n\t\t\t9:00\t-\tCJT\t1938\n\t\t\t9:00\tJapan\tJ%sT\n# Since 1938, all Japanese possessions have been like Asia/Tokyo.\n\n# Jordan\n#\n# From <a href=\"http://star.arabia.com/990701/JO9.html\">\n# Jordan Week (1999-07-01) </a> via Steffen Thorsen (1999-09-09):\n# Clocks in Jordan were forwarded one hour on Wednesday at midnight,\n# in accordance with the government's decision to implement summer time\n# all year round.\n#\n# From <a href=\"http://star.arabia.com/990930/JO9.html\">\n# Jordan Week (1999-09-30) </a> via Steffen Thorsen (1999-11-09):\n# Winter time starts today Thursday, 30 September. Clocks will be turned back\n# by one hour.  This is the latest government decision and it's final!\n# The decision was taken because of the increase in working hours in\n# government's departments from six to seven hours.\n#\n# From Paul Eggert (2005-11-22):\n# Starting 2003 transitions are from Steffen Thorsen's web site timeanddate.com.\n#\n# From Steffen Thorsen (2005-11-23):\n# For Jordan I have received multiple independent user reports every year\n# about DST end dates, as the end-rule is different every year.\n#\n# From Steffen Thorsen (2006-10-01), after a heads-up from Hilal Malawi:\n# http://www.petranews.gov.jo/nepras/2006/Sep/05/4000.htm\n# \"Jordan will switch to winter time on Friday, October 27\".\n#\n\n# From Phil Pizzey (2009-04-02):\n# ...I think I may have spotted an error in the timezone data for\n# Jordan.\n# The current (2009d) asia file shows Jordan going to daylight\n# saving\n# time on the last Thursday in March.\n#\n# Rule  Jordan      2000  max\t-  Mar   lastThu     0:00s 1:00  S\n#\n# However timeanddate.com, which I usually find reliable, shows Jordan\n# going to daylight saving time on the last Friday in March since 2002.\n# Please see\n# <a href=\"http://www.timeanddate.com/worldclock/timezone.html?n=11\">\n# http://www.timeanddate.com/worldclock/timezone.html?n=11\n# </a>\n\n# From Steffen Thorsen (2009-04-02):\n# This single one might be good enough, (2009-03-24, Arabic):\n# <a href=\"http://petra.gov.jo/Artical.aspx?Lng=2&Section=8&Artical=95279\">\n# http://petra.gov.jo/Artical.aspx?Lng=2&Section=8&Artical=95279\n# </a>\n#\n# Google's translation:\n#\n# > The Council of Ministers decided in 2002 to adopt the principle of timely\n# > submission of the summer at 60 minutes as of midnight on the last Thursday\n# > of the month of March of each year.\n#\n# So - this means the midnight between Thursday and Friday since 2002.\n\n# From Arthur David Olson (2009-04-06):\n# We still have Jordan switching to DST on Thursdays in 2000 and 2001.\n\n# From Steffen Thorsen (2012-10-25):\n# Yesterday the government in Jordan announced that they will not\n# switch back to standard time this winter, so the will stay on DST\n# until about the same time next year (at least).\n# http://www.petra.gov.jo/Public_News/Nws_NewsDetails.aspx?NewsID=88950\n#\n# From Paul Eggert (2013-09-21):\n# It's looking like this change will be permanent; see\n# Petra News Agency, Cancelling winter saved Jordan $7 million (2013-02-20)\n# <http://www.albawaba.com/business/jordan-winter-electricity--472005>.\n# So move Jordan to UTC+3 as of the abovementioned date.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tJordan\t1973\tonly\t-\tJun\t6\t0:00\t1:00\tS\nRule\tJordan\t1973\t1975\t-\tOct\t1\t0:00\t0\t-\nRule\tJordan\t1974\t1977\t-\tMay\t1\t0:00\t1:00\tS\nRule\tJordan\t1976\tonly\t-\tNov\t1\t0:00\t0\t-\nRule\tJordan\t1977\tonly\t-\tOct\t1\t0:00\t0\t-\nRule\tJordan\t1978\tonly\t-\tApr\t30\t0:00\t1:00\tS\nRule\tJordan\t1978\tonly\t-\tSep\t30\t0:00\t0\t-\nRule\tJordan\t1985\tonly\t-\tApr\t1\t0:00\t1:00\tS\nRule\tJordan\t1985\tonly\t-\tOct\t1\t0:00\t0\t-\nRule\tJordan\t1986\t1988\t-\tApr\tFri>=1\t0:00\t1:00\tS\nRule\tJordan\t1986\t1990\t-\tOct\tFri>=1\t0:00\t0\t-\nRule\tJordan\t1989\tonly\t-\tMay\t8\t0:00\t1:00\tS\nRule\tJordan\t1990\tonly\t-\tApr\t27\t0:00\t1:00\tS\nRule\tJordan\t1991\tonly\t-\tApr\t17\t0:00\t1:00\tS\nRule\tJordan\t1991\tonly\t-\tSep\t27\t0:00\t0\t-\nRule\tJordan\t1992\tonly\t-\tApr\t10\t0:00\t1:00\tS\nRule\tJordan\t1992\t1993\t-\tOct\tFri>=1\t0:00\t0\t-\nRule\tJordan\t1993\t1998\t-\tApr\tFri>=1\t0:00\t1:00\tS\nRule\tJordan\t1994\tonly\t-\tSep\tFri>=15\t0:00\t0\t-\nRule\tJordan\t1995\t1998\t-\tSep\tFri>=15\t0:00s\t0\t-\nRule\tJordan\t1999\tonly\t-\tJul\t 1\t0:00s\t1:00\tS\nRule\tJordan\t1999\t2002\t-\tSep\tlastFri\t0:00s\t0\t-\nRule\tJordan\t2000\t2001\t-\tMar\tlastThu\t0:00s\t1:00\tS\nRule\tJordan\t2002\t2012\t-\tMar\tlastThu\t24:00\t1:00\tS\nRule\tJordan\t2003\tonly\t-\tOct\t24\t0:00s\t0\t-\nRule\tJordan\t2004\tonly\t-\tOct\t15\t0:00s\t0\t-\nRule\tJordan\t2005\tonly\t-\tSep\tlastFri\t0:00s\t0\t-\nRule\tJordan\t2006\t2012\t-\tOct\tlastFri\t0:00s\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Amman\t2:23:44 -\tLMT\t1931\n\t\t\t2:00\tJordan\tEE%sT\t2012 Oct 26 0:00s\n\t\t\t3:00\t-\tAST\n\n\n# Kazakhstan\n\n# From Paul Eggert (1996-11-22):\n# Andrew Evtichov (1996-04-13) writes that Kazakhstan\n# stayed in sync with Moscow after 1990, and that Aqtobe (formerly Aktyubinsk)\n# and Aqtau (formerly Shevchenko) are the largest cities in their zones.\n# Guess that Aqtau and Aqtobe diverged in 1995, since that's the first time\n# IATA SSIM mentions a third time zone in Kazakhstan.\n\n# From Paul Eggert (2006-03-22):\n# German Iofis, ELSI, Almaty (2001-10-09) reports that Kazakhstan uses\n# RussiaAsia rules, instead of switching at 00:00 as the IATA has it.\n# Go with Shanks & Pottenger, who have them always using RussiaAsia rules.\n# Also go with the following claims of Shanks & Pottenger:\n#\n# - Kazakhstan did not observe DST in 1991.\n# - Qyzylorda switched from +5:00 to +6:00 on 1992-01-19 02:00.\n# - Oral switched from +5:00 to +4:00 in spring 1989.\n\n# <a href=\"http://www.kazsociety.org.uk/news/2005/03/30.htm\">\n# From Kazakhstan Embassy's News Bulletin #11 (2005-03-21):\n# </a>\n# The Government of Kazakhstan passed a resolution March 15 abolishing\n# daylight saving time citing lack of economic benefits and health\n# complications coupled with a decrease in productivity.\n#\n# From Branislav Kojic (in Astana) via Gwillim Law (2005-06-28):\n# ... what happened was that the former Kazakhstan Eastern time zone\n# was \"blended\" with the Central zone.  Therefore, Kazakhstan now has\n# two time zones, and difference between them is one hour.  The zone\n# closer to UTC is the former Western zone (probably still called the\n# same), encompassing four provinces in the west: Aqtobe, Atyrau,\n# Mangghystau, and West Kazakhstan.  The other zone encompasses\n# everything else....  I guess that would make Kazakhstan time zones\n# de jure UTC+5 and UTC+6 respectively.\n\n#\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\n#\n# Almaty (formerly Alma-Ata), representing most locations in Kazakhstan\nZone\tAsia/Almaty\t5:07:48 -\tLMT\t1924 May  2 # or Alma-Ata\n\t\t\t5:00\t-\tALMT\t1930 Jun 21 # Alma-Ata Time\n\t\t\t6:00 RussiaAsia ALM%sT\t1991\n\t\t\t6:00\t-\tALMT\t1992\n\t\t\t6:00 RussiaAsia\tALM%sT\t2005 Mar 15\n\t\t\t6:00\t-\tALMT\n# Qyzylorda (aka Kyzylorda, Kizilorda, Kzyl-Orda, etc.)\nZone\tAsia/Qyzylorda\t4:21:52 -\tLMT\t1924 May  2\n\t\t\t4:00\t-\tKIZT\t1930 Jun 21 # Kizilorda Time\n\t\t\t5:00\t-\tKIZT\t1981 Apr  1\n\t\t\t5:00\t1:00\tKIZST\t1981 Oct  1\n\t\t\t6:00\t-\tKIZT\t1982 Apr  1\n\t\t\t5:00 RussiaAsia\tKIZ%sT\t1991\n\t\t\t5:00\t-\tKIZT\t1991 Dec 16 # independence\n\t\t\t5:00\t-\tQYZT\t1992 Jan 19 2:00\n\t\t\t6:00 RussiaAsia\tQYZ%sT\t2005 Mar 15\n\t\t\t6:00\t-\tQYZT\n# Aqtobe (aka Aktobe, formerly Akt'ubinsk)\nZone\tAsia/Aqtobe\t3:48:40\t-\tLMT\t1924 May  2\n\t\t\t4:00\t-\tAKTT\t1930 Jun 21 # Aktyubinsk Time\n\t\t\t5:00\t-\tAKTT\t1981 Apr  1\n\t\t\t5:00\t1:00\tAKTST\t1981 Oct  1\n\t\t\t6:00\t-\tAKTT\t1982 Apr  1\n\t\t\t5:00 RussiaAsia\tAKT%sT\t1991\n\t\t\t5:00\t-\tAKTT\t1991 Dec 16 # independence\n\t\t\t5:00 RussiaAsia\tAQT%sT\t2005 Mar 15 # Aqtobe Time\n\t\t\t5:00\t-\tAQTT\n# Mangghystau\n# Aqtau was not founded until 1963, but it represents an inhabited region,\n# so include time stamps before 1963.\nZone\tAsia/Aqtau\t3:21:04\t-\tLMT\t1924 May  2\n\t\t\t4:00\t-\tFORT\t1930 Jun 21 # Fort Shevchenko T\n\t\t\t5:00\t-\tFORT\t1963\n\t\t\t5:00\t-\tSHET\t1981 Oct  1 # Shevchenko Time\n\t\t\t6:00\t-\tSHET\t1982 Apr  1\n\t\t\t5:00 RussiaAsia\tSHE%sT\t1991\n\t\t\t5:00\t-\tSHET\t1991 Dec 16 # independence\n\t\t\t5:00 RussiaAsia\tAQT%sT\t1995 Mar lastSun 2:00 # Aqtau Time\n\t\t\t4:00 RussiaAsia\tAQT%sT\t2005 Mar 15\n\t\t\t5:00\t-\tAQTT\n# West Kazakhstan\nZone\tAsia/Oral\t3:25:24\t-\tLMT\t1924 May  2 # or Ural'sk\n\t\t\t4:00\t-\tURAT\t1930 Jun 21 # Ural'sk time\n\t\t\t5:00\t-\tURAT\t1981 Apr  1\n\t\t\t5:00\t1:00\tURAST\t1981 Oct  1\n\t\t\t6:00\t-\tURAT\t1982 Apr  1\n\t\t\t5:00 RussiaAsia\tURA%sT\t1989 Mar 26 2:00\n\t\t\t4:00 RussiaAsia\tURA%sT\t1991\n\t\t\t4:00\t-\tURAT\t1991 Dec 16 # independence\n\t\t\t4:00 RussiaAsia\tORA%sT\t2005 Mar 15 # Oral Time\n\t\t\t5:00\t-\tORAT\n\n# Kyrgyzstan (Kirgizstan)\n# Transitions through 1991 are from Shanks & Pottenger.\n\n# From Paul Eggert (2005-08-15):\n# According to an article dated today in the Kyrgyzstan Development Gateway\n# <http://eng.gateway.kg/cgi-bin/page.pl?id=1&story_name=doc9979.shtml>\n# Kyrgyzstan is canceling the daylight saving time system.  I take the article\n# to mean that they will leave their clocks at 6 hours ahead of UTC.\n# From Malik Abdugaliev (2005-09-21):\n# Our government cancels daylight saving time 6th of August 2005.\n# From 2005-08-12 our GMT-offset is +6, w/o any daylight saving.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tKyrgyz\t1992\t1996\t-\tApr\tSun>=7\t0:00s\t1:00\tS\nRule\tKyrgyz\t1992\t1996\t-\tSep\tlastSun\t0:00\t0\t-\nRule\tKyrgyz\t1997\t2005\t-\tMar\tlastSun\t2:30\t1:00\tS\nRule\tKyrgyz\t1997\t2004\t-\tOct\tlastSun\t2:30\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Bishkek\t4:58:24 -\tLMT\t1924 May  2\n\t\t\t5:00\t-\tFRUT\t1930 Jun 21 # Frunze Time\n\t\t\t6:00 RussiaAsia FRU%sT\t1991 Mar 31 2:00s\n\t\t\t5:00\t1:00\tFRUST\t1991 Aug 31 2:00 # independence\n\t\t\t5:00\tKyrgyz\tKG%sT\t2005 Aug 12    # Kyrgyzstan Time\n\t\t\t6:00\t-\tKGT\n\n###############################################################################\n\n# Korea (North and South)\n\n# From Annie I. Bang (2006-07-10) in\n# <http://www.koreaherald.co.kr/SITE/data/html_dir/2006/07/10/200607100012.asp>:\n# The Ministry of Commerce, Industry and Energy has already\n# commissioned a research project [to reintroduce DST] and has said\n# the system may begin as early as 2008....  Korea ran a daylight\n# saving program from 1949-61 but stopped it during the 1950-53 Korean War.\n\n# From Shanks & Pottenger:\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tROK\t1960\tonly\t-\tMay\t15\t0:00\t1:00\tD\nRule\tROK\t1960\tonly\t-\tSep\t13\t0:00\t0\tS\nRule\tROK\t1987\t1988\t-\tMay\tSun>=8\t0:00\t1:00\tD\nRule\tROK\t1987\t1988\t-\tOct\tSun>=8\t0:00\t0\tS\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Seoul\t8:27:52\t-\tLMT\t1890\n\t\t\t8:30\t-\tKST\t1904 Dec\n\t\t\t9:00\t-\tKST\t1928\n\t\t\t8:30\t-\tKST\t1932\n\t\t\t9:00\t-\tKST\t1954 Mar 21\n\t\t\t8:00\tROK\tK%sT\t1961 Aug 10\n\t\t\t8:30\t-\tKST\t1968 Oct\n\t\t\t9:00\tROK\tK%sT\nZone\tAsia/Pyongyang\t8:23:00 -\tLMT\t1890\n\t\t\t8:30\t-\tKST\t1904 Dec\n\t\t\t9:00\t-\tKST\t1928\n\t\t\t8:30\t-\tKST\t1932\n\t\t\t9:00\t-\tKST\t1954 Mar 21\n\t\t\t8:00\t-\tKST\t1961 Aug 10\n\t\t\t9:00\t-\tKST\n\n###############################################################################\n\n# Kuwait\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\n# From the Arab Times (2007-03-14):\n# The Civil Service Commission (CSC) has approved a proposal forwarded\n# by MP Ahmad Baqer on implementing the daylight saving time (DST) in\n# Kuwait starting from April until the end of Sept this year, reports Al-Anba.\n# <http://www.arabtimesonline.com/arabtimes/kuwait/Viewdet.asp?ID=9950>.\n# From Paul Eggert (2007-03-29):\n# We don't know the details, or whether the approval means it'll happen,\n# so for now we assume no DST.\nZone\tAsia/Kuwait\t3:11:56 -\tLMT\t1950\n\t\t\t3:00\t-\tAST\n\n# Laos\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Vientiane\t6:50:24 -\tLMT\t1906 Jun  9 # or Viangchan\n\t\t\t7:06:20\t-\tSMT\t1911 Mar 11 0:01 # Saigon MT?\n\t\t\t7:00\t-\tICT\t1912 May\n\t\t\t8:00\t-\tICT\t1931 May\n\t\t\t7:00\t-\tICT\n\n# Lebanon\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tLebanon\t1920\tonly\t-\tMar\t28\t0:00\t1:00\tS\nRule\tLebanon\t1920\tonly\t-\tOct\t25\t0:00\t0\t-\nRule\tLebanon\t1921\tonly\t-\tApr\t3\t0:00\t1:00\tS\nRule\tLebanon\t1921\tonly\t-\tOct\t3\t0:00\t0\t-\nRule\tLebanon\t1922\tonly\t-\tMar\t26\t0:00\t1:00\tS\nRule\tLebanon\t1922\tonly\t-\tOct\t8\t0:00\t0\t-\nRule\tLebanon\t1923\tonly\t-\tApr\t22\t0:00\t1:00\tS\nRule\tLebanon\t1923\tonly\t-\tSep\t16\t0:00\t0\t-\nRule\tLebanon\t1957\t1961\t-\tMay\t1\t0:00\t1:00\tS\nRule\tLebanon\t1957\t1961\t-\tOct\t1\t0:00\t0\t-\nRule\tLebanon\t1972\tonly\t-\tJun\t22\t0:00\t1:00\tS\nRule\tLebanon\t1972\t1977\t-\tOct\t1\t0:00\t0\t-\nRule\tLebanon\t1973\t1977\t-\tMay\t1\t0:00\t1:00\tS\nRule\tLebanon\t1978\tonly\t-\tApr\t30\t0:00\t1:00\tS\nRule\tLebanon\t1978\tonly\t-\tSep\t30\t0:00\t0\t-\nRule\tLebanon\t1984\t1987\t-\tMay\t1\t0:00\t1:00\tS\nRule\tLebanon\t1984\t1991\t-\tOct\t16\t0:00\t0\t-\nRule\tLebanon\t1988\tonly\t-\tJun\t1\t0:00\t1:00\tS\nRule\tLebanon\t1989\tonly\t-\tMay\t10\t0:00\t1:00\tS\nRule\tLebanon\t1990\t1992\t-\tMay\t1\t0:00\t1:00\tS\nRule\tLebanon\t1992\tonly\t-\tOct\t4\t0:00\t0\t-\nRule\tLebanon\t1993\tmax\t-\tMar\tlastSun\t0:00\t1:00\tS\nRule\tLebanon\t1993\t1998\t-\tSep\tlastSun\t0:00\t0\t-\nRule\tLebanon\t1999\tmax\t-\tOct\tlastSun\t0:00\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Beirut\t2:22:00 -\tLMT\t1880\n\t\t\t2:00\tLebanon\tEE%sT\n\n# Malaysia\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tNBorneo\t1935\t1941\t-\tSep\t14\t0:00\t0:20\tTS # one-Third Summer\nRule\tNBorneo\t1935\t1941\t-\tDec\t14\t0:00\t0\t-\n#\n# peninsular Malaysia\n# The data here are taken from Mok Ly Yng (2003-10-30)\n# <http://www.math.nus.edu.sg/aslaksen/teaching/timezone.html>.\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Asia/Kuala_Lumpur\t6:46:46 -\tLMT\t1901 Jan  1\n\t\t\t6:55:25\t-\tSMT\t1905 Jun  1 # Singapore M.T.\n\t\t\t7:00\t-\tMALT\t1933 Jan  1 # Malaya Time\n\t\t\t7:00\t0:20\tMALST\t1936 Jan  1\n\t\t\t7:20\t-\tMALT\t1941 Sep  1\n\t\t\t7:30\t-\tMALT\t1942 Feb 16\n\t\t\t9:00\t-\tJST\t1945 Sep 12\n\t\t\t7:30\t-\tMALT\t1982 Jan  1\n\t\t\t8:00\t-\tMYT\t# Malaysia Time\n# Sabah & Sarawak\n# From Paul Eggert (2006-03-22):\n# The data here are mostly from Shanks & Pottenger, but the 1942, 1945 and 1982\n# transition dates are from Mok Ly Yng.\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Asia/Kuching\t7:21:20\t-\tLMT\t1926 Mar\n\t\t\t7:30\t-\tBORT\t1933\t# Borneo Time\n\t\t\t8:00\tNBorneo\tBOR%sT\t1942 Feb 16\n\t\t\t9:00\t-\tJST\t1945 Sep 12\n\t\t\t8:00\t-\tBORT\t1982 Jan  1\n\t\t\t8:00\t-\tMYT\n\n# Maldives\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tIndian/Maldives\t4:54:00 -\tLMT\t1880\t# Male\n\t\t\t4:54:00\t-\tMMT\t1960\t# Male Mean Time\n\t\t\t5:00\t-\tMVT\t\t# Maldives Time\n\n# Mongolia\n\n# Shanks & Pottenger say that Mongolia has three time zones, but\n# usno1995 and the CIA map Standard Time Zones of the World (2005-03)\n# both say that it has just one.\n\n# From Oscar van Vlijmen (1999-12-11):\n# <a href=\"http://www.mongoliatourism.gov.mn/general.htm\">\n# General Information Mongolia\n# </a> (1999-09)\n# \"Time: Mongolia has two time zones. Three westernmost provinces of\n# Bayan-Ulgii, Uvs, and Hovd are one hour earlier than the capital city, and\n# the rest of the country follows the Ulaanbaatar time, which is UTC/GMT plus\n# eight hours.\"\n\n# From Rives McDow (1999-12-13):\n# Mongolia discontinued the use of daylight savings time in 1999; 1998\n# being the last year it was implemented.  The dates of implementation I am\n# unsure of, but most probably it was similar to Russia, except for the time\n# of implementation may have been different....\n# Some maps in the past have indicated that there was an additional time\n# zone in the eastern part of Mongolia, including the provinces of Dornod,\n# Suhbaatar, and possibly Khentij.\n\n# From Paul Eggert (1999-12-15):\n# Naming and spelling is tricky in Mongolia.\n# We'll use Hovd (also spelled Chovd and Khovd) to represent the west zone;\n# the capital of the Hovd province is sometimes called Hovd, sometimes Dund-Us,\n# and sometimes Jirgalanta (with variant spellings), but the name Hovd\n# is good enough for our purposes.\n\n# From Rives McDow (2001-05-13):\n# In addition to Mongolia starting daylight savings as reported earlier\n# (adopted DST on 2001-04-27 02:00 local time, ending 2001-09-28),\n# there are three time zones.\n#\n# Provinces [at 7:00]: Bayan-ulgii, Uvs, Khovd, Zavkhan, Govi-Altai\n# Provinces [at 8:00]: Khovsgol, Bulgan, Arkhangai, Khentii, Tov,\n#\tBayankhongor, Ovorkhangai, Dundgovi, Dornogovi, Omnogovi\n# Provinces [at 9:00]: Dornod, Sukhbaatar\n#\n# [The province of Selenge is omitted from the above lists.]\n\n# From Ganbold Ts., Ulaanbaatar (2004-04-17):\n# Daylight saving occurs at 02:00 local time last Saturday of March.\n# It will change back to normal at 02:00 local time last Saturday of\n# September.... As I remember this rule was changed in 2001.\n#\n# From Paul Eggert (2004-04-17):\n# For now, assume Rives McDow's informant got confused about Friday vs\n# Saturday, and that his 2001 dates should have 1 added to them.\n\n# From Paul Eggert (2005-07-26):\n# We have wildly conflicting information about Mongolia's time zones.\n# Bill Bonnet (2005-05-19) reports that the US Embassy in Ulaanbaatar says\n# there is only one time zone and that DST is observed, citing Microsoft\n# Windows XP as the source.  Risto Nykanen (2005-05-16) reports that\n# travelmongolia.org says there are two time zones (UTC+7, UTC+8) with no DST.\n# Oscar van Vlijmen (2005-05-20) reports that the Mongolian Embassy in\n# Washington, DC says there are two time zones, with DST observed.\n# He also found\n# <http://ubpost.mongolnews.mn/index.php?subaction=showcomments&id=1111634894&archive=&start_from=&ucat=1&>\n# which also says that there is DST, and which has a comment by \"Toddius\"\n# (2005-03-31 06:05 +0700) saying \"Mongolia actually has 3.5 time zones.\n# The West (OLGII) is +7 GMT, most of the country is ULAT is +8 GMT\n# and some Eastern provinces are +9 GMT but Sukhbaatar Aimag is SUHK +8.5 GMT.\n# The SUKH timezone is new this year, it is one of the few things the\n# parliament passed during the tumultuous winter session.\"\n# For now, let's ignore this information, until we have more confirmation.\n\n# From Ganbold Ts. (2007-02-26):\n# Parliament of Mongolia has just changed the daylight-saving rule in February.\n# They decided not to adopt daylight-saving time....\n# http://www.mongolnews.mn/index.php?module=unuudur&sec=view&id=15742\n\n# From Deborah Goldsmith (2008-03-30):\n# We received a bug report claiming that the tz database UTC offset for\n# Asia/Choibalsan (GMT+09:00) is incorrect, and that it should be GMT\n# +08:00 instead. Different sources appear to disagree with the tz\n# database on this, e.g.:\n#\n# <a href=\"http://www.timeanddate.com/worldclock/city.html?n=1026\">\n# http://www.timeanddate.com/worldclock/city.html?n=1026\n# </a>\n# <a href=\"http://www.worldtimeserver.com/current_time_in_MN.aspx\">\n# http://www.worldtimeserver.com/current_time_in_MN.aspx\n# </a>\n#\n# both say GMT+08:00.\n\n# From Steffen Thorsen (2008-03-31):\n# eznis airways, which operates several domestic flights, has a flight\n# schedule here:\n# <a href=\"http://www.eznis.com/Container.jsp?id=112\">\n# http://www.eznis.com/Container.jsp?id=112\n# </a>\n# (click the English flag for English)\n#\n# There it appears that flights between Choibalsan and Ulaanbatar arrive\n# about 1:35 - 1:50 hours later in local clock time, no matter the\n# direction, while Ulaanbaatar-Khvod takes 2 hours in the Eastern\n# direction and 3:35 back, which indicates that Ulaanbatar and Khvod are\n# in different time zones (like we know about), while Choibalsan and\n# Ulaanbatar are in the same time zone (correction needed).\n\n# From Arthur David Olson (2008-05-19):\n# Assume that Choibalsan is indeed offset by 8:00.\n# XXX--in the absence of better information, assume that transition\n# was at the start of 2008-03-31 (the day of Steffen Thorsen's report);\n# this is almost surely wrong.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tMongol\t1983\t1984\t-\tApr\t1\t0:00\t1:00\tS\nRule\tMongol\t1983\tonly\t-\tOct\t1\t0:00\t0\t-\n# Shanks & Pottenger and IATA SSIM say 1990s switches occurred at 00:00,\n# but McDow says the 2001 switches occurred at 02:00.  Also, IATA SSIM\n# (1996-09) says 1996-10-25.  Go with Shanks & Pottenger through 1998.\n#\n# Shanks & Pottenger say that the Sept. 1984 through Sept. 1990 switches\n# in Choibalsan (more precisely, in Dornod and Sukhbaatar) took place\n# at 02:00 standard time, not at 00:00 local time as in the rest of\n# the country.  That would be odd, and possibly is a result of their\n# correction of 02:00 (in the previous edition) not being done correctly\n# in the latest edition; so ignore it for now.\n\nRule\tMongol\t1985\t1998\t-\tMar\tlastSun\t0:00\t1:00\tS\nRule\tMongol\t1984\t1998\t-\tSep\tlastSun\t0:00\t0\t-\n# IATA SSIM (1999-09) says Mongolia no longer observes DST.\nRule\tMongol\t2001\tonly\t-\tApr\tlastSat\t2:00\t1:00\tS\nRule\tMongol\t2001\t2006\t-\tSep\tlastSat\t2:00\t0\t-\nRule\tMongol\t2002\t2006\t-\tMar\tlastSat\t2:00\t1:00\tS\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\n# Hovd, a.k.a. Chovd, Dund-Us, Dzhargalant, Khovd, Jirgalanta\nZone\tAsia/Hovd\t6:06:36 -\tLMT\t1905 Aug\n\t\t\t6:00\t-\tHOVT\t1978\t# Hovd Time\n\t\t\t7:00\tMongol\tHOV%sT\n# Ulaanbaatar, a.k.a. Ulan Bataar, Ulan Bator, Urga\nZone\tAsia/Ulaanbaatar 7:07:32 -\tLMT\t1905 Aug\n\t\t\t7:00\t-\tULAT\t1978\t# Ulaanbaatar Time\n\t\t\t8:00\tMongol\tULA%sT\n# Choibalsan, a.k.a. Bajan Tuemen, Bajan Tumen, Chojbalsan,\n# Choybalsan, Sanbejse, Tchoibalsan\nZone\tAsia/Choibalsan\t7:38:00 -\tLMT\t1905 Aug\n\t\t\t7:00\t-\tULAT\t1978\n\t\t\t8:00\t-\tULAT\t1983 Apr\n\t\t\t9:00\tMongol\tCHO%sT\t2008 Mar 31 # Choibalsan Time\n\t\t\t8:00\tMongol\tCHO%sT\n\n# Nepal\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Kathmandu\t5:41:16 -\tLMT\t1920\n\t\t\t5:30\t-\tIST\t1986\n\t\t\t5:45\t-\tNPT\t# Nepal Time\n\n# Oman\n\n# Milne says 3:54:24 was the meridian of the Muscat Tidal Observatory.\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Muscat\t3:54:24 -\tLMT\t1920\n\t\t\t4:00\t-\tGST\n\n# Pakistan\n\n# From Rives McDow (2002-03-13):\n# I have been advised that Pakistan has decided to adopt dst on a\n# TRIAL basis for one year, starting 00:01 local time on April 7, 2002\n# and ending at 00:01 local time October 6, 2002.  This is what I was\n# told, but I believe that the actual time of change may be 00:00; the\n# 00:01 was to make it clear which day it was on.\n\n# From Paul Eggert (2002-03-15):\n# Jesper Norgaard found this URL:\n# http://www.pak.gov.pk/public/news/app/app06_dec.htm\n# (dated 2001-12-06) which says that the Cabinet adopted a scheme \"to\n# advance the clocks by one hour on the night between the first\n# Saturday and Sunday of April and revert to the original position on\n# 15th October each year\".  This agrees with McDow's 04-07 at 00:00,\n# but disagrees about the October transition, and makes it sound like\n# it's not on a trial basis.  Also, the \"between the first Saturday\n# and Sunday of April\" phrase, if taken literally, means that the\n# transition takes place at 00:00 on the first Sunday on or after 04-02.\n\n# From Paul Eggert (2003-02-09):\n# DAWN <http://www.dawn.com/2002/10/06/top13.htm> reported on 2002-10-05\n# that 2002 DST ended that day at midnight.  Go with McDow for now.\n\n# From Steffen Thorsen (2003-03-14):\n# According to http://www.dawn.com/2003/03/07/top15.htm\n# there will be no DST in Pakistan this year:\n#\n# ISLAMABAD, March 6: Information and Media Development Minister Sheikh\n# Rashid Ahmed on Thursday said the cabinet had reversed a previous\n# decision to advance clocks by one hour in summer and put them back by\n# one hour in winter with the aim of saving light hours and energy.\n#\n# The minister told a news conference that the experiment had rather\n# shown 8 per cent higher consumption of electricity.\n\n# From Alex Krivenyshev (2008-05-15):\n#\n# Here is an article that Pakistan plan to introduce Daylight Saving Time\n# on June 1, 2008 for 3 months.\n#\n# \"... The federal cabinet on Wednesday announced a new conservation plan to help\n# reduce load shedding by approving the closure of commercial centres at 9pm and\n# moving clocks forward by one hour for the next three months.\n# ....\"\n#\n# <a href=\"http://www.worldtimezone.net/dst_news/dst_news_pakistan01.html\">\n# http://www.worldtimezone.net/dst_news/dst_news_pakistan01.html\n# </a>\n# OR\n# <a href=\"http://www.dailytimes.com.pk/default.asp?page=2008%5C05%5C15%5Cstory_15-5-2008_pg1_4\">\n# http://www.dailytimes.com.pk/default.asp?page=2008%5C05%5C15%5Cstory_15-5-2008_pg1_4\n# </a>\n\n# From Arthur David Olson (2008-05-19):\n# XXX--midnight transitions is a guess; 2008 only is a guess.\n\n# From Alexander Krivenyshev (2008-08-28):\n# Pakistan government has decided to keep the watches one-hour advanced\n# for another 2 months--plan to return to Standard Time on October 31\n# instead of August 31.\n#\n# <a href=\"http://www.worldtimezone.com/dst_news/dst_news_pakistan02.html\">\n# http://www.worldtimezone.com/dst_news/dst_news_pakistan02.html\n# </a>\n# OR\n# <a href=\"http://dailymailnews.com/200808/28/news/dmbrn03.html\">\n# http://dailymailnews.com/200808/28/news/dmbrn03.html\n# </a>\n\n# From Alexander Krivenyshev (2009-04-08):\n# Based on previous media reports that \"... proposed plan to\n# advance clocks by one hour from May 1 will cause disturbance\n# to the working schedules rather than bringing discipline in\n# official working.\"\n# <a href=\"http://www.thenews.com.pk/daily_detail.asp?id=171280\">\n# http://www.thenews.com.pk/daily_detail.asp?id=171280\n# </a>\n#\n# recent news that instead of May 2009 - Pakistan plan to\n# introduce DST from April 15, 2009\n#\n# FYI: Associated Press Of Pakistan\n# April 08, 2009\n# Cabinet okays proposal to advance clocks by one hour from April 15\n# <a href=\"http://www.app.com.pk/en_/index.php?option=com_content&task=view&id=73043&Itemid=1\">\n# http://www.app.com.pk/en_/index.php?option=com_content&task=view&id=73043&Itemid=1\n# </a>\n#\n# or\n#\n# <a href=\"http://www.worldtimezone.com/dst_news/dst_news_pakistan05.html\">\n# http://www.worldtimezone.com/dst_news/dst_news_pakistan05.html\n# </a>\n#\n# ....\n# The Federal Cabinet on Wednesday approved the proposal to\n# advance clocks in the country by one hour from April 15 to\n# conserve energy\"\n\n# From Steffen Thorsen (2009-09-17):\n# \"The News International,\" Pakistan reports that: \"The Federal\n# Government has decided to restore the previous time by moving the\n# clocks backward by one hour from October 1. A formal announcement to\n# this effect will be made after the Prime Minister grants approval in\n# this regard.\"\n# <a href=\"http://www.thenews.com.pk/updates.asp?id=87168\">\n# http://www.thenews.com.pk/updates.asp?id=87168\n# </a>\n\n# From Alexander Krivenyshev (2009-09-28):\n# According to Associated Press Of Pakistan, it is confirmed that\n# Pakistan clocks across the country would be turned back by an hour from October\n# 1, 2009.\n#\n# \"Clocks to go back one hour from 1 Oct\"\n# <a href=\"http://www.app.com.pk/en_/index.php?option=com_content&task=view&id=86715&Itemid=2\">\n# http://www.app.com.pk/en_/index.php?option=com_content&task=view&id=86715&Itemid=2\n# </a>\n# or\n# <a href=\"http://www.worldtimezone.com/dst_news/dst_news_pakistan07.htm\">\n# http://www.worldtimezone.com/dst_news/dst_news_pakistan07.htm\n# </a>\n\n# From Steffen Thorsen (2009-09-29):\n# Alexander Krivenyshev wrote:\n# > According to Associated Press Of Pakistan, it is confirmed that\n# > Pakistan clocks across the country would be turned back by an hour from October\n# > 1, 2009.\n#\n# Now they seem to have changed their mind, November 1 is the new date:\n# <a href=\"http://www.thenews.com.pk/top_story_detail.asp?Id=24742\">\n# http://www.thenews.com.pk/top_story_detail.asp?Id=24742\n# </a>\n# \"The country's clocks will be reversed by one hour on November 1.\n# Officials of Federal Ministry for Interior told this to Geo News on\n# Monday.\"\n#\n# And more importantly, it seems that these dates will be kept every year:\n# \"It has now been decided that clocks will be wound forward by one hour\n# on April 15 and reversed by an hour on November 1 every year without\n# obtaining prior approval, the officials added.\"\n#\n# We have confirmed this year's end date with both with the Ministry of\n# Water and Power and the Pakistan Electric Power Company:\n# <a href=\"http://www.timeanddate.com/news/time/pakistan-ends-dst09.html\">\n# http://www.timeanddate.com/news/time/pakistan-ends-dst09.html\n# </a>\n\n# From Christoph Goehre (2009-10-01):\n# [T]he German Consulate General in Karachi reported me today that Pakistan\n# will go back to standard time on 1st of November.\n\n# From Steffen Thorsen (2010-03-26):\n# Steffen Thorsen wrote:\n# > On Thursday (2010-03-25) it was announced that DST would start in\n# > Pakistan on 2010-04-01.\n# >\n# > Then today, the president said that they might have to revert the\n# > decision if it is not supported by the parliament. So at the time\n# > being, it seems unclear if DST will be actually observed or not - but\n# > April 1 could be a more likely date than April 15.\n# Now, it seems that the decision to not observe DST in final:\n#\n# \"Govt Withdraws Plan To Advance Clocks\"\n# <a href=\"http://www.apakistannews.com/govt-withdraws-plan-to-advance-clocks-172041\">\n# http://www.apakistannews.com/govt-withdraws-plan-to-advance-clocks-172041\n# </a>\n#\n# \"People laud PM's announcement to end DST\"\n# <a href=\"http://www.app.com.pk/en_/index.php?option=com_content&task=view&id=99374&Itemid=2\">\n# http://www.app.com.pk/en_/index.php?option=com_content&task=view&id=99374&Itemid=2\n# </a>\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule Pakistan\t2002\tonly\t-\tApr\tSun>=2\t0:01\t1:00\tS\nRule Pakistan\t2002\tonly\t-\tOct\tSun>=2\t0:01\t0\t-\nRule Pakistan\t2008\tonly\t-\tJun\t1\t0:00\t1:00\tS\nRule Pakistan\t2008\tonly\t-\tNov\t1\t0:00\t0\t-\nRule Pakistan\t2009\tonly\t-\tApr\t15\t0:00\t1:00\tS\nRule Pakistan\t2009\tonly\t-\tNov\t1\t0:00\t0\t-\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Karachi\t4:28:12 -\tLMT\t1907\n\t\t\t5:30\t-\tIST\t1942 Sep\n\t\t\t5:30\t1:00\tIST\t1945 Oct 15\n\t\t\t5:30\t-\tIST\t1951 Sep 30\n\t\t\t5:00\t-\tKART\t1971 Mar 26 # Karachi Time\n\t\t\t5:00 Pakistan\tPK%sT\t# Pakistan Time\n\n# Palestine\n\n# From Amos Shapir (1998-02-15):\n#\n# From 1917 until 1948-05-15, all of Palestine, including the parts now\n# known as the Gaza Strip and the West Bank, was under British rule.\n# Therefore the rules given for Israel for that period, apply there too...\n#\n# The Gaza Strip was under Egyptian rule between 1948-05-15 until 1967-06-05\n# (except a short occupation by Israel from 1956-11 till 1957-03, but no\n# time zone was affected then).  It was never formally annexed to Egypt,\n# though.\n#\n# The rest of Palestine was under Jordanian rule at that time, formally\n# annexed in 1950 as the West Bank (and the word \"Trans\" was dropped from\n# the country's previous name of \"the Hashemite Kingdom of the\n# Trans-Jordan\").  So the rules for Jordan for that time apply.  Major\n# towns in that area are Nablus (Shchem), El-Halil (Hebron), Ramallah, and\n# East Jerusalem.\n#\n# Both areas were occupied by Israel in June 1967, but not annexed (except\n# for East Jerusalem).  They were on Israel time since then; there might\n# have been a Military Governor's order about time zones, but I'm not aware\n# of any (such orders may have been issued semi-annually whenever summer\n# time was in effect, but maybe the legal aspect of time was just neglected).\n#\n# The Palestinian Authority was established in 1993, and got hold of most\n# towns in the West Bank and Gaza by 1995.  I know that in order to\n# demonstrate...independence, they have been switching to\n# summer time and back on a different schedule than Israel's, but I don't\n# know when this was started, or what algorithm is used (most likely the\n# Jordanian one).\n#\n# To summarize, the table should probably look something like that:\n#\n# Area \\ when | 1918-1947 | 1948-1967 | 1967-1995 | 1996-\n# ------------+-----------+-----------+-----------+-----------\n# Israel      | Zion      | Zion      | Zion      | Zion\n# West bank   | Zion      | Jordan    | Zion      | Jordan\n# Gaza        | Zion      | Egypt     | Zion      | Jordan\n#\n# I guess more info may be available from the PA's web page (if/when they\n# have one).\n\n# From Paul Eggert (2006-03-22):\n# Shanks & Pottenger write that Gaza did not observe DST until 1957, but go\n# with Shapir and assume that it observed DST from 1940 through 1947,\n# and that it used Jordanian rules starting in 1996.\n# We don't yet need a separate entry for the West Bank, since\n# the only differences between it and Gaza that we know about\n# occurred before our cutoff date of 1970.\n# However, as we get more information, we may need to add entries\n# for parts of the West Bank as they transitioned from Israel's rules\n# to Palestine's rules.\n\n# From IINS News Service - Israel - 1998-03-23 10:38:07 Israel time,\n# forwarded by Ephraim Silverberg:\n#\n# Despite the fact that Israel changed over to daylight savings time\n# last week, the PLO Authority (PA) has decided not to turn its clocks\n# one-hour forward at this time.  As a sign of independence from Israeli rule,\n# the PA has decided to implement DST in April.\n\n# From Paul Eggert (1999-09-20):\n# Daoud Kuttab writes in\n# <a href=\"http://www.jpost.com/com/Archive/22.Apr.1999/Opinion/Article-2.html\">\n# Holiday havoc\n# </a> (Jerusalem Post, 1999-04-22) that\n# the Palestinian National Authority changed to DST on 1999-04-15.\n# I vaguely recall that they switch back in October (sorry, forgot the source).\n# For now, let's assume that the spring switch was at 24:00,\n# and that they switch at 0:00 on the 3rd Fridays of April and October.\n\n# From Paul Eggert (2005-11-22):\n# Starting 2004 transitions are from Steffen Thorsen's web site timeanddate.com.\n\n# From Steffen Thorsen (2005-11-23):\n# A user from Gaza reported that Gaza made the change early because of\n# the Ramadan.  Next year Ramadan will be even earlier, so I think\n# there is a good chance next year's end date will be around two weeks\n# earlier--the same goes for Jordan.\n\n# From Steffen Thorsen (2006-08-17):\n# I was informed by a user in Bethlehem that in Bethlehem it started the\n# same day as Israel, and after checking with other users in the area, I\n# was informed that they started DST one day after Israel.  I was not\n# able to find any authoritative sources at the time, nor details if\n# Gaza changed as well, but presumed Gaza to follow the same rules as\n# the West Bank.\n\n# From Steffen Thorsen (2006-09-26):\n# according to the Palestine News Network (2006-09-19):\n# http://english.pnn.ps/index.php?option=com_content&task=view&id=596&Itemid=5\n# > The Council of Ministers announced that this year its winter schedule\n# > will begin early, as of midnight Thursday.  It is also time to turn\n# > back the clocks for winter.  Friday will begin an hour late this week.\n# I guess it is likely that next year's date will be moved as well,\n# because of the Ramadan.\n\n# From Jesper Norgaard Welen (2007-09-18):\n# According to Steffen Thorsen's web site the Gaza Strip and the rest of the\n# Palestinian territories left DST early on 13.th. of September at 2:00.\n\n# From Paul Eggert (2007-09-20):\n# My understanding is that Gaza and the West Bank disagree even over when\n# the weekend is (Thursday+Friday versus Friday+Saturday), so I'd be a bit\n# surprised if they agreed about DST.  But for now, assume they agree.\n# For lack of better information, predict that future changes will be\n# the 2nd Thursday of September at 02:00.\n\n# From Alexander Krivenyshev (2008-08-28):\n# Here is an article, that Mideast running on different clocks at Ramadan.\n#\n# Gaza Strip (as Egypt) ended DST at midnight Thursday (Aug 28, 2008), while\n# the West Bank will end Daylight Saving Time at midnight Sunday (Aug 31, 2008).\n#\n# <a href=\"http://www.guardian.co.uk/world/feedarticle/7759001\">\n# http://www.guardian.co.uk/world/feedarticle/7759001\n# </a>\n# <a href=\"http://www.abcnews.go.com/International/wireStory?id=5676087\">\n# http://www.abcnews.go.com/International/wireStory?id=5676087\n# </a>\n# or\n# <a href=\"http://www.worldtimezone.com/dst_news/dst_news_gazastrip01.html\">\n# http://www.worldtimezone.com/dst_news/dst_news_gazastrip01.html\n# </a>\n\n# From Alexander Krivenyshev (2009-03-26):\n# According to the Palestine News Network (arabic.pnn.ps), Palestinian\n# government decided to start Daylight Time on Thursday night March\n# 26 and continue until the night of 27 September 2009.\n#\n# (in Arabic)\n# <a href=\"http://arabic.pnn.ps/index.php?option=com_content&task=view&id=50850\">\n# http://arabic.pnn.ps/index.php?option=com_content&task=view&id=50850\n# </a>\n#\n# or\n# (English translation)\n# <a href=\"http://www.worldtimezone.com/dst_news/dst_news_westbank01.html\">\n# http://www.worldtimezone.com/dst_news/dst_news_westbank01.html\n# </a>\n\n# From Steffen Thorsen (2009-08-31):\n# Palestine's Council of Ministers announced that they will revert back to\n# winter time on Friday, 2009-09-04.\n#\n# One news source:\n# <a href=\"http://www.safa.ps/ara/?action=showdetail&seid=4158\">\n# http://www.safa.ps/ara/?action=showdetail&seid=4158\n# </a>\n# (Palestinian press agency, Arabic),\n# Google translate: \"Decided that the Palestinian government in Ramallah\n# headed by Salam Fayyad, the start of work in time for the winter of\n# 2009, starting on Friday approved the fourth delay Sept. clock sixty\n# minutes per hour as of Friday morning.\"\n#\n# We are not sure if Gaza will do the same, last year they had a different\n# end date, we will keep this page updated:\n# <a href=\"http://www.timeanddate.com/news/time/westbank-gaza-dst-2009.html\">\n# http://www.timeanddate.com/news/time/westbank-gaza-dst-2009.html\n# </a>\n\n# From Alexander Krivenyshev (2009-09-02):\n# Seems that Gaza Strip will go back to Winter Time same date as West Bank.\n#\n# According to Palestinian Ministry Of Interior, West Bank and Gaza Strip plan\n# to change time back to Standard time on September 4, 2009.\n#\n# \"Winter time unite the West Bank and Gaza\"\n# (from Palestinian National Authority):\n# <a href=\"http://www.moi.gov.ps/en/?page=633167343250594025&nid=11505\n# http://www.moi.gov.ps/en/?page=633167343250594025&nid=11505\n# </a>\n# or\n# <a href=\"http://www.worldtimezone.com/dst_news/dst_news_gazastrip02.html>\n# http://www.worldtimezone.com/dst_news/dst_news_gazastrip02.html\n# </a>\n\n# From Alexander Krivenyshev (2010-03-19):\n# According to Voice of Palestine DST will last for 191 days, from March\n# 26, 2010 till \"the last Sunday before the tenth day of Tishri\n# (October), each year\" (October 03, 2010?)\n#\n# <a href=\"http://palvoice.org/forums/showthread.php?t=245697\">\n# http://palvoice.org/forums/showthread.php?t=245697\n# </a>\n# (in Arabic)\n# or\n# <a href=\"http://www.worldtimezone.com/dst_news/dst_news_westbank03.html\">\n# http://www.worldtimezone.com/dst_news/dst_news_westbank03.html\n# </a>\n\n# From Steffen Thorsen (2010-03-24):\n# ...Ma'an News Agency reports that Hamas cabinet has decided it will\n# start one day later, at 12:01am. Not sure if they really mean 12:01am or\n# noon though:\n#\n# <a href=\"http://www.maannews.net/eng/ViewDetails.aspx?ID=271178\">\n# http://www.maannews.net/eng/ViewDetails.aspx?ID=271178\n# </a>\n# (Ma'an News Agency)\n# \"At 12:01am Friday, clocks in Israel and the West Bank will change to\n# 1:01am, while Gaza clocks will change at 12:01am Saturday morning.\"\n\n# From Steffen Thorsen (2010-08-11):\n# According to several sources, including\n# <a href=\"http://www.maannews.net/eng/ViewDetails.aspx?ID=306795\">\n# http://www.maannews.net/eng/ViewDetails.aspx?ID=306795\n# </a>\n# the clocks were set back one hour at 2010-08-11 00:00:00 local time in\n# Gaza and the West Bank.\n# Some more background info:\n# <a href=\"http://www.timeanddate.com/news/time/westbank-gaza-end-dst-2010.html\">\n# http://www.timeanddate.com/news/time/westbank-gaza-end-dst-2010.html\n# </a>\n\n# From Steffen Thorsen (2011-08-26):\n# Gaza and the West Bank did go back to standard time in the beginning of\n# August, and will now enter daylight saving time again on 2011-08-30\n# 00:00 (so two periods of DST in 2011). The pause was because of\n# Ramadan.\n#\n# <a href=\"http://www.maannews.net/eng/ViewDetails.aspx?ID=416217\">\n# http://www.maannews.net/eng/ViewDetails.aspx?ID=416217\n# </a>\n# Additional info:\n# <a href=\"http://www.timeanddate.com/news/time/palestine-dst-2011.html\">\n# http://www.timeanddate.com/news/time/palestine-dst-2011.html\n# </a>\n\n# From Alexander Krivenyshev (2011-08-27):\n# According to the article in The Jerusalem Post:\n# \"...Earlier this month, the Palestinian government in the West Bank decided to\n# move to standard time for 30 days, during Ramadan. The Palestinians in the\n# Gaza Strip accepted the change and also moved their clocks one hour back.\n# The Hamas government said on Saturday that it won't observe summertime after\n# the Muslim feast of Id al-Fitr, which begins on Tuesday...\"\n# ...\n# <a href=\"http://www.jpost.com/MiddleEast/Article.aspx?id=235650\">\n# http://www.jpost.com/MiddleEast/Article.aspx?id=235650\n# </a>\n# or\n# <a href=\"http://www.worldtimezone.com/dst_news/dst_news_gazastrip05.html\">\n# http://www.worldtimezone.com/dst_news/dst_news_gazastrip05.html\n# </a>\n# The rules for Egypt are stolen from the `africa' file.\n\n# From Steffen Thorsen (2011-09-30):\n# West Bank did end Daylight Saving Time this morning/midnight (2011-09-30\n# 00:00).\n# So West Bank and Gaza now have the same time again.\n#\n# Many sources, including:\n# <a href=\"http://www.maannews.net/eng/ViewDetails.aspx?ID=424808\">\n# http://www.maannews.net/eng/ViewDetails.aspx?ID=424808\n# </a>\n\n# From Steffen Thorsen (2012-03-26):\n# Palestinian news sources tell that both Gaza and West Bank will start DST\n# on Friday (Thursday midnight, 2012-03-29 24:00).\n# Some of many sources in Arabic:\n# <a href=\"http://www.samanews.com/index.php?act=Show&id=122638\">\n# http://www.samanews.com/index.php?act=Show&id=122638\n# </a>\n#\n# <a href=\"http://safa.ps/details/news/74352/%D8%A8%D8%AF%D8%A1-%D8%A7%D9%84%D8%AA%D9%88%D9%82%D9%8A%D8%AA-%D8%A7%D9%84%D8%B5%D9%8A%D9%81%D9%8A-%D8%A8%D8%A7%D9%84%D8%B6%D9%81%D8%A9-%D9%88%D8%BA%D8%B2%D8%A9-%D9%84%D9%8A%D9%84%D8%A9-%D8%A7%D9%84%D8%AC%D9%85%D8%B9%D8%A9.html\">\n# http://safa.ps/details/news/74352/%D8%A8%D8%AF%D8%A1-%D8%A7%D9%84%D8%AA%D9%88%D9%82%D9%8A%D8%AA-%D8%A7%D9%84%D8%B5%D9%8A%D9%81%D9%8A-%D8%A8%D8%A7%D9%84%D8%B6%D9%81%D8%A9-%D9%88%D8%BA%D8%B2%D8%A9-%D9%84%D9%8A%D9%84%D8%A9-%D8%A7%D9%84%D8%AC%D9%85%D8%B9%D8%A9.html\n# </a>\n#\n# Our brief summary:\n# <a href=\"http://www.timeanddate.com/news/time/gaza-west-bank-dst-2012.html\">\n# http://www.timeanddate.com/news/time/gaza-west-bank-dst-2012.html\n# </a>\n\n# From Steffen Thorsen (2013-03-26):\n# The following news sources tells that Palestine will \"start daylight saving\n# time from midnight on Friday, March 29, 2013\" (translated).\n# [These are in Arabic and are for Gaza and for Ramallah, respectively.]\n# http://www.samanews.com/index.php?act=Show&id=154120\n# http://safa.ps/details/news/99844/%D8%B1%D8%A7%D9%85-%D8%A7%D9%84%D9%84%D9%87-%D8%A8%D8%AF%D8%A1-%D8%A7%D9%84%D8%AA%D9%88%D9%82%D9%8A%D8%AA-%D8%A7%D9%84%D8%B5%D9%8A%D9%81%D9%8A-29-%D8%A7%D9%84%D8%AC%D8%A7%D8%B1%D9%8A.html\n\n# From Steffen Thorsen (2013-09-24):\n# The Gaza and West Bank are ending DST Thursday at midnight\n# (2013-09-27 00:00:00) (one hour earlier than last year...).\n# This source in English, says \"that winter time will go into effect\n# at midnight on Thursday in the West Bank and Gaza Strip\":\n# http://english.wafa.ps/index.php?action=detail&id=23246\n# official source...:\n# http://www.palestinecabinet.gov.ps/ar/Views/ViewDetails.aspx?pid=1252\n\n# From Paul Eggert (2013-09-24):\n# For future dates, guess the last Thursday in March at 24:00 through\n# the first Friday on or after September 21 at 00:00.  This is consistent with\n# the predictions in today's editions of the following URLs,\n# which are for Gaza and Hebron respectively:\n# http://www.timeanddate.com/worldclock/timezone.html?n=702\n# http://www.timeanddate.com/worldclock/timezone.html?n=2364\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule EgyptAsia\t1957\tonly\t-\tMay\t10\t0:00\t1:00\tS\nRule EgyptAsia\t1957\t1958\t-\tOct\t 1\t0:00\t0\t-\nRule EgyptAsia\t1958\tonly\t-\tMay\t 1\t0:00\t1:00\tS\nRule EgyptAsia\t1959\t1967\t-\tMay\t 1\t1:00\t1:00\tS\nRule EgyptAsia\t1959\t1965\t-\tSep\t30\t3:00\t0\t-\nRule EgyptAsia\t1966\tonly\t-\tOct\t 1\t3:00\t0\t-\n\nRule Palestine\t1999\t2005\t-\tApr\tFri>=15\t0:00\t1:00\tS\nRule Palestine\t1999\t2003\t-\tOct\tFri>=15\t0:00\t0\t-\nRule Palestine\t2004\tonly\t-\tOct\t 1\t1:00\t0\t-\nRule Palestine\t2005\tonly\t-\tOct\t 4\t2:00\t0\t-\nRule Palestine\t2006\t2007\t-\tApr\t 1\t0:00\t1:00\tS\nRule Palestine\t2006\tonly\t-\tSep\t22\t0:00\t0\t-\nRule Palestine\t2007\tonly\t-\tSep\tThu>=8\t2:00\t0\t-\nRule Palestine\t2008\t2009\t-\tMar\tlastFri\t0:00\t1:00\tS\nRule Palestine\t2008\tonly\t-\tSep\t 1\t0:00\t0\t-\nRule Palestine\t2009\tonly\t-\tSep\tFri>=1\t1:00\t0\t-\nRule Palestine\t2010\tonly\t-\tMar\t26\t0:00\t1:00\tS\nRule Palestine\t2010\tonly\t-\tAug\t11\t0:00\t0\t-\nRule Palestine\t2011\tonly\t-\tApr\t 1\t0:01\t1:00\tS\nRule Palestine\t2011\tonly\t-\tAug\t 1\t0:00\t0\t-\nRule Palestine\t2011\tonly\t-\tAug\t30\t0:00\t1:00\tS\nRule Palestine\t2011\tonly\t-\tSep\t30\t0:00\t0\t-\nRule Palestine\t2012\tmax\t-\tMar\tlastThu\t24:00\t1:00\tS\nRule Palestine\t2012\tonly\t-\tSep\t21\t1:00\t0\t-\nRule Palestine\t2013\tmax\t-\tSep\tFri>=21\t0:00\t0\t-\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Gaza\t2:17:52\t-\tLMT\t1900 Oct\n\t\t\t2:00\tZion\tEET\t1948 May 15\n\t\t\t2:00 EgyptAsia\tEE%sT\t1967 Jun  5\n\t\t\t2:00\tZion\tI%sT\t1996\n\t\t\t2:00\tJordan\tEE%sT\t1999\n\t\t\t2:00 Palestine\tEE%sT\t2008 Aug 29 0:00\n\t\t\t2:00\t-\tEET\t2008 Sep\n\t\t\t2:00 Palestine\tEE%sT\t2010\n\t\t\t2:00\t-\tEET\t2010 Mar 27 0:01\n\t\t\t2:00 Palestine\tEE%sT\t2011 Aug  1\n\t\t\t2:00\t-\tEET\t2012\n\t\t\t2:00 Palestine\tEE%sT\n\nZone\tAsia/Hebron\t2:20:23\t-\tLMT\t1900 Oct\n\t\t\t2:00\tZion\tEET\t1948 May 15\n\t\t\t2:00 EgyptAsia\tEE%sT\t1967 Jun  5\n\t\t\t2:00\tZion\tI%sT\t1996\n\t\t\t2:00\tJordan\tEE%sT\t1999\n\t\t\t2:00 Palestine\tEE%sT\n\n# Paracel Is\n# no information\n\n# Philippines\n# On 1844-08-16, Narciso Claveria, governor-general of the\n# Philippines, issued a proclamation announcing that 1844-12-30 was to\n# be immediately followed by 1845-01-01.  Robert H. van Gent has a\n# transcript of the decree in <http://www.phys.uu.nl/~vgent/idl/idl.htm>.\n# The rest of the data are from Shanks & Pottenger.\n\n# From Paul Eggert (2006-04-25):\n# Tomorrow's Manila Standard reports that the Philippines Department of\n# Trade and Industry is considering adopting DST this June when the\n# rainy season begins.  See\n# <http://www.manilastandardtoday.com/?page=politics02_april26_2006>.\n# For now, we'll ignore this, since it's not definite and we lack details.\n#\n# From Jesper Norgaard Welen (2006-04-26):\n# ... claims that Philippines had DST last time in 1990:\n# http://story.philippinetimes.com/p.x/ct/9/id/145be20cc6b121c0/cid/3e5bbccc730d258c/\n# [a story dated 2006-04-25 by Cris Larano of Dow Jones Newswires,\n# but no details]\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tPhil\t1936\tonly\t-\tNov\t1\t0:00\t1:00\tS\nRule\tPhil\t1937\tonly\t-\tFeb\t1\t0:00\t0\t-\nRule\tPhil\t1954\tonly\t-\tApr\t12\t0:00\t1:00\tS\nRule\tPhil\t1954\tonly\t-\tJul\t1\t0:00\t0\t-\nRule\tPhil\t1978\tonly\t-\tMar\t22\t0:00\t1:00\tS\nRule\tPhil\t1978\tonly\t-\tSep\t21\t0:00\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Manila\t-15:56:00 -\tLMT\t1844 Dec 31\n\t\t\t8:04:00 -\tLMT\t1899 May 11\n\t\t\t8:00\tPhil\tPH%sT\t1942 May\n\t\t\t9:00\t-\tJST\t1944 Nov\n\t\t\t8:00\tPhil\tPH%sT\n\n# Qatar\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Qatar\t3:26:08 -\tLMT\t1920\t# Al Dawhah / Doha\n\t\t\t4:00\t-\tGST\t1972 Jun\n\t\t\t3:00\t-\tAST\n\n# Saudi Arabia\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Riyadh\t3:06:52 -\tLMT\t1950\n\t\t\t3:00\t-\tAST\n\n# Singapore\n# The data here are taken from Mok Ly Yng (2003-10-30)\n# <http://www.math.nus.edu.sg/aslaksen/teaching/timezone.html>.\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Singapore\t6:55:25 -\tLMT\t1901 Jan  1\n\t\t\t6:55:25\t-\tSMT\t1905 Jun  1 # Singapore M.T.\n\t\t\t7:00\t-\tMALT\t1933 Jan  1 # Malaya Time\n\t\t\t7:00\t0:20\tMALST\t1936 Jan  1\n\t\t\t7:20\t-\tMALT\t1941 Sep  1\n\t\t\t7:30\t-\tMALT\t1942 Feb 16\n\t\t\t9:00\t-\tJST\t1945 Sep 12\n\t\t\t7:30\t-\tMALT\t1965 Aug  9 # independence\n\t\t\t7:30\t-\tSGT\t1982 Jan  1 # Singapore Time\n\t\t\t8:00\t-\tSGT\n\n# Spratly Is\n# no information\n\n# Sri Lanka\n\n# From Paul Eggert (2013-02-21):\n# Milne says \"Madras mean time use from May 1, 1898.  Prior to this Colombo\n# mean time, 5h. 4m. 21.9s. F., was used.\"  But 5:04:21.9 differs considerably\n# from Colombo's meridian 5:19:24, so for now ignore Milne and stick with\n# Shanks and Pottenger.\n\n# From Paul Eggert (1996-09-03):\n# \"Sri Lanka advances clock by an hour to avoid blackout\"\n# (www.virtual-pc.com/lankaweb/news/items/240596-2.html, 1996-05-24,\n# no longer available as of 1999-08-17)\n# reported ``the country's standard time will be put forward by one hour at\n# midnight Friday (1830 GMT) `in the light of the present power crisis'.''\n#\n# From Dharmasiri Senanayake, Sri Lanka Media Minister (1996-10-24), as quoted\n# by Shamindra in\n# <a href=\"news:54rka5$m5h@mtinsc01-mgt.ops.worldnet.att.net\">\n# Daily News - Hot News Section (1996-10-26)\n# </a>:\n# With effect from 12.30 a.m. on 26th October 1996\n# Sri Lanka will be six (06) hours ahead of GMT.\n\n# From Jesper Norgaard Welen (2006-04-14), quoting Sri Lanka News Online\n# <http://news.sinhalaya.com/wmview.php?ArtID=11002> (2006-04-13):\n# 0030 hrs on April 15, 2006 (midnight of April 14, 2006 +30 minutes)\n# at present, become 2400 hours of April 14, 2006 (midnight of April 14, 2006).\n\n# From Peter Apps and Ranga Sirila of Reuters (2006-04-12) in:\n# <http://today.reuters.co.uk/news/newsArticle.aspx?type=scienceNews&storyID=2006-04-12T172228Z_01_COL295762_RTRIDST_0_SCIENCE-SRILANKA-TIME-DC.XML>\n# [The Tamil Tigers] never accepted the original 1996 time change and simply\n# kept their clocks set five and a half hours ahead of Greenwich Mean\n# Time (GMT), in line with neighbor India.\n# From Paul Eggert (2006-04-18):\n# People who live in regions under Tamil control can use [TZ='Asia/Kolkata'],\n# as that zone has agreed with the Tamil areas since our cutoff date of 1970.\n\n# From K Sethu (2006-04-25):\n# I think the abbreviation LKT originated from the world of computers at\n# the time of or subsequent to the time zone changes by SL Government\n# twice in 1996 and probably SL Government or its standardization\n# agencies never declared an abbreviation as a national standard.\n#\n# I recollect before the recent change the government annoucemments\n# mentioning it as simply changing Sri Lanka Standard Time or Sri Lanka\n# Time and no mention was made about the abbreviation.\n#\n# If we look at Sri Lanka Department of Government's \"Official News\n# Website of Sri Lanka\" ... http://www.news.lk/ we can see that they\n# use SLT as abbreviation in time stamp at the beginning of each news\n# item....\n#\n# Within Sri Lanka I think LKT is well known among computer users and\n# adminsitrators.  In my opinion SLT may not be a good choice because the\n# nation's largest telcom / internet operator Sri Lanka Telcom is well\n# known by that abbreviation - simply as SLT (there IP domains are\n# slt.lk and sltnet.lk).\n#\n# But if indeed our government has adopted SLT as standard abbreviation\n# (that we have not known so far) then  it is better that it be used for\n# all computers.\n\n# From Paul Eggert (2006-04-25):\n# One possibility is that we wait for a bit for the dust to settle down\n# and then see what people actually say in practice.\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Colombo\t5:19:24 -\tLMT\t1880\n\t\t\t5:19:32\t-\tMMT\t1906\t# Moratuwa Mean Time\n\t\t\t5:30\t-\tIST\t1942 Jan  5\n\t\t\t5:30\t0:30\tIHST\t1942 Sep\n\t\t\t5:30\t1:00\tIST\t1945 Oct 16 2:00\n\t\t\t5:30\t-\tIST\t1996 May 25 0:00\n\t\t\t6:30\t-\tLKT\t1996 Oct 26 0:30\n\t\t\t6:00\t-\tLKT\t2006 Apr 15 0:30\n\t\t\t5:30\t-\tIST\n\n# Syria\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tSyria\t1920\t1923\t-\tApr\tSun>=15\t2:00\t1:00\tS\nRule\tSyria\t1920\t1923\t-\tOct\tSun>=1\t2:00\t0\t-\nRule\tSyria\t1962\tonly\t-\tApr\t29\t2:00\t1:00\tS\nRule\tSyria\t1962\tonly\t-\tOct\t1\t2:00\t0\t-\nRule\tSyria\t1963\t1965\t-\tMay\t1\t2:00\t1:00\tS\nRule\tSyria\t1963\tonly\t-\tSep\t30\t2:00\t0\t-\nRule\tSyria\t1964\tonly\t-\tOct\t1\t2:00\t0\t-\nRule\tSyria\t1965\tonly\t-\tSep\t30\t2:00\t0\t-\nRule\tSyria\t1966\tonly\t-\tApr\t24\t2:00\t1:00\tS\nRule\tSyria\t1966\t1976\t-\tOct\t1\t2:00\t0\t-\nRule\tSyria\t1967\t1978\t-\tMay\t1\t2:00\t1:00\tS\nRule\tSyria\t1977\t1978\t-\tSep\t1\t2:00\t0\t-\nRule\tSyria\t1983\t1984\t-\tApr\t9\t2:00\t1:00\tS\nRule\tSyria\t1983\t1984\t-\tOct\t1\t2:00\t0\t-\nRule\tSyria\t1986\tonly\t-\tFeb\t16\t2:00\t1:00\tS\nRule\tSyria\t1986\tonly\t-\tOct\t9\t2:00\t0\t-\nRule\tSyria\t1987\tonly\t-\tMar\t1\t2:00\t1:00\tS\nRule\tSyria\t1987\t1988\t-\tOct\t31\t2:00\t0\t-\nRule\tSyria\t1988\tonly\t-\tMar\t15\t2:00\t1:00\tS\nRule\tSyria\t1989\tonly\t-\tMar\t31\t2:00\t1:00\tS\nRule\tSyria\t1989\tonly\t-\tOct\t1\t2:00\t0\t-\nRule\tSyria\t1990\tonly\t-\tApr\t1\t2:00\t1:00\tS\nRule\tSyria\t1990\tonly\t-\tSep\t30\t2:00\t0\t-\nRule\tSyria\t1991\tonly\t-\tApr\t 1\t0:00\t1:00\tS\nRule\tSyria\t1991\t1992\t-\tOct\t 1\t0:00\t0\t-\nRule\tSyria\t1992\tonly\t-\tApr\t 8\t0:00\t1:00\tS\nRule\tSyria\t1993\tonly\t-\tMar\t26\t0:00\t1:00\tS\nRule\tSyria\t1993\tonly\t-\tSep\t25\t0:00\t0\t-\n# IATA SSIM (1998-02) says 1998-04-02;\n# (1998-09) says 1999-03-29 and 1999-09-29; (1999-02) says 1999-04-02,\n# 2000-04-02, and 2001-04-02; (1999-09) says 2000-03-31 and 2001-03-31;\n# (2006) says 2006-03-31 and 2006-09-22;\n# for now ignore all these claims and go with Shanks & Pottenger,\n# except for the 2006-09-22 claim (which seems right for Ramadan).\nRule\tSyria\t1994\t1996\t-\tApr\t 1\t0:00\t1:00\tS\nRule\tSyria\t1994\t2005\t-\tOct\t 1\t0:00\t0\t-\nRule\tSyria\t1997\t1998\t-\tMar\tlastMon\t0:00\t1:00\tS\nRule\tSyria\t1999\t2006\t-\tApr\t 1\t0:00\t1:00\tS\n# From Stephen Colebourne (2006-09-18):\n# According to IATA data, Syria will change DST on 21st September [21:00 UTC]\n# this year [only]....  This is probably related to Ramadan, like Egypt.\nRule\tSyria\t2006\tonly\t-\tSep\t22\t0:00\t0\t-\n# From Paul Eggert (2007-03-29):\n# Today the AP reported \"Syria will switch to summertime at midnight Thursday.\"\n# http://www.iht.com/articles/ap/2007/03/29/africa/ME-GEN-Syria-Time-Change.php\nRule\tSyria\t2007\tonly\t-\tMar\tlastFri\t0:00\t1:00\tS\n# From Jesper Norgard (2007-10-27):\n# The sister center ICARDA of my work CIMMYT is confirming that Syria DST will\n# not take place 1st November at 0:00 o'clock but 1st November at 24:00 or\n# rather Midnight between Thursday and Friday. This does make more sense than\n# having it between Wednesday and Thursday (two workdays in Syria) since the\n# weekend in Syria is not Saturday and Sunday, but Friday and Saturday. So now\n# it is implemented at midnight of the last workday before weekend...\n#\n# From Steffen Thorsen (2007-10-27):\n# Jesper Norgaard Welen wrote:\n#\n# > \"Winter local time in Syria will be observed at midnight of Thursday 1\n# > November 2007, and the clock will be put back 1 hour.\"\n#\n# I found confirmation on this in this gov.sy-article (Arabic):\n# http://wehda.alwehda.gov.sy/_print_veiw.asp?FileName=12521710520070926111247\n#\n# which using Google's translate tools says:\n# Council of Ministers also approved the commencement of work on\n# identifying the winter time as of Friday, 2/11/2007 where the 60th\n# minute delay at midnight Thursday 1/11/2007.\nRule\tSyria\t2007\tonly\t-\tNov\t Fri>=1\t0:00\t0\t-\n\n# From Stephen Colebourne (2008-03-17):\n# For everyone's info, I saw an IATA time zone change for [Syria] for\n# this month (March 2008) in the last day or so...This is the data IATA\n# are now using:\n# Country     Time Standard   --- DST Start ---   --- DST End ---  DST\n# Name        Zone Variation   Time    Date        Time    Date\n# Variation\n# Syrian Arab\n# Republic    SY    +0200      2200  03APR08       2100  30SEP08   +0300\n#                              2200  02APR09       2100  30SEP09   +0300\n#                              2200  01APR10       2100  30SEP10   +0300\n\n# From Arthur David Olson (2008-03-17):\n# Here's a link to English-language coverage by the Syrian Arab News\n# Agency (SANA)...\n# <a href=\"http://www.sana.sy/eng/21/2008/03/11/165173.htm\">\n# http://www.sana.sy/eng/21/2008/03/11/165173.htm\n# </a>...which reads (in part) \"The Cabinet approved the suggestion of the\n# Ministry of Electricity to begin daylight savings time on Friday April\n# 4th, advancing clocks one hour ahead on midnight of Thursday April 3rd.\"\n# Since Syria is two hours east of UTC, the 2200 and 2100 transition times\n# shown above match up with midnight in Syria.\n\n# From Arthur David Olson (2008-03-18):\n# My buest guess at a Syrian rule is \"the Friday nearest April 1\";\n# coding that involves either using a \"Mar Fri>=29\" construct that old time zone\n# compilers can't handle  or having multiple Rules (a la Israel).\n# For now, use \"Apr Fri>=1\", and go with IATA on a uniform Sep 30 end.\n\n# From Steffen Thorsen (2008-10-07):\n# Syria has now officially decided to end DST on 2008-11-01 this year,\n# according to the following article in the Syrian Arab News Agency (SANA).\n#\n# The article is in Arabic, and seems to tell that they will go back to\n# winter time on 2008-11-01 at 00:00 local daylight time (delaying/setting\n# clocks back 60 minutes).\n#\n# <a href=\"http://sana.sy/ara/2/2008/10/07/195459.htm\">\n# http://sana.sy/ara/2/2008/10/07/195459.htm\n# </a>\n\n# From Steffen Thorsen (2009-03-19):\n# Syria will start DST on 2009-03-27 00:00 this year according to many sources,\n# two examples:\n#\n# <a href=\"http://www.sana.sy/eng/21/2009/03/17/217563.htm\">\n# http://www.sana.sy/eng/21/2009/03/17/217563.htm\n# </a>\n# (English, Syrian Arab News # Agency)\n# <a href=\"http://thawra.alwehda.gov.sy/_View_news2.asp?FileName=94459258720090318012209\">\n# http://thawra.alwehda.gov.sy/_View_news2.asp?FileName=94459258720090318012209\n# </a>\n# (Arabic, gov-site)\n#\n# We have not found any sources saying anything about when DST ends this year.\n#\n# Our summary\n# <a href=\"http://www.timeanddate.com/news/time/syria-dst-starts-march-27-2009.html\">\n# http://www.timeanddate.com/news/time/syria-dst-starts-march-27-2009.html\n# </a>\n\n# From Steffen Thorsen (2009-10-27):\n# The Syrian Arab News Network on 2009-09-29 reported that Syria will\n# revert back to winter (standard) time on midnight between Thursday\n# 2009-10-29 and Friday 2009-10-30:\n# <a href=\"http://www.sana.sy/ara/2/2009/09/29/247012.htm\">\n# http://www.sana.sy/ara/2/2009/09/29/247012.htm (Arabic)\n# </a>\n\n# From Arthur David Olson (2009-10-28):\n# We'll see if future DST switching times turn out to be end of the last\n# Thursday of the month or the start of the last Friday of the month or\n# something else. For now, use the start of the last Friday.\n\n# From Steffen Thorsen (2010-03-17):\n# The \"Syrian News Station\" reported on 2010-03-16 that the Council of\n# Ministers has decided that Syria will start DST on midnight Thursday\n# 2010-04-01: (midnight between Thursday and Friday):\n# <a href=\"http://sns.sy/sns/?path=news/read/11421\">\n# http://sns.sy/sns/?path=news/read/11421 (Arabic)\n# </a>\n\n# From Steffen Thorsen (2012-03-26):\n# Today, Syria's government announced that they will start DST early on Friday\n# (00:00). This is a bit earlier than the past two years.\n#\n# From Syrian Arab News Agency, in Arabic:\n# <a href=\"http://www.sana.sy/ara/2/2012/03/26/408215.htm\">\n# http://www.sana.sy/ara/2/2012/03/26/408215.htm\n# </a>\n#\n# Our brief summary:\n# <a href=\"http://www.timeanddate.com/news/time/syria-dst-2012.html\">\n# http://www.timeanddate.com/news/time/syria-dst-2012.html\n# </a>\n\n# From Arthur David Olson (2012-03-27):\n# Assume last Friday in March going forward XXX.\n\nRule\tSyria\t2008\tonly\t-\tApr\tFri>=1\t0:00\t1:00\tS\nRule\tSyria\t2008\tonly\t-\tNov\t1\t0:00\t0\t-\nRule\tSyria\t2009\tonly\t-\tMar\tlastFri\t0:00\t1:00\tS\nRule\tSyria\t2010\t2011\t-\tApr\tFri>=1\t0:00\t1:00\tS\nRule\tSyria\t2012\tmax\t-\tMar\tlastFri\t0:00\t1:00\tS\nRule\tSyria\t2009\tmax\t-\tOct\tlastFri\t0:00\t0\t-\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Damascus\t2:25:12 -\tLMT\t1920\t# Dimashq\n\t\t\t2:00\tSyria\tEE%sT\n\n# Tajikistan\n# From Shanks & Pottenger.\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Dushanbe\t4:35:12 -\tLMT\t1924 May  2\n\t\t\t5:00\t-\tDUST\t1930 Jun 21 # Dushanbe Time\n\t\t\t6:00 RussiaAsia DUS%sT\t1991 Mar 31 2:00s\n\t\t\t5:00\t1:00\tDUSST\t1991 Sep  9 2:00s\n\t\t\t5:00\t-\tTJT\t\t    # Tajikistan Time\n\n# Thailand\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Bangkok\t6:42:04\t-\tLMT\t1880\n\t\t\t6:42:04\t-\tBMT\t1920 Apr # Bangkok Mean Time\n\t\t\t7:00\t-\tICT\n\n# Turkmenistan\n# From Shanks & Pottenger.\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Ashgabat\t3:53:32 -\tLMT\t1924 May  2 # or Ashkhabad\n\t\t\t4:00\t-\tASHT\t1930 Jun 21 # Ashkhabad Time\n\t\t\t5:00 RussiaAsia\tASH%sT\t1991 Mar 31 2:00\n\t\t\t4:00 RussiaAsia\tASH%sT\t1991 Oct 27 # independence\n\t\t\t4:00 RussiaAsia\tTM%sT\t1992 Jan 19 2:00\n\t\t\t5:00\t-\tTMT\n\n# United Arab Emirates\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Dubai\t3:41:12 -\tLMT\t1920\n\t\t\t4:00\t-\tGST\n\n# Uzbekistan\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Samarkand\t4:27:12 -\tLMT\t1924 May  2\n\t\t\t4:00\t-\tSAMT\t1930 Jun 21 # Samarkand Time\n\t\t\t5:00\t-\tSAMT\t1981 Apr  1\n\t\t\t5:00\t1:00\tSAMST\t1981 Oct  1\n\t\t\t6:00\t-\tTAST\t1982 Apr  1 # Tashkent Time\n\t\t\t5:00 RussiaAsia\tSAM%sT\t1991 Sep  1 # independence\n\t\t\t5:00 RussiaAsia\tUZ%sT\t1992\n\t\t\t5:00\t-\tUZT\nZone\tAsia/Tashkent\t4:37:12 -\tLMT\t1924 May  2\n\t\t\t5:00\t-\tTAST\t1930 Jun 21 # Tashkent Time\n\t\t\t6:00 RussiaAsia\tTAS%sT\t1991 Mar 31 2:00\n\t\t\t5:00 RussiaAsia\tTAS%sT\t1991 Sep  1 # independence\n\t\t\t5:00 RussiaAsia\tUZ%sT\t1992\n\t\t\t5:00\t-\tUZT\n\n# Vietnam\n\n# From Paul Eggert (2013-02-21):\n# Milne gives 7:16:56 for the meridian of Saigon in 1899, as being\n# used in Lower Laos, Cambodia, and Annam.  But this is quite a ways\n# from Saigon's location.  For now, ignore this and stick with Shanks\n# and Pottenger.\n\n# From Arthur David Olson (2008-03-18):\n# The English-language name of Vietnam's most populous city is \"Ho Chi Min City\";\n# we use Ho_Chi_Minh below to avoid a name of more than 14 characters.\n\n# From Shanks & Pottenger:\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Ho_Chi_Minh\t7:06:40 -\tLMT\t1906 Jun  9\n\t\t\t7:06:20\t-\tSMT\t1911 Mar 11 0:01 # Saigon MT?\n\t\t\t7:00\t-\tICT\t1912 May\n\t\t\t8:00\t-\tICT\t1931 May\n\t\t\t7:00\t-\tICT\n\n# Yemen\n\n# Milne says 2:59:54 was the meridian of the saluting battery at Aden,\n# and that Yemen was at 1:55:56, the meridian of the Hagia Sophia.\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAsia/Aden\t2:59:54\t-\tLMT\t1950\n\t\t\t3:00\t-\tAST\n";

zone_files['australasia'] = "# <pre>\n# This file is in the public domain, so clarified as of\n# 2009-05-17 by Arthur David Olson.\n\n# This file also includes Pacific islands.\n\n# Notes are at the end of this file\n\n###############################################################################\n\n# Australia\n\n# Please see the notes below for the controversy about \"EST\" versus \"AEST\" etc.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tAus\t1917\tonly\t-\tJan\t 1\t0:01\t1:00\t-\nRule\tAus\t1917\tonly\t-\tMar\t25\t2:00\t0\t-\nRule\tAus\t1942\tonly\t-\tJan\t 1\t2:00\t1:00\t-\nRule\tAus\t1942\tonly\t-\tMar\t29\t2:00\t0\t-\nRule\tAus\t1942\tonly\t-\tSep\t27\t2:00\t1:00\t-\nRule\tAus\t1943\t1944\t-\tMar\tlastSun\t2:00\t0\t-\nRule\tAus\t1943\tonly\t-\tOct\t 3\t2:00\t1:00\t-\n# Go with Whitman and the Australian National Standards Commission, which\n# says W Australia didn't use DST in 1943/1944.  Ignore Whitman's claim that\n# 1944/1945 was just like 1943/1944.\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\n# Northern Territory\nZone Australia/Darwin\t 8:43:20 -\tLMT\t1895 Feb\n\t\t\t 9:00\t-\tCST\t1899 May\n\t\t\t 9:30\tAus\tCST\n# Western Australia\n#\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tAW\t1974\tonly\t-\tOct\tlastSun\t2:00s\t1:00\t-\nRule\tAW\t1975\tonly\t-\tMar\tSun>=1\t2:00s\t0\t-\nRule\tAW\t1983\tonly\t-\tOct\tlastSun\t2:00s\t1:00\t-\nRule\tAW\t1984\tonly\t-\tMar\tSun>=1\t2:00s\t0\t-\nRule\tAW\t1991\tonly\t-\tNov\t17\t2:00s\t1:00\t-\nRule\tAW\t1992\tonly\t-\tMar\tSun>=1\t2:00s\t0\t-\nRule\tAW\t2006\tonly\t-\tDec\t 3\t2:00s\t1:00\t-\nRule\tAW\t2007\t2009\t-\tMar\tlastSun\t2:00s\t0\t-\nRule\tAW\t2007\t2008\t-\tOct\tlastSun\t2:00s\t1:00\t-\nZone Australia/Perth\t 7:43:24 -\tLMT\t1895 Dec\n\t\t\t 8:00\tAus\tWST\t1943 Jul\n\t\t\t 8:00\tAW\tWST\nZone Australia/Eucla\t 8:35:28 -\tLMT\t1895 Dec\n\t\t\t 8:45\tAus\tCWST\t1943 Jul\n\t\t\t 8:45\tAW\tCWST\n\n# Queensland\n#\n# From Alex Livingston (1996-11-01):\n# I have heard or read more than once that some resort islands off the coast\n# of Queensland chose to keep observing daylight-saving time even after\n# Queensland ceased to.\n#\n# From Paul Eggert (1996-11-22):\n# IATA SSIM (1993-02/1994-09) say that the Holiday Islands (Hayman, Lindeman,\n# Hamilton) observed DST for two years after the rest of Queensland stopped.\n# Hamilton is the largest, but there is also a Hamilton in Victoria,\n# so use Lindeman.\n#\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tAQ\t1971\tonly\t-\tOct\tlastSun\t2:00s\t1:00\t-\nRule\tAQ\t1972\tonly\t-\tFeb\tlastSun\t2:00s\t0\t-\nRule\tAQ\t1989\t1991\t-\tOct\tlastSun\t2:00s\t1:00\t-\nRule\tAQ\t1990\t1992\t-\tMar\tSun>=1\t2:00s\t0\t-\nRule\tHoliday\t1992\t1993\t-\tOct\tlastSun\t2:00s\t1:00\t-\nRule\tHoliday\t1993\t1994\t-\tMar\tSun>=1\t2:00s\t0\t-\nZone Australia/Brisbane\t10:12:08 -\tLMT\t1895\n\t\t\t10:00\tAus\tEST\t1971\n\t\t\t10:00\tAQ\tEST\nZone Australia/Lindeman  9:55:56 -\tLMT\t1895\n\t\t\t10:00\tAus\tEST\t1971\n\t\t\t10:00\tAQ\tEST\t1992 Jul\n\t\t\t10:00\tHoliday\tEST\n\n# South Australia\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tAS\t1971\t1985\t-\tOct\tlastSun\t2:00s\t1:00\t-\nRule\tAS\t1986\tonly\t-\tOct\t19\t2:00s\t1:00\t-\nRule\tAS\t1987\t2007\t-\tOct\tlastSun\t2:00s\t1:00\t-\nRule\tAS\t1972\tonly\t-\tFeb\t27\t2:00s\t0\t-\nRule\tAS\t1973\t1985\t-\tMar\tSun>=1\t2:00s\t0\t-\nRule\tAS\t1986\t1990\t-\tMar\tSun>=15\t2:00s\t0\t-\nRule\tAS\t1991\tonly\t-\tMar\t3\t2:00s\t0\t-\nRule\tAS\t1992\tonly\t-\tMar\t22\t2:00s\t0\t-\nRule\tAS\t1993\tonly\t-\tMar\t7\t2:00s\t0\t-\nRule\tAS\t1994\tonly\t-\tMar\t20\t2:00s\t0\t-\nRule\tAS\t1995\t2005\t-\tMar\tlastSun\t2:00s\t0\t-\nRule\tAS\t2006\tonly\t-\tApr\t2\t2:00s\t0\t-\nRule\tAS\t2007\tonly\t-\tMar\tlastSun\t2:00s\t0\t-\nRule\tAS\t2008\tmax\t-\tApr\tSun>=1\t2:00s\t0\t-\nRule\tAS\t2008\tmax\t-\tOct\tSun>=1\t2:00s\t1:00\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Australia/Adelaide\t9:14:20 -\tLMT\t1895 Feb\n\t\t\t9:00\t-\tCST\t1899 May\n\t\t\t9:30\tAus\tCST\t1971\n\t\t\t9:30\tAS\tCST\n\n# Tasmania\n#\n# From Paul Eggert (2005-08-16):\n# <http://www.bom.gov.au/climate/averages/tables/dst_times.shtml>\n# says King Island didn't observe DST from WWII until late 1971.\n#\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tAT\t1967\tonly\t-\tOct\tSun>=1\t2:00s\t1:00\t-\nRule\tAT\t1968\tonly\t-\tMar\tlastSun\t2:00s\t0\t-\nRule\tAT\t1968\t1985\t-\tOct\tlastSun\t2:00s\t1:00\t-\nRule\tAT\t1969\t1971\t-\tMar\tSun>=8\t2:00s\t0\t-\nRule\tAT\t1972\tonly\t-\tFeb\tlastSun\t2:00s\t0\t-\nRule\tAT\t1973\t1981\t-\tMar\tSun>=1\t2:00s\t0\t-\nRule\tAT\t1982\t1983\t-\tMar\tlastSun\t2:00s\t0\t-\nRule\tAT\t1984\t1986\t-\tMar\tSun>=1\t2:00s\t0\t-\nRule\tAT\t1986\tonly\t-\tOct\tSun>=15\t2:00s\t1:00\t-\nRule\tAT\t1987\t1990\t-\tMar\tSun>=15\t2:00s\t0\t-\nRule\tAT\t1987\tonly\t-\tOct\tSun>=22\t2:00s\t1:00\t-\nRule\tAT\t1988\t1990\t-\tOct\tlastSun\t2:00s\t1:00\t-\nRule\tAT\t1991\t1999\t-\tOct\tSun>=1\t2:00s\t1:00\t-\nRule\tAT\t1991\t2005\t-\tMar\tlastSun\t2:00s\t0\t-\nRule\tAT\t2000\tonly\t-\tAug\tlastSun\t2:00s\t1:00\t-\nRule\tAT\t2001\tmax\t-\tOct\tSun>=1\t2:00s\t1:00\t-\nRule\tAT\t2006\tonly\t-\tApr\tSun>=1\t2:00s\t0\t-\nRule\tAT\t2007\tonly\t-\tMar\tlastSun\t2:00s\t0\t-\nRule\tAT\t2008\tmax\t-\tApr\tSun>=1\t2:00s\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Australia/Hobart\t9:49:16\t-\tLMT\t1895 Sep\n\t\t\t10:00\t-\tEST\t1916 Oct 1 2:00\n\t\t\t10:00\t1:00\tEST\t1917 Feb\n\t\t\t10:00\tAus\tEST\t1967\n\t\t\t10:00\tAT\tEST\nZone Australia/Currie\t9:35:28\t-\tLMT\t1895 Sep\n\t\t\t10:00\t-\tEST\t1916 Oct 1 2:00\n\t\t\t10:00\t1:00\tEST\t1917 Feb\n\t\t\t10:00\tAus\tEST\t1971 Jul\n\t\t\t10:00\tAT\tEST\n\n# Victoria\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tAV\t1971\t1985\t-\tOct\tlastSun\t2:00s\t1:00\t-\nRule\tAV\t1972\tonly\t-\tFeb\tlastSun\t2:00s\t0\t-\nRule\tAV\t1973\t1985\t-\tMar\tSun>=1\t2:00s\t0\t-\nRule\tAV\t1986\t1990\t-\tMar\tSun>=15\t2:00s\t0\t-\nRule\tAV\t1986\t1987\t-\tOct\tSun>=15\t2:00s\t1:00\t-\nRule\tAV\t1988\t1999\t-\tOct\tlastSun\t2:00s\t1:00\t-\nRule\tAV\t1991\t1994\t-\tMar\tSun>=1\t2:00s\t0\t-\nRule\tAV\t1995\t2005\t-\tMar\tlastSun\t2:00s\t0\t-\nRule\tAV\t2000\tonly\t-\tAug\tlastSun\t2:00s\t1:00\t-\nRule\tAV\t2001\t2007\t-\tOct\tlastSun\t2:00s\t1:00\t-\nRule\tAV\t2006\tonly\t-\tApr\tSun>=1\t2:00s\t0\t-\nRule\tAV\t2007\tonly\t-\tMar\tlastSun\t2:00s\t0\t-\nRule\tAV\t2008\tmax\t-\tApr\tSun>=1\t2:00s\t0\t-\nRule\tAV\t2008\tmax\t-\tOct\tSun>=1\t2:00s\t1:00\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Australia/Melbourne 9:39:52 -\tLMT\t1895 Feb\n\t\t\t10:00\tAus\tEST\t1971\n\t\t\t10:00\tAV\tEST\n\n# New South Wales\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tAN\t1971\t1985\t-\tOct\tlastSun\t2:00s\t1:00\t-\nRule\tAN\t1972\tonly\t-\tFeb\t27\t2:00s\t0\t-\nRule\tAN\t1973\t1981\t-\tMar\tSun>=1\t2:00s\t0\t-\nRule\tAN\t1982\tonly\t-\tApr\tSun>=1\t2:00s\t0\t-\nRule\tAN\t1983\t1985\t-\tMar\tSun>=1\t2:00s\t0\t-\nRule\tAN\t1986\t1989\t-\tMar\tSun>=15\t2:00s\t0\t-\nRule\tAN\t1986\tonly\t-\tOct\t19\t2:00s\t1:00\t-\nRule\tAN\t1987\t1999\t-\tOct\tlastSun\t2:00s\t1:00\t-\nRule\tAN\t1990\t1995\t-\tMar\tSun>=1\t2:00s\t0\t-\nRule\tAN\t1996\t2005\t-\tMar\tlastSun\t2:00s\t0\t-\nRule\tAN\t2000\tonly\t-\tAug\tlastSun\t2:00s\t1:00\t-\nRule\tAN\t2001\t2007\t-\tOct\tlastSun\t2:00s\t1:00\t-\nRule\tAN\t2006\tonly\t-\tApr\tSun>=1\t2:00s\t0\t-\nRule\tAN\t2007\tonly\t-\tMar\tlastSun\t2:00s\t0\t-\nRule\tAN\t2008\tmax\t-\tApr\tSun>=1\t2:00s\t0\t-\nRule\tAN\t2008\tmax\t-\tOct\tSun>=1\t2:00s\t1:00\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Australia/Sydney\t10:04:52 -\tLMT\t1895 Feb\n\t\t\t10:00\tAus\tEST\t1971\n\t\t\t10:00\tAN\tEST\nZone Australia/Broken_Hill 9:25:48 -\tLMT\t1895 Feb\n\t\t\t10:00\t-\tEST\t1896 Aug 23\n\t\t\t9:00\t-\tCST\t1899 May\n\t\t\t9:30\tAus\tCST\t1971\n\t\t\t9:30\tAN\tCST\t2000\n\t\t\t9:30\tAS\tCST\n\n# Lord Howe Island\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tLH\t1981\t1984\t-\tOct\tlastSun\t2:00\t1:00\t-\nRule\tLH\t1982\t1985\t-\tMar\tSun>=1\t2:00\t0\t-\nRule\tLH\t1985\tonly\t-\tOct\tlastSun\t2:00\t0:30\t-\nRule\tLH\t1986\t1989\t-\tMar\tSun>=15\t2:00\t0\t-\nRule\tLH\t1986\tonly\t-\tOct\t19\t2:00\t0:30\t-\nRule\tLH\t1987\t1999\t-\tOct\tlastSun\t2:00\t0:30\t-\nRule\tLH\t1990\t1995\t-\tMar\tSun>=1\t2:00\t0\t-\nRule\tLH\t1996\t2005\t-\tMar\tlastSun\t2:00\t0\t-\nRule\tLH\t2000\tonly\t-\tAug\tlastSun\t2:00\t0:30\t-\nRule\tLH\t2001\t2007\t-\tOct\tlastSun\t2:00\t0:30\t-\nRule\tLH\t2006\tonly\t-\tApr\tSun>=1\t2:00\t0\t-\nRule\tLH\t2007\tonly\t-\tMar\tlastSun\t2:00\t0\t-\nRule\tLH\t2008\tmax\t-\tApr\tSun>=1\t2:00\t0\t-\nRule\tLH\t2008\tmax\t-\tOct\tSun>=1\t2:00\t0:30\t-\nZone Australia/Lord_Howe 10:36:20 -\tLMT\t1895 Feb\n\t\t\t10:00\t-\tEST\t1981 Mar\n\t\t\t10:30\tLH\tLHST\n\n# Australian miscellany\n#\n# Ashmore Is, Cartier\n# no indigenous inhabitants; only seasonal caretakers\n# no times are set\n#\n# Coral Sea Is\n# no indigenous inhabitants; only meteorologists\n# no times are set\n#\n# Macquarie\n# Permanent occupation (scientific station) 1911-1915 and since 25 March 1948;\n# sealing and penguin oil station operated Nov 1899 to Apr 1919.  See the\n# Tasmania Parks & Wildlife Service history of sealing at Macquarie Island\n# <http://www.parks.tas.gov.au/index.aspx?base=1828>\n# <http://www.parks.tas.gov.au/index.aspx?base=1831>.\n# Guess that it was like Australia/Hobart while inhabited before 2010.\n#\n# From Steffen Thorsen (2010-03-10):\n# We got these changes from the Australian Antarctic Division:\n# - Macquarie Island will stay on UTC+11 for winter and therefore not\n# switch back from daylight savings time when other parts of Australia do\n# on 4 April.\n#\n# From Arthur David Olson (2013-05-23):\n# The 1919 transition is overspecified below so pre-2013 zics\n# will produce a binary file with an EST-type as the first 32-bit type;\n# this is required for correct handling of times before 1916 by\n# pre-2013 versions of localtime.\nZone Antarctica/Macquarie 0\t-\tzzz\t1899 Nov\n\t\t\t10:00\t-\tEST\t1916 Oct 1 2:00\n\t\t\t10:00\t1:00\tEST\t1917 Feb\n\t\t\t10:00\tAus\tEST\t1919 Apr 1 0:00s\n\t\t\t0\t-\tzzz\t1948 Mar 25\n\t\t\t10:00\tAus\tEST\t1967\n\t\t\t10:00\tAT\tEST\t2010 Apr 4 3:00\n\t\t\t11:00\t-\tMIST\t# Macquarie I Standard Time\n\n# Christmas\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Indian/Christmas\t7:02:52 -\tLMT\t1895 Feb\n\t\t\t7:00\t-\tCXT\t# Christmas Island Time\n\n# Cook Is\n# From Shanks & Pottenger:\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tCook\t1978\tonly\t-\tNov\t12\t0:00\t0:30\tHS\nRule\tCook\t1979\t1991\t-\tMar\tSun>=1\t0:00\t0\t-\nRule\tCook\t1979\t1990\t-\tOct\tlastSun\t0:00\t0:30\tHS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Pacific/Rarotonga\t-10:39:04 -\tLMT\t1901\t\t# Avarua\n\t\t\t-10:30\t-\tCKT\t1978 Nov 12\t# Cook Is Time\n\t\t\t-10:00\tCook\tCK%sT\n\n# Cocos\n# These islands were ruled by the Ross family from about 1830 to 1978.\n# We don't know when standard time was introduced; for now, we guess 1900.\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tIndian/Cocos\t6:27:40\t-\tLMT\t1900\n\t\t\t6:30\t-\tCCT\t# Cocos Islands Time\n\n# Fiji\n\n# Milne gives 11:55:44 for Suva.\n\n# From Alexander Krivenyshev (2009-11-10):\n# According to Fiji Broadcasting Corporation,  Fiji plans to re-introduce DST\n# from November 29th 2009  to April 25th 2010.\n#\n# \"Daylight savings to commence this month\"\n# <a href=\"http://www.radiofiji.com.fj/fullstory.php?id=23719\">\n# http://www.radiofiji.com.fj/fullstory.php?id=23719\n# </a>\n# or\n# <a href=\"http://www.worldtimezone.com/dst_news/dst_news_fiji01.html\">\n# http://www.worldtimezone.com/dst_news/dst_news_fiji01.html\n# </a>\n\n# From Steffen Thorsen (2009-11-10):\n# The Fiji Government has posted some more details about the approved\n# amendments:\n# <a href=\"http://www.fiji.gov.fj/publish/page_16198.shtml\">\n# http://www.fiji.gov.fj/publish/page_16198.shtml\n# </a>\n\n# From Steffen Thorsen (2010-03-03):\n# The Cabinet in Fiji has decided to end DST about a month early, on\n# 2010-03-28 at 03:00.\n# The plan is to observe DST again, from 2010-10-24 to sometime in March\n# 2011 (last Sunday a good guess?).\n#\n# Official source:\n# <a href=\"http://www.fiji.gov.fj/index.php?option=com_content&view=article&id=1096:3310-cabinet-approves-change-in-daylight-savings-dates&catid=49:cabinet-releases&Itemid=166\">\n# http://www.fiji.gov.fj/index.php?option=com_content&view=article&id=1096:3310-cabinet-approves-change-in-daylight-savings-dates&catid=49:cabinet-releases&Itemid=166\n# </a>\n#\n# A bit more background info here:\n# <a href=\"http://www.timeanddate.com/news/time/fiji-dst-ends-march-2010.html\">\n# http://www.timeanddate.com/news/time/fiji-dst-ends-march-2010.html\n# </a>\n\n# From Alexander Krivenyshev (2010-10-24):\n# According to Radio Fiji and Fiji Times online, Fiji will end DST 3\n# weeks earlier than expected - on March 6, 2011, not March 27, 2011...\n# Here is confirmation from Government of the Republic of the Fiji Islands,\n# Ministry of Information (fiji.gov.fj) web site:\n# <a href=\"http://www.fiji.gov.fj/index.php?option=com_content&view=article&id=2608:daylight-savings&catid=71:press-releases&Itemid=155\">\n# http://www.fiji.gov.fj/index.php?option=com_content&view=article&id=2608:daylight-savings&catid=71:press-releases&Itemid=155\n# </a>\n# or\n# <a href=\"http://www.worldtimezone.com/dst_news/dst_news_fiji04.html\">\n# http://www.worldtimezone.com/dst_news/dst_news_fiji04.html\n# </a>\n\n# From Steffen Thorsen (2011-10-03):\n# Now the dates have been confirmed, and at least our start date\n# assumption was correct (end date was one week wrong).\n#\n# <a href=\"http://www.fiji.gov.fj/index.php?option=com_content&view=article&id=4966:daylight-saving-starts-in-fiji&catid=71:press-releases&Itemid=155\">\n# www.fiji.gov.fj/index.php?option=com_content&view=article&id=4966:daylight-saving-starts-in-fiji&catid=71:press-releases&Itemid=155\n# </a>\n# which says\n# Members of the public are reminded to change their time to one hour in\n# advance at 2am to 3am on October 23, 2011 and one hour back at 3am to\n# 2am on February 26 next year.\n\n# From Ken Rylander (2011-10-24)\n# Another change to the Fiji DST end date. In the TZ database the end date for\n# Fiji DST 2012, is currently Feb 26. This has been changed to Jan 22.\n#\n# <a href=\"http://www.fiji.gov.fj/index.php?option=com_content&view=article&id=5017:amendments-to-daylight-savings&catid=71:press-releases&Itemid=155\">\n# http://www.fiji.gov.fj/index.php?option=com_content&view=article&id=5017:amendments-to-daylight-savings&catid=71:press-releases&Itemid=155\n# </a>\n# states:\n#\n# The end of daylight saving scheduled initially for the 26th of February 2012\n# has been brought forward to the 22nd of January 2012.\n# The commencement of daylight saving will remain unchanged and start\n# on the  23rd of October, 2011.\n\n# From the Fiji Government Online Portal (2012-08-21) via Steffen Thorsen:\n# The Minister for Labour, Industrial Relations and Employment Mr Jone Usamate\n# today confirmed that Fiji will start daylight savings at 2 am on Sunday 21st\n# October 2012 and end at 3 am on Sunday 20th January 2013.\n# http://www.fiji.gov.fj/index.php?option=com_content&view=article&id=6702&catid=71&Itemid=155\n\n# From the Fijian Government Media Center (2013-08-30) via David Wheeler:\n# Fiji will start daylight savings on Sunday 27th October, 2013 and end at 3am\n# on Sunday 19th January, 2014....  move clocks forward by one hour from 2am\n# http://www.fiji.gov.fj/Media-Center/Press-Releases/DAYLIGHT-SAVING-STARTS-ON-SUNDAY,-27th-OCTOBER-201.aspx\n#\n# From Paul Eggert (2013-09-09):\n# For now, guess that Fiji springs forward the Sunday before the fourth\n# Monday in October.  This matches both recent practice and\n# timeanddate.com's current spring-forward prediction.\n# For the January 2014 transition we guessed right while timeanddate.com\n# guessed wrong, so leave the fall-back prediction alone.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tFiji\t1998\t1999\t-\tNov\tSun>=1\t2:00\t1:00\tS\nRule\tFiji\t1999\t2000\t-\tFeb\tlastSun\t3:00\t0\t-\nRule\tFiji\t2009\tonly\t-\tNov\t29\t2:00\t1:00\tS\nRule\tFiji\t2010\tonly\t-\tMar\tlastSun\t3:00\t0\t-\nRule\tFiji\t2010\tmax\t-\tOct\tSun>=21\t2:00\t1:00\tS\nRule\tFiji\t2011\tonly\t-\tMar\tSun>=1\t3:00\t0\t-\nRule\tFiji\t2012\tmax\t-\tJan\tSun>=18\t3:00\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tPacific/Fiji\t11:55:44 -\tLMT\t1915 Oct 26\t# Suva\n\t\t\t12:00\tFiji\tFJ%sT\t# Fiji Time\n\n# French Polynesia\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tPacific/Gambier\t -8:59:48 -\tLMT\t1912 Oct\t# Rikitea\n\t\t\t -9:00\t-\tGAMT\t# Gambier Time\nZone\tPacific/Marquesas -9:18:00 -\tLMT\t1912 Oct\n\t\t\t -9:30\t-\tMART\t# Marquesas Time\nZone\tPacific/Tahiti\t -9:58:16 -\tLMT\t1912 Oct\t# Papeete\n\t\t\t-10:00\t-\tTAHT\t# Tahiti Time\n# Clipperton (near North America) is administered from French Polynesia;\n# it is uninhabited.\n\n# Guam\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tPacific/Guam\t-14:21:00 -\tLMT\t1844 Dec 31\n\t\t\t 9:39:00 -\tLMT\t1901\t\t# Agana\n\t\t\t10:00\t-\tGST\t2000 Dec 23\t# Guam\n\t\t\t10:00\t-\tChST\t# Chamorro Standard Time\n\n# Kiribati\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Pacific/Tarawa\t 11:32:04 -\tLMT\t1901\t\t# Bairiki\n\t\t\t 12:00\t-\tGILT\t\t # Gilbert Is Time\nZone Pacific/Enderbury\t-11:24:20 -\tLMT\t1901\n\t\t\t-12:00\t-\tPHOT\t1979 Oct # Phoenix Is Time\n\t\t\t-11:00\t-\tPHOT\t1995\n\t\t\t 13:00\t-\tPHOT\nZone Pacific/Kiritimati\t-10:29:20 -\tLMT\t1901\n\t\t\t-10:40\t-\tLINT\t1979 Oct # Line Is Time\n\t\t\t-10:00\t-\tLINT\t1995\n\t\t\t 14:00\t-\tLINT\n\n# N Mariana Is\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Pacific/Saipan\t-14:17:00 -\tLMT\t1844 Dec 31\n\t\t\t 9:43:00 -\tLMT\t1901\n\t\t\t 9:00\t-\tMPT\t1969 Oct # N Mariana Is Time\n\t\t\t10:00\t-\tMPT\t2000 Dec 23\n\t\t\t10:00\t-\tChST\t# Chamorro Standard Time\n\n# Marshall Is\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Pacific/Majuro\t11:24:48 -\tLMT\t1901\n\t\t\t11:00\t-\tMHT\t1969 Oct # Marshall Islands Time\n\t\t\t12:00\t-\tMHT\nZone Pacific/Kwajalein\t11:09:20 -\tLMT\t1901\n\t\t\t11:00\t-\tMHT\t1969 Oct\n\t\t\t-12:00\t-\tKWAT\t1993 Aug 20\t# Kwajalein Time\n\t\t\t12:00\t-\tMHT\n\n# Micronesia\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Pacific/Chuuk\t10:07:08 -\tLMT\t1901\n\t\t\t10:00\t-\tCHUT\t\t\t# Chuuk Time\nZone Pacific/Pohnpei\t10:32:52 -\tLMT\t1901\t\t# Kolonia\n\t\t\t11:00\t-\tPONT\t\t\t# Pohnpei Time\nZone Pacific/Kosrae\t10:51:56 -\tLMT\t1901\n\t\t\t11:00\t-\tKOST\t1969 Oct\t# Kosrae Time\n\t\t\t12:00\t-\tKOST\t1999\n\t\t\t11:00\t-\tKOST\n\n# Nauru\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tPacific/Nauru\t11:07:40 -\tLMT\t1921 Jan 15\t# Uaobe\n\t\t\t11:30\t-\tNRT\t1942 Mar 15\t# Nauru Time\n\t\t\t9:00\t-\tJST\t1944 Aug 15\n\t\t\t11:30\t-\tNRT\t1979 May\n\t\t\t12:00\t-\tNRT\n\n# New Caledonia\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tNC\t1977\t1978\t-\tDec\tSun>=1\t0:00\t1:00\tS\nRule\tNC\t1978\t1979\t-\tFeb\t27\t0:00\t0\t-\nRule\tNC\t1996\tonly\t-\tDec\t 1\t2:00s\t1:00\tS\n# Shanks & Pottenger say the following was at 2:00; go with IATA.\nRule\tNC\t1997\tonly\t-\tMar\t 2\t2:00s\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tPacific/Noumea\t11:05:48 -\tLMT\t1912 Jan 13\n\t\t\t11:00\tNC\tNC%sT\n\n\n###############################################################################\n\n# New Zealand\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tNZ\t1927\tonly\t-\tNov\t 6\t2:00\t1:00\tS\nRule\tNZ\t1928\tonly\t-\tMar\t 4\t2:00\t0\tM\nRule\tNZ\t1928\t1933\t-\tOct\tSun>=8\t2:00\t0:30\tS\nRule\tNZ\t1929\t1933\t-\tMar\tSun>=15\t2:00\t0\tM\nRule\tNZ\t1934\t1940\t-\tApr\tlastSun\t2:00\t0\tM\nRule\tNZ\t1934\t1940\t-\tSep\tlastSun\t2:00\t0:30\tS\nRule\tNZ\t1946\tonly\t-\tJan\t 1\t0:00\t0\tS\n# Since 1957 Chatham has been 45 minutes ahead of NZ, but there's no\n# convenient notation for this so we must duplicate the Rule lines.\nRule\tNZ\t1974\tonly\t-\tNov\tSun>=1\t2:00s\t1:00\tD\nRule\tChatham\t1974\tonly\t-\tNov\tSun>=1\t2:45s\t1:00\tD\nRule\tNZ\t1975\tonly\t-\tFeb\tlastSun\t2:00s\t0\tS\nRule\tChatham\t1975\tonly\t-\tFeb\tlastSun\t2:45s\t0\tS\nRule\tNZ\t1975\t1988\t-\tOct\tlastSun\t2:00s\t1:00\tD\nRule\tChatham\t1975\t1988\t-\tOct\tlastSun\t2:45s\t1:00\tD\nRule\tNZ\t1976\t1989\t-\tMar\tSun>=1\t2:00s\t0\tS\nRule\tChatham\t1976\t1989\t-\tMar\tSun>=1\t2:45s\t0\tS\nRule\tNZ\t1989\tonly\t-\tOct\tSun>=8\t2:00s\t1:00\tD\nRule\tChatham\t1989\tonly\t-\tOct\tSun>=8\t2:45s\t1:00\tD\nRule\tNZ\t1990\t2006\t-\tOct\tSun>=1\t2:00s\t1:00\tD\nRule\tChatham\t1990\t2006\t-\tOct\tSun>=1\t2:45s\t1:00\tD\nRule\tNZ\t1990\t2007\t-\tMar\tSun>=15\t2:00s\t0\tS\nRule\tChatham\t1990\t2007\t-\tMar\tSun>=15\t2:45s\t0\tS\nRule\tNZ\t2007\tmax\t-\tSep\tlastSun\t2:00s\t1:00\tD\nRule\tChatham\t2007\tmax\t-\tSep\tlastSun\t2:45s\t1:00\tD\nRule\tNZ\t2008\tmax\t-\tApr\tSun>=1\t2:00s\t0\tS\nRule\tChatham\t2008\tmax\t-\tApr\tSun>=1\t2:45s\t0\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Pacific/Auckland\t11:39:04 -\tLMT\t1868 Nov  2\n\t\t\t11:30\tNZ\tNZ%sT\t1946 Jan  1\n\t\t\t12:00\tNZ\tNZ%sT\nZone Pacific/Chatham\t12:13:48 -\tLMT\t1957 Jan  1\n\t\t\t12:45\tChatham\tCHA%sT\n\nLink Pacific/Auckland Antarctica/McMurdo\n\n# Auckland Is\n# uninhabited; Maori and Moriori, colonial settlers, pastoralists, sealers,\n# and scientific personnel have wintered\n\n# Campbell I\n# minor whaling stations operated 1909/1914\n# scientific station operated 1941/1995;\n# previously whalers, sealers, pastoralists, and scientific personnel wintered\n# was probably like Pacific/Auckland\n\n###############################################################################\n\n\n# Niue\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tPacific/Niue\t-11:19:40 -\tLMT\t1901\t\t# Alofi\n\t\t\t-11:20\t-\tNUT\t1951\t# Niue Time\n\t\t\t-11:30\t-\tNUT\t1978 Oct 1\n\t\t\t-11:00\t-\tNUT\n\n# Norfolk\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tPacific/Norfolk\t11:11:52 -\tLMT\t1901\t\t# Kingston\n\t\t\t11:12\t-\tNMT\t1951\t# Norfolk Mean Time\n\t\t\t11:30\t-\tNFT\t\t# Norfolk Time\n\n# Palau (Belau)\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Pacific/Palau\t8:57:56 -\tLMT\t1901\t\t# Koror\n\t\t\t9:00\t-\tPWT\t# Palau Time\n\n# Papua New Guinea\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Pacific/Port_Moresby 9:48:40 -\tLMT\t1880\n\t\t\t9:48:32\t-\tPMMT\t1895\t# Port Moresby Mean Time\n\t\t\t10:00\t-\tPGT\t\t# Papua New Guinea Time\n\n# Pitcairn\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Pacific/Pitcairn\t-8:40:20 -\tLMT\t1901\t\t# Adamstown\n\t\t\t-8:30\t-\tPNT\t1998 Apr 27 00:00\n\t\t\t-8:00\t-\tPST\t# Pitcairn Standard Time\n\n# American Samoa\nZone Pacific/Pago_Pago\t 12:37:12 -\tLMT\t1879 Jul  5\n\t\t\t-11:22:48 -\tLMT\t1911\n\t\t\t-11:30\t-\tSAMT\t1950\t\t# Samoa Time\n\t\t\t-11:00\t-\tNST\t1967 Apr\t# N=Nome\n\t\t\t-11:00\t-\tBST\t1983 Nov 30\t# B=Bering\n\t\t\t-11:00\t-\tSST\t\t\t# S=Samoa\n\n# Samoa\n\n# From Steffen Thorsen (2009-10-16):\n# We have been in contact with the government of Samoa again, and received\n# the following info:\n#\n# \"Cabinet has now approved Daylight Saving to be effected next year\n# commencing from the last Sunday of September 2010 and conclude first\n# Sunday of April 2011.\"\n#\n# Background info:\n# <a href=\"http://www.timeanddate.com/news/time/samoa-dst-plan-2009.html\">\n# http://www.timeanddate.com/news/time/samoa-dst-plan-2009.html\n# </a>\n#\n# Samoa's Daylight Saving Time Act 2009 is available here, but does not\n# contain any dates:\n# <a href=\"http://www.parliament.gov.ws/documents/acts/Daylight%20Saving%20Act%20%202009%20%28English%29%20-%20Final%207-7-091.pdf\">\n# http://www.parliament.gov.ws/documents/acts/Daylight%20Saving%20Act%20%202009%20%28English%29%20-%20Final%207-7-091.pdf\n# </a>\n\n# From Laupue Raymond Hughes (2010-10-07):\n# Please see\n# <a href=\"http://www.mcil.gov.ws\">\n# http://www.mcil.gov.ws\n# </a>,\n# the Ministry of Commerce, Industry and Labour (sideframe) \"Last Sunday\n# September 2010 (26/09/10) - adjust clocks forward from 12:00 midnight\n# to 01:00am and First Sunday April 2011 (03/04/11) - adjust clocks\n# backwards from 1:00am to 12:00am\"\n\n# From Laupue Raymond Hughes (2011-03-07):\n# I believe this will be posted shortly on the website\n# <a href=\"http://www.mcil.gov.ws\">\n# www.mcil.gov.ws\n# </a>\n#\n# PUBLIC NOTICE ON DAYLIGHT SAVING TIME\n#\n# Pursuant to the Daylight Saving Act 2009 and Cabinets decision,\n# businesses and the general public are hereby advised that daylight\n# saving time is on the first Saturday of April 2011 (02/04/11).\n#\n# The public is therefore advised that when the standard time strikes\n# the hour of four oclock (4.00am or 0400 Hours) on the 2nd April 2011,\n# then all instruments used to measure standard time are to be\n# adjusted/changed to three oclock (3:00am or 0300Hrs).\n#\n# Margaret Fruean ACTING CHIEF EXECUTIVE OFFICER MINISTRY OF COMMERCE,\n# INDUSTRY AND LABOUR 28th February 2011\n\n# From David Zuelke (2011-05-09):\n# Subject: Samoa to move timezone from east to west of international date line\n#\n# <a href=\"http://www.morningstar.co.uk/uk/markets/newsfeeditem.aspx?id=138501958347963\">\n# http://www.morningstar.co.uk/uk/markets/newsfeeditem.aspx?id=138501958347963\n# </a>\n\n# From Mark Sim-Smith (2011-08-17):\n# I have been in contact with Leilani Tuala Warren from the Samoa Law\n# Reform Commission, and she has sent me a copy of the Bill that she\n# confirmed has been passed...Most of the sections are about maps rather\n# than the time zone change, but I'll paste the relevant bits below. But\n# the essence is that at midnight 29 Dec (UTC-11 I suppose), Samoa\n# changes from UTC-11 to UTC+13:\n#\n# International Date Line Bill 2011\n#\n# AN ACT to provide for the change to standard time in Samoa and to make\n# consequential amendments to the position of the International Date\n# Line, and for related purposes.\n#\n# BE IT ENACTED by the Legislative Assembly of Samoa in Parliament\n# assembled as follows:\n#\n# 1. Short title and commencement-(1) This Act may be cited as the\n# International Date Line Act 2011. (2) Except for section 5(3) this Act\n# commences at 12 o'clock midnight, on Thursday 29th December 2011. (3)\n# Section 5(3) commences on the date of assent by the Head of State.\n#\n# [snip]\n#\n# 3. Interpretation - [snip] \"Samoa standard time\" in this Act and any\n# other statute of Samoa which refers to 'Samoa standard time' means the\n# time 13 hours in advance of Co-ordinated Universal Time.\n#\n# 4. Samoa standard time - (1) Upon the commencement of this Act, Samoa\n# standard time shall be set at 13 hours in advance of Co-ordinated\n# Universal Time for the whole of Samoa. (2) All references to Samoa's\n# time zone and to Samoa standard time in Samoa in all legislation and\n# instruments after the commencement of this Act shall be references to\n# Samoa standard time as provided for in this Act. (3) Nothing in this\n# Act affects the provisions of the Daylight Saving Act 2009, except that\n# it defines Samoa standard time....\n\n# From Laupue Raymond Hughes (2011-09-02):\n# <a href=\"http://www.mcil.gov.ws/mcil_publications.html\">\n# http://www.mcil.gov.ws/mcil_publications.html\n# </a>\n#\n# here is the official website publication for Samoa DST and dateline change\n#\n# DST\n# Year\tEnd\tTime\tStart\tTime\n# 2011\t- - -\t- - -\t24 September\t3:00am to 4:00am\n# 2012\t01 April\t4:00am to 3:00am\t- - -\t- - -\n#\n# Dateline Change skip Friday 30th Dec 2011\n# Thursday 29th December 2011\t23:59:59 Hours\n# Saturday 31st December 2011\t00:00:00 Hours\n#\n# Clarification by Tim Parenti (2012-01-03):\n# Although Samoa has used Daylight Saving Time in the 2010-2011 and 2011-2012\n# seasons, there is not yet any indication that this trend will continue on\n# a regular basis. For now, we have explicitly listed the transitions below.\n#\n# From Nicky (2012-09-10):\n# Daylight Saving Time commences on Sunday 30th September 2012 and\n# ends on Sunday 7th of April 2013.\n#\n# Please find link below for more information.\n# http://www.mcil.gov.ws/mcil_publications.html\n#\n# That publication also includes dates for Summer of 2013/4 as well\n# which give the impression of a pattern in selecting dates for the\n# future, so for now, we will guess this will continue.\n\n# Western Samoa\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tWS\t2012\tmax\t-\tSep\tlastSun\t3:00\t1\tD\nRule\tWS\t2012\tmax\t-\tApr\tSun>=1\t4:00\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Pacific/Apia\t 12:33:04 -\tLMT\t1879 Jul  5\n\t\t\t-11:26:56 -\tLMT\t1911\n\t\t\t-11:30\t-\tSAMT\t1950\t\t# Samoa Time\n\t\t\t-11:00\t-\tWST\t2010 Sep 26\n\t\t\t-11:00\t1:00\tWSDT\t2011 Apr 2 4:00\n\t\t\t-11:00\t-\tWST\t2011 Sep 24 3:00\n\t\t\t-11:00\t1:00\tWSDT\t2011 Dec 30\n\t\t\t 13:00\t1:00\tWSDT\t2012 Apr Sun>=1 4:00\n\t\t\t 13:00\tWS\tWS%sT\n\n# Solomon Is\n# excludes Bougainville, for which see Papua New Guinea\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Pacific/Guadalcanal 10:39:48 -\tLMT\t1912 Oct\t# Honiara\n\t\t\t11:00\t-\tSBT\t# Solomon Is Time\n\n# Tokelau Is\n#\n# From Gwillim Law (2011-12-29)\n# A correspondent informed me that Tokelau, like Samoa, will be skipping\n# December 31 this year ...\n#\n# From Steffen Thorsen (2012-07-25)\n# ... we double checked by calling hotels and offices based in Tokelau asking\n# about the time there, and they all told a time that agrees with UTC+13....\n# Shanks says UTC-10 from 1901 [but] ... there is a good chance the change\n# actually was to UTC-11 back then.\n#\n# From Paul Eggert (2012-07-25)\n# A Google Books snippet of Appendix to the Journals of the House of\n# Representatives of New Zealand, Session 1948,\n# <http://books.google.com/books?id=ZaVCAQAAIAAJ>, page 65, says Tokelau\n# was \"11 hours slow on G.M.T.\"  Go with Thorsen and assume Shanks & Pottenger\n# are off by an hour starting in 1901.\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tPacific/Fakaofo\t-11:24:56 -\tLMT\t1901\n\t\t\t-11:00\t-\tTKT 2011 Dec 30\t# Tokelau Time\n\t\t\t13:00\t-\tTKT\n\n# Tonga\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tTonga\t1999\tonly\t-\tOct\t 7\t2:00s\t1:00\tS\nRule\tTonga\t2000\tonly\t-\tMar\t19\t2:00s\t0\t-\nRule\tTonga\t2000\t2001\t-\tNov\tSun>=1\t2:00\t1:00\tS\nRule\tTonga\t2001\t2002\t-\tJan\tlastSun\t2:00\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Pacific/Tongatapu\t12:19:20 -\tLMT\t1901\n\t\t\t12:20\t-\tTOT\t1941 # Tonga Time\n\t\t\t13:00\t-\tTOT\t1999\n\t\t\t13:00\tTonga\tTO%sT\n\n# Tuvalu\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Pacific/Funafuti\t11:56:52 -\tLMT\t1901\n\t\t\t12:00\t-\tTVT\t# Tuvalu Time\n\n\n# US minor outlying islands\n\n# Howland, Baker\n# Howland was mined for guano by American companies 1857-1878 and British\n# 1886-1891; Baker was similar but exact dates are not known.\n# Inhabited by civilians 1935-1942; U.S. military bases 1943-1944;\n# uninhabited thereafter.\n# Howland observed Hawaii Standard Time (UT-10:30) in 1937;\n# see page 206 of Elgen M. Long and Marie K. Long,\n# Amelia Earhart: the Mystery Solved, Simon & Schuster (2000).\n# So most likely Howland and Baker observed Hawaii Time from 1935\n# until they were abandoned after the war.\n\n# Jarvis\n# Mined for guano by American companies 1857-1879 and British 1883?-1891?.\n# Inhabited by civilians 1935-1942; IGY scientific base 1957-1958;\n# uninhabited thereafter.\n# no information; was probably like Pacific/Kiritimati\n\n# Johnston\n#\n# From Paul Eggert (2013-09-03):\n# In his memoirs of June 6th to October 4, 1945\n# <http://www.315bw.org/Herb_Bach.htm> (2005), Herbert C. Bach writes,\n# \"We started our letdown to Kwajalein Atoll and landed there at 5:00 AM\n# Johnston time, 1:30 AM Kwajalein time.\"  This was in June 1945, and\n# confirms that Johnston kept the same time as Honolulu in summer 1945.\n# We have no better information, so for now, assume this has been true\n# indefinitely into the past.\n#\n# See 'northamerica' for Pacific/Johnston.\n\n# Kingman\n# uninhabited\n\n# Midway\n#\n# From Mark Brader (2005-01-23):\n# [Fallacies and Fantasies of Air Transport History, by R.E.G. Davies,\n# published 1994 by Paladwr Press, McLean, VA, USA; ISBN 0-9626483-5-3]\n# reproduced a Pan American Airways timeables from 1936, for their weekly\n# \"Orient Express\" flights between San Francisco and Manila, and connecting\n# flights to Chicago and the US East Coast.  As it uses some time zone\n# designations that I've never seen before:....\n# Fri. 6:30A Lv. HONOLOLU (Pearl Harbor), H.I.   H.L.T. Ar. 5:30P Sun.\n#  \"   3:00P Ar. MIDWAY ISLAND . . . . . . . . . M.L.T. Lv. 6:00A  \"\n#\nZone Pacific/Midway\t-11:49:28 -\tLMT\t1901\n\t\t\t-11:00\t-\tNST\t1956 Jun  3\n\t\t\t-11:00\t1:00\tNDT\t1956 Sep  2\n\t\t\t-11:00\t-\tNST\t1967 Apr\t# N=Nome\n\t\t\t-11:00\t-\tBST\t1983 Nov 30\t# B=Bering\n\t\t\t-11:00\t-\tSST\t\t\t# S=Samoa\n\n# Palmyra\n# uninhabited since World War II; was probably like Pacific/Kiritimati\n\n# Wake\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tPacific/Wake\t11:06:28 -\tLMT\t1901\n\t\t\t12:00\t-\tWAKT\t# Wake Time\n\n\n# Vanuatu\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tVanuatu\t1983\tonly\t-\tSep\t25\t0:00\t1:00\tS\nRule\tVanuatu\t1984\t1991\t-\tMar\tSun>=23\t0:00\t0\t-\nRule\tVanuatu\t1984\tonly\t-\tOct\t23\t0:00\t1:00\tS\nRule\tVanuatu\t1985\t1991\t-\tSep\tSun>=23\t0:00\t1:00\tS\nRule\tVanuatu\t1992\t1993\t-\tJan\tSun>=23\t0:00\t0\t-\nRule\tVanuatu\t1992\tonly\t-\tOct\tSun>=23\t0:00\t1:00\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tPacific/Efate\t11:13:16 -\tLMT\t1912 Jan 13\t\t# Vila\n\t\t\t11:00\tVanuatu\tVU%sT\t# Vanuatu Time\n\n# Wallis and Futuna\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tPacific/Wallis\t12:15:20 -\tLMT\t1901\n\t\t\t12:00\t-\tWFT\t# Wallis & Futuna Time\n\n###############################################################################\n\n# NOTES\n\n# This data is by no means authoritative; if you think you know better,\n# go ahead and edit the file (and please send any changes to\n# tz@iana.org for general use in the future).\n\n# From Paul Eggert (2013-02-21):\n# A good source for time zone historical data outside the U.S. is\n# Thomas G. Shanks and Rique Pottenger, The International Atlas (6th edition),\n# San Diego: ACS Publications, Inc. (2003).\n#\n# Gwillim Law writes that a good source\n# for recent time zone data is the International Air Transport\n# Association's Standard Schedules Information Manual (IATA SSIM),\n# published semiannually.  Law sent in several helpful summaries\n# of the IATA's data after 1990.\n#\n# Except where otherwise noted, Shanks & Pottenger is the source for\n# entries through 1990, and IATA SSIM is the source for entries afterwards.\n#\n# Another source occasionally used is Edward W. Whitman, World Time Differences,\n# Whitman Publishing Co, 2 Niagara Av, Ealing, London (undated), which\n# I found in the UCLA library.\n#\n# For data circa 1899, a common source is:\n# Milne J. Civil time. Geogr J. 1899 Feb;13(2):173-94\n# <http://www.jstor.org/stable/1774359>.\n#\n# A reliable and entertaining source about time zones is\n# Derek Howse, Greenwich time and longitude, Philip Wilson Publishers (1997).\n#\n# I invented the abbreviations marked `*' in the following table;\n# the rest are from earlier versions of this file, or from other sources.\n# Corrections are welcome!\n#\t\tstd dst\n#\t\tLMT\tLocal Mean Time\n#\t  8:00\tWST WST\tWestern Australia\n#\t  8:45\tCWST CWST Central Western Australia*\n#\t  9:00\tJST\tJapan\n#\t  9:30\tCST CST\tCentral Australia\n#\t 10:00\tEST EST\tEastern Australia\n#\t 10:00\tChST\tChamorro\n#\t 10:30\tLHST LHST Lord Howe*\n#\t 11:30\tNZMT NZST New Zealand through 1945\n#\t 12:00\tNZST NZDT New Zealand 1946-present\n#\t 12:45\tCHAST CHADT Chatham*\n#\t-11:00\tSST\tSamoa\n#\t-10:00\tHST\tHawaii\n#\t- 8:00\tPST\tPitcairn*\n#\n# See the `northamerica' file for Hawaii.\n# See the `southamerica' file for Easter I and the Galapagos Is.\n\n###############################################################################\n\n# Australia\n\n# From Paul Eggert (2005-12-08):\n# <a href=\"http://www.bom.gov.au/climate/averages/tables/dst_times.shtml\">\n# Implementation Dates of Daylight Saving Time within Australia\n# </a> summarizes daylight saving issues in Australia.\n\n# From Arthur David Olson (2005-12-12):\n# <a href=\"http://www.lawlink.nsw.gov.au/lawlink/Corporate/ll_agdinfo.nsf/pages/community_relations_daylight_saving\">\n# Lawlink NSW:Daylight Saving in New South Wales\n# </a> covers New South Wales in particular.\n\n# From John Mackin (1991-03-06):\n# We in Australia have _never_ referred to DST as `daylight' time.\n# It is called `summer' time.  Now by a happy coincidence, `summer'\n# and `standard' happen to start with the same letter; hence, the\n# abbreviation does _not_ change...\n# The legislation does not actually define abbreviations, at least\n# in this State, but the abbreviation is just commonly taken to be the\n# initials of the phrase, and the legislation here uniformly uses\n# the phrase `summer time' and does not use the phrase `daylight\n# time'.\n# Announcers on the Commonwealth radio network, the ABC (for Australian\n# Broadcasting Commission), use the phrases `Eastern Standard Time'\n# or `Eastern Summer Time'.  (Note, though, that as I say in the\n# current australasia file, there is really no such thing.)  Announcers\n# on its overseas service, Radio Australia, use the same phrases\n# prefixed by the word `Australian' when referring to local times;\n# time announcements on that service, naturally enough, are made in UTC.\n\n# From Arthur David Olson (1992-03-08):\n# Given the above, what's chosen for year-round use is:\n#\tCST\tfor any place operating at a GMTOFF of 9:30\n#\tWST\tfor any place operating at a GMTOFF of 8:00\n#\tEST\tfor any place operating at a GMTOFF of 10:00\n\n# From Chuck Soper (2006-06-01):\n# I recently found this Australian government web page on time zones:\n# <http://www.australia.gov.au/about-australia-13time>\n# And this government web page lists time zone names and abbreviations:\n# <http://www.bom.gov.au/climate/averages/tables/daysavtm.shtml>\n\n# From Paul Eggert (2001-04-05), summarizing a long discussion about \"EST\"\n# versus \"AEST\" etc.:\n#\n# I see the following points of dispute:\n#\n# * How important are unique time zone abbreviations?\n#\n#   Here I tend to agree with the point (most recently made by Chris\n#   Newman) that unique abbreviations should not be essential for proper\n#   operation of software.  We have other instances of ambiguity\n#   (e.g. \"IST\" denoting both \"Israel Standard Time\" and \"Indian\n#   Standard Time\"), and they are not likely to go away any time soon.\n#   In the old days, some software mistakenly relied on unique\n#   abbreviations, but this is becoming less true with time, and I don't\n#   think it's that important to cater to such software these days.\n#\n#   On the other hand, there is another motivation for unambiguous\n#   abbreviations: it cuts down on human confusion.  This is\n#   particularly true for Australia, where \"EST\" can mean one thing for\n#   time T and a different thing for time T plus 1 second.\n#\n# * Does the relevant legislation indicate which abbreviations should be used?\n#\n#   Here I tend to think that things are a mess, just as they are in\n#   many other countries.  We Americans are currently disagreeing about\n#   which abbreviation to use for the newly legislated Chamorro Standard\n#   Time, for example.\n#\n#   Personally, I would prefer to use common practice; I would like to\n#   refer to legislation only for examples of common practice, or as a\n#   tiebreaker.\n#\n# * Do Australians more often use \"Eastern Daylight Time\" or \"Eastern\n#   Summer Time\"?  Do they typically prefix the time zone names with\n#   the word \"Australian\"?\n#\n#   My own impression is that both \"Daylight Time\" and \"Summer Time\" are\n#   common and are widely understood, but that \"Summer Time\" is more\n#   popular; and that the leading \"A\" is also common but is omitted more\n#   often than not.  I just used AltaVista advanced search and got the\n#   following count of page hits:\n#\n#     1,103 \"Eastern Summer Time\" AND domain:au\n#       971 \"Australian Eastern Summer Time\" AND domain:au\n#       613 \"Eastern Daylight Time\" AND domain:au\n#       127 \"Australian Eastern Daylight Time\" AND domain:au\n#\n#   Here \"Summer\" seems quite a bit more popular than \"Daylight\",\n#   particularly when we know the time zone is Australian and not US,\n#   say.  The \"Australian\" prefix seems to be popular for Eastern Summer\n#   Time, but unpopular for Eastern Daylight Time.\n#\n#   For abbreviations, tools like AltaVista are less useful because of\n#   ambiguity.  Many hits are not really time zones, unfortunately, and\n#   many hits denote US time zones and not Australian ones.  But here\n#   are the hit counts anyway:\n#\n#     161,304 \"EST\" and domain:au\n#      25,156 \"EDT\" and domain:au\n#      18,263 \"AEST\" and domain:au\n#      10,416 \"AEDT\" and domain:au\n#\n#      14,538 \"CST\" and domain:au\n#       5,728 \"CDT\" and domain:au\n#         176 \"ACST\" and domain:au\n#          29 \"ACDT\" and domain:au\n#\n#       7,539 \"WST\" and domain:au\n#          68 \"AWST\" and domain:au\n#\n#   This data suggest that Australians tend to omit the \"A\" prefix in\n#   practice.  The situation for \"ST\" versus \"DT\" is less clear, given\n#   the ambiguities involved.\n#\n# * How do Australians feel about the abbreviations in the tz database?\n#\n#   If you just count Australians on this list, I count 2 in favor and 3\n#   against.  One of the \"against\" votes (David Keegel) counseled delay,\n#   saying that both AEST/AEDT and EST/EST are widely used and\n#   understood in Australia.\n\n# From Paul Eggert (1995-12-19):\n# Shanks & Pottenger report 2:00 for all autumn changes in Australia and NZ.\n# Mark Prior writes that his newspaper\n# reports that NSW's fall 1995 change will occur at 2:00,\n# but Robert Elz says it's been 3:00 in Victoria since 1970\n# and perhaps the newspaper's `2:00' is referring to standard time.\n# For now we'll continue to assume 2:00s for changes since 1960.\n\n# From Eric Ulevik (1998-01-05):\n#\n# Here are some URLs to Australian time legislation. These URLs are stable,\n# and should probably be included in the data file. There are probably more\n# relevant entries in this database.\n#\n# NSW (including LHI and Broken Hill):\n# <a href=\"http://www.austlii.edu.au/au/legis/nsw/consol_act/sta1987137/index.html\">\n# Standard Time Act 1987 (updated 1995-04-04)\n# </a>\n# ACT\n# <a href=\"http://www.austlii.edu.au/au/legis/act/consol_act/stasta1972279/index.html\">\n# Standard Time and Summer Time Act 1972\n# </a>\n# SA\n# <a href=\"http://www.austlii.edu.au/au/legis/sa/consol_act/sta1898137/index.html\">\n# Standard Time Act, 1898\n# </a>\n\n# From David Grosz (2005-06-13):\n# It was announced last week that Daylight Saving would be extended by\n# one week next year to allow for the 2006 Commonwealth Games.\n# Daylight Saving is now to end for next year only on the first Sunday\n# in April instead of the last Sunday in March.\n#\n# From Gwillim Law (2005-06-14):\n# I did some Googling and found that all of those states (and territory) plan\n# to extend DST together in 2006.\n# ACT: http://www.cmd.act.gov.au/mediareleases/fileread.cfm?file=86.txt\n# New South Wales: http://www.thecouriermail.news.com.au/common/story_page/0,5936,15538869%255E1702,00.html\n# South Australia: http://www.news.com.au/story/0,10117,15555031-1246,00.html\n# Tasmania: http://www.media.tas.gov.au/release.php?id=14772\n# Victoria: I wasn't able to find anything separate, but the other articles\n# allude to it.\n# But not Queensland\n# http://www.news.com.au/story/0,10117,15564030-1248,00.html.\n\n# Northern Territory\n\n# From George Shepherd via Simon Woodhead via Robert Elz (1991-03-06):\n# # The NORTHERN TERRITORY..  [ Courtesy N.T. Dept of the Chief Minister ]\n# #\t\t\t\t\t[ Nov 1990 ]\n# #\tN.T. have never utilised any DST due to sub-tropical/tropical location.\n# ...\n# Zone        Australia/North         9:30    -       CST\n\n# From Bradley White (1991-03-04):\n# A recent excerpt from an Australian newspaper...\n# the Northern Territory do[es] not have daylight saving.\n\n# Western Australia\n\n# From George Shepherd via Simon Woodhead via Robert Elz (1991-03-06):\n# #  The state of WESTERN AUSTRALIA..  [ Courtesy W.A. dept Premier+Cabinet ]\n# #\t\t\t\t\t\t[ Nov 1990 ]\n# #\tW.A. suffers from a great deal of public and political opposition to\n# #\tDST in principle. A bill is brought before parliament in most years, but\n# #\tusually defeated either in the upper house, or in party caucus\n# #\tbefore reaching parliament.\n# ...\n# Zone\tAustralia/West\t\t8:00\tAW\t%sST\n# ...\n# Rule\tAW\t1974\tonly\t-\tOct\tlastSun\t2:00\t1:00\tD\n# Rule\tAW\t1975\tonly\t-\tMar\tSun>=1\t3:00\t0\tW\n# Rule\tAW\t1983\tonly\t-\tOct\tlastSun\t2:00\t1:00\tD\n# Rule\tAW\t1984\tonly\t-\tMar\tSun>=1\t3:00\t0\tW\n\n# From Bradley White (1991-03-04):\n# A recent excerpt from an Australian newspaper...\n# Western Australia...do[es] not have daylight saving.\n\n# From John D. Newman via Bradley White (1991-11-02):\n# Western Australia is still on \"winter time\". Some DH in Sydney\n# rang me at home a few days ago at 6.00am. (He had just arrived at\n# work at 9.00am.)\n# W.A. is switching to Summer Time on Nov 17th just to confuse\n# everybody again.\n\n# From Arthur David Olson (1992-03-08):\n# The 1992 ending date used in the rules is a best guess;\n# it matches what was used in the past.\n\n# <a href=\"http://www.bom.gov.au/faq/faqgen.htm\">\n# The Australian Bureau of Meteorology FAQ\n# </a> (1999-09-27) writes that Giles Meteorological Station uses\n# South Australian time even though it's located in Western Australia.\n\n# Queensland\n# From George Shepherd via Simon Woodhead via Robert Elz (1991-03-06):\n# #   The state of QUEENSLAND.. [ Courtesy Qld. Dept Premier Econ&Trade Devel ]\n# #\t\t\t\t\t\t[ Dec 1990 ]\n# ...\n# Zone\tAustralia/Queensland\t10:00\tAQ\t%sST\n# ...\n# Rule\tAQ\t1971\tonly\t-\tOct\tlastSun\t2:00\t1:00\tD\n# Rule\tAQ\t1972\tonly\t-\tFeb\tlastSun\t3:00\t0\tE\n# Rule\tAQ\t1989\tmax\t-\tOct\tlastSun\t2:00\t1:00\tD\n# Rule\tAQ\t1990\tmax\t-\tMar\tSun>=1\t3:00\t0\tE\n\n# From Bradley White (1989-12-24):\n# \"Australia/Queensland\" now observes daylight time (i.e. from\n# October 1989).\n\n# From Bradley White (1991-03-04):\n# A recent excerpt from an Australian newspaper...\n# ...Queensland...[has] agreed to end daylight saving\n# at 3am tomorrow (March 3)...\n\n# From John Mackin (1991-03-06):\n# I can certainly confirm for my part that Daylight Saving in NSW did in fact\n# end on Sunday, 3 March.  I don't know at what hour, though.  (It surprised\n# me.)\n\n# From Bradley White (1992-03-08):\n# ...there was recently a referendum in Queensland which resulted\n# in the experimental daylight saving system being abandoned. So, ...\n# ...\n# Rule\tQLD\t1989\t1991\t-\tOct\tlastSun\t2:00\t1:00\tD\n# Rule\tQLD\t1990\t1992\t-\tMar\tSun>=1\t3:00\t0\tS\n# ...\n\n# From Arthur David Olson (1992-03-08):\n# The chosen rules the union of the 1971/1972 change and the 1989-1992 changes.\n\n# From Christopher Hunt (2006-11-21), after an advance warning\n# from Jesper Norgaard Welen (2006-11-01):\n# WA are trialing DST for three years.\n# <http://www.parliament.wa.gov.au/parliament/bills.nsf/9A1B183144403DA54825721200088DF1/$File/Bill175-1B.pdf>\n\n# From Rives McDow (2002-04-09):\n# The most interesting region I have found consists of three towns on the\n# southern coast....  South Australia observes daylight saving time; Western\n# Australia does not.  The two states are one and a half hours apart.  The\n# residents decided to forget about this nonsense of changing the clock so\n# much and set the local time 20 hours and 45 minutes from the\n# international date line, or right in the middle of the time of South\n# Australia and Western Australia....\n#\n# From Paul Eggert (2002-04-09):\n# This is confirmed by the section entitled\n# \"What's the deal with time zones???\" in\n# <http://www.earthsci.unimelb.edu.au/~awatkins/null.html>.\n#\n# From Alex Livingston (2006-12-07):\n# ... it was just on four years ago that I drove along the Eyre Highway,\n# which passes through eastern Western Australia close to the southern\n# coast of the continent.\n#\n# I paid particular attention to the time kept there. There can be no\n# dispute that UTC+08:45 was considered \"the time\" from the border\n# village just inside the border with South Australia to as far west\n# as just east of Caiguna. There can also be no dispute that Eucla is\n# the largest population centre in this zone....\n#\n# Now that Western Australia is observing daylight saving, the\n# question arose whether this part of the state would follow suit. I\n# just called the border village and confirmed that indeed they have,\n# meaning that they are now observing UTC+09:45.\n#\n# (2006-12-09):\n# I personally doubt that either experimentation with daylight saving\n# in WA or its introduction in SA had anything to do with the genesis\n# of this time zone.  My hunch is that it's been around since well\n# before 1975.  I remember seeing it noted on road maps decades ago.\n\n# From Paul Eggert (2006-12-15):\n# For lack of better info, assume the tradition dates back to the\n# introduction of standard time in 1895.\n\n\n# southeast Australia\n#\n# From Paul Eggert (2007-07-23):\n# Starting autumn 2008 Victoria, NSW, South Australia, Tasmania and the ACT\n# end DST the first Sunday in April and start DST the first Sunday in October.\n# http://www.theage.com.au/news/national/daylight-savings-to-span-six-months/2007/06/27/1182623966703.html\n\n\n# South Australia\n\n# From Bradley White (1991-03-04):\n# A recent excerpt from an Australian newspaper...\n# ...South Australia...[has] agreed to end daylight saving\n# at 3am tomorrow (March 3)...\n\n# From George Shepherd via Simon Woodhead via Robert Elz (1991-03-06):\n# #   The state of SOUTH AUSTRALIA....[ Courtesy of S.A. Dept of Labour ]\n# #\t\t\t\t\t\t[ Nov 1990 ]\n# ...\n# Zone\tAustralia/South\t\t9:30\tAS\t%sST\n# ...\n# Rule\t AS\t1971\tmax\t-\tOct\tlastSun\t2:00\t1:00\tD\n# Rule\t AS\t1972\t1985\t-\tMar\tSun>=1\t3:00\t0\tC\n# Rule\t AS\t1986\t1990\t-\tMar\tSun>=15\t3:00\t0\tC\n# Rule\t AS\t1991\tmax\t-\tMar\tSun>=1\t3:00\t0\tC\n\n# From Bradley White (1992-03-11):\n# Recent correspondence with a friend in Adelaide\n# contained the following exchange:  \"Due to the Adelaide Festival,\n# South Australia delays setting back our clocks for a few weeks.\"\n\n# From Robert Elz (1992-03-13):\n# I heard that apparently (or at least, it appears that)\n# South Aus will have an extra 3 weeks daylight saving every even\n# numbered year (from 1990).  That's when the Adelaide Festival\n# is on...\n\n# From Robert Elz (1992-03-16, 00:57:07 +1000):\n# DST didn't end in Adelaide today (yesterday)....\n# But whether it's \"4th Sunday\" or \"2nd last Sunday\" I have no idea whatever...\n# (it's just as likely to be \"the Sunday we pick for this year\"...).\n\n# From Bradley White (1994-04-11):\n# If Sun, 15 March, 1992 was at +1030 as kre asserts, but yet Sun, 20 March,\n# 1994 was at +0930 as John Connolly's customer seems to assert, then I can\n# only conclude that the actual rule is more complicated....\n\n# From John Warburton (1994-10-07):\n# The new Daylight Savings dates for South Australia ...\n# was gazetted in the Government Hansard on Sep 26 1994....\n# start on last Sunday in October and end in last sunday in March.\n\n# From Paul Eggert (2007-07-23):\n# See \"southeast Australia\" above for 2008 and later.\n\n# Tasmania\n\n# The rules for 1967 through 1991 were reported by George Shepherd\n# via Simon Woodhead via Robert Elz (1991-03-06):\n# #  The state of TASMANIA.. [Courtesy Tasmanian Dept of Premier + Cabinet ]\n# #\t\t\t\t\t[ Nov 1990 ]\n\n# From Bill Hart via Guy Harris (1991-10-10):\n# Oh yes, the new daylight savings rules are uniquely tasmanian, we have\n# 6 weeks a year now when we are out of sync with the rest of Australia\n# (but nothing new about that).\n\n# From Alex Livingston (1999-10-04):\n# I heard on the ABC (Australian Broadcasting Corporation) radio news on the\n# (long) weekend that Tasmania, which usually goes its own way in this regard,\n# has decided to join with most of NSW, the ACT, and most of Victoria\n# (Australia) and start daylight saving on the last Sunday in August in 2000\n# instead of the first Sunday in October.\n\n# Sim Alam (2000-07-03) reported a legal citation for the 2000/2001 rules:\n# http://www.thelaw.tas.gov.au/fragview/42++1968+GS3A@EN+2000070300\n\n# From Paul Eggert (2007-07-23):\n# See \"southeast Australia\" above for 2008 and later.\n\n# Victoria\n\n# The rules for 1971 through 1991 were reported by George Shepherd\n# via Simon Woodhead via Robert Elz (1991-03-06):\n# #   The state of VICTORIA.. [ Courtesy of Vic. Dept of Premier + Cabinet ]\n# #\t\t\t\t\t\t[ Nov 1990 ]\n\n# From Scott Harrington (2001-08-29):\n# On KQED's \"City Arts and Lectures\" program last night I heard an\n# interesting story about daylight savings time.  Dr. John Heilbron was\n# discussing his book \"The Sun in the Church: Cathedrals as Solar\n# Observatories\"[1], and in particular the Shrine of Remembrance[2] located\n# in Melbourne, Australia.\n#\n# Apparently the shrine's main purpose is a beam of sunlight which\n# illuminates a special spot on the floor at the 11th hour of the 11th day\n# of the 11th month (Remembrance Day) every year in memory of Australia's\n# fallen WWI soldiers.  And if you go there on Nov. 11, at 11am local time,\n# you will indeed see the sunbeam illuminate the special spot at the\n# expected time.\n#\n# However, that is only because of some special mirror contraption that had\n# to be employed, since due to daylight savings time, the true solar time of\n# the remembrance moment occurs one hour later (or earlier?).  Perhaps\n# someone with more information on this jury-rig can tell us more.\n#\n# [1] http://www.hup.harvard.edu/catalog/HEISUN.html\n# [2] http://www.shrine.org.au\n\n# From Paul Eggert (2007-07-23):\n# See \"southeast Australia\" above for 2008 and later.\n\n# New South Wales\n\n# From Arthur David Olson:\n# New South Wales and subjurisdictions have their own ideas of a fun time.\n# Based on law library research by John Mackin,\n# who notes:\n#\tIn Australia, time is not legislated federally, but rather by the\n#\tindividual states.  Thus, while such terms as ``Eastern Standard Time''\n#\t[I mean, of course, Australian EST, not any other kind] are in common\n#\tuse, _they have NO REAL MEANING_, as they are not defined in the\n#\tlegislation.  This is very important to understand.\n#\tI have researched New South Wales time only...\n\n# From Eric Ulevik (1999-05-26):\n# DST will start in NSW on the last Sunday of August, rather than the usual\n# October in 2000.  [See: Matthew Moore,\n# <a href=\"http://www.smh.com.au/news/9905/26/pageone/pageone4.html\">\n# Two months more daylight saving\n# </a>\n# Sydney Morning Herald (1999-05-26).]\n\n# From Paul Eggert (1999-09-27):\n# See the following official NSW source:\n# <a href=\"http://dir.gis.nsw.gov.au/cgi-bin/genobject/document/other/daylightsaving/tigGmZ\">\n# Daylight Saving in New South Wales.\n# </a>\n#\n# Narrabri Shire (NSW) council has announced it will ignore the extension of\n# daylight saving next year.  See:\n# <a href=\"http://abc.net.au/news/regionals/neweng/monthly/regeng-22jul1999-1.htm\">\n# Narrabri Council to ignore daylight saving\n# </a> (1999-07-22).  For now, we'll wait to see if this really happens.\n#\n# Victoria will following NSW.  See:\n# <a href=\"http://abc.net.au/local/news/olympics/1999/07/item19990728112314_1.htm\">\n# Vic to extend daylight saving\n# </a> (1999-07-28).\n#\n# However, South Australia rejected the DST request.  See:\n# <a href=\"http://abc.net.au/news/olympics/1999/07/item19990719151754_1.htm\">\n# South Australia rejects Olympics daylight savings request\n# </a> (1999-07-19).\n#\n# Queensland also will not observe DST for the Olympics.  See:\n# <a href=\"http://abc.net.au/news/olympics/1999/06/item19990601114608_1.htm\">\n# Qld says no to daylight savings for Olympics\n# </a> (1999-06-01), which quotes Queensland Premier Peter Beattie as saying\n# ``Look you've got to remember in my family when this came up last time\n# I voted for it, my wife voted against it and she said to me it's all very\n# well for you, you don't have to worry about getting the children out of\n# bed, getting them to school, getting them to sleep at night.\n# I've been through all this argument domestically...my wife rules.''\n#\n# Broken Hill will stick with South Australian time in 2000.  See:\n# <a href=\"http://abc.net.au/news/regionals/brokenh/monthly/regbrok-21jul1999-6.htm\">\n# Broken Hill to be behind the times\n# </a> (1999-07-21).\n\n# IATA SSIM (1998-09) says that the spring 2000 change for Australian\n# Capital Territory, New South Wales except Lord Howe Island and Broken\n# Hill, and Victoria will be August 27, presumably due to the Sydney Olympics.\n\n# From Eric Ulevik, referring to Sydney's Sun Herald (2000-08-13), page 29:\n# The Queensland Premier Peter Beattie is encouraging northern NSW\n# towns to use Queensland time.\n\n# From Paul Eggert (2007-07-23):\n# See \"southeast Australia\" above for 2008 and later.\n\n# Yancowinna\n\n# From John Mackin (1989-01-04):\n# `Broken Hill' means the County of Yancowinna.\n\n# From George Shepherd via Simon Woodhead via Robert Elz (1991-03-06):\n# # YANCOWINNA..  [ Confirmation courtesy of Broken Hill Postmaster ]\n# #\t\t\t\t\t[ Dec 1990 ]\n# ...\n# # Yancowinna uses Central Standard Time, despite [its] location on the\n# # New South Wales side of the S.A. border. Most business and social dealings\n# # are with CST zones, therefore CST is legislated by local government\n# # although the switch to Summer Time occurs in line with N.S.W. There have\n# # been years when this did not apply, but the historical data is not\n# # presently available.\n# Zone\tAustralia/Yancowinna\t9:30\t AY\t%sST\n# ...\n# Rule\t AY\t1971\t1985\t-\tOct\tlastSun\t2:00\t1:00\tD\n# Rule\t AY\t1972\tonly\t-\tFeb\tlastSun\t3:00\t0\tC\n# [followed by other Rules]\n\n# Lord Howe Island\n\n# From George Shepherd via Simon Woodhead via Robert Elz (1991-03-06):\n# LHI...\t\t[ Courtesy of Pauline Van Winsen ]\n#\t\t\t\t\t[ Dec 1990 ]\n# Lord Howe Island is located off the New South Wales coast, and is half an\n# hour ahead of NSW time.\n\n# From James Lonergan, Secretary, Lord Howe Island Board (2000-01-27):\n# Lord Howe Island summer time in 2000/2001 will commence on the same\n# date as the rest of NSW (i.e. 2000-08-27).  For your information the\n# Lord Howe Island Board (controlling authority for the Island) is\n# seeking the community's views on various options for summer time\n# arrangements on the Island, e.g. advance clocks by 1 full hour\n# instead of only 30 minutes.  [Dependent] on the wishes of residents\n# the Board may approach the NSW government to change the existing\n# arrangements.  The starting date for summer time on the Island will\n# however always coincide with the rest of NSW.\n\n# From James Lonergan, Secretary, Lord Howe Island Board (2000-10-25):\n# Lord Howe Island advances clocks by 30 minutes during DST in NSW and retards\n# clocks by 30 minutes when DST finishes. Since DST was most recently\n# introduced in NSW, the \"changeover\" time on the Island has been 02:00 as\n# shown on clocks on LHI. I guess this means that for 30 minutes at the start\n# of DST, LHI is actually 1 hour ahead of the rest of NSW.\n\n# From Paul Eggert (2006-03-22):\n# For Lord Howe dates we use Shanks & Pottenger through 1989, and\n# Lonergan thereafter.  For times we use Lonergan.\n\n# From Paul Eggert (2007-07-23):\n# See \"southeast Australia\" above for 2008 and later.\n\n# From Steffen Thorsen (2009-04-28):\n# According to the official press release, South Australia's extended daylight\n# saving period will continue with the same rules as used during the 2008-2009\n# summer (southern hemisphere).\n#\n# From\n# <a href=\"http://www.safework.sa.gov.au/uploaded_files/DaylightDatesSet.pdf\">\n# http://www.safework.sa.gov.au/uploaded_files/DaylightDatesSet.pdf\n# </a>\n# The extended daylight saving period that South Australia has been trialling\n# for over the last year is now set to be ongoing.\n# Daylight saving will continue to start on the first Sunday in October each\n# year and finish on the first Sunday in April the following year.\n# Industrial Relations Minister, Paul Caica, says this provides South Australia\n# with a consistent half hour time difference with NSW, Victoria, Tasmania and\n# the ACT for all 52 weeks of the year...\n#\n# We have a wrap-up here:\n# <a href=\"http://www.timeanddate.com/news/time/south-australia-extends-dst.html\">\n# http://www.timeanddate.com/news/time/south-australia-extends-dst.html\n# </a>\n###############################################################################\n\n# New Zealand\n\n# From Mark Davies (1990-10-03):\n# the 1989/90 year was a trial of an extended \"daylight saving\" period.\n# This trial was deemed successful and the extended period adopted for\n# subsequent years (with the addition of a further week at the start).\n# source -- phone call to Ministry of Internal Affairs Head Office.\n\n# From George Shepherd via Simon Woodhead via Robert Elz (1991-03-06):\n# # The Country of New Zealand   (Australia's east island -) Gee they hate that!\n# #\t\t\t\t   or is Australia the west island of N.Z.\n# #\t[ courtesy of Geoff Tribble.. Auckland N.Z. ]\n# #\t\t\t\t[ Nov 1990 ]\n# ...\n# Rule\tNZ      1974    1988\t-\tOct\tlastSun\t2:00\t1:00\tD\n# Rule\tNZ\t1989\tmax\t-\tOct\tSun>=1\t2:00\t1:00\tD\n# Rule\tNZ      1975    1989\t-\tMar\tSun>=1\t3:00\t0\tS\n# Rule\tNZ\t1990\tmax\t-\tMar\tlastSun\t3:00\t0\tS\n# ...\n# Zone\tNZ\t\t\t12:00\tNZ\t\tNZ%sT\t# New Zealand\n# Zone\tNZ-CHAT\t\t\t12:45\t-\t\tNZ-CHAT # Chatham Island\n\n# From Arthur David Olson (1992-03-08):\n# The chosen rules use the Davies October 8 values for the start of DST in 1989\n# rather than the October 1 value.\n\n# From Paul Eggert (1995-12-19);\n# Shank & Pottenger report 2:00 for all autumn changes in Australia and NZ.\n# Robert Uzgalis writes that the New Zealand Daylight\n# Savings Time Order in Council dated 1990-06-18 specifies 2:00 standard\n# time on both the first Sunday in October and the third Sunday in March.\n# As with Australia, we'll assume the tradition is 2:00s, not 2:00.\n#\n# From Paul Eggert (2006-03-22):\n# The Department of Internal Affairs (DIA) maintains a brief history,\n# as does Carol Squires; see tz-link.htm for the full references.\n# Use these sources in preference to Shanks & Pottenger.\n#\n# For Chatham, IATA SSIM (1991/1999) gives the NZ rules but with\n# transitions at 2:45 local standard time; this confirms that Chatham\n# is always exactly 45 minutes ahead of Auckland.\n\n# From Colin Sharples (2007-04-30):\n# DST will now start on the last Sunday in September, and end on the\n# first Sunday in April.  The changes take effect this year, meaning\n# that DST will begin on 2007-09-30 2008-04-06.\n# http://www.dia.govt.nz/diawebsite.nsf/wpg_URL/Services-Daylight-Saving-Daylight-saving-to-be-extended\n\n###############################################################################\n\n\n# Fiji\n\n# Howse writes (p 153) that in 1879 the British governor of Fiji\n# enacted an ordinance standardizing the islands on Antipodean Time\n# instead of the American system (which was one day behind).\n\n# From Rives McDow (1998-10-08):\n# Fiji will introduce DST effective 0200 local time, 1998-11-01\n# until 0300 local time 1999-02-28.  Each year the DST period will\n# be from the first Sunday in November until the last Sunday in February.\n\n# From Paul Eggert (2000-01-08):\n# IATA SSIM (1999-09) says DST ends 0100 local time.  Go with McDow.\n\n# From the BBC World Service in\n# http://news.bbc.co.uk/2/hi/asia-pacific/205226.stm (1998-10-31 16:03 UTC):\n# The Fijiian government says the main reasons for the time change is to\n# improve productivity and reduce road accidents.... [T]he move is also\n# intended to boost Fiji's ability to attract tourists to witness the dawning\n# of the new millennium.\n\n# http://www.fiji.gov.fj/press/2000_09/2000_09_13-05.shtml (2000-09-13)\n# reports that Fiji has discontinued DST.\n\n# Johnston\n\n# Johnston data is from usno1995.\n\n\n# Kiribati\n\n# From Paul Eggert (1996-01-22):\n# Today's _Wall Street Journal_ (page 1) reports that Kiribati\n# ``declared it the same day [throughout] the country as of Jan. 1, 1995''\n# as part of the competition to be first into the 21st century.\n\n\n# Kwajalein\n\n# In comp.risks 14.87 (26 August 1993), Peter Neumann writes:\n# I wonder what happened in Kwajalein, where there was NO Friday,\n# 1993-08-20.  Thursday night at midnight Kwajalein switched sides with\n# respect to the International Date Line, to rejoin its fellow islands,\n# going from 11:59 p.m. Thursday to 12:00 m. Saturday in a blink.\n\n\n# N Mariana Is, Guam\n\n# Howse writes (p 153) ``The Spaniards, on the other hand, reached the\n# Philippines and the Ladrones from America,'' and implies that the Ladrones\n# (now called the Marianas) kept American date for quite some time.\n# For now, we assume the Ladrones switched at the same time as the Philippines;\n# see Asia/Manila.\n\n# US Public Law 106-564 (2000-12-23) made UTC+10 the official standard time,\n# under the name \"Chamorro Standard Time\".  There is no official abbreviation,\n# but Congressman Robert A. Underwood, author of the bill that became law,\n# wrote in a press release (2000-12-27) that he will seek the use of \"ChST\".\n\n\n# Micronesia\n\n# Alan Eugene Davis writes (1996-03-16),\n# ``I am certain, having lived there for the past decade, that \"Truk\"\n# (now properly known as Chuuk) ... is in the time zone GMT+10.''\n#\n# Shanks & Pottenger write that Truk switched from UTC+10 to UTC+11\n# on 1978-10-01; ignore this for now.\n\n# From Paul Eggert (1999-10-29):\n# The Federated States of Micronesia Visitors Board writes in\n# <a href=\"http://www.fsmgov.org/info/clocks.html\">\n# The Federated States of Micronesia - Visitor Information\n# </a> (1999-01-26)\n# that Truk and Yap are UTC+10, and Ponape and Kosrae are UTC+11.\n# We don't know when Kosrae switched from UTC+12; assume January 1 for now.\n\n\n# Midway\n\n# From Charles T O'Connor, KMTH DJ (1956),\n# quoted in the KTMH section of the Radio Heritage Collection\n# <http://radiodx.com/spdxr/KMTH.htm> (2002-12-31):\n# For the past two months we've been on what is known as Daylight\n# Saving Time.  This time has put us on air at 5am in the morning,\n# your time down there in New Zealand.  Starting September 2, 1956\n# we'll again go back to Standard Time.  This'll mean that we'll go to\n# air at 6am your time.\n#\n# From Paul Eggert (2003-03-23):\n# We don't know the date of that quote, but we'll guess they\n# started DST on June 3.  Possibly DST was observed other years\n# in Midway, but we have no record of it.\n\n\n# Pitcairn\n\n# From Rives McDow (1999-11-08):\n# A Proclamation was signed by the Governor of Pitcairn on the 27th March 1998\n# with regard to Pitcairn Standard Time.  The Proclamation is as follows.\n#\n#\tThe local time for general purposes in the Islands shall be\n#\tCo-ordinated Universal time minus 8 hours and shall be known\n#\tas Pitcairn Standard Time.\n#\n# ... I have also seen Pitcairn listed as UTC minus 9 hours in several\n# references, and can only assume that this was an error in interpretation\n# somehow in light of this proclamation.\n\n# From Rives McDow (1999-11-09):\n# The Proclamation regarding Pitcairn time came into effect on 27 April 1998\n# ... at midnight.\n\n# From Howie Phelps (1999-11-10), who talked to a Pitcairner via shortwave:\n# Betty Christian told me yesterday that their local time is the same as\n# Pacific Standard Time. They used to be 1/2 hour different from us here in\n# Sacramento but it was changed a couple of years ago.\n\n\n# Samoa\n\n# Howse writes (p 153, citing p 10 of the 1883-11-18 New York Herald)\n# that in 1879 the King of Samoa decided to change\n# ``the date in his kingdom from the Antipodean to the American system,\n# ordaining -- by a masterpiece of diplomatic flattery -- that\n# the Fourth of July should be celebrated twice in that year.''\n\n\n# Tonga\n\n# From Paul Eggert (1996-01-22):\n# Today's _Wall Street Journal_ (p 1) reports that ``Tonga has been plotting\n# to sneak ahead of [New Zealanders] by introducing daylight-saving time.''\n# Since Kiribati has moved the Date Line it's not clear what Tonga will do.\n\n# Don Mundell writes in the 1997-02-20 Tonga Chronicle\n# <a href=\"http://www.tongatapu.net.to/tonga/homeland/timebegins.htm\">\n# How Tonga became `The Land where Time Begins'\n# </a>:\n\n# Until 1941 Tonga maintained a standard time 50 minutes ahead of NZST\n# 12 hours and 20 minutes ahead of GMT.  When New Zealand adjusted its\n# standard time in 1940s, Tonga had the choice of subtracting from its\n# local time to come on the same standard time as New Zealand or of\n# advancing its time to maintain the differential of 13 degrees\n# (approximately 50 minutes ahead of New Zealand time).\n#\n# Because His Majesty King Taufa'ahau Tupou IV, then Crown Prince\n# Tungi, preferred to ensure Tonga's title as the land where time\n# begins, the Legislative Assembly approved the latter change.\n#\n# But some of the older, more conservative members from the outer\n# islands objected. \"If at midnight on Dec. 31, we move ahead 40\n# minutes, as your Royal Highness wishes, what becomes of the 40\n# minutes we have lost?\"\n#\n# The Crown Prince, presented an unanswerable argument: \"Remember that\n# on the World Day of Prayer, you would be the first people on Earth\n# to say your prayers in the morning.\"\n\n# From Paul Eggert (2006-03-22):\n# Shanks & Pottenger say the transition was on 1968-10-01; go with Mundell.\n\n# From Eric Ulevik (1999-05-03):\n# Tonga's director of tourism, who is also secretary of the National Millennium\n# Committee, has a plan to get Tonga back in front.\n# He has proposed a one-off move to tropical daylight saving for Tonga from\n# October to March, which has won approval in principle from the Tongan\n# Government.\n\n# From Steffen Thorsen (1999-09-09):\n# * Tonga will introduce DST in November\n#\n# I was given this link by John Letts:\n# <a href=\"http://news.bbc.co.uk/hi/english/world/asia-pacific/newsid_424000/424764.stm\">\n# http://news.bbc.co.uk/hi/english/world/asia-pacific/newsid_424000/424764.stm\n# </a>\n#\n# I have not been able to find exact dates for the transition in November\n# yet. By reading this article it seems like Fiji will be 14 hours ahead\n# of UTC as well, but as far as I know Fiji will only be 13 hours ahead\n# (12 + 1 hour DST).\n\n# From Arthur David Olson (1999-09-20):\n# According to <a href=\"http://www.tongaonline.com/news/sept1799.html\">\n# http://www.tongaonline.com/news/sept1799.html\n# </a>:\n# \"Daylight Savings Time will take effect on Oct. 2 through April 15, 2000\n# and annually thereafter from the first Saturday in October through the\n# third Saturday of April.  Under the system approved by Privy Council on\n# Sept. 10, clocks must be turned ahead one hour on the opening day and\n# set back an hour on the closing date.\"\n# Alas, no indication of the time of day.\n\n# From Rives McDow (1999-10-06):\n# Tonga started its Daylight Saving on Saturday morning October 2nd at 0200am.\n# Daylight Saving ends on April 16 at 0300am which is Sunday morning.\n\n# From Steffen Thorsen (2000-10-31):\n# Back in March I found a notice on the website http://www.tongaonline.com\n# that Tonga changed back to standard time one month early, on March 19\n# instead of the original reported date April 16. Unfortunately, the article\n# is no longer available on the site, and I did not make a copy of the\n# text, and I have forgotten to report it here.\n# (Original URL was: http://www.tongaonline.com/news/march162000.htm )\n\n# From Rives McDow (2000-12-01):\n# Tonga is observing DST as of 2000-11-04 and will stop on 2001-01-27.\n\n# From Sione Moala-Mafi (2001-09-20) via Rives McDow:\n# At 2:00am on the first Sunday of November, the standard time in the Kingdom\n# shall be moved forward by one hour to 3:00am.  At 2:00am on the last Sunday\n# of January the standard time in the Kingdom shall be moved backward by one\n# hour to 1:00am.\n\n# From Pulu 'Anau (2002-11-05):\n# The law was for 3 years, supposedly to get renewed.  It wasn't.\n\n\n# Wake\n\n# From Vernice Anderson, Personal Secretary to Philip Jessup,\n# US Ambassador At Large (oral history interview, 1971-02-02):\n#\n# Saturday, the 14th [of October, 1950] -- ...  The time was all the\n# more confusing at that point, because we had crossed the\n# International Date Line, thus getting two Sundays.  Furthermore, we\n# discovered that Wake Island had two hours of daylight saving time\n# making calculation of time in Washington difficult if not almost\n# impossible.\n#\n# http://www.trumanlibrary.org/wake/meeting.htm\n\n# From Paul Eggert (2003-03-23):\n# We have no other report of DST in Wake Island, so omit this info for now.\n\n###############################################################################\n\n# The International Date Line\n\n# From Gwillim Law (2000-01-03):\n#\n# The International Date Line is not defined by any international standard,\n# convention, or treaty.  Mapmakers are free to draw it as they please.\n# Reputable mapmakers will simply ensure that every point of land appears on\n# the correct side of the IDL, according to the date legally observed there.\n#\n# When Kiribati adopted a uniform date in 1995, thereby moving the Phoenix and\n# Line Islands to the west side of the IDL (or, if you prefer, moving the IDL\n# to the east side of the Phoenix and Line Islands), I suppose that most\n# mapmakers redrew the IDL following the boundary of Kiribati.  Even that line\n# has a rather arbitrary nature.  The straight-line boundaries between Pacific\n# island nations that are shown on many maps are based on an international\n# convention, but are not legally binding national borders.... The date is\n# governed by the IDL; therefore, even on the high seas, there may be some\n# places as late as fourteen hours later than UTC.  And, since the IDL is not\n# an international standard, there are some places on the high seas where the\n# correct date is ambiguous.\n\n# From Wikipedia <http://en.wikipedia.org/wiki/Time_zone> (2005-08-31):\n# Before 1920, all ships kept local apparent time on the high seas by setting\n# their clocks at night or at the morning sight so that, given the ship's\n# speed and direction, it would be 12 o'clock when the Sun crossed the ship's\n# meridian (12 o'clock = local apparent noon).  During 1917, at the\n# Anglo-French Conference on Time-keeping at Sea, it was recommended that all\n# ships, both military and civilian, should adopt hourly standard time zones\n# on the high seas.  Whenever a ship was within the territorial waters of any\n# nation it would use that nation's standard time.  The captain was permitted\n# to change his ship's clocks at a time of his choice following his ship's\n# entry into another zone time--he often chose midnight.  These zones were\n# adopted by all major fleets between 1920 and 1925 but not by many\n# independent merchant ships until World War II.\n\n# From Paul Eggert, using references suggested by Oscar van Vlijmen\n# (2005-03-20):\n#\n# The American Practical Navigator (2002)\n# <http://pollux.nss.nima.mil/pubs/pubs_j_apn_sections.html?rid=187>\n# talks only about the 180-degree meridian with respect to ships in\n# international waters; it ignores the international date line.\n";

zone_files['backward'] = "# <pre>\n# This file is in the public domain, so clarified as of\n# 2009-05-17 by Arthur David Olson.\n\n# This file provides links between current names for time zones\n# and their old names.  Many names changed in late 1993.\n\nLink\tAfrica/Asmara\t\tAfrica/Asmera\nLink\tAfrica/Bamako\t\tAfrica/Timbuktu\nLink\tAmerica/Argentina/Catamarca\tAmerica/Argentina/ComodRivadavia\nLink\tAmerica/Adak\t\tAmerica/Atka\nLink\tAmerica/Argentina/Buenos_Aires\tAmerica/Buenos_Aires\nLink\tAmerica/Argentina/Catamarca\tAmerica/Catamarca\nLink\tAmerica/Atikokan\tAmerica/Coral_Harbour\nLink\tAmerica/Argentina/Cordoba\tAmerica/Cordoba\nLink\tAmerica/Tijuana\t\tAmerica/Ensenada\nLink\tAmerica/Indiana/Indianapolis\tAmerica/Fort_Wayne\nLink\tAmerica/Indiana/Indianapolis\tAmerica/Indianapolis\nLink\tAmerica/Argentina/Jujuy\tAmerica/Jujuy\nLink\tAmerica/Indiana/Knox\tAmerica/Knox_IN\nLink\tAmerica/Kentucky/Louisville\tAmerica/Louisville\nLink\tAmerica/Argentina/Mendoza\tAmerica/Mendoza\nLink\tAmerica/Rio_Branco\tAmerica/Porto_Acre\nLink\tAmerica/Argentina/Cordoba\tAmerica/Rosario\nLink\tAmerica/Denver\t\tAmerica/Shiprock\nLink\tAmerica/Port_of_Spain\tAmerica/Virgin\nLink\tPacific/Auckland\tAntarctica/South_Pole\nLink\tAsia/Ashgabat\t\tAsia/Ashkhabad\nLink\tAsia/Kolkata\t\tAsia/Calcutta\nLink\tAsia/Chongqing\t\tAsia/Chungking\nLink\tAsia/Dhaka\t\tAsia/Dacca\nLink\tAsia/Kathmandu\t\tAsia/Katmandu\nLink\tAsia/Macau\t\tAsia/Macao\nLink\tAsia/Ho_Chi_Minh\tAsia/Saigon\nLink\tAsia/Jerusalem\t\tAsia/Tel_Aviv\nLink\tAsia/Thimphu\t\tAsia/Thimbu\nLink\tAsia/Makassar\t\tAsia/Ujung_Pandang\nLink\tAsia/Ulaanbaatar\tAsia/Ulan_Bator\nLink\tAtlantic/Faroe\t\tAtlantic/Faeroe\nLink\tEurope/Oslo\t\tAtlantic/Jan_Mayen\nLink\tAustralia/Sydney\tAustralia/ACT\nLink\tAustralia/Sydney\tAustralia/Canberra\nLink\tAustralia/Lord_Howe\tAustralia/LHI\nLink\tAustralia/Sydney\tAustralia/NSW\nLink\tAustralia/Darwin\tAustralia/North\nLink\tAustralia/Brisbane\tAustralia/Queensland\nLink\tAustralia/Adelaide\tAustralia/South\nLink\tAustralia/Hobart\tAustralia/Tasmania\nLink\tAustralia/Melbourne\tAustralia/Victoria\nLink\tAustralia/Perth\t\tAustralia/West\nLink\tAustralia/Broken_Hill\tAustralia/Yancowinna\nLink\tAmerica/Rio_Branco\tBrazil/Acre\nLink\tAmerica/Noronha\t\tBrazil/DeNoronha\nLink\tAmerica/Sao_Paulo\tBrazil/East\nLink\tAmerica/Manaus\t\tBrazil/West\nLink\tAmerica/Halifax\t\tCanada/Atlantic\nLink\tAmerica/Winnipeg\tCanada/Central\nLink\tAmerica/Regina\t\tCanada/East-Saskatchewan\nLink\tAmerica/Toronto\t\tCanada/Eastern\nLink\tAmerica/Edmonton\tCanada/Mountain\nLink\tAmerica/St_Johns\tCanada/Newfoundland\nLink\tAmerica/Vancouver\tCanada/Pacific\nLink\tAmerica/Regina\t\tCanada/Saskatchewan\nLink\tAmerica/Whitehorse\tCanada/Yukon\nLink\tAmerica/Santiago\tChile/Continental\nLink\tPacific/Easter\t\tChile/EasterIsland\nLink\tAmerica/Havana\t\tCuba\nLink\tAfrica/Cairo\t\tEgypt\nLink\tEurope/Dublin\t\tEire\nLink\tEurope/London\t\tEurope/Belfast\nLink\tEurope/Chisinau\t\tEurope/Tiraspol\nLink\tEurope/London\t\tGB\nLink\tEurope/London\t\tGB-Eire\nLink\tEtc/GMT\t\t\tGMT+0\nLink\tEtc/GMT\t\t\tGMT-0\nLink\tEtc/GMT\t\t\tGMT0\nLink\tEtc/GMT\t\t\tGreenwich\nLink\tAsia/Hong_Kong\t\tHongkong\nLink\tAtlantic/Reykjavik\tIceland\nLink\tAsia/Tehran\t\tIran\nLink\tAsia/Jerusalem\t\tIsrael\nLink\tAmerica/Jamaica\t\tJamaica\nLink\tAsia/Tokyo\t\tJapan\nLink\tPacific/Kwajalein\tKwajalein\nLink\tAfrica/Tripoli\t\tLibya\nLink\tAmerica/Tijuana\t\tMexico/BajaNorte\nLink\tAmerica/Mazatlan\tMexico/BajaSur\nLink\tAmerica/Mexico_City\tMexico/General\nLink\tPacific/Auckland\tNZ\nLink\tPacific/Chatham\t\tNZ-CHAT\nLink\tAmerica/Denver\t\tNavajo\nLink\tAsia/Shanghai\t\tPRC\nLink\tPacific/Pohnpei\t\tPacific/Ponape\nLink\tPacific/Pago_Pago\tPacific/Samoa\nLink\tPacific/Chuuk\t\tPacific/Truk\nLink\tPacific/Chuuk\t\tPacific/Yap\nLink\tEurope/Warsaw\t\tPoland\nLink\tEurope/Lisbon\t\tPortugal\nLink\tAsia/Taipei\t\tROC\nLink\tAsia/Seoul\t\tROK\nLink\tAsia/Singapore\t\tSingapore\nLink\tEurope/Istanbul\t\tTurkey\nLink\tEtc/UCT\t\t\tUCT\nLink\tAmerica/Anchorage\tUS/Alaska\nLink\tAmerica/Adak\t\tUS/Aleutian\nLink\tAmerica/Phoenix\t\tUS/Arizona\nLink\tAmerica/Chicago\t\tUS/Central\nLink\tAmerica/Indiana/Indianapolis\tUS/East-Indiana\nLink\tAmerica/New_York\tUS/Eastern\nLink\tPacific/Honolulu\tUS/Hawaii\nLink\tAmerica/Indiana/Knox\tUS/Indiana-Starke\nLink\tAmerica/Detroit\t\tUS/Michigan\nLink\tAmerica/Denver\t\tUS/Mountain\nLink\tAmerica/Los_Angeles\tUS/Pacific\nLink\tPacific/Pago_Pago\tUS/Samoa\nLink\tEtc/UTC\t\t\tUTC\nLink\tEtc/UTC\t\t\tUniversal\nLink\tEurope/Moscow\t\tW-SU\nLink\tEtc/UTC\t\t\tZulu\n";

zone_files['etcetera'] = "# <pre>\n# This file is in the public domain, so clarified as of\n# 2009-05-17 by Arthur David Olson.\n\n# These entries are mostly present for historical reasons, so that\n# people in areas not otherwise covered by the tz files could \"zic -l\"\n# to a time zone that was right for their area.  These days, the\n# tz files cover almost all the inhabited world, and the only practical\n# need now for the entries that are not on UTC are for ships at sea\n# that cannot use POSIX TZ settings.\n\nZone\tEtc/GMT\t\t0\t-\tGMT\nZone\tEtc/UTC\t\t0\t-\tUTC\nZone\tEtc/UCT\t\t0\t-\tUCT\n\n# The following link uses older naming conventions,\n# but it belongs here, not in the file `backward',\n# as functions like gmtime load the \"GMT\" file to handle leap seconds properly.\n# We want this to work even on installations that omit the other older names.\nLink\tEtc/GMT\t\t\t\tGMT\n\nLink\tEtc/UTC\t\t\t\tEtc/Universal\nLink\tEtc/UTC\t\t\t\tEtc/Zulu\n\nLink\tEtc/GMT\t\t\t\tEtc/Greenwich\nLink\tEtc/GMT\t\t\t\tEtc/GMT-0\nLink\tEtc/GMT\t\t\t\tEtc/GMT+0\nLink\tEtc/GMT\t\t\t\tEtc/GMT0\n\n# We use POSIX-style signs in the Zone names and the output abbreviations,\n# even though this is the opposite of what many people expect.\n# POSIX has positive signs west of Greenwich, but many people expect\n# positive signs east of Greenwich.  For example, TZ='Etc/GMT+4' uses\n# the abbreviation \"GMT+4\" and corresponds to 4 hours behind UT\n# (i.e. west of Greenwich) even though many people would expect it to\n# mean 4 hours ahead of UT (i.e. east of Greenwich).\n#\n# In the draft 5 of POSIX 1003.1-200x, the angle bracket notation allows for\n# TZ='<GMT-4>+4'; if you want time zone abbreviations conforming to\n# ISO 8601 you can use TZ='<-0400>+4'.  Thus the commonly-expected\n# offset is kept within the angle bracket (and is used for display)\n# while the POSIX sign is kept outside the angle bracket (and is used\n# for calculation).\n#\n# Do not use a TZ setting like TZ='GMT+4', which is four hours behind\n# GMT but uses the completely misleading abbreviation \"GMT\".\n\n# Earlier incarnations of this package were not POSIX-compliant,\n# and had lines such as\n#\t\tZone\tGMT-12\t\t-12\t-\tGMT-1200\n# We did not want things to change quietly if someone accustomed to the old\n# way does a\n#\t\tzic -l GMT-12\n# so we moved the names into the Etc subdirectory.\n\nZone\tEtc/GMT-14\t14\t-\tGMT-14\t# 14 hours ahead of GMT\nZone\tEtc/GMT-13\t13\t-\tGMT-13\nZone\tEtc/GMT-12\t12\t-\tGMT-12\nZone\tEtc/GMT-11\t11\t-\tGMT-11\nZone\tEtc/GMT-10\t10\t-\tGMT-10\nZone\tEtc/GMT-9\t9\t-\tGMT-9\nZone\tEtc/GMT-8\t8\t-\tGMT-8\nZone\tEtc/GMT-7\t7\t-\tGMT-7\nZone\tEtc/GMT-6\t6\t-\tGMT-6\nZone\tEtc/GMT-5\t5\t-\tGMT-5\nZone\tEtc/GMT-4\t4\t-\tGMT-4\nZone\tEtc/GMT-3\t3\t-\tGMT-3\nZone\tEtc/GMT-2\t2\t-\tGMT-2\nZone\tEtc/GMT-1\t1\t-\tGMT-1\nZone\tEtc/GMT+1\t-1\t-\tGMT+1\nZone\tEtc/GMT+2\t-2\t-\tGMT+2\nZone\tEtc/GMT+3\t-3\t-\tGMT+3\nZone\tEtc/GMT+4\t-4\t-\tGMT+4\nZone\tEtc/GMT+5\t-5\t-\tGMT+5\nZone\tEtc/GMT+6\t-6\t-\tGMT+6\nZone\tEtc/GMT+7\t-7\t-\tGMT+7\nZone\tEtc/GMT+8\t-8\t-\tGMT+8\nZone\tEtc/GMT+9\t-9\t-\tGMT+9\nZone\tEtc/GMT+10\t-10\t-\tGMT+10\nZone\tEtc/GMT+11\t-11\t-\tGMT+11\nZone\tEtc/GMT+12\t-12\t-\tGMT+12\n";

zone_files['europe'] = "# <pre>\n# This file is in the public domain, so clarified as of\n# 2009-05-17 by Arthur David Olson.\n\n# This data is by no means authoritative; if you think you know better,\n# go ahead and edit the file (and please send any changes to\n# tz@iana.org for general use in the future).\n\n# From Paul Eggert (2006-03-22):\n# A good source for time zone historical data outside the U.S. is\n# Thomas G. Shanks and Rique Pottenger, The International Atlas (6th edition),\n# San Diego: ACS Publications, Inc. (2003).\n#\n# Gwillim Law writes that a good source\n# for recent time zone data is the International Air Transport\n# Association's Standard Schedules Information Manual (IATA SSIM),\n# published semiannually.  Law sent in several helpful summaries\n# of the IATA's data after 1990.\n#\n# Except where otherwise noted, Shanks & Pottenger is the source for\n# entries through 1991, and IATA SSIM is the source for entries afterwards.\n#\n# Other sources occasionally used include:\n#\n#\tEdward W. Whitman, World Time Differences,\n#\tWhitman Publishing Co, 2 Niagara Av, Ealing, London (undated),\n#\twhich I found in the UCLA library.\n#\n#\t<a href=\"http://www.pettswoodvillage.co.uk/Daylight_Savings_William_Willett.pdf\">\n#\tWilliam Willett, The Waste of Daylight, 19th edition\n#\t</a> (1914-03)\n#\n#\tMilne J. Civil time. Geogr J. 1899 Feb;13(2):173-94\n#\t<http://www.jstor.org/stable/1774359>.  He writes:\n#\t\"It is requested that corrections and additions to these tables\n#\tmay be sent to Mr. John Milne, Royal Geographical Society,\n#\tSavile Row, London.\"  Nowadays please email them to tz@iana.org.\n#\n#\tBrazil's Departamento Servico da Hora (DSH),\n#\t<a href=\"http://pcdsh01.on.br/HISTHV.htm\">\n#\tHistory of Summer Time\n#\t</a> (1998-09-21, in Portuguese)\n\n#\n# I invented the abbreviations marked '*' in the following table;\n# the rest are from earlier versions of this file, or from other sources.\n# Corrections are welcome!\n#                   std dst  2dst\n#                   LMT           Local Mean Time\n#       -4:00       AST ADT       Atlantic\n#       -3:00       WGT WGST      Western Greenland*\n#       -1:00       EGT EGST      Eastern Greenland*\n#        0:00       GMT BST  BDST Greenwich, British Summer\n#        0:00       GMT IST       Greenwich, Irish Summer\n#        0:00       WET WEST WEMT Western Europe\n#        0:19:32.13 AMT NST       Amsterdam, Netherlands Summer (1835-1937)*\n#        0:20       NET NEST      Netherlands (1937-1940)*\n#        1:00       CET CEST CEMT Central Europe\n#        1:00:14    SET           Swedish (1879-1899)*\n#        2:00       EET EEST      Eastern Europe\n#        3:00       MSK MSD       Moscow\n#\n# A reliable and entertaining source about time zones, especially in Britain,\n# Derek Howse, Greenwich time and longitude, Philip Wilson Publishers (1997).\n\n# From Peter Ilieve (1994-12-04),\n# The original six [EU members]: Belgium, France, (West) Germany, Italy,\n# Luxembourg, the Netherlands.\n# Plus, from 1 Jan 73: Denmark, Ireland, United Kingdom.\n# Plus, from 1 Jan 81: Greece.\n# Plus, from 1 Jan 86: Spain, Portugal.\n# Plus, from 1 Jan 95: Austria, Finland, Sweden. (Norway negotiated terms for\n# entry but in a referendum on 28 Nov 94 the people voted No by 52.2% to 47.8%\n# on a turnout of 88.6%. This was almost the same result as Norway's previous\n# referendum in 1972, they are the only country to have said No twice.\n# Referendums in the other three countries voted Yes.)\n# ...\n# Estonia ... uses EU dates but not at 01:00 GMT, they use midnight GMT.\n# I don't think they know yet what they will do from 1996 onwards.\n# ...\n# There shouldn't be any [current members who are not using EU rules].\n# A Directive has the force of law, member states are obliged to enact\n# national law to implement it. The only contentious issue was the\n# different end date for the UK and Ireland, and this was always allowed\n# in the Directive.\n\n\n###############################################################################\n\n# Britain (United Kingdom) and Ireland (Eire)\n\n# From Peter Ilieve (1994-07-06):\n#\n# On 17 Jan 1994 the Independent, a UK quality newspaper, had a piece about\n# historical vistas along the Thames in west London. There was a photo\n# and a sketch map showing some of the sightlines involved. One paragraph\n# of the text said:\n#\n# 'An old stone obelisk marking a forgotten terrestrial meridian stands\n# beside the river at Kew. In the 18th century, before time and longitude\n# was standardised by the Royal Observatory in Greenwich, scholars observed\n# this stone and the movement of stars from Kew Observatory nearby. They\n# made their calculations and set the time for the Horse Guards and Parliament,\n# but now the stone is obscured by scrubwood and can only be seen by walking\n# along the towpath within a few yards of it.'\n#\n# I have a one inch to one mile map of London and my estimate of the stone's\n# position is 51 deg. 28' 30\" N, 0 deg. 18' 45\" W. The longitude should\n# be within about +-2\". The Ordnance Survey grid reference is TQ172761.\n#\n# [This yields GMTOFF = -0:01:15 for London LMT in the 18th century.]\n\n# From Paul Eggert (1993-11-18):\n#\n# Howse writes that Britain was the first country to use standard time.\n# The railways cared most about the inconsistencies of local mean time,\n# and it was they who forced a uniform time on the country.\n# The original idea was credited to Dr. William Hyde Wollaston (1766-1828)\n# and was popularized by Abraham Follett Osler (1808-1903).\n# The first railway to adopt London time was the Great Western Railway\n# in November 1840; other railways followed suit, and by 1847 most\n# (though not all) railways used London time.  On 1847-09-22 the\n# Railway Clearing House, an industry standards body, recommended that GMT be\n# adopted at all stations as soon as the General Post Office permitted it.\n# The transition occurred on 12-01 for the L&NW, the Caledonian,\n# and presumably other railways; the January 1848 Bradshaw's lists many\n# railways as using GMT.  By 1855 the vast majority of public\n# clocks in Britain were set to GMT (though some, like the great clock\n# on Tom Tower at Christ Church, Oxford, were fitted with two minute hands,\n# one for local time and one for GMT).  The last major holdout was the legal\n# system, which stubbornly stuck to local time for many years, leading\n# to oddities like polls opening at 08:13 and closing at 16:13.\n# The legal system finally switched to GMT when the Statutes (Definition\n# of Time) Act took effect; it received the Royal Assent on 1880-08-02.\n#\n# In the tables below, we condense this complicated story into a single\n# transition date for London, namely 1847-12-01.  We don't know as much\n# about Dublin, so we use 1880-08-02, the legal transition time.\n\n# From Paul Eggert (2003-09-27):\n# Summer Time was first seriously proposed by William Willett (1857-1915),\n# a London builder and member of the Royal Astronomical Society\n# who circulated a pamphlet \"The Waste of Daylight\" (1907)\n# that proposed advancing clocks 20 minutes on each of four Sundays in April,\n# and retarding them by the same amount on four Sundays in September.\n# A bill was drafted in 1909 and introduced in Parliament several times,\n# but it met with ridicule and opposition, especially from farming interests.\n# Later editions of the pamphlet proposed one-hour summer time, and\n# it was eventually adopted as a wartime measure in 1916.\n# See: Summer Time Arrives Early, The Times (2000-05-18).\n# A monument to Willett was unveiled on 1927-05-21, in an open space in\n# a 45-acre wood near Chislehurst, Kent that was purchased by popular\n# subscription and open to the public.  On the south face of the monolith,\n# designed by G. W. Miller, is the...William Willett Memorial Sundial,\n# which is permanently set to Summer Time.\n\n# From Winston Churchill (1934-04-28):\n# It is one of the paradoxes of history that we should owe the boon of\n# summer time, which gives every year to the people of this country\n# between 160 and 170 hours more daylight leisure, to a war which\n# plunged Europe into darkness for four years, and shook the\n# foundations of civilization throughout the world.\n#\t-- <a href=\"http://www.winstonchurchill.org/fh114willett.htm\">\n#\t\"A Silent Toast to William Willett\", Pictorial Weekly\n#\t</a>\n\n# From Paul Eggert (1996-09-03):\n# The OED Supplement says that the English originally said \"Daylight Saving\"\n# when they were debating the adoption of DST in 1908; but by 1916 this\n# term appears only in quotes taken from DST's opponents, whereas the\n# proponents (who eventually won the argument) are quoted as using \"Summer\".\n\n# From Arthur David Olson (1989-01-19):\n#\n# A source at the British Information Office in New York avers that it's\n# known as \"British\" Summer Time in all parts of the United Kingdom.\n\n# Date: 4 Jan 89 08:57:25 GMT (Wed)\n# From: Jonathan Leffler\n# [British Summer Time] is fixed annually by Act of Parliament.\n# If you can predict what Parliament will do, you should be in\n# politics making a fortune, not computing.\n\n# From Chris Carrier (1996-06-14):\n# I remember reading in various wartime issues of the London Times the\n# acronym BDST for British Double Summer Time.  Look for the published\n# time of sunrise and sunset in The Times, when BDST was in effect, and\n# if you find a zone reference it will say, \"All times B.D.S.T.\"\n\n# From Joseph S. Myers (1999-09-02):\n# ... some military cables (WO 219/4100 - this is a copy from the\n# main SHAEF archives held in the US National Archives, SHAEF/5252/8/516)\n# agree that the usage is BDST (this appears in a message dated 17 Feb 1945).\n\n# From Joseph S. Myers (2000-10-03):\n# On 18th April 1941, Sir Stephen Tallents of the BBC wrote to Sir\n# Alexander Maxwell of the Home Office asking whether there was any\n# official designation; the reply of the 21st was that there wasn't\n# but he couldn't think of anything better than the \"Double British\n# Summer Time\" that the BBC had been using informally.\n# http://student.cusu.cam.ac.uk/~jsm28/british-time/bbc-19410418.png\n# http://student.cusu.cam.ac.uk/~jsm28/british-time/ho-19410421.png\n\n# From Sir Alexander Maxwell in the above-mentioned letter (1941-04-21):\n# [N]o official designation has as far as I know been adopted for the time\n# which is to be introduced in May....\n# I cannot think of anything better than \"Double British Summer Time\"\n# which could not be said to run counter to any official description.\n\n# From Paul Eggert (2000-10-02):\n# Howse writes (p 157) 'DBST' too, but 'BDST' seems to have been common\n# and follows the more usual convention of putting the location name first,\n# so we use 'BDST'.\n\n# Peter Ilieve (1998-04-19) described at length\n# the history of summer time legislation in the United Kingdom.\n# Since 1998 Joseph S. Myers has been updating\n# and extending this list, which can be found in\n# http://student.cusu.cam.ac.uk/~jsm28/british-time/\n# <a href=\"http://www.polyomino.org.uk/british-time/\">\n# History of legal time in Britain\n# </a>\n# Rob Crowther (2012-01-04) reports that that URL no longer\n# exists, and the article can now be found at:\n# <a href=\"http://www.polyomino.org.uk/british-time/\">\n# http://www.polyomino.org.uk/british-time/\n# </a>\n\n# From Joseph S. Myers (1998-01-06):\n#\n# The legal time in the UK outside of summer time is definitely GMT, not UTC;\n# see Lord Tanlaw's speech\n# <a href=\"http://www.parliament.the-stationery-office.co.uk/pa/ld199697/ldhansrd/pdvn/lds97/text/70611-20.htm#70611-20_head0\">\n# (Lords Hansard 11 June 1997 columns 964 to 976)\n# </a>.\n\n# From Paul Eggert (2006-03-22):\n#\n# For lack of other data, follow Shanks & Pottenger for Eire in 1940-1948.\n#\n# Given Ilieve and Myers's data, the following claims by Shanks & Pottenger\n# are incorrect:\n#     * Wales did not switch from GMT to daylight saving time until\n#\t1921 Apr 3, when they began to conform with the rest of Great Britain.\n# Actually, Wales was identical after 1880.\n#     * Eire had two transitions on 1916 Oct 1.\n# It actually just had one transition.\n#     * Northern Ireland used single daylight saving time throughout WW II.\n# Actually, it conformed to Britain.\n#     * GB-Eire changed standard time to 1 hour ahead of GMT on 1968-02-18.\n# Actually, that date saw the usual switch to summer time.\n# Standard time was not changed until 1968-10-27 (the clocks didn't change).\n#\n# Here is another incorrect claim by Shanks & Pottenger:\n#     * Jersey, Guernsey, and the Isle of Man did not switch from GMT\n#\tto daylight saving time until 1921 Apr 3, when they began to\n#\tconform with Great Britain.\n# S.R.&O. 1916, No. 382 and HO 45/10811/312364 (quoted above) say otherwise.\n#\n# The following claim by Shanks & Pottenger is possible though doubtful;\n# we'll ignore it for now.\n#     * Dublin's 1971-10-31 switch was at 02:00, even though London's was 03:00.\n#\n#\n# Whitman says Dublin Mean Time was -0:25:21, which is more precise than\n# Shanks & Pottenger.\n# Perhaps this was Dunsink Observatory Time, as Dunsink Observatory\n# (8 km NW of Dublin's center) seemingly was to Dublin as Greenwich was\n# to London.  For example:\n#\n#   \"Timeball on the ballast office is down.  Dunsink time.\"\n#   -- James Joyce, Ulysses\n\n# From Joseph S. Myers (2005-01-26):\n# Irish laws are available online at www.irishstatutebook.ie.  These include\n# various relating to legal time, for example:\n#\n# ZZA13Y1923.html ZZA12Y1924.html ZZA8Y1925.html ZZSIV20PG1267.html\n#\n# ZZSI71Y1947.html ZZSI128Y1948.html ZZSI23Y1949.html ZZSI41Y1950.html\n# ZZSI27Y1951.html ZZSI73Y1952.html\n#\n# ZZSI11Y1961.html ZZSI232Y1961.html ZZSI182Y1962.html\n# ZZSI167Y1963.html ZZSI257Y1964.html ZZSI198Y1967.html\n# ZZA23Y1968.html ZZA17Y1971.html\n#\n# ZZSI67Y1981.html ZZSI212Y1982.html ZZSI45Y1986.html\n# ZZSI264Y1988.html ZZSI52Y1990.html ZZSI371Y1992.html\n# ZZSI395Y1994.html ZZSI484Y1997.html ZZSI506Y2001.html\n#\n# [These are all relative to the root, e.g., the first is\n# <http://www.irishstatutebook.ie/ZZA13Y1923.html>.]\n#\n# (These are those I found, but there could be more.  In any case these\n# should allow various updates to the comments in the europe file to cover\n# the laws applicable in Ireland.)\n#\n# (Note that the time in the Republic of Ireland since 1968 has been defined\n# in terms of standard time being GMT+1 with a period of winter time when it\n# is GMT, rather than standard time being GMT with a period of summer time\n# being GMT+1.)\n\n# From Paul Eggert (1999-03-28):\n# Clive Feather (<news:859845706.26043.0@office.demon.net>, 1997-03-31)\n# reports that Folkestone (Cheriton) Shuttle Terminal uses Concession Time\n# (CT), equivalent to French civil time.\n# Julian Hill (<news:36118128.5A14@virgin.net>, 1998-09-30) reports that\n# trains between Dollands Moor (the freight facility next door)\n# and Frethun run in CT.\n# My admittedly uninformed guess is that the terminal has two authorities,\n# the French concession operators and the British civil authorities,\n# and that the time depends on who you're talking to.\n# If, say, the British police were called to the station for some reason,\n# I would expect the official police report to use GMT/BST and not CET/CEST.\n# This is a borderline case, but for now let's stick to GMT/BST.\n\n# From an anonymous contributor (1996-06-02):\n# The law governing time in Ireland is under Statutory Instrument SI 395/94,\n# which gives force to European Union 7th Council Directive # 94/21/EC.\n# Under this directive, the Minister for Justice in Ireland makes appropriate\n# regulations. I spoke this morning with the Secretary of the Department of\n# Justice (tel +353 1 678 9711) who confirmed to me that the correct name is\n# \"Irish Summer Time\", abbreviated to \"IST\".\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\n# Summer Time Act, 1916\nRule\tGB-Eire\t1916\tonly\t-\tMay\t21\t2:00s\t1:00\tBST\nRule\tGB-Eire\t1916\tonly\t-\tOct\t 1\t2:00s\t0\tGMT\n# S.R.&O. 1917, No. 358\nRule\tGB-Eire\t1917\tonly\t-\tApr\t 8\t2:00s\t1:00\tBST\nRule\tGB-Eire\t1917\tonly\t-\tSep\t17\t2:00s\t0\tGMT\n# S.R.&O. 1918, No. 274\nRule\tGB-Eire\t1918\tonly\t-\tMar\t24\t2:00s\t1:00\tBST\nRule\tGB-Eire\t1918\tonly\t-\tSep\t30\t2:00s\t0\tGMT\n# S.R.&O. 1919, No. 297\nRule\tGB-Eire\t1919\tonly\t-\tMar\t30\t2:00s\t1:00\tBST\nRule\tGB-Eire\t1919\tonly\t-\tSep\t29\t2:00s\t0\tGMT\n# S.R.&O. 1920, No. 458\nRule\tGB-Eire\t1920\tonly\t-\tMar\t28\t2:00s\t1:00\tBST\n# S.R.&O. 1920, No. 1844\nRule\tGB-Eire\t1920\tonly\t-\tOct\t25\t2:00s\t0\tGMT\n# S.R.&O. 1921, No. 363\nRule\tGB-Eire\t1921\tonly\t-\tApr\t 3\t2:00s\t1:00\tBST\nRule\tGB-Eire\t1921\tonly\t-\tOct\t 3\t2:00s\t0\tGMT\n# S.R.&O. 1922, No. 264\nRule\tGB-Eire\t1922\tonly\t-\tMar\t26\t2:00s\t1:00\tBST\nRule\tGB-Eire\t1922\tonly\t-\tOct\t 8\t2:00s\t0\tGMT\n# The Summer Time Act, 1922\nRule\tGB-Eire\t1923\tonly\t-\tApr\tSun>=16\t2:00s\t1:00\tBST\nRule\tGB-Eire\t1923\t1924\t-\tSep\tSun>=16\t2:00s\t0\tGMT\nRule\tGB-Eire\t1924\tonly\t-\tApr\tSun>=9\t2:00s\t1:00\tBST\nRule\tGB-Eire\t1925\t1926\t-\tApr\tSun>=16\t2:00s\t1:00\tBST\n# The Summer Time Act, 1925\nRule\tGB-Eire\t1925\t1938\t-\tOct\tSun>=2\t2:00s\t0\tGMT\nRule\tGB-Eire\t1927\tonly\t-\tApr\tSun>=9\t2:00s\t1:00\tBST\nRule\tGB-Eire\t1928\t1929\t-\tApr\tSun>=16\t2:00s\t1:00\tBST\nRule\tGB-Eire\t1930\tonly\t-\tApr\tSun>=9\t2:00s\t1:00\tBST\nRule\tGB-Eire\t1931\t1932\t-\tApr\tSun>=16\t2:00s\t1:00\tBST\nRule\tGB-Eire\t1933\tonly\t-\tApr\tSun>=9\t2:00s\t1:00\tBST\nRule\tGB-Eire\t1934\tonly\t-\tApr\tSun>=16\t2:00s\t1:00\tBST\nRule\tGB-Eire\t1935\tonly\t-\tApr\tSun>=9\t2:00s\t1:00\tBST\nRule\tGB-Eire\t1936\t1937\t-\tApr\tSun>=16\t2:00s\t1:00\tBST\nRule\tGB-Eire\t1938\tonly\t-\tApr\tSun>=9\t2:00s\t1:00\tBST\nRule\tGB-Eire\t1939\tonly\t-\tApr\tSun>=16\t2:00s\t1:00\tBST\n# S.R.&O. 1939, No. 1379\nRule\tGB-Eire\t1939\tonly\t-\tNov\tSun>=16\t2:00s\t0\tGMT\n# S.R.&O. 1940, No. 172 and No. 1883\nRule\tGB-Eire\t1940\tonly\t-\tFeb\tSun>=23\t2:00s\t1:00\tBST\n# S.R.&O. 1941, No. 476\nRule\tGB-Eire\t1941\tonly\t-\tMay\tSun>=2\t1:00s\t2:00\tBDST\nRule\tGB-Eire\t1941\t1943\t-\tAug\tSun>=9\t1:00s\t1:00\tBST\n# S.R.&O. 1942, No. 506\nRule\tGB-Eire\t1942\t1944\t-\tApr\tSun>=2\t1:00s\t2:00\tBDST\n# S.R.&O. 1944, No. 932\nRule\tGB-Eire\t1944\tonly\t-\tSep\tSun>=16\t1:00s\t1:00\tBST\n# S.R.&O. 1945, No. 312\nRule\tGB-Eire\t1945\tonly\t-\tApr\tMon>=2\t1:00s\t2:00\tBDST\nRule\tGB-Eire\t1945\tonly\t-\tJul\tSun>=9\t1:00s\t1:00\tBST\n# S.R.&O. 1945, No. 1208\nRule\tGB-Eire\t1945\t1946\t-\tOct\tSun>=2\t2:00s\t0\tGMT\nRule\tGB-Eire\t1946\tonly\t-\tApr\tSun>=9\t2:00s\t1:00\tBST\n# The Summer Time Act, 1947\nRule\tGB-Eire\t1947\tonly\t-\tMar\t16\t2:00s\t1:00\tBST\nRule\tGB-Eire\t1947\tonly\t-\tApr\t13\t1:00s\t2:00\tBDST\nRule\tGB-Eire\t1947\tonly\t-\tAug\t10\t1:00s\t1:00\tBST\nRule\tGB-Eire\t1947\tonly\t-\tNov\t 2\t2:00s\t0\tGMT\n# Summer Time Order, 1948 (S.I. 1948/495)\nRule\tGB-Eire\t1948\tonly\t-\tMar\t14\t2:00s\t1:00\tBST\nRule\tGB-Eire\t1948\tonly\t-\tOct\t31\t2:00s\t0\tGMT\n# Summer Time Order, 1949 (S.I. 1949/373)\nRule\tGB-Eire\t1949\tonly\t-\tApr\t 3\t2:00s\t1:00\tBST\nRule\tGB-Eire\t1949\tonly\t-\tOct\t30\t2:00s\t0\tGMT\n# Summer Time Order, 1950 (S.I. 1950/518)\n# Summer Time Order, 1951 (S.I. 1951/430)\n# Summer Time Order, 1952 (S.I. 1952/451)\nRule\tGB-Eire\t1950\t1952\t-\tApr\tSun>=14\t2:00s\t1:00\tBST\nRule\tGB-Eire\t1950\t1952\t-\tOct\tSun>=21\t2:00s\t0\tGMT\n# revert to the rules of the Summer Time Act, 1925\nRule\tGB-Eire\t1953\tonly\t-\tApr\tSun>=16\t2:00s\t1:00\tBST\nRule\tGB-Eire\t1953\t1960\t-\tOct\tSun>=2\t2:00s\t0\tGMT\nRule\tGB-Eire\t1954\tonly\t-\tApr\tSun>=9\t2:00s\t1:00\tBST\nRule\tGB-Eire\t1955\t1956\t-\tApr\tSun>=16\t2:00s\t1:00\tBST\nRule\tGB-Eire\t1957\tonly\t-\tApr\tSun>=9\t2:00s\t1:00\tBST\nRule\tGB-Eire\t1958\t1959\t-\tApr\tSun>=16\t2:00s\t1:00\tBST\nRule\tGB-Eire\t1960\tonly\t-\tApr\tSun>=9\t2:00s\t1:00\tBST\n# Summer Time Order, 1961 (S.I. 1961/71)\n# Summer Time (1962) Order, 1961 (S.I. 1961/2465)\n# Summer Time Order, 1963 (S.I. 1963/81)\nRule\tGB-Eire\t1961\t1963\t-\tMar\tlastSun\t2:00s\t1:00\tBST\nRule\tGB-Eire\t1961\t1968\t-\tOct\tSun>=23\t2:00s\t0\tGMT\n# Summer Time (1964) Order, 1963 (S.I. 1963/2101)\n# Summer Time Order, 1964 (S.I. 1964/1201)\n# Summer Time Order, 1967 (S.I. 1967/1148)\nRule\tGB-Eire\t1964\t1967\t-\tMar\tSun>=19\t2:00s\t1:00\tBST\n# Summer Time Order, 1968 (S.I. 1968/117)\nRule\tGB-Eire\t1968\tonly\t-\tFeb\t18\t2:00s\t1:00\tBST\n# The British Standard Time Act, 1968\n#\t(no summer time)\n# The Summer Time Act, 1972\nRule\tGB-Eire\t1972\t1980\t-\tMar\tSun>=16\t2:00s\t1:00\tBST\nRule\tGB-Eire\t1972\t1980\t-\tOct\tSun>=23\t2:00s\t0\tGMT\n# Summer Time Order, 1980 (S.I. 1980/1089)\n# Summer Time Order, 1982 (S.I. 1982/1673)\n# Summer Time Order, 1986 (S.I. 1986/223)\n# Summer Time Order, 1988 (S.I. 1988/931)\nRule\tGB-Eire\t1981\t1995\t-\tMar\tlastSun\t1:00u\t1:00\tBST\nRule\tGB-Eire 1981\t1989\t-\tOct\tSun>=23\t1:00u\t0\tGMT\n# Summer Time Order, 1989 (S.I. 1989/985)\n# Summer Time Order, 1992 (S.I. 1992/1729)\n# Summer Time Order 1994 (S.I. 1994/2798)\nRule\tGB-Eire 1990\t1995\t-\tOct\tSun>=22\t1:00u\t0\tGMT\n# Summer Time Order 1997 (S.I. 1997/2982)\n# See EU for rules starting in 1996.\n#\n# Use Europe/London for Jersey, Guernsey, and the Isle of Man.\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tEurope/London\t-0:01:15 -\tLMT\t1847 Dec  1 0:00s\n\t\t\t 0:00\tGB-Eire\t%s\t1968 Oct 27\n\t\t\t 1:00\t-\tBST\t1971 Oct 31 2:00u\n\t\t\t 0:00\tGB-Eire\t%s\t1996\n\t\t\t 0:00\tEU\tGMT/BST\nLink\tEurope/London\tEurope/Jersey\nLink\tEurope/London\tEurope/Guernsey\nLink\tEurope/London\tEurope/Isle_of_Man\nZone\tEurope/Dublin\t-0:25:00 -\tLMT\t1880 Aug  2\n\t\t\t-0:25:21 -\tDMT\t1916 May 21 2:00\n\t\t\t-0:25:21 1:00\tIST\t1916 Oct  1 2:00s\n\t\t\t 0:00\tGB-Eire\t%s\t1921 Dec  6 # independence\n\t\t\t 0:00\tGB-Eire\tGMT/IST\t1940 Feb 25 2:00\n\t\t\t 0:00\t1:00\tIST\t1946 Oct  6 2:00\n\t\t\t 0:00\t-\tGMT\t1947 Mar 16 2:00\n\t\t\t 0:00\t1:00\tIST\t1947 Nov  2 2:00\n\t\t\t 0:00\t-\tGMT\t1948 Apr 18 2:00\n\t\t\t 0:00\tGB-Eire\tGMT/IST\t1968 Oct 27\n\t\t\t 1:00\t-\tIST\t1971 Oct 31 2:00u\n\t\t\t 0:00\tGB-Eire\tGMT/IST\t1996\n\t\t\t 0:00\tEU\tGMT/IST\n\n###############################################################################\n\n# Europe\n\n# EU rules are for the European Union, previously known as the EC, EEC,\n# Common Market, etc.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tEU\t1977\t1980\t-\tApr\tSun>=1\t 1:00u\t1:00\tS\nRule\tEU\t1977\tonly\t-\tSep\tlastSun\t 1:00u\t0\t-\nRule\tEU\t1978\tonly\t-\tOct\t 1\t 1:00u\t0\t-\nRule\tEU\t1979\t1995\t-\tSep\tlastSun\t 1:00u\t0\t-\nRule\tEU\t1981\tmax\t-\tMar\tlastSun\t 1:00u\t1:00\tS\nRule\tEU\t1996\tmax\t-\tOct\tlastSun\t 1:00u\t0\t-\n# The most recent directive covers the years starting in 2002.  See:\n# <a=\"http://eur-lex.europa.eu/LexUriServ/LexUriServ.do?uri=CELEX:32000L0084:EN:NOT\">\n# Directive 2000/84/EC of the European Parliament and of the Council\n# of 19 January 2001 on summer-time arrangements.\n# </a>\n\n# W-Eur differs from EU only in that W-Eur uses standard time.\nRule\tW-Eur\t1977\t1980\t-\tApr\tSun>=1\t 1:00s\t1:00\tS\nRule\tW-Eur\t1977\tonly\t-\tSep\tlastSun\t 1:00s\t0\t-\nRule\tW-Eur\t1978\tonly\t-\tOct\t 1\t 1:00s\t0\t-\nRule\tW-Eur\t1979\t1995\t-\tSep\tlastSun\t 1:00s\t0\t-\nRule\tW-Eur\t1981\tmax\t-\tMar\tlastSun\t 1:00s\t1:00\tS\nRule\tW-Eur\t1996\tmax\t-\tOct\tlastSun\t 1:00s\t0\t-\n\n# Older C-Eur rules are for convenience in the tables.\n# From 1977 on, C-Eur differs from EU only in that C-Eur uses standard time.\nRule\tC-Eur\t1916\tonly\t-\tApr\t30\t23:00\t1:00\tS\nRule\tC-Eur\t1916\tonly\t-\tOct\t 1\t 1:00\t0\t-\nRule\tC-Eur\t1917\t1918\t-\tApr\tMon>=15\t 2:00s\t1:00\tS\nRule\tC-Eur\t1917\t1918\t-\tSep\tMon>=15\t 2:00s\t0\t-\nRule\tC-Eur\t1940\tonly\t-\tApr\t 1\t 2:00s\t1:00\tS\nRule\tC-Eur\t1942\tonly\t-\tNov\t 2\t 2:00s\t0\t-\nRule\tC-Eur\t1943\tonly\t-\tMar\t29\t 2:00s\t1:00\tS\nRule\tC-Eur\t1943\tonly\t-\tOct\t 4\t 2:00s\t0\t-\nRule\tC-Eur\t1944\t1945\t-\tApr\tMon>=1\t 2:00s\t1:00\tS\n# Whitman gives 1944 Oct 7; go with Shanks & Pottenger.\nRule\tC-Eur\t1944\tonly\t-\tOct\t 2\t 2:00s\t0\t-\n# From Jesper Norgaard Welen (2008-07-13):\n#\n# I found what is probably a typo of 2:00 which should perhaps be 2:00s\n# in the C-Eur rule from tz database version 2008d (this part was\n# corrected in version 2008d). The circumstancial evidence is simply the\n# tz database itself, as seen below:\n#\n# Zone Europe/Paris 0:09:21 - LMT 1891 Mar 15  0:01\n#    0:00 France WE%sT 1945 Sep 16  3:00\n#\n# Zone Europe/Monaco 0:29:32 - LMT 1891 Mar 15\n#    0:00 France WE%sT 1945 Sep 16 3:00\n#\n# Zone Europe/Belgrade 1:22:00 - LMT 1884\n#    1:00 1:00 CEST 1945 Sep 16  2:00s\n#\n# Rule France 1945 only - Sep 16  3:00 0 -\n# Rule Belgium 1945 only - Sep 16  2:00s 0 -\n# Rule Neth 1945 only - Sep 16 2:00s 0 -\n#\n# The rule line to be changed is:\n#\n# Rule C-Eur 1945 only - Sep 16  2:00 0 -\n#\n# It seems that Paris, Monaco, Rule France, Rule Belgium all agree on\n# 2:00 standard time, e.g. 3:00 local time.  However there are no\n# countries that use C-Eur rules in September 1945, so the only items\n# affected are apparently these fictitious zones that translate acronyms\n# CET and MET:\n#\n# Zone CET  1:00 C-Eur CE%sT\n# Zone MET  1:00 C-Eur ME%sT\n#\n# It this is right then the corrected version would look like:\n#\n# Rule C-Eur 1945 only - Sep 16  2:00s 0 -\n#\n# A small step for mankind though 8-)\nRule\tC-Eur\t1945\tonly\t-\tSep\t16\t 2:00s\t0\t-\nRule\tC-Eur\t1977\t1980\t-\tApr\tSun>=1\t 2:00s\t1:00\tS\nRule\tC-Eur\t1977\tonly\t-\tSep\tlastSun\t 2:00s\t0\t-\nRule\tC-Eur\t1978\tonly\t-\tOct\t 1\t 2:00s\t0\t-\nRule\tC-Eur\t1979\t1995\t-\tSep\tlastSun\t 2:00s\t0\t-\nRule\tC-Eur\t1981\tmax\t-\tMar\tlastSun\t 2:00s\t1:00\tS\nRule\tC-Eur\t1996\tmax\t-\tOct\tlastSun\t 2:00s\t0\t-\n\n# E-Eur differs from EU only in that E-Eur switches at midnight local time.\nRule\tE-Eur\t1977\t1980\t-\tApr\tSun>=1\t 0:00\t1:00\tS\nRule\tE-Eur\t1977\tonly\t-\tSep\tlastSun\t 0:00\t0\t-\nRule\tE-Eur\t1978\tonly\t-\tOct\t 1\t 0:00\t0\t-\nRule\tE-Eur\t1979\t1995\t-\tSep\tlastSun\t 0:00\t0\t-\nRule\tE-Eur\t1981\tmax\t-\tMar\tlastSun\t 0:00\t1:00\tS\nRule\tE-Eur\t1996\tmax\t-\tOct\tlastSun\t 0:00\t0\t-\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tRussia\t1917\tonly\t-\tJul\t 1\t23:00\t1:00\tMST\t# Moscow Summer Time\nRule\tRussia\t1917\tonly\t-\tDec\t28\t 0:00\t0\tMMT\t# Moscow Mean Time\nRule\tRussia\t1918\tonly\t-\tMay\t31\t22:00\t2:00\tMDST\t# Moscow Double Summer Time\nRule\tRussia\t1918\tonly\t-\tSep\t16\t 1:00\t1:00\tMST\nRule\tRussia\t1919\tonly\t-\tMay\t31\t23:00\t2:00\tMDST\nRule\tRussia\t1919\tonly\t-\tJul\t 1\t 2:00\t1:00\tS\nRule\tRussia\t1919\tonly\t-\tAug\t16\t 0:00\t0\t-\nRule\tRussia\t1921\tonly\t-\tFeb\t14\t23:00\t1:00\tS\nRule\tRussia\t1921\tonly\t-\tMar\t20\t23:00\t2:00\tM # Midsummer\nRule\tRussia\t1921\tonly\t-\tSep\t 1\t 0:00\t1:00\tS\nRule\tRussia\t1921\tonly\t-\tOct\t 1\t 0:00\t0\t-\n# Act No.925 of the Council of Ministers of the USSR (1980-10-24):\nRule\tRussia\t1981\t1984\t-\tApr\t 1\t 0:00\t1:00\tS\nRule\tRussia\t1981\t1983\t-\tOct\t 1\t 0:00\t0\t-\n# Act No.967 of the Council of Ministers of the USSR (1984-09-13), repeated in\n# Act No.227 of the Council of Ministers of the USSR (1989-03-14):\nRule\tRussia\t1984\t1991\t-\tSep\tlastSun\t 2:00s\t0\t-\nRule\tRussia\t1985\t1991\t-\tMar\tlastSun\t 2:00s\t1:00\tS\n#\nRule\tRussia\t1992\tonly\t-\tMar\tlastSat\t 23:00\t1:00\tS\nRule\tRussia\t1992\tonly\t-\tSep\tlastSat\t 23:00\t0\t-\nRule\tRussia\t1993\t2010\t-\tMar\tlastSun\t 2:00s\t1:00\tS\nRule\tRussia\t1993\t1995\t-\tSep\tlastSun\t 2:00s\t0\t-\nRule\tRussia\t1996\t2010\t-\tOct\tlastSun\t 2:00s\t0\t-\n\n# From Alexander Krivenyshev (2011-06-14):\n# According to Kremlin press service, Russian President Dmitry Medvedev\n# signed a federal law \"On calculation of time\" on June 9, 2011.\n# According to the law Russia is abolishing daylight saving time.\n#\n# Medvedev signed a law \"On the Calculation of Time\" (in russian):\n# <a href=\"http://bmockbe.ru/events/?ID=7583\">\n# http://bmockbe.ru/events/?ID=7583\n# </a>\n#\n# Medvedev signed a law on the calculation of the time (in russian):\n# <a href=\"http://www.regnum.ru/news/polit/1413906.html\">\n# http://www.regnum.ru/news/polit/1413906.html\n# </a>\n\n# From Arthur David Olson (2011-06-15):\n# Take \"abolishing daylight saving time\" to mean that time is now considered\n# to be standard.\n\n# These are for backward compatibility with older versions.\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tWET\t\t0:00\tEU\tWE%sT\nZone\tCET\t\t1:00\tC-Eur\tCE%sT\nZone\tMET\t\t1:00\tC-Eur\tME%sT\nZone\tEET\t\t2:00\tEU\tEE%sT\n\n# Previous editions of this database used abbreviations like MET DST\n# for Central European Summer Time, but this didn't agree with common usage.\n\n# From Markus Kuhn (1996-07-12):\n# The official German names ... are\n#\n#\tMitteleuropaeische Zeit (MEZ)         = UTC+01:00\n#\tMitteleuropaeische Sommerzeit (MESZ)  = UTC+02:00\n#\n# as defined in the German Time Act (Gesetz ueber die Zeitbestimmung (ZeitG),\n# 1978-07-25, Bundesgesetzblatt, Jahrgang 1978, Teil I, S. 1110-1111)....\n# I wrote ... to the German Federal Physical-Technical Institution\n#\n#\tPhysikalisch-Technische Bundesanstalt (PTB)\n#\tLaboratorium 4.41 \"Zeiteinheit\"\n#\tPostfach 3345\n#\tD-38023 Braunschweig\n#\tphone: +49 531 592-0\n#\n# ... I received today an answer letter from Dr. Peter Hetzel, head of the PTB\n# department for time and frequency transmission.  He explained that the\n# PTB translates MEZ and MESZ into English as\n#\n#\tCentral European Time (CET)         = UTC+01:00\n#\tCentral European Summer Time (CEST) = UTC+02:00\n\n\n# Albania\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tAlbania\t1940\tonly\t-\tJun\t16\t0:00\t1:00\tS\nRule\tAlbania\t1942\tonly\t-\tNov\t 2\t3:00\t0\t-\nRule\tAlbania\t1943\tonly\t-\tMar\t29\t2:00\t1:00\tS\nRule\tAlbania\t1943\tonly\t-\tApr\t10\t3:00\t0\t-\nRule\tAlbania\t1974\tonly\t-\tMay\t 4\t0:00\t1:00\tS\nRule\tAlbania\t1974\tonly\t-\tOct\t 2\t0:00\t0\t-\nRule\tAlbania\t1975\tonly\t-\tMay\t 1\t0:00\t1:00\tS\nRule\tAlbania\t1975\tonly\t-\tOct\t 2\t0:00\t0\t-\nRule\tAlbania\t1976\tonly\t-\tMay\t 2\t0:00\t1:00\tS\nRule\tAlbania\t1976\tonly\t-\tOct\t 3\t0:00\t0\t-\nRule\tAlbania\t1977\tonly\t-\tMay\t 8\t0:00\t1:00\tS\nRule\tAlbania\t1977\tonly\t-\tOct\t 2\t0:00\t0\t-\nRule\tAlbania\t1978\tonly\t-\tMay\t 6\t0:00\t1:00\tS\nRule\tAlbania\t1978\tonly\t-\tOct\t 1\t0:00\t0\t-\nRule\tAlbania\t1979\tonly\t-\tMay\t 5\t0:00\t1:00\tS\nRule\tAlbania\t1979\tonly\t-\tSep\t30\t0:00\t0\t-\nRule\tAlbania\t1980\tonly\t-\tMay\t 3\t0:00\t1:00\tS\nRule\tAlbania\t1980\tonly\t-\tOct\t 4\t0:00\t0\t-\nRule\tAlbania\t1981\tonly\t-\tApr\t26\t0:00\t1:00\tS\nRule\tAlbania\t1981\tonly\t-\tSep\t27\t0:00\t0\t-\nRule\tAlbania\t1982\tonly\t-\tMay\t 2\t0:00\t1:00\tS\nRule\tAlbania\t1982\tonly\t-\tOct\t 3\t0:00\t0\t-\nRule\tAlbania\t1983\tonly\t-\tApr\t18\t0:00\t1:00\tS\nRule\tAlbania\t1983\tonly\t-\tOct\t 1\t0:00\t0\t-\nRule\tAlbania\t1984\tonly\t-\tApr\t 1\t0:00\t1:00\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tEurope/Tirane\t1:19:20 -\tLMT\t1914\n\t\t\t1:00\t-\tCET\t1940 Jun 16\n\t\t\t1:00\tAlbania\tCE%sT\t1984 Jul\n\t\t\t1:00\tEU\tCE%sT\n\n# Andorra\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tEurope/Andorra\t0:06:04 -\tLMT\t1901\n\t\t\t0:00\t-\tWET\t1946 Sep 30\n\t\t\t1:00\t-\tCET\t1985 Mar 31 2:00\n\t\t\t1:00\tEU\tCE%sT\n\n# Austria\n\n# Milne says Vienna time was 1:05:21.\n\n# From Paul Eggert (2006-03-22): Shanks & Pottenger give 1918-06-16 and\n# 1945-11-18, but the Austrian Federal Office of Metrology and\n# Surveying (BEV) gives 1918-09-16 and for Vienna gives the \"alleged\"\n# date of 1945-04-12 with no time.  For the 1980-04-06 transition\n# Shanks & Pottenger give 02:00, the BEV 00:00.  Go with the BEV,\n# and guess 02:00 for 1945-04-12.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tAustria\t1920\tonly\t-\tApr\t 5\t2:00s\t1:00\tS\nRule\tAustria\t1920\tonly\t-\tSep\t13\t2:00s\t0\t-\nRule\tAustria\t1946\tonly\t-\tApr\t14\t2:00s\t1:00\tS\nRule\tAustria\t1946\t1948\t-\tOct\tSun>=1\t2:00s\t0\t-\nRule\tAustria\t1947\tonly\t-\tApr\t 6\t2:00s\t1:00\tS\nRule\tAustria\t1948\tonly\t-\tApr\t18\t2:00s\t1:00\tS\nRule\tAustria\t1980\tonly\t-\tApr\t 6\t0:00\t1:00\tS\nRule\tAustria\t1980\tonly\t-\tSep\t28\t0:00\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tEurope/Vienna\t1:05:21 -\tLMT\t1893 Apr\n\t\t\t1:00\tC-Eur\tCE%sT\t1920\n\t\t\t1:00\tAustria\tCE%sT\t1940 Apr  1 2:00s\n\t\t\t1:00\tC-Eur\tCE%sT\t1945 Apr  2 2:00s\n\t\t\t1:00\t1:00\tCEST\t1945 Apr 12 2:00s\n\t\t\t1:00\t-\tCET\t1946\n\t\t\t1:00\tAustria\tCE%sT\t1981\n\t\t\t1:00\tEU\tCE%sT\n\n# Belarus\n# From Yauhen Kharuzhy (2011-09-16):\n# By latest Belarus government act Europe/Minsk timezone was changed to\n# GMT+3 without DST (was GMT+2 with DST).\n#\n# Sources (Russian language):\n# 1.\n# <a href=\"http://www.belta.by/ru/all_news/society/V-Belarusi-otmenjaetsja-perexod-na-sezonnoe-vremja_i_572952.html\">\n# http://www.belta.by/ru/all_news/society/V-Belarusi-otmenjaetsja-perexod-na-sezonnoe-vremja_i_572952.html\n# </a>\n# 2.\n# <a href=\"http://naviny.by/rubrics/society/2011/09/16/ic_articles_116_175144/\">\n# http://naviny.by/rubrics/society/2011/09/16/ic_articles_116_175144/\n# </a>\n# 3.\n# <a href=\"http://news.tut.by/society/250578.html\">\n# http://news.tut.by/society/250578.html\n# </a>\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tEurope/Minsk\t1:50:16 -\tLMT\t1880\n\t\t\t1:50\t-\tMMT\t1924 May 2 # Minsk Mean Time\n\t\t\t2:00\t-\tEET\t1930 Jun 21\n\t\t\t3:00\t-\tMSK\t1941 Jun 28\n\t\t\t1:00\tC-Eur\tCE%sT\t1944 Jul  3\n\t\t\t3:00\tRussia\tMSK/MSD\t1990\n\t\t\t3:00\t-\tMSK\t1991 Mar 31 2:00s\n\t\t\t2:00\t1:00\tEEST\t1991 Sep 29 2:00s\n\t\t\t2:00\t-\tEET\t1992 Mar 29 0:00s\n\t\t\t2:00\t1:00\tEEST\t1992 Sep 27 0:00s\n\t\t\t2:00\tRussia\tEE%sT\t2011 Mar 27 2:00s\n\t\t\t3:00\t-\tFET # Further-eastern European Time\n\n# Belgium\n#\n# From Paul Eggert (1997-07-02):\n# Entries from 1918 through 1991 are taken from:\n#\tAnnuaire de L'Observatoire Royal de Belgique,\n#\tAvenue Circulaire, 3, B-1180 BRUXELLES, CLVIIe annee, 1991\n#\t(Imprimerie HAYEZ, s.p.r.l., Rue Fin, 4, 1080 BRUXELLES, MCMXC),\n#\tpp 8-9.\n# LMT before 1892 was 0:17:30, according to the official journal of Belgium:\n#\tMoniteur Belge, Samedi 30 Avril 1892, N.121.\n# Thanks to Pascal Delmoitie for these references.\n# The 1918 rules are listed for completeness; they apply to unoccupied Belgium.\n# Assume Brussels switched to WET in 1918 when the armistice took effect.\n#\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tBelgium\t1918\tonly\t-\tMar\t 9\t 0:00s\t1:00\tS\nRule\tBelgium\t1918\t1919\t-\tOct\tSat>=1\t23:00s\t0\t-\nRule\tBelgium\t1919\tonly\t-\tMar\t 1\t23:00s\t1:00\tS\nRule\tBelgium\t1920\tonly\t-\tFeb\t14\t23:00s\t1:00\tS\nRule\tBelgium\t1920\tonly\t-\tOct\t23\t23:00s\t0\t-\nRule\tBelgium\t1921\tonly\t-\tMar\t14\t23:00s\t1:00\tS\nRule\tBelgium\t1921\tonly\t-\tOct\t25\t23:00s\t0\t-\nRule\tBelgium\t1922\tonly\t-\tMar\t25\t23:00s\t1:00\tS\nRule\tBelgium\t1922\t1927\t-\tOct\tSat>=1\t23:00s\t0\t-\nRule\tBelgium\t1923\tonly\t-\tApr\t21\t23:00s\t1:00\tS\nRule\tBelgium\t1924\tonly\t-\tMar\t29\t23:00s\t1:00\tS\nRule\tBelgium\t1925\tonly\t-\tApr\t 4\t23:00s\t1:00\tS\n# DSH writes that a royal decree of 1926-02-22 specified the Sun following 3rd\n# Sat in Apr (except if it's Easter, in which case it's one Sunday earlier),\n# to Sun following 1st Sat in Oct, and that a royal decree of 1928-09-15\n# changed the transition times to 02:00 GMT.\nRule\tBelgium\t1926\tonly\t-\tApr\t17\t23:00s\t1:00\tS\nRule\tBelgium\t1927\tonly\t-\tApr\t 9\t23:00s\t1:00\tS\nRule\tBelgium\t1928\tonly\t-\tApr\t14\t23:00s\t1:00\tS\nRule\tBelgium\t1928\t1938\t-\tOct\tSun>=2\t 2:00s\t0\t-\nRule\tBelgium\t1929\tonly\t-\tApr\t21\t 2:00s\t1:00\tS\nRule\tBelgium\t1930\tonly\t-\tApr\t13\t 2:00s\t1:00\tS\nRule\tBelgium\t1931\tonly\t-\tApr\t19\t 2:00s\t1:00\tS\nRule\tBelgium\t1932\tonly\t-\tApr\t 3\t 2:00s\t1:00\tS\nRule\tBelgium\t1933\tonly\t-\tMar\t26\t 2:00s\t1:00\tS\nRule\tBelgium\t1934\tonly\t-\tApr\t 8\t 2:00s\t1:00\tS\nRule\tBelgium\t1935\tonly\t-\tMar\t31\t 2:00s\t1:00\tS\nRule\tBelgium\t1936\tonly\t-\tApr\t19\t 2:00s\t1:00\tS\nRule\tBelgium\t1937\tonly\t-\tApr\t 4\t 2:00s\t1:00\tS\nRule\tBelgium\t1938\tonly\t-\tMar\t27\t 2:00s\t1:00\tS\nRule\tBelgium\t1939\tonly\t-\tApr\t16\t 2:00s\t1:00\tS\nRule\tBelgium\t1939\tonly\t-\tNov\t19\t 2:00s\t0\t-\nRule\tBelgium\t1940\tonly\t-\tFeb\t25\t 2:00s\t1:00\tS\nRule\tBelgium\t1944\tonly\t-\tSep\t17\t 2:00s\t0\t-\nRule\tBelgium\t1945\tonly\t-\tApr\t 2\t 2:00s\t1:00\tS\nRule\tBelgium\t1945\tonly\t-\tSep\t16\t 2:00s\t0\t-\nRule\tBelgium\t1946\tonly\t-\tMay\t19\t 2:00s\t1:00\tS\nRule\tBelgium\t1946\tonly\t-\tOct\t 7\t 2:00s\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tEurope/Brussels\t0:17:30 -\tLMT\t1880\n\t\t\t0:17:30\t-\tBMT\t1892 May  1 12:00 # Brussels MT\n\t\t\t0:00\t-\tWET\t1914 Nov  8\n\t\t\t1:00\t-\tCET\t1916 May  1  0:00\n\t\t\t1:00\tC-Eur\tCE%sT\t1918 Nov 11 11:00u\n\t\t\t0:00\tBelgium\tWE%sT\t1940 May 20  2:00s\n\t\t\t1:00\tC-Eur\tCE%sT\t1944 Sep  3\n\t\t\t1:00\tBelgium\tCE%sT\t1977\n\t\t\t1:00\tEU\tCE%sT\n\n# Bosnia and Herzegovina\n# See Europe/Belgrade.\n\n# Bulgaria\n#\n# From Plamen Simenov via Steffen Thorsen (1999-09-09):\n# A document of Government of Bulgaria (No.94/1997) says:\n# EET --> EETDST is in 03:00 Local time in last Sunday of March ...\n# EETDST --> EET is in 04:00 Local time in last Sunday of October\n#\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tBulg\t1979\tonly\t-\tMar\t31\t23:00\t1:00\tS\nRule\tBulg\t1979\tonly\t-\tOct\t 1\t 1:00\t0\t-\nRule\tBulg\t1980\t1982\t-\tApr\tSat>=1\t23:00\t1:00\tS\nRule\tBulg\t1980\tonly\t-\tSep\t29\t 1:00\t0\t-\nRule\tBulg\t1981\tonly\t-\tSep\t27\t 2:00\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tEurope/Sofia\t1:33:16 -\tLMT\t1880\n\t\t\t1:56:56\t-\tIMT\t1894 Nov 30 # Istanbul MT?\n\t\t\t2:00\t-\tEET\t1942 Nov  2  3:00\n\t\t\t1:00\tC-Eur\tCE%sT\t1945\n\t\t\t1:00\t-\tCET\t1945 Apr 2 3:00\n\t\t\t2:00\t-\tEET\t1979 Mar 31 23:00\n\t\t\t2:00\tBulg\tEE%sT\t1982 Sep 26  2:00\n\t\t\t2:00\tC-Eur\tEE%sT\t1991\n\t\t\t2:00\tE-Eur\tEE%sT\t1997\n\t\t\t2:00\tEU\tEE%sT\n\n# Croatia\n# See Europe/Belgrade.\n\n# Cyprus\n# Please see the 'asia' file for Asia/Nicosia.\n\n# Czech Republic\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tCzech\t1945\tonly\t-\tApr\t 8\t2:00s\t1:00\tS\nRule\tCzech\t1945\tonly\t-\tNov\t18\t2:00s\t0\t-\nRule\tCzech\t1946\tonly\t-\tMay\t 6\t2:00s\t1:00\tS\nRule\tCzech\t1946\t1949\t-\tOct\tSun>=1\t2:00s\t0\t-\nRule\tCzech\t1947\tonly\t-\tApr\t20\t2:00s\t1:00\tS\nRule\tCzech\t1948\tonly\t-\tApr\t18\t2:00s\t1:00\tS\nRule\tCzech\t1949\tonly\t-\tApr\t 9\t2:00s\t1:00\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tEurope/Prague\t0:57:44 -\tLMT\t1850\n\t\t\t0:57:44\t-\tPMT\t1891 Oct     # Prague Mean Time\n\t\t\t1:00\tC-Eur\tCE%sT\t1944 Sep 17 2:00s\n\t\t\t1:00\tCzech\tCE%sT\t1979\n\t\t\t1:00\tEU\tCE%sT\n# Use Europe/Prague also for Slovakia.\n\n# Denmark, Faroe Islands, and Greenland\n\n# From Jesper Norgaard Welen (2005-04-26):\n# http://www.hum.aau.dk/~poe/tid/tine/DanskTid.htm says that the law\n# [introducing standard time] was in effect from 1894-01-01....\n# The page http://www.retsinfo.dk/_GETDOCI_/ACCN/A18930008330-REGL\n# confirms this, and states that the law was put forth 1893-03-29.\n#\n# The EU treaty with effect from 1973:\n# http://www.retsinfo.dk/_GETDOCI_/ACCN/A19722110030-REGL\n#\n# This provoked a new law from 1974 to make possible summer time changes\n# in subsequenet decrees with the law\n# http://www.retsinfo.dk/_GETDOCI_/ACCN/A19740022330-REGL\n#\n# It seems however that no decree was set forward until 1980.  I have\n# not found any decree, but in another related law, the effecting DST\n# changes are stated explicitly to be from 1980-04-06 at 02:00 to\n# 1980-09-28 at 02:00.  If this is true, this differs slightly from\n# the EU rule in that DST runs to 02:00, not 03:00.  We don't know\n# when Denmark began using the EU rule correctly, but we have only\n# confirmation of the 1980-time, so I presume it was correct in 1981:\n# The law is about the management of the extra hour, concerning\n# working hours reported and effect on obligatory-rest rules (which\n# was suspended on that night):\n# http://www.retsinfo.dk/_GETDOCI_/ACCN/C19801120554-REGL\n\n# From Jesper Norgaard Welen (2005-06-11):\n# The Herning Folkeblad (1980-09-26) reported that the night between\n# Saturday and Sunday the clock is set back from three to two.\n\n# From Paul Eggert (2005-06-11):\n# Hence the \"02:00\" of the 1980 law refers to standard time, not\n# wall-clock time, and so the EU rules were in effect in 1980.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tDenmark\t1916\tonly\t-\tMay\t14\t23:00\t1:00\tS\nRule\tDenmark\t1916\tonly\t-\tSep\t30\t23:00\t0\t-\nRule\tDenmark\t1940\tonly\t-\tMay\t15\t 0:00\t1:00\tS\nRule\tDenmark\t1945\tonly\t-\tApr\t 2\t 2:00s\t1:00\tS\nRule\tDenmark\t1945\tonly\t-\tAug\t15\t 2:00s\t0\t-\nRule\tDenmark\t1946\tonly\t-\tMay\t 1\t 2:00s\t1:00\tS\nRule\tDenmark\t1946\tonly\t-\tSep\t 1\t 2:00s\t0\t-\nRule\tDenmark\t1947\tonly\t-\tMay\t 4\t 2:00s\t1:00\tS\nRule\tDenmark\t1947\tonly\t-\tAug\t10\t 2:00s\t0\t-\nRule\tDenmark\t1948\tonly\t-\tMay\t 9\t 2:00s\t1:00\tS\nRule\tDenmark\t1948\tonly\t-\tAug\t 8\t 2:00s\t0\t-\n#\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Europe/Copenhagen\t 0:50:20 -\tLMT\t1890\n\t\t\t 0:50:20 -\tCMT\t1894 Jan  1 # Copenhagen MT\n\t\t\t 1:00\tDenmark\tCE%sT\t1942 Nov  2 2:00s\n\t\t\t 1:00\tC-Eur\tCE%sT\t1945 Apr  2 2:00\n\t\t\t 1:00\tDenmark\tCE%sT\t1980\n\t\t\t 1:00\tEU\tCE%sT\nZone Atlantic/Faroe\t-0:27:04 -\tLMT\t1908 Jan 11\t# Torshavn\n\t\t\t 0:00\t-\tWET\t1981\n\t\t\t 0:00\tEU\tWE%sT\n#\n# From Paul Eggert (2004-10-31):\n# During World War II, Germany maintained secret manned weather stations in\n# East Greenland and Franz Josef Land, but we don't know their time zones.\n# My source for this is Wilhelm Dege's book mentioned under Svalbard.\n#\n# From Paul Eggert (2006-03-22):\n# Greenland joined the EU as part of Denmark, obtained home rule on 1979-05-01,\n# and left the EU on 1985-02-01.  It therefore should have been using EU\n# rules at least through 1984.  Shanks & Pottenger say Scoresbysund and Godthab\n# used C-Eur rules after 1980, but IATA SSIM (1991/1996) says they use EU\n# rules since at least 1991.  Assume EU rules since 1980.\n\n# From Gwillin Law (2001-06-06), citing\n# <http://www.statkart.no/efs/efshefter/2001/efs5-2001.pdf> (2001-03-15),\n# and with translations corrected by Steffen Thorsen:\n#\n# Greenland has four local times, and the relation to UTC\n# is according to the following time line:\n#\n# The military zone near Thule\tUTC-4\n# Standard Greenland time\tUTC-3\n# Scoresbysund\t\t\tUTC-1\n# Danmarkshavn\t\t\tUTC\n#\n# In the military area near Thule and in Danmarkshavn DST will not be\n# introduced.\n\n# From Rives McDow (2001-11-01):\n#\n# I correspond regularly with the Dansk Polarcenter, and wrote them at\n# the time to clarify the situation in Thule.  Unfortunately, I have\n# not heard back from them regarding my recent letter.  [But I have\n# info from earlier correspondence.]\n#\n# According to the center, a very small local time zone around Thule\n# Air Base keeps the time according to UTC-4, implementing daylight\n# savings using North America rules, changing the time at 02:00 local time....\n#\n# The east coast of Greenland north of the community of Scoresbysund\n# uses UTC in the same way as in Iceland, year round, with no dst.\n# There are just a few stations on this coast, including the\n# Danmarkshavn ICAO weather station mentioned in your September 29th\n# email.  The other stations are two sledge patrol stations in\n# Mestersvig and Daneborg, the air force base at Station Nord, and the\n# DPC research station at Zackenberg.\n#\n# Scoresbysund and two small villages nearby keep time UTC-1 and use\n# the same daylight savings time period as in West Greenland (Godthab).\n#\n# The rest of Greenland, including Godthab (this area, although it\n# includes central Greenland, is known as west Greenland), keeps time\n# UTC-3, with daylight savings methods according to European rules.\n#\n# It is common procedure to use UTC 0 in the wilderness of East and\n# North Greenland, because it is mainly Icelandic aircraft operators\n# maintaining traffic in these areas.  However, the official status of\n# this area is that it sticks with Godthab time.  This area might be\n# considered a dual time zone in some respects because of this.\n\n# From Rives McDow (2001-11-19):\n# I heard back from someone stationed at Thule; the time change took place\n# there at 2:00 AM.\n\n# From Paul Eggert (2006-03-22):\n# From 1997 on the CIA map shows Danmarkshavn on GMT;\n# the 1995 map as like Godthab.\n# For lack of better info, assume they were like Godthab before 1996.\n# startkart.no says Thule does not observe DST, but this is clearly an error,\n# so go with Shanks & Pottenger for Thule transitions until this year.\n# For 2007 on assume Thule will stay in sync with US DST rules.\n#\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tThule\t1991\t1992\t-\tMar\tlastSun\t2:00\t1:00\tD\nRule\tThule\t1991\t1992\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tThule\t1993\t2006\t-\tApr\tSun>=1\t2:00\t1:00\tD\nRule\tThule\t1993\t2006\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tThule\t2007\tmax\t-\tMar\tSun>=8\t2:00\t1:00\tD\nRule\tThule\t2007\tmax\t-\tNov\tSun>=1\t2:00\t0\tS\n#\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Danmarkshavn -1:14:40 -\tLMT\t1916 Jul 28\n\t\t\t-3:00\t-\tWGT\t1980 Apr  6 2:00\n\t\t\t-3:00\tEU\tWG%sT\t1996\n\t\t\t0:00\t-\tGMT\nZone America/Scoresbysund -1:27:52 -\tLMT\t1916 Jul 28 # Ittoqqortoormiit\n\t\t\t-2:00\t-\tCGT\t1980 Apr  6 2:00\n\t\t\t-2:00\tC-Eur\tCG%sT\t1981 Mar 29\n\t\t\t-1:00\tEU\tEG%sT\nZone America/Godthab\t-3:26:56 -\tLMT\t1916 Jul 28 # Nuuk\n\t\t\t-3:00\t-\tWGT\t1980 Apr  6 2:00\n\t\t\t-3:00\tEU\tWG%sT\nZone America/Thule\t-4:35:08 -\tLMT\t1916 Jul 28 # Pituffik air base\n\t\t\t-4:00\tThule\tA%sT\n\n# Estonia\n# From Peter Ilieve (1994-10-15):\n# A relative in Tallinn confirms the accuracy of the data for 1989 onwards\n# [through 1994] and gives the legal authority for it,\n# a regulation of the Government of Estonia, No. 111 of 1989....\n#\n# From Peter Ilieve (1996-10-28):\n# [IATA SSIM (1992/1996) claims that the Baltic republics switch at 01:00s,\n# but a relative confirms that Estonia still switches at 02:00s, writing:]\n# \"I do not [know] exactly but there are some little different\n# (confusing) rules for International Air and Railway Transport Schedules\n# conversion in Sunday connected with end of summer time in Estonia....\n# A discussion is running about the summer time efficiency and effect on\n# human physiology.  It seems that Estonia maybe will not change to\n# summer time next spring.\"\n\n# From Peter Ilieve (1998-11-04), heavily edited:\n# <a href=\"http://trip.rk.ee/cgi-bin/thw?${BASE}=akt&${OOHTML}=rtd&TA=1998&TO=1&AN=1390\">\n# The 1998-09-22 Estonian time law\n# </a>\n# refers to the Eighth Directive and cites the association agreement between\n# the EU and Estonia, ratified by the Estonian law (RT II 1995, 22--27, 120).\n#\n# I also asked [my relative] whether they use any standard abbreviation\n# for their standard and summer times. He says no, they use \"suveaeg\"\n# (summer time) and \"talveaeg\" (winter time).\n\n# From <a href=\"http://www.baltictimes.com/\">The Baltic Times</a> (1999-09-09)\n# via Steffen Thorsen:\n# This year will mark the last time Estonia shifts to summer time,\n# a council of the ruling coalition announced Sept. 6....\n# But what this could mean for Estonia's chances of joining the European\n# Union are still unclear.  In 1994, the EU declared summer time compulsory\n# for all member states until 2001.  Brussels has yet to decide what to do\n# after that.\n\n# From Mart Oruaas (2000-01-29):\n# Regulation no. 301 (1999-10-12) obsoletes previous regulation\n# no. 206 (1998-09-22) and thus sticks Estonia to +02:00 GMT for all\n# the year round.  The regulation is effective 1999-11-01.\n\n# From Toomas Soome (2002-02-21):\n# The Estonian government has changed once again timezone politics.\n# Now we are using again EU rules.\n#\n# From Urmet Jaanes (2002-03-28):\n# The legislative reference is Government decree No. 84 on 2002-02-21.\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tEurope/Tallinn\t1:39:00\t-\tLMT\t1880\n\t\t\t1:39:00\t-\tTMT\t1918 Feb # Tallinn Mean Time\n\t\t\t1:00\tC-Eur\tCE%sT\t1919 Jul\n\t\t\t1:39:00\t-\tTMT\t1921 May\n\t\t\t2:00\t-\tEET\t1940 Aug  6\n\t\t\t3:00\t-\tMSK\t1941 Sep 15\n\t\t\t1:00\tC-Eur\tCE%sT\t1944 Sep 22\n\t\t\t3:00\tRussia\tMSK/MSD\t1989 Mar 26 2:00s\n\t\t\t2:00\t1:00\tEEST\t1989 Sep 24 2:00s\n\t\t\t2:00\tC-Eur\tEE%sT\t1998 Sep 22\n\t\t\t2:00\tEU\tEE%sT\t1999 Nov  1\n\t\t\t2:00\t-\tEET\t2002 Feb 21\n\t\t\t2:00\tEU\tEE%sT\n\n# Finland\n\n# From Hannu Strang (1994-09-25 06:03:37 UTC):\n# Well, here in Helsinki we're just changing from summer time to regular one,\n# and it's supposed to change at 4am...\n\n# From Janne Snabb (2010-07-15):\n#\n# I noticed that the Finland data is not accurate for years 1981 and 1982.\n# During these two first trial years the DST adjustment was made one hour\n# earlier than in forthcoming years. Starting 1983 the adjustment was made\n# according to the central European standards.\n#\n# This is documented in Heikki Oja: Aikakirja 2007, published by The Almanac\n# Office of University of Helsinki, ISBN 952-10-3221-9, available online (in\n# Finnish) at\n#\n# <a href=\"http://almanakka.helsinki.fi/aikakirja/Aikakirja2007kokonaan.pdf\">\n# http://almanakka.helsinki.fi/aikakirja/Aikakirja2007kokonaan.pdf\n# </a>\n#\n# Page 105 (56 in PDF version) has a handy table of all past daylight savings\n# transitions. It is easy enough to interpret without Finnish skills.\n#\n# This is also confirmed by Finnish Broadcasting Company's archive at:\n#\n# <a href=\"http://www.yle.fi/elavaarkisto/?s=s&g=1&ag=5&t=&a=3401\">\n# http://www.yle.fi/elavaarkisto/?s=s&g=1&ag=5&t=&a=3401\n# </a>\n#\n# The news clip from 1981 says that \"the time between 2 and 3 o'clock does not\n# exist tonight.\"\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tFinland\t1942\tonly\t-\tApr\t3\t0:00\t1:00\tS\nRule\tFinland\t1942\tonly\t-\tOct\t3\t0:00\t0\t-\nRule\tFinland\t1981\t1982\t-\tMar\tlastSun\t2:00\t1:00\tS\nRule\tFinland\t1981\t1982\t-\tSep\tlastSun\t3:00\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tEurope/Helsinki\t1:39:52 -\tLMT\t1878 May 31\n\t\t\t1:39:52\t-\tHMT\t1921 May    # Helsinki Mean Time\n\t\t\t2:00\tFinland\tEE%sT\t1983\n\t\t\t2:00\tEU\tEE%sT\n\n# Aaland Is\nLink\tEurope/Helsinki\tEurope/Mariehamn\n\n\n# France\n\n# From Ciro Discepolo (2000-12-20):\n#\n# Henri Le Corre, Regimes Horaires pour le monde entier, Editions\n# Traditionnelles - Paris 2 books, 1993\n#\n# Gabriel, Traite de l'heure dans le monde, Guy Tredaniel editeur,\n# Paris, 1991\n#\n# Francoise Gauquelin, Problemes de l'heure resolus en astrologie,\n# Guy tredaniel, Paris 1987\n\n\n#\n# Shank & Pottenger seem to use '24:00' ambiguously; resolve it with Whitman.\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tFrance\t1916\tonly\t-\tJun\t14\t23:00s\t1:00\tS\nRule\tFrance\t1916\t1919\t-\tOct\tSun>=1\t23:00s\t0\t-\nRule\tFrance\t1917\tonly\t-\tMar\t24\t23:00s\t1:00\tS\nRule\tFrance\t1918\tonly\t-\tMar\t 9\t23:00s\t1:00\tS\nRule\tFrance\t1919\tonly\t-\tMar\t 1\t23:00s\t1:00\tS\nRule\tFrance\t1920\tonly\t-\tFeb\t14\t23:00s\t1:00\tS\nRule\tFrance\t1920\tonly\t-\tOct\t23\t23:00s\t0\t-\nRule\tFrance\t1921\tonly\t-\tMar\t14\t23:00s\t1:00\tS\nRule\tFrance\t1921\tonly\t-\tOct\t25\t23:00s\t0\t-\nRule\tFrance\t1922\tonly\t-\tMar\t25\t23:00s\t1:00\tS\n# DSH writes that a law of 1923-05-24 specified 3rd Sat in Apr at 23:00 to 1st\n# Sat in Oct at 24:00; and that in 1930, because of Easter, the transitions\n# were Apr 12 and Oct 5.  Go with Shanks & Pottenger.\nRule\tFrance\t1922\t1938\t-\tOct\tSat>=1\t23:00s\t0\t-\nRule\tFrance\t1923\tonly\t-\tMay\t26\t23:00s\t1:00\tS\nRule\tFrance\t1924\tonly\t-\tMar\t29\t23:00s\t1:00\tS\nRule\tFrance\t1925\tonly\t-\tApr\t 4\t23:00s\t1:00\tS\nRule\tFrance\t1926\tonly\t-\tApr\t17\t23:00s\t1:00\tS\nRule\tFrance\t1927\tonly\t-\tApr\t 9\t23:00s\t1:00\tS\nRule\tFrance\t1928\tonly\t-\tApr\t14\t23:00s\t1:00\tS\nRule\tFrance\t1929\tonly\t-\tApr\t20\t23:00s\t1:00\tS\nRule\tFrance\t1930\tonly\t-\tApr\t12\t23:00s\t1:00\tS\nRule\tFrance\t1931\tonly\t-\tApr\t18\t23:00s\t1:00\tS\nRule\tFrance\t1932\tonly\t-\tApr\t 2\t23:00s\t1:00\tS\nRule\tFrance\t1933\tonly\t-\tMar\t25\t23:00s\t1:00\tS\nRule\tFrance\t1934\tonly\t-\tApr\t 7\t23:00s\t1:00\tS\nRule\tFrance\t1935\tonly\t-\tMar\t30\t23:00s\t1:00\tS\nRule\tFrance\t1936\tonly\t-\tApr\t18\t23:00s\t1:00\tS\nRule\tFrance\t1937\tonly\t-\tApr\t 3\t23:00s\t1:00\tS\nRule\tFrance\t1938\tonly\t-\tMar\t26\t23:00s\t1:00\tS\nRule\tFrance\t1939\tonly\t-\tApr\t15\t23:00s\t1:00\tS\nRule\tFrance\t1939\tonly\t-\tNov\t18\t23:00s\t0\t-\nRule\tFrance\t1940\tonly\t-\tFeb\t25\t 2:00\t1:00\tS\n# The French rules for 1941-1944 were not used in Paris, but Shanks & Pottenger\n# write that they were used in Monaco and in many French locations.\n# Le Corre writes that the upper limit of the free zone was Arneguy, Orthez,\n# Mont-de-Marsan, Bazas, Langon, Lamotte-Montravel, Marouil, La\n# Rochefoucault, Champagne-Mouton, La Roche-Posay, La Haye-Descartes,\n# Loches, Montrichard, Vierzon, Bourges, Moulins, Digoin,\n# Paray-le-Monial, Montceau-les-Mines, Chalons-sur-Saone, Arbois,\n# Dole, Morez, St-Claude, and Collonges (Haute-Savoie).\nRule\tFrance\t1941\tonly\t-\tMay\t 5\t 0:00\t2:00\tM # Midsummer\n# Shanks & Pottenger say this transition occurred at Oct 6 1:00,\n# but go with Denis Excoffier (1997-12-12),\n# who quotes the Ephemerides Astronomiques for 1998 from Bureau des Longitudes\n# as saying 5/10/41 22hUT.\nRule\tFrance\t1941\tonly\t-\tOct\t 6\t 0:00\t1:00\tS\nRule\tFrance\t1942\tonly\t-\tMar\t 9\t 0:00\t2:00\tM\nRule\tFrance\t1942\tonly\t-\tNov\t 2\t 3:00\t1:00\tS\nRule\tFrance\t1943\tonly\t-\tMar\t29\t 2:00\t2:00\tM\nRule\tFrance\t1943\tonly\t-\tOct\t 4\t 3:00\t1:00\tS\nRule\tFrance\t1944\tonly\t-\tApr\t 3\t 2:00\t2:00\tM\nRule\tFrance\t1944\tonly\t-\tOct\t 8\t 1:00\t1:00\tS\nRule\tFrance\t1945\tonly\t-\tApr\t 2\t 2:00\t2:00\tM\nRule\tFrance\t1945\tonly\t-\tSep\t16\t 3:00\t0\t-\n# Shanks & Pottenger give Mar 28 2:00 and Sep 26 3:00;\n# go with Excoffier's 28/3/76 0hUT and 25/9/76 23hUT.\nRule\tFrance\t1976\tonly\t-\tMar\t28\t 1:00\t1:00\tS\nRule\tFrance\t1976\tonly\t-\tSep\t26\t 1:00\t0\t-\n# Shanks & Pottenger give 0:09:20 for Paris Mean Time, and Whitman 0:09:05,\n# but Howse quotes the actual French legislation as saying 0:09:21.\n# Go with Howse.  Howse writes that the time in France was officially based\n# on PMT-0:09:21 until 1978-08-09, when the time base finally switched to UTC.\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tEurope/Paris\t0:09:21 -\tLMT\t1891 Mar 15  0:01\n\t\t\t0:09:21\t-\tPMT\t1911 Mar 11  0:01  # Paris MT\n# Shanks & Pottenger give 1940 Jun 14 0:00; go with Excoffier and Le Corre.\n\t\t\t0:00\tFrance\tWE%sT\t1940 Jun 14 23:00\n# Le Corre says Paris stuck with occupied-France time after the liberation;\n# go with Shanks & Pottenger.\n\t\t\t1:00\tC-Eur\tCE%sT\t1944 Aug 25\n\t\t\t0:00\tFrance\tWE%sT\t1945 Sep 16  3:00\n\t\t\t1:00\tFrance\tCE%sT\t1977\n\t\t\t1:00\tEU\tCE%sT\n\n# Germany\n\n# From Markus Kuhn (1998-09-29):\n# The German time zone web site by the Physikalisch-Technische\n# Bundesanstalt contains DST information back to 1916.\n# [See tz-link.htm for the URL.]\n\n# From Joerg Schilling (2002-10-23):\n# In 1945, Berlin was switched to Moscow Summer time (GMT+4) by\n# <a href=\"http://www.dhm.de/lemo/html/biografien/BersarinNikolai/\">\n# General [Nikolai] Bersarin</a>.\n\n# From Paul Eggert (2003-03-08):\n# <a href=\"http://www.parlament-berlin.de/pds-fraktion.nsf/727459127c8b66ee8525662300459099/defc77cb784f180ac1256c2b0030274b/$FILE/bersarint.pdf\">\n# http://www.parlament-berlin.de/pds-fraktion.nsf/727459127c8b66ee8525662300459099/defc77cb784f180ac1256c2b0030274b/$FILE/bersarint.pdf\n# </a>\n# says that Bersarin issued an order to use Moscow time on May 20.\n# However, Moscow did not observe daylight saving in 1945, so\n# this was equivalent to CEMT (GMT+3), not GMT+4.\n\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tGermany\t1946\tonly\t-\tApr\t14\t2:00s\t1:00\tS\nRule\tGermany\t1946\tonly\t-\tOct\t 7\t2:00s\t0\t-\nRule\tGermany\t1947\t1949\t-\tOct\tSun>=1\t2:00s\t0\t-\n# http://www.ptb.de/de/org/4/44/441/salt.htm says the following transition\n# occurred at 3:00 MEZ, not the 2:00 MEZ given in Shanks & Pottenger.\n# Go with the PTB.\nRule\tGermany\t1947\tonly\t-\tApr\t 6\t3:00s\t1:00\tS\nRule\tGermany\t1947\tonly\t-\tMay\t11\t2:00s\t2:00\tM\nRule\tGermany\t1947\tonly\t-\tJun\t29\t3:00\t1:00\tS\nRule\tGermany\t1948\tonly\t-\tApr\t18\t2:00s\t1:00\tS\nRule\tGermany\t1949\tonly\t-\tApr\t10\t2:00s\t1:00\tS\n\nRule SovietZone\t1945\tonly\t-\tMay\t24\t2:00\t2:00\tM # Midsummer\nRule SovietZone\t1945\tonly\t-\tSep\t24\t3:00\t1:00\tS\nRule SovietZone\t1945\tonly\t-\tNov\t18\t2:00s\t0\t-\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tEurope/Berlin\t0:53:28 -\tLMT\t1893 Apr\n\t\t\t1:00\tC-Eur\tCE%sT\t1945 May 24 2:00\n\t\t\t1:00 SovietZone\tCE%sT\t1946\n\t\t\t1:00\tGermany\tCE%sT\t1980\n\t\t\t1:00\tEU\tCE%sT\n\n# From Tobias Conradi (2011-09-12):\n# Busingen <http://www.buesingen.de>, surrounded by the Swiss canton\n# Schaffhausen, did not start observing DST in 1980 as the rest of DE\n# (West Germany at that time) and DD (East Germany at that time) did.\n# DD merged into DE, the area is currently covered by code DE in ISO 3166-1,\n# which in turn is covered by the zone Europe/Berlin.\n#\n# Source for the time in Busingen 1980:\n# http://www.srf.ch/player/video?id=c012c029-03b7-4c2b-9164-aa5902cd58d3\n\n# From Arthur David Olson (2012-03-03):\n# Busingen and Zurich have shared clocks since 1970.\n\nLink\tEurope/Zurich\tEurope/Busingen\n\n# Georgia\n# Please see the \"asia\" file for Asia/Tbilisi.\n# Herodotus (Histories, IV.45) says Georgia north of the Phasis (now Rioni)\n# is in Europe.  Our reference location Tbilisi is in the Asian part.\n\n# Gibraltar\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Europe/Gibraltar\t-0:21:24 -\tLMT\t1880 Aug  2 0:00s\n\t\t\t0:00\tGB-Eire\t%s\t1957 Apr 14 2:00\n\t\t\t1:00\t-\tCET\t1982\n\t\t\t1:00\tEU\tCE%sT\n\n# Greece\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\n# Whitman gives 1932 Jul 5 - Nov 1; go with Shanks & Pottenger.\nRule\tGreece\t1932\tonly\t-\tJul\t 7\t0:00\t1:00\tS\nRule\tGreece\t1932\tonly\t-\tSep\t 1\t0:00\t0\t-\n# Whitman gives 1941 Apr 25 - ?; go with Shanks & Pottenger.\nRule\tGreece\t1941\tonly\t-\tApr\t 7\t0:00\t1:00\tS\n# Whitman gives 1942 Feb 2 - ?; go with Shanks & Pottenger.\nRule\tGreece\t1942\tonly\t-\tNov\t 2\t3:00\t0\t-\nRule\tGreece\t1943\tonly\t-\tMar\t30\t0:00\t1:00\tS\nRule\tGreece\t1943\tonly\t-\tOct\t 4\t0:00\t0\t-\n# Whitman gives 1944 Oct 3 - Oct 31; go with Shanks & Pottenger.\nRule\tGreece\t1952\tonly\t-\tJul\t 1\t0:00\t1:00\tS\nRule\tGreece\t1952\tonly\t-\tNov\t 2\t0:00\t0\t-\nRule\tGreece\t1975\tonly\t-\tApr\t12\t0:00s\t1:00\tS\nRule\tGreece\t1975\tonly\t-\tNov\t26\t0:00s\t0\t-\nRule\tGreece\t1976\tonly\t-\tApr\t11\t2:00s\t1:00\tS\nRule\tGreece\t1976\tonly\t-\tOct\t10\t2:00s\t0\t-\nRule\tGreece\t1977\t1978\t-\tApr\tSun>=1\t2:00s\t1:00\tS\nRule\tGreece\t1977\tonly\t-\tSep\t26\t2:00s\t0\t-\nRule\tGreece\t1978\tonly\t-\tSep\t24\t4:00\t0\t-\nRule\tGreece\t1979\tonly\t-\tApr\t 1\t9:00\t1:00\tS\nRule\tGreece\t1979\tonly\t-\tSep\t29\t2:00\t0\t-\nRule\tGreece\t1980\tonly\t-\tApr\t 1\t0:00\t1:00\tS\nRule\tGreece\t1980\tonly\t-\tSep\t28\t0:00\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tEurope/Athens\t1:34:52 -\tLMT\t1895 Sep 14\n\t\t\t1:34:52\t-\tAMT\t1916 Jul 28 0:01     # Athens MT\n\t\t\t2:00\tGreece\tEE%sT\t1941 Apr 30\n\t\t\t1:00\tGreece\tCE%sT\t1944 Apr  4\n\t\t\t2:00\tGreece\tEE%sT\t1981\n\t\t\t# Shanks & Pottenger say it switched to C-Eur in 1981;\n\t\t\t# go with EU instead, since Greece joined it on Jan 1.\n\t\t\t2:00\tEU\tEE%sT\n\n# Hungary\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tHungary\t1918\tonly\t-\tApr\t 1\t 3:00\t1:00\tS\nRule\tHungary\t1918\tonly\t-\tSep\t29\t 3:00\t0\t-\nRule\tHungary\t1919\tonly\t-\tApr\t15\t 3:00\t1:00\tS\nRule\tHungary\t1919\tonly\t-\tSep\t15\t 3:00\t0\t-\nRule\tHungary\t1920\tonly\t-\tApr\t 5\t 3:00\t1:00\tS\nRule\tHungary\t1920\tonly\t-\tSep\t30\t 3:00\t0\t-\nRule\tHungary\t1945\tonly\t-\tMay\t 1\t23:00\t1:00\tS\nRule\tHungary\t1945\tonly\t-\tNov\t 3\t 0:00\t0\t-\nRule\tHungary\t1946\tonly\t-\tMar\t31\t 2:00s\t1:00\tS\nRule\tHungary\t1946\t1949\t-\tOct\tSun>=1\t 2:00s\t0\t-\nRule\tHungary\t1947\t1949\t-\tApr\tSun>=4\t 2:00s\t1:00\tS\nRule\tHungary\t1950\tonly\t-\tApr\t17\t 2:00s\t1:00\tS\nRule\tHungary\t1950\tonly\t-\tOct\t23\t 2:00s\t0\t-\nRule\tHungary\t1954\t1955\t-\tMay\t23\t 0:00\t1:00\tS\nRule\tHungary\t1954\t1955\t-\tOct\t 3\t 0:00\t0\t-\nRule\tHungary\t1956\tonly\t-\tJun\tSun>=1\t 0:00\t1:00\tS\nRule\tHungary\t1956\tonly\t-\tSep\tlastSun\t 0:00\t0\t-\nRule\tHungary\t1957\tonly\t-\tJun\tSun>=1\t 1:00\t1:00\tS\nRule\tHungary\t1957\tonly\t-\tSep\tlastSun\t 3:00\t0\t-\nRule\tHungary\t1980\tonly\t-\tApr\t 6\t 1:00\t1:00\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tEurope/Budapest\t1:16:20 -\tLMT\t1890 Oct\n\t\t\t1:00\tC-Eur\tCE%sT\t1918\n\t\t\t1:00\tHungary\tCE%sT\t1941 Apr  6  2:00\n\t\t\t1:00\tC-Eur\tCE%sT\t1945\n\t\t\t1:00\tHungary\tCE%sT\t1980 Sep 28  2:00s\n\t\t\t1:00\tEU\tCE%sT\n\n# Iceland\n#\n# From Adam David (1993-11-06):\n# The name of the timezone in Iceland for system / mail / news purposes is GMT.\n#\n# (1993-12-05):\n# This material is paraphrased from the 1988 edition of the University of\n# Iceland Almanak.\n#\n# From January 1st, 1908 the whole of Iceland was standardised at 1 hour\n# behind GMT. Previously, local mean solar time was used in different parts\n# of Iceland, the almanak had been based on Reykjavik mean solar time which\n# was 1 hour and 28 minutes behind GMT.\n#\n# \"first day of winter\" referred to [below] means the first day of the 26 weeks\n# of winter, according to the old icelandic calendar that dates back to the\n# time the norsemen first settled Iceland.  The first day of winter is always\n# Saturday, but is not dependent on the Julian or Gregorian calendars.\n#\n# (1993-12-10):\n# I have a reference from the Oxford Icelandic-English dictionary for the\n# beginning of winter, which ties it to the ecclesiastical calendar (and thus\n# to the julian/gregorian calendar) over the period in question.\n#\tthe winter begins on the Saturday next before St. Luke's day\n#\t(old style), or on St. Luke's day, if a Saturday.\n# St. Luke's day ought to be traceable from ecclesiastical sources. \"old style\"\n# might be a reference to the Julian calendar as opposed to Gregorian, or it\n# might mean something else (???).\n#\n# From Paul Eggert (2006-03-22):\n# The Iceland Almanak, Shanks & Pottenger, and Whitman disagree on many points.\n# We go with the Almanak, except for one claim from Shanks & Pottenger, namely\n# that Reykavik was 21W57 from 1837 to 1908, local mean time before that.\n#\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tIceland\t1917\t1918\t-\tFeb\t19\t23:00\t1:00\tS\nRule\tIceland\t1917\tonly\t-\tOct\t21\t 1:00\t0\t-\nRule\tIceland\t1918\tonly\t-\tNov\t16\t 1:00\t0\t-\nRule\tIceland\t1939\tonly\t-\tApr\t29\t23:00\t1:00\tS\nRule\tIceland\t1939\tonly\t-\tNov\t29\t 2:00\t0\t-\nRule\tIceland\t1940\tonly\t-\tFeb\t25\t 2:00\t1:00\tS\nRule\tIceland\t1940\tonly\t-\tNov\t 3\t 2:00\t0\t-\nRule\tIceland\t1941\tonly\t-\tMar\t 2\t 1:00s\t1:00\tS\nRule\tIceland\t1941\tonly\t-\tNov\t 2\t 1:00s\t0\t-\nRule\tIceland\t1942\tonly\t-\tMar\t 8\t 1:00s\t1:00\tS\nRule\tIceland\t1942\tonly\t-\tOct\t25\t 1:00s\t0\t-\n# 1943-1946 - first Sunday in March until first Sunday in winter\nRule\tIceland\t1943\t1946\t-\tMar\tSun>=1\t 1:00s\t1:00\tS\nRule\tIceland\t1943\t1948\t-\tOct\tSun>=22\t 1:00s\t0\t-\n# 1947-1967 - first Sunday in April until first Sunday in winter\nRule\tIceland\t1947\t1967\t-\tApr\tSun>=1\t 1:00s\t1:00\tS\n# 1949 Oct transition delayed by 1 week\nRule\tIceland\t1949\tonly\t-\tOct\t30\t 1:00s\t0\t-\nRule\tIceland\t1950\t1966\t-\tOct\tSun>=22\t 1:00s\t0\t-\nRule\tIceland\t1967\tonly\t-\tOct\t29\t 1:00s\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Atlantic/Reykjavik\t-1:27:24 -\tLMT\t1837\n\t\t\t-1:27:48 -\tRMT\t1908 # Reykjavik Mean Time?\n\t\t\t-1:00\tIceland\tIS%sT\t1968 Apr 7 1:00s\n\t\t\t 0:00\t-\tGMT\n\n# Italy\n#\n# From Paul Eggert (2001-03-06):\n# Sicily and Sardinia each had their own time zones from 1866 to 1893,\n# called Palermo Time (+00:53:28) and Cagliari Time (+00:36:32).\n# During World War II, German-controlled Italy used German time.\n# But these events all occurred before the 1970 cutoff,\n# so record only the time in Rome.\n#\n# From Paul Eggert (2006-03-22):\n# For Italian DST we have three sources: Shanks & Pottenger, Whitman, and\n# F. Pollastri\n# <a href=\"http://toi.iriti.cnr.it/uk/ienitlt.html\">\n# Day-light Saving Time in Italy (2006-02-03)\n# </a>\n# ('FP' below), taken from an Italian National Electrotechnical Institute\n# publication. When the three sources disagree, guess who's right, as follows:\n#\n# year\tFP\tShanks&P. (S)\tWhitman (W)\tGo with:\n# 1916\t06-03\t06-03 24:00\t06-03 00:00\tFP & W\n#\t09-30\t09-30 24:00\t09-30 01:00\tFP; guess 24:00s\n# 1917\t04-01\t03-31 24:00\t03-31 00:00\tFP & S\n#\t09-30\t09-29 24:00\t09-30 01:00\tFP & W\n# 1918\t03-09\t03-09 24:00\t03-09 00:00\tFP & S\n#\t10-06\t10-05 24:00\t10-06 01:00\tFP & W\n# 1919\t03-01\t03-01 24:00\t03-01 00:00\tFP & S\n#\t10-04\t10-04 24:00\t10-04 01:00\tFP; guess 24:00s\n# 1920\t03-20\t03-20 24:00\t03-20 00:00\tFP & S\n#\t09-18\t09-18 24:00\t10-01 01:00\tFP; guess 24:00s\n# 1944\t04-02\t04-03 02:00\t\t\tS (see C-Eur)\n#\t09-16\t10-02 03:00\t\t\tFP; guess 24:00s\n# 1945\t09-14\t09-16 24:00\t\t\tFP; guess 24:00s\n# 1970\t05-21\t05-31 00:00\t\t\tS\n#\t09-20\t09-27 00:00\t\t\tS\n#\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tItaly\t1916\tonly\t-\tJun\t 3\t0:00s\t1:00\tS\nRule\tItaly\t1916\tonly\t-\tOct\t 1\t0:00s\t0\t-\nRule\tItaly\t1917\tonly\t-\tApr\t 1\t0:00s\t1:00\tS\nRule\tItaly\t1917\tonly\t-\tSep\t30\t0:00s\t0\t-\nRule\tItaly\t1918\tonly\t-\tMar\t10\t0:00s\t1:00\tS\nRule\tItaly\t1918\t1919\t-\tOct\tSun>=1\t0:00s\t0\t-\nRule\tItaly\t1919\tonly\t-\tMar\t 2\t0:00s\t1:00\tS\nRule\tItaly\t1920\tonly\t-\tMar\t21\t0:00s\t1:00\tS\nRule\tItaly\t1920\tonly\t-\tSep\t19\t0:00s\t0\t-\nRule\tItaly\t1940\tonly\t-\tJun\t15\t0:00s\t1:00\tS\nRule\tItaly\t1944\tonly\t-\tSep\t17\t0:00s\t0\t-\nRule\tItaly\t1945\tonly\t-\tApr\t 2\t2:00\t1:00\tS\nRule\tItaly\t1945\tonly\t-\tSep\t15\t0:00s\t0\t-\nRule\tItaly\t1946\tonly\t-\tMar\t17\t2:00s\t1:00\tS\nRule\tItaly\t1946\tonly\t-\tOct\t 6\t2:00s\t0\t-\nRule\tItaly\t1947\tonly\t-\tMar\t16\t0:00s\t1:00\tS\nRule\tItaly\t1947\tonly\t-\tOct\t 5\t0:00s\t0\t-\nRule\tItaly\t1948\tonly\t-\tFeb\t29\t2:00s\t1:00\tS\nRule\tItaly\t1948\tonly\t-\tOct\t 3\t2:00s\t0\t-\nRule\tItaly\t1966\t1968\t-\tMay\tSun>=22\t0:00\t1:00\tS\nRule\tItaly\t1966\t1969\t-\tSep\tSun>=22\t0:00\t0\t-\nRule\tItaly\t1969\tonly\t-\tJun\t 1\t0:00\t1:00\tS\nRule\tItaly\t1970\tonly\t-\tMay\t31\t0:00\t1:00\tS\nRule\tItaly\t1970\tonly\t-\tSep\tlastSun\t0:00\t0\t-\nRule\tItaly\t1971\t1972\t-\tMay\tSun>=22\t0:00\t1:00\tS\nRule\tItaly\t1971\tonly\t-\tSep\tlastSun\t1:00\t0\t-\nRule\tItaly\t1972\tonly\t-\tOct\t 1\t0:00\t0\t-\nRule\tItaly\t1973\tonly\t-\tJun\t 3\t0:00\t1:00\tS\nRule\tItaly\t1973\t1974\t-\tSep\tlastSun\t0:00\t0\t-\nRule\tItaly\t1974\tonly\t-\tMay\t26\t0:00\t1:00\tS\nRule\tItaly\t1975\tonly\t-\tJun\t 1\t0:00s\t1:00\tS\nRule\tItaly\t1975\t1977\t-\tSep\tlastSun\t0:00s\t0\t-\nRule\tItaly\t1976\tonly\t-\tMay\t30\t0:00s\t1:00\tS\nRule\tItaly\t1977\t1979\t-\tMay\tSun>=22\t0:00s\t1:00\tS\nRule\tItaly\t1978\tonly\t-\tOct\t 1\t0:00s\t0\t-\nRule\tItaly\t1979\tonly\t-\tSep\t30\t0:00s\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tEurope/Rome\t0:49:56 -\tLMT\t1866 Sep 22\n\t\t\t0:49:56\t-\tRMT\t1893 Nov  1 0:00s # Rome Mean\n\t\t\t1:00\tItaly\tCE%sT\t1942 Nov  2 2:00s\n\t\t\t1:00\tC-Eur\tCE%sT\t1944 Jul\n\t\t\t1:00\tItaly\tCE%sT\t1980\n\t\t\t1:00\tEU\tCE%sT\n\nLink\tEurope/Rome\tEurope/Vatican\nLink\tEurope/Rome\tEurope/San_Marino\n\n# Latvia\n\n# From Liene Kanepe (1998-09-17):\n\n# I asked about this matter Scientific Secretary of the Institute of Astronomy\n# of The University of Latvia Dr. paed Mr. Ilgonis Vilks. I also searched the\n# correct data in juridical acts and I found some juridical documents about\n# changes in the counting of time in Latvia from 1981....\n#\n# Act No.35 of the Council of Ministers of Latvian SSR of 1981-01-22 ...\n# according to the Act No.925 of the Council of Ministers of USSR of 1980-10-24\n# ...: all year round the time of 2nd time zone + 1 hour, in addition turning\n# the hands of the clock 1 hour forward on 1 April at 00:00 (GMT 31 March 21:00)\n# and 1 hour backward on the 1 October at 00:00 (GMT 30 September 20:00).\n#\n# Act No.592 of the Council of Ministers of Latvian SSR of 1984-09-24 ...\n# according to the Act No.967 of the Council of Ministers of USSR of 1984-09-13\n# ...: all year round the time of 2nd time zone + 1 hour, in addition turning\n# the hands of the clock 1 hour forward on the last Sunday of March at 02:00\n# (GMT 23:00 on the previous day) and 1 hour backward on the last Sunday of\n# September at 03:00 (GMT 23:00 on the previous day).\n#\n# Act No.81 of the Council of Ministers of Latvian SSR of 1989-03-22 ...\n# according to the Act No.227 of the Council of Ministers of USSR of 1989-03-14\n# ...: since the last Sunday of March 1989 in Lithuanian SSR, Latvian SSR,\n# Estonian SSR and Kaliningrad region of Russian Federation all year round the\n# time of 2nd time zone (Moscow time minus one hour). On the territory of Latvia\n# transition to summer time is performed on the last Sunday of March at 02:00\n# (GMT 00:00), turning the hands of the clock 1 hour forward.  The end of\n# daylight saving time is performed on the last Sunday of September at 03:00\n# (GMT 00:00), turning the hands of the clock 1 hour backward. Exception is\n# 1989-03-26, when we must not turn the hands of the clock....\n#\n# The Regulations of the Cabinet of Ministers of the Republic of Latvia of\n# 1997-01-21 on transition to Summer time ... established the same order of\n# daylight savings time settings as in the States of the European Union.\n\n# From Andrei Ivanov (2000-03-06):\n# This year Latvia will not switch to Daylight Savings Time (as specified in\n# <a href=\"http://www.lv-laiks.lv/wwwraksti/2000/071072/vd4.htm\">\n# The Regulations of the Cabinet of Ministers of the Rep. of Latvia of\n# 29-Feb-2000 (#79)</a>, in Latvian for subscribers only).\n\n# <a href=\"http://www.rferl.org/newsline/2001/01/3-CEE/cee-030101.html\">\n# From RFE/RL Newsline (2001-01-03), noted after a heads-up by Rives McDow:\n# </a>\n# The Latvian government on 2 January decided that the country will\n# institute daylight-saving time this spring, LETA reported.\n# Last February the three Baltic states decided not to turn back their\n# clocks one hour in the spring....\n# Minister of Economy Aigars Kalvitis noted that Latvia had too few\n# daylight hours and thus decided to comply with a draft European\n# Commission directive that provides for instituting daylight-saving\n# time in EU countries between 2002 and 2006. The Latvian government\n# urged Lithuania and Estonia to adopt a similar time policy, but it\n# appears that they will not do so....\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tLatvia\t1989\t1996\t-\tMar\tlastSun\t 2:00s\t1:00\tS\nRule\tLatvia\t1989\t1996\t-\tSep\tlastSun\t 2:00s\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tEurope/Riga\t1:36:24\t-\tLMT\t1880\n\t\t\t1:36:24\t-\tRMT\t1918 Apr 15 2:00 #Riga Mean Time\n\t\t\t1:36:24\t1:00\tLST\t1918 Sep 16 3:00 #Latvian Summer\n\t\t\t1:36:24\t-\tRMT\t1919 Apr  1 2:00\n\t\t\t1:36:24\t1:00\tLST\t1919 May 22 3:00\n\t\t\t1:36:24\t-\tRMT\t1926 May 11\n\t\t\t2:00\t-\tEET\t1940 Aug  5\n\t\t\t3:00\t-\tMSK\t1941 Jul\n\t\t\t1:00\tC-Eur\tCE%sT\t1944 Oct 13\n\t\t\t3:00\tRussia\tMSK/MSD\t1989 Mar lastSun 2:00s\n\t\t\t2:00\t1:00\tEEST\t1989 Sep lastSun 2:00s\n\t\t\t2:00\tLatvia\tEE%sT\t1997 Jan 21\n\t\t\t2:00\tEU\tEE%sT\t2000 Feb 29\n\t\t\t2:00\t-\tEET\t2001 Jan  2\n\t\t\t2:00\tEU\tEE%sT\n\n# Liechtenstein\n\n# From Paul Eggert (2013-09-09):\n# Shanks & Pottenger say Vaduz is like Zurich.\n\n# From Alois Treindl (2013-09-18):\n# http://www.eliechtensteinensia.li/LIJ/1978/1938-1978/1941.pdf\n# ... confirms on p. 6 that Liechtenstein followed Switzerland in 1941 and 1942.\n# I ... translate only the last two paragraphs:\n#    ... during second world war, in the years 1941 and 1942, Liechtenstein\n#    introduced daylight saving time, adapting to Switzerland.  From 1943 on\n#    central European time was in force throughout the year.\n#    From a report of the duke's government to the high council,\n#    regarding the introduction of a time law, of 31 May 1977.\n\nLink Europe/Zurich Europe/Vaduz\n\n\n# Lithuania\n\n# From Paul Eggert (1996-11-22):\n# IATA SSIM (1992/1996) says Lithuania uses W-Eur rules, but since it is\n# known to be wrong about Estonia and Latvia, assume it's wrong here too.\n\n# From Marius Gedminas (1998-08-07):\n# I would like to inform that in this year Lithuanian time zone\n# (Europe/Vilnius) was changed.\n\n# From <a href=\"http://www.elta.lt/\">ELTA</a> No. 972 (2582) (1999-09-29),\n# via Steffen Thorsen:\n# Lithuania has shifted back to the second time zone (GMT plus two hours)\n# to be valid here starting from October 31,\n# as decided by the national government on Wednesday....\n# The Lithuanian government also announced plans to consider a\n# motion to give up shifting to summer time in spring, as it was\n# already done by Estonia.\n\n# From the <a href=\"http://www.tourism.lt/informa/ff.htm\">\n# Fact File, Lithuanian State Department of Tourism\n# </a> (2000-03-27): Local time is GMT+2 hours ..., no daylight saving.\n\n# From a user via Klaus Marten (2003-02-07):\n# As a candidate for membership of the European Union, Lithuania will\n# observe Summer Time in 2003, changing its clocks at the times laid\n# down in EU Directive 2000/84 of 19.I.01 (i.e. at the same times as its\n# neighbour Latvia). The text of the Lithuanian government Order of\n# 7.XI.02 to this effect can be found at\n# http://www.lrvk.lt/nut/11/n1749.htm\n\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tEurope/Vilnius\t1:41:16\t-\tLMT\t1880\n\t\t\t1:24:00\t-\tWMT\t1917\t    # Warsaw Mean Time\n\t\t\t1:35:36\t-\tKMT\t1919 Oct 10 # Kaunas Mean Time\n\t\t\t1:00\t-\tCET\t1920 Jul 12\n\t\t\t2:00\t-\tEET\t1920 Oct  9\n\t\t\t1:00\t-\tCET\t1940 Aug  3\n\t\t\t3:00\t-\tMSK\t1941 Jun 24\n\t\t\t1:00\tC-Eur\tCE%sT\t1944 Aug\n\t\t\t3:00\tRussia\tMSK/MSD\t1991 Mar 31 2:00s\n\t\t\t2:00\t1:00\tEEST\t1991 Sep 29 2:00s\n\t\t\t2:00\tC-Eur\tEE%sT\t1998\n\t\t\t2:00\t-\tEET\t1998 Mar 29 1:00u\n\t\t\t1:00\tEU\tCE%sT\t1999 Oct 31 1:00u\n\t\t\t2:00\t-\tEET\t2003 Jan  1\n\t\t\t2:00\tEU\tEE%sT\n\n# Luxembourg\n# Whitman disagrees with most of these dates in minor ways;\n# go with Shanks & Pottenger.\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tLux\t1916\tonly\t-\tMay\t14\t23:00\t1:00\tS\nRule\tLux\t1916\tonly\t-\tOct\t 1\t 1:00\t0\t-\nRule\tLux\t1917\tonly\t-\tApr\t28\t23:00\t1:00\tS\nRule\tLux\t1917\tonly\t-\tSep\t17\t 1:00\t0\t-\nRule\tLux\t1918\tonly\t-\tApr\tMon>=15\t 2:00s\t1:00\tS\nRule\tLux\t1918\tonly\t-\tSep\tMon>=15\t 2:00s\t0\t-\nRule\tLux\t1919\tonly\t-\tMar\t 1\t23:00\t1:00\tS\nRule\tLux\t1919\tonly\t-\tOct\t 5\t 3:00\t0\t-\nRule\tLux\t1920\tonly\t-\tFeb\t14\t23:00\t1:00\tS\nRule\tLux\t1920\tonly\t-\tOct\t24\t 2:00\t0\t-\nRule\tLux\t1921\tonly\t-\tMar\t14\t23:00\t1:00\tS\nRule\tLux\t1921\tonly\t-\tOct\t26\t 2:00\t0\t-\nRule\tLux\t1922\tonly\t-\tMar\t25\t23:00\t1:00\tS\nRule\tLux\t1922\tonly\t-\tOct\tSun>=2\t 1:00\t0\t-\nRule\tLux\t1923\tonly\t-\tApr\t21\t23:00\t1:00\tS\nRule\tLux\t1923\tonly\t-\tOct\tSun>=2\t 2:00\t0\t-\nRule\tLux\t1924\tonly\t-\tMar\t29\t23:00\t1:00\tS\nRule\tLux\t1924\t1928\t-\tOct\tSun>=2\t 1:00\t0\t-\nRule\tLux\t1925\tonly\t-\tApr\t 5\t23:00\t1:00\tS\nRule\tLux\t1926\tonly\t-\tApr\t17\t23:00\t1:00\tS\nRule\tLux\t1927\tonly\t-\tApr\t 9\t23:00\t1:00\tS\nRule\tLux\t1928\tonly\t-\tApr\t14\t23:00\t1:00\tS\nRule\tLux\t1929\tonly\t-\tApr\t20\t23:00\t1:00\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Europe/Luxembourg\t0:24:36 -\tLMT\t1904 Jun\n\t\t\t1:00\tLux\tCE%sT\t1918 Nov 25\n\t\t\t0:00\tLux\tWE%sT\t1929 Oct  6 2:00s\n\t\t\t0:00\tBelgium\tWE%sT\t1940 May 14 3:00\n\t\t\t1:00\tC-Eur\tWE%sT\t1944 Sep 18 3:00\n\t\t\t1:00\tBelgium\tCE%sT\t1977\n\t\t\t1:00\tEU\tCE%sT\n\n# Macedonia\n# See Europe/Belgrade.\n\n# Malta\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tMalta\t1973\tonly\t-\tMar\t31\t0:00s\t1:00\tS\nRule\tMalta\t1973\tonly\t-\tSep\t29\t0:00s\t0\t-\nRule\tMalta\t1974\tonly\t-\tApr\t21\t0:00s\t1:00\tS\nRule\tMalta\t1974\tonly\t-\tSep\t16\t0:00s\t0\t-\nRule\tMalta\t1975\t1979\t-\tApr\tSun>=15\t2:00\t1:00\tS\nRule\tMalta\t1975\t1980\t-\tSep\tSun>=15\t2:00\t0\t-\nRule\tMalta\t1980\tonly\t-\tMar\t31\t2:00\t1:00\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tEurope/Malta\t0:58:04 -\tLMT\t1893 Nov  2 0:00s # Valletta\n\t\t\t1:00\tItaly\tCE%sT\t1942 Nov  2 2:00s\n\t\t\t1:00\tC-Eur\tCE%sT\t1945 Apr  2 2:00s\n\t\t\t1:00\tItaly\tCE%sT\t1973 Mar 31\n\t\t\t1:00\tMalta\tCE%sT\t1981\n\t\t\t1:00\tEU\tCE%sT\n\n# Moldova\n\n# From Paul Eggert (2006-03-22):\n# A previous version of this database followed Shanks & Pottenger, who write\n# that Tiraspol switched to Moscow time on 1992-01-19 at 02:00.\n# However, this is most likely an error, as Moldova declared independence\n# on 1991-08-27 (the 1992-01-19 date is that of a Russian decree).\n# In early 1992 there was large-scale interethnic violence in the area\n# and it's possible that some Russophones continued to observe Moscow time.\n# But [two people] separately reported via\n# Jesper Norgaard that as of 2001-01-24 Tiraspol was like Chisinau.\n# The Tiraspol entry has therefore been removed for now.\n#\n# From Alexander Krivenyshev (2011-10-17):\n# Pridnestrovian Moldavian Republic (PMR, also known as\n# \"Pridnestrovie\") has abolished seasonal clock change (no transition\n# to the Winter Time).\n#\n# News (in Russian):\n# <a href=\"http://www.kyivpost.ua/russia/news/pridnestrove-otkazalos-ot-perehoda-na-zimnee-vremya-30954.html\">\n# http://www.kyivpost.ua/russia/news/pridnestrove-otkazalos-ot-perehoda-na-zimnee-vremya-30954.html\n# </a>\n#\n# <a href=\"http://www.allmoldova.com/moldova-news/1249064116.html\">\n# http://www.allmoldova.com/moldova-news/1249064116.html\n# </a>\n#\n# The substance of this change (reinstatement of the Tiraspol entry)\n# is from a patch from Petr Machata (2011-10-17)\n#\n# From Tim Parenti (2011-10-19)\n# In addition, being situated at +4651+2938 would give Tiraspol\n# a pre-1880 LMT offset of 1:58:32.\n#\n# (which agrees with the earlier entry that had been removed)\n#\n# From Alexander Krivenyshev (2011-10-26)\n# NO need to divide Moldova into two timezones at this point.\n# As of today, Transnistria (Pridnestrovie)- Tiraspol reversed its own\n# decision to abolish DST this winter.\n# Following Moldova and neighboring Ukraine- Transnistria (Pridnestrovie)-\n# Tiraspol will go back to winter time on October 30, 2011.\n# News from Moldova (in russian):\n# <a href=\"http://ru.publika.md/link_317061.html\">\n# http://ru.publika.md/link_317061.html\n# </a>\n\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tEurope/Chisinau\t1:55:20 -\tLMT\t1880\n\t\t\t1:55\t-\tCMT\t1918 Feb 15 # Chisinau MT\n\t\t\t1:44:24\t-\tBMT\t1931 Jul 24 # Bucharest MT\n\t\t\t2:00\tRomania\tEE%sT\t1940 Aug 15\n\t\t\t2:00\t1:00\tEEST\t1941 Jul 17\n\t\t\t1:00\tC-Eur\tCE%sT\t1944 Aug 24\n\t\t\t3:00\tRussia\tMSK/MSD\t1990\n\t\t\t3:00\t-\tMSK\t1990 May 6\n\t\t\t2:00\t-\tEET\t1991\n\t\t\t2:00\tRussia\tEE%sT\t1992\n\t\t\t2:00\tE-Eur\tEE%sT\t1997\n# See Romania commentary for the guessed 1997 transition to EU rules.\n\t\t\t2:00\tEU\tEE%sT\n\n# Monaco\n# Shanks & Pottenger give 0:09:20 for Paris Mean Time; go with Howse's\n# more precise 0:09:21.\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tEurope/Monaco\t0:29:32 -\tLMT\t1891 Mar 15\n\t\t\t0:09:21\t-\tPMT\t1911 Mar 11    # Paris Mean Time\n\t\t\t0:00\tFrance\tWE%sT\t1945 Sep 16 3:00\n\t\t\t1:00\tFrance\tCE%sT\t1977\n\t\t\t1:00\tEU\tCE%sT\n\n# Montenegro\n# See Europe/Belgrade.\n\n# Netherlands\n\n# Howse writes that the Netherlands' railways used GMT between 1892 and 1940,\n# but for other purposes the Netherlands used Amsterdam mean time.\n\n# However, Robert H. van Gent writes (2001-04-01):\n# Howse's statement is only correct up to 1909. From 1909-05-01 (00:00:00\n# Amsterdam mean time) onwards, the whole of the Netherlands (including\n# the Dutch railways) was required by law to observe Amsterdam mean time\n# (19 minutes 32.13 seconds ahead of GMT). This had already been the\n# common practice (except for the railways) for many decades but it was\n# not until 1909 when the Dutch government finally defined this by law.\n# On 1937-07-01 this was changed to 20 minutes (exactly) ahead of GMT and\n# was generally known as Dutch Time (\"Nederlandse Tijd\").\n#\n# (2001-04-08):\n# 1892-05-01 was the date when the Dutch railways were by law required to\n# observe GMT while the remainder of the Netherlands adhered to the common\n# practice of following Amsterdam mean time.\n#\n# (2001-04-09):\n# In 1835 the authorities of the province of North Holland requested the\n# municipal authorities of the towns and cities in the province to observe\n# Amsterdam mean time but I do not know in how many cases this request was\n# actually followed.\n#\n# From 1852 onwards the Dutch telegraph offices were by law required to\n# observe Amsterdam mean time. As the time signals from the observatory of\n# Leiden were also distributed by the telegraph system, I assume that most\n# places linked up with the telegraph (and railway) system automatically\n# adopted Amsterdam mean time.\n#\n# Although the early Dutch railway companies initially observed a variety\n# of times, most of them had adopted Amsterdam mean time by 1858 but it\n# was not until 1866 when they were all required by law to observe\n# Amsterdam mean time.\n\n# The data before 1945 are taken from\n# <http://www.phys.uu.nl/~vgent/wettijd/wettijd.htm>.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tNeth\t1916\tonly\t-\tMay\t 1\t0:00\t1:00\tNST\t# Netherlands Summer Time\nRule\tNeth\t1916\tonly\t-\tOct\t 1\t0:00\t0\tAMT\t# Amsterdam Mean Time\nRule\tNeth\t1917\tonly\t-\tApr\t16\t2:00s\t1:00\tNST\nRule\tNeth\t1917\tonly\t-\tSep\t17\t2:00s\t0\tAMT\nRule\tNeth\t1918\t1921\t-\tApr\tMon>=1\t2:00s\t1:00\tNST\nRule\tNeth\t1918\t1921\t-\tSep\tlastMon\t2:00s\t0\tAMT\nRule\tNeth\t1922\tonly\t-\tMar\tlastSun\t2:00s\t1:00\tNST\nRule\tNeth\t1922\t1936\t-\tOct\tSun>=2\t2:00s\t0\tAMT\nRule\tNeth\t1923\tonly\t-\tJun\tFri>=1\t2:00s\t1:00\tNST\nRule\tNeth\t1924\tonly\t-\tMar\tlastSun\t2:00s\t1:00\tNST\nRule\tNeth\t1925\tonly\t-\tJun\tFri>=1\t2:00s\t1:00\tNST\n# From 1926 through 1939 DST began 05-15, except that it was delayed by a week\n# in years when 05-15 fell in the Pentecost weekend.\nRule\tNeth\t1926\t1931\t-\tMay\t15\t2:00s\t1:00\tNST\nRule\tNeth\t1932\tonly\t-\tMay\t22\t2:00s\t1:00\tNST\nRule\tNeth\t1933\t1936\t-\tMay\t15\t2:00s\t1:00\tNST\nRule\tNeth\t1937\tonly\t-\tMay\t22\t2:00s\t1:00\tNST\nRule\tNeth\t1937\tonly\t-\tJul\t 1\t0:00\t1:00\tS\nRule\tNeth\t1937\t1939\t-\tOct\tSun>=2\t2:00s\t0\t-\nRule\tNeth\t1938\t1939\t-\tMay\t15\t2:00s\t1:00\tS\nRule\tNeth\t1945\tonly\t-\tApr\t 2\t2:00s\t1:00\tS\nRule\tNeth\t1945\tonly\t-\tSep\t16\t2:00s\t0\t-\n#\n# Amsterdam Mean Time was +00:19:32.13 exactly, but the .13 is omitted\n# below because the current format requires GMTOFF to be an integer.\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Europe/Amsterdam\t0:19:32 -\tLMT\t1835\n\t\t\t0:19:32\tNeth\t%s\t1937 Jul  1\n\t\t\t0:20\tNeth\tNE%sT\t1940 May 16 0:00 # Dutch Time\n\t\t\t1:00\tC-Eur\tCE%sT\t1945 Apr  2 2:00\n\t\t\t1:00\tNeth\tCE%sT\t1977\n\t\t\t1:00\tEU\tCE%sT\n\n# Norway\n# http://met.no/met/met_lex/q_u/sommertid.html (2004-01) agrees with Shanks &\n# Pottenger.\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tNorway\t1916\tonly\t-\tMay\t22\t1:00\t1:00\tS\nRule\tNorway\t1916\tonly\t-\tSep\t30\t0:00\t0\t-\nRule\tNorway\t1945\tonly\t-\tApr\t 2\t2:00s\t1:00\tS\nRule\tNorway\t1945\tonly\t-\tOct\t 1\t2:00s\t0\t-\nRule\tNorway\t1959\t1964\t-\tMar\tSun>=15\t2:00s\t1:00\tS\nRule\tNorway\t1959\t1965\t-\tSep\tSun>=15\t2:00s\t0\t-\nRule\tNorway\t1965\tonly\t-\tApr\t25\t2:00s\t1:00\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tEurope/Oslo\t0:43:00 -\tLMT\t1895 Jan  1\n\t\t\t1:00\tNorway\tCE%sT\t1940 Aug 10 23:00\n\t\t\t1:00\tC-Eur\tCE%sT\t1945 Apr  2  2:00\n\t\t\t1:00\tNorway\tCE%sT\t1980\n\t\t\t1:00\tEU\tCE%sT\n\n# Svalbard & Jan Mayen\n\n# From Steffen Thorsen (2001-05-01):\n# Although I could not find it explicitly, it seems that Jan Mayen and\n# Svalbard have been using the same time as Norway at least since the\n# time they were declared as parts of Norway.  Svalbard was declared\n# as a part of Norway by law of 1925-07-17 no 11, section 4 and Jan\n# Mayen by law of 1930-02-27 no 2, section 2. (From\n# http://www.lovdata.no/all/nl-19250717-011.html and\n# http://www.lovdata.no/all/nl-19300227-002.html).  The law/regulation\n# for normal/standard time in Norway is from 1894-06-29 no 1 (came\n# into operation on 1895-01-01) and Svalbard/Jan Mayen seem to be a\n# part of this law since 1925/1930. (From\n# http://www.lovdata.no/all/nl-18940629-001.html ) I have not been\n# able to find if Jan Mayen used a different time zone (e.g. -0100)\n# before 1930. Jan Mayen has only been \"inhabitated\" since 1921 by\n# Norwegian meteorologists and maybe used the same time as Norway ever\n# since 1921.  Svalbard (Arctic/Longyearbyen) has been inhabited since\n# before 1895, and therefore probably changed the local time somewhere\n# between 1895 and 1925 (inclusive).\n\n# From Paul Eggert (2013-09-04):\n#\n# Actually, Jan Mayen was never occupied by Germany during World War II,\n# so it must have diverged from Oslo time during the war, as Oslo was\n# keeping Berlin time.\n#\n# <http://home.no.net/janmayen/history.htm> says that the meteorologists\n# burned down their station in 1940 and left the island, but returned in\n# 1941 with a small Norwegian garrison and continued operations despite\n# frequent air ttacks from Germans.  In 1943 the Americans established a\n# radiolocating station on the island, called \"Atlantic City\".  Possibly\n# the UT offset changed during the war, but I think it unlikely that\n# Jan Mayen used German daylight-saving rules.\n#\n# Svalbard is more complicated, as it was raided in August 1941 by an\n# Allied party that evacuated the civilian population to England (says\n# <http://www.bartleby.com/65/sv/Svalbard.html>).  The Svalbard FAQ\n# <http://www.svalbard.com/SvalbardFAQ.html> says that the Germans were\n# expelled on 1942-05-14.  However, small parties of Germans did return,\n# and according to Wilhelm Dege's book \"War North of 80\" (1954)\n# <http://www.ucalgary.ca/UofC/departments/UP/1-55238/1-55238-110-2.html>\n# the German armed forces at the Svalbard weather station code-named\n# Haudegen did not surrender to the Allies until September 1945.\n#\n# All these events predate our cutoff date of 1970, so use Europe/Oslo\n# for these regions.\nLink\tEurope/Oslo\tArctic/Longyearbyen\n\n# Poland\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tPoland\t1918\t1919\t-\tSep\t16\t2:00s\t0\t-\nRule\tPoland\t1919\tonly\t-\tApr\t15\t2:00s\t1:00\tS\nRule\tPoland\t1944\tonly\t-\tApr\t 3\t2:00s\t1:00\tS\n# Whitman gives 1944 Nov 30; go with Shanks & Pottenger.\nRule\tPoland\t1944\tonly\t-\tOct\t 4\t2:00\t0\t-\n# For 1944-1948 Whitman gives the previous day; go with Shanks & Pottenger.\nRule\tPoland\t1945\tonly\t-\tApr\t29\t0:00\t1:00\tS\nRule\tPoland\t1945\tonly\t-\tNov\t 1\t0:00\t0\t-\n# For 1946 on the source is Kazimierz Borkowski,\n# Torun Center for Astronomy, Dept. of Radio Astronomy, Nicolaus Copernicus U.,\n# <http://www.astro.uni.torun.pl/~kb/Artykuly/U-PA/Czas2.htm#tth_tAb1>\n# Thanks to Przemyslaw Augustyniak (2005-05-28) for this reference.\n# He also gives these further references:\n# Mon Pol nr 13, poz 162 (1995) <http://www.abc.com.pl/serwis/mp/1995/0162.htm>\n# Druk nr 2180 (2003) <http://www.senat.gov.pl/k5/dok/sejm/053/2180.pdf>\nRule\tPoland\t1946\tonly\t-\tApr\t14\t0:00s\t1:00\tS\nRule\tPoland\t1946\tonly\t-\tOct\t 7\t2:00s\t0\t-\nRule\tPoland\t1947\tonly\t-\tMay\t 4\t2:00s\t1:00\tS\nRule\tPoland\t1947\t1949\t-\tOct\tSun>=1\t2:00s\t0\t-\nRule\tPoland\t1948\tonly\t-\tApr\t18\t2:00s\t1:00\tS\nRule\tPoland\t1949\tonly\t-\tApr\t10\t2:00s\t1:00\tS\nRule\tPoland\t1957\tonly\t-\tJun\t 2\t1:00s\t1:00\tS\nRule\tPoland\t1957\t1958\t-\tSep\tlastSun\t1:00s\t0\t-\nRule\tPoland\t1958\tonly\t-\tMar\t30\t1:00s\t1:00\tS\nRule\tPoland\t1959\tonly\t-\tMay\t31\t1:00s\t1:00\tS\nRule\tPoland\t1959\t1961\t-\tOct\tSun>=1\t1:00s\t0\t-\nRule\tPoland\t1960\tonly\t-\tApr\t 3\t1:00s\t1:00\tS\nRule\tPoland\t1961\t1964\t-\tMay\tlastSun\t1:00s\t1:00\tS\nRule\tPoland\t1962\t1964\t-\tSep\tlastSun\t1:00s\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tEurope/Warsaw\t1:24:00 -\tLMT\t1880\n\t\t\t1:24:00\t-\tWMT\t1915 Aug  5   # Warsaw Mean Time\n\t\t\t1:00\tC-Eur\tCE%sT\t1918 Sep 16 3:00\n\t\t\t2:00\tPoland\tEE%sT\t1922 Jun\n\t\t\t1:00\tPoland\tCE%sT\t1940 Jun 23 2:00\n\t\t\t1:00\tC-Eur\tCE%sT\t1944 Oct\n\t\t\t1:00\tPoland\tCE%sT\t1977\n\t\t\t1:00\tW-Eur\tCE%sT\t1988\n\t\t\t1:00\tEU\tCE%sT\n\n# Portugal\n#\n# From Rui Pedro Salgueiro (1992-11-12):\n# Portugal has recently (September, 27) changed timezone\n# (from WET to MET or CET) to harmonize with EEC.\n#\n# Martin Bruckmann (1996-02-29) reports via Peter Ilieve\n# that Portugal is reverting to 0:00 by not moving its clocks this spring.\n# The new Prime Minister was fed up with getting up in the dark in the winter.\n#\n# From Paul Eggert (1996-11-12):\n# IATA SSIM (1991-09) reports several 1991-09 and 1992-09 transitions\n# at 02:00u, not 01:00u.  Assume that these are typos.\n# IATA SSIM (1991/1992) reports that the Azores were at -1:00.\n# IATA SSIM (1993-02) says +0:00; later issues (through 1996-09) say -1:00.\n# Guess that the Azores changed to EU rules in 1992 (since that's when Portugal\n# harmonized with the EU), and that they stayed +0:00 that winter.\n#\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\n# DSH writes that despite Decree 1,469 (1915), the change to the clocks was not\n# done every year, depending on what Spain did, because of railroad schedules.\n# Go with Shanks & Pottenger.\nRule\tPort\t1916\tonly\t-\tJun\t17\t23:00\t1:00\tS\n# Whitman gives 1916 Oct 31; go with Shanks & Pottenger.\nRule\tPort\t1916\tonly\t-\tNov\t 1\t 1:00\t0\t-\nRule\tPort\t1917\tonly\t-\tFeb\t28\t23:00s\t1:00\tS\nRule\tPort\t1917\t1921\t-\tOct\t14\t23:00s\t0\t-\nRule\tPort\t1918\tonly\t-\tMar\t 1\t23:00s\t1:00\tS\nRule\tPort\t1919\tonly\t-\tFeb\t28\t23:00s\t1:00\tS\nRule\tPort\t1920\tonly\t-\tFeb\t29\t23:00s\t1:00\tS\nRule\tPort\t1921\tonly\t-\tFeb\t28\t23:00s\t1:00\tS\nRule\tPort\t1924\tonly\t-\tApr\t16\t23:00s\t1:00\tS\nRule\tPort\t1924\tonly\t-\tOct\t14\t23:00s\t0\t-\nRule\tPort\t1926\tonly\t-\tApr\t17\t23:00s\t1:00\tS\nRule\tPort\t1926\t1929\t-\tOct\tSat>=1\t23:00s\t0\t-\nRule\tPort\t1927\tonly\t-\tApr\t 9\t23:00s\t1:00\tS\nRule\tPort\t1928\tonly\t-\tApr\t14\t23:00s\t1:00\tS\nRule\tPort\t1929\tonly\t-\tApr\t20\t23:00s\t1:00\tS\nRule\tPort\t1931\tonly\t-\tApr\t18\t23:00s\t1:00\tS\n# Whitman gives 1931 Oct 8; go with Shanks & Pottenger.\nRule\tPort\t1931\t1932\t-\tOct\tSat>=1\t23:00s\t0\t-\nRule\tPort\t1932\tonly\t-\tApr\t 2\t23:00s\t1:00\tS\nRule\tPort\t1934\tonly\t-\tApr\t 7\t23:00s\t1:00\tS\n# Whitman gives 1934 Oct 5; go with Shanks & Pottenger.\nRule\tPort\t1934\t1938\t-\tOct\tSat>=1\t23:00s\t0\t-\n# Shanks & Pottenger give 1935 Apr 30; go with Whitman.\nRule\tPort\t1935\tonly\t-\tMar\t30\t23:00s\t1:00\tS\nRule\tPort\t1936\tonly\t-\tApr\t18\t23:00s\t1:00\tS\n# Whitman gives 1937 Apr 2; go with Shanks & Pottenger.\nRule\tPort\t1937\tonly\t-\tApr\t 3\t23:00s\t1:00\tS\nRule\tPort\t1938\tonly\t-\tMar\t26\t23:00s\t1:00\tS\nRule\tPort\t1939\tonly\t-\tApr\t15\t23:00s\t1:00\tS\n# Whitman gives 1939 Oct 7; go with Shanks & Pottenger.\nRule\tPort\t1939\tonly\t-\tNov\t18\t23:00s\t0\t-\nRule\tPort\t1940\tonly\t-\tFeb\t24\t23:00s\t1:00\tS\n# Shanks & Pottenger give 1940 Oct 7; go with Whitman.\nRule\tPort\t1940\t1941\t-\tOct\t 5\t23:00s\t0\t-\nRule\tPort\t1941\tonly\t-\tApr\t 5\t23:00s\t1:00\tS\nRule\tPort\t1942\t1945\t-\tMar\tSat>=8\t23:00s\t1:00\tS\nRule\tPort\t1942\tonly\t-\tApr\t25\t22:00s\t2:00\tM # Midsummer\nRule\tPort\t1942\tonly\t-\tAug\t15\t22:00s\t1:00\tS\nRule\tPort\t1942\t1945\t-\tOct\tSat>=24\t23:00s\t0\t-\nRule\tPort\t1943\tonly\t-\tApr\t17\t22:00s\t2:00\tM\nRule\tPort\t1943\t1945\t-\tAug\tSat>=25\t22:00s\t1:00\tS\nRule\tPort\t1944\t1945\t-\tApr\tSat>=21\t22:00s\t2:00\tM\nRule\tPort\t1946\tonly\t-\tApr\tSat>=1\t23:00s\t1:00\tS\nRule\tPort\t1946\tonly\t-\tOct\tSat>=1\t23:00s\t0\t-\nRule\tPort\t1947\t1949\t-\tApr\tSun>=1\t 2:00s\t1:00\tS\nRule\tPort\t1947\t1949\t-\tOct\tSun>=1\t 2:00s\t0\t-\n# Shanks & Pottenger say DST was observed in 1950; go with Whitman.\n# Whitman gives Oct lastSun for 1952 on; go with Shanks & Pottenger.\nRule\tPort\t1951\t1965\t-\tApr\tSun>=1\t 2:00s\t1:00\tS\nRule\tPort\t1951\t1965\t-\tOct\tSun>=1\t 2:00s\t0\t-\nRule\tPort\t1977\tonly\t-\tMar\t27\t 0:00s\t1:00\tS\nRule\tPort\t1977\tonly\t-\tSep\t25\t 0:00s\t0\t-\nRule\tPort\t1978\t1979\t-\tApr\tSun>=1\t 0:00s\t1:00\tS\nRule\tPort\t1978\tonly\t-\tOct\t 1\t 0:00s\t0\t-\nRule\tPort\t1979\t1982\t-\tSep\tlastSun\t 1:00s\t0\t-\nRule\tPort\t1980\tonly\t-\tMar\tlastSun\t 0:00s\t1:00\tS\nRule\tPort\t1981\t1982\t-\tMar\tlastSun\t 1:00s\t1:00\tS\nRule\tPort\t1983\tonly\t-\tMar\tlastSun\t 2:00s\t1:00\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\n# Shanks & Pottenger say the transition from LMT to WET occurred 1911-05-24;\n# Willett says 1912-01-01.  Go with Willett.\nZone\tEurope/Lisbon\t-0:36:32 -\tLMT\t1884\n\t\t\t-0:36:32 -\tLMT\t1912 Jan  1  # Lisbon Mean Time\n\t\t\t 0:00\tPort\tWE%sT\t1966 Apr  3 2:00\n\t\t\t 1:00\t-\tCET\t1976 Sep 26 1:00\n\t\t\t 0:00\tPort\tWE%sT\t1983 Sep 25 1:00s\n\t\t\t 0:00\tW-Eur\tWE%sT\t1992 Sep 27 1:00s\n\t\t\t 1:00\tEU\tCE%sT\t1996 Mar 31 1:00u\n\t\t\t 0:00\tEU\tWE%sT\nZone Atlantic/Azores\t-1:42:40 -\tLMT\t1884\t\t# Ponta Delgada\n\t\t\t-1:54:32 -\tHMT\t1911 May 24  # Horta Mean Time\n\t\t\t-2:00\tPort\tAZO%sT\t1966 Apr  3 2:00 # Azores Time\n\t\t\t-1:00\tPort\tAZO%sT\t1983 Sep 25 1:00s\n\t\t\t-1:00\tW-Eur\tAZO%sT\t1992 Sep 27 1:00s\n\t\t\t 0:00\tEU\tWE%sT\t1993 Mar 28 1:00u\n\t\t\t-1:00\tEU\tAZO%sT\nZone Atlantic/Madeira\t-1:07:36 -\tLMT\t1884\t\t# Funchal\n\t\t\t-1:07:36 -\tFMT\t1911 May 24  # Funchal Mean Time\n\t\t\t-1:00\tPort\tMAD%sT\t1966 Apr  3 2:00 # Madeira Time\n\t\t\t 0:00\tPort\tWE%sT\t1983 Sep 25 1:00s\n\t\t\t 0:00\tEU\tWE%sT\n\n# Romania\n#\n# From Paul Eggert (1999-10-07):\n# <a href=\"http://www.nineoclock.ro/POL/1778pol.html\">\n# Nine O'clock</a> (1998-10-23) reports that the switch occurred at\n# 04:00 local time in fall 1998.  For lack of better info,\n# assume that Romania and Moldova switched to EU rules in 1997,\n# the same year as Bulgaria.\n#\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tRomania\t1932\tonly\t-\tMay\t21\t 0:00s\t1:00\tS\nRule\tRomania\t1932\t1939\t-\tOct\tSun>=1\t 0:00s\t0\t-\nRule\tRomania\t1933\t1939\t-\tApr\tSun>=2\t 0:00s\t1:00\tS\nRule\tRomania\t1979\tonly\t-\tMay\t27\t 0:00\t1:00\tS\nRule\tRomania\t1979\tonly\t-\tSep\tlastSun\t 0:00\t0\t-\nRule\tRomania\t1980\tonly\t-\tApr\t 5\t23:00\t1:00\tS\nRule\tRomania\t1980\tonly\t-\tSep\tlastSun\t 1:00\t0\t-\nRule\tRomania\t1991\t1993\t-\tMar\tlastSun\t 0:00s\t1:00\tS\nRule\tRomania\t1991\t1993\t-\tSep\tlastSun\t 0:00s\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Europe/Bucharest\t1:44:24 -\tLMT\t1891 Oct\n\t\t\t1:44:24\t-\tBMT\t1931 Jul 24\t# Bucharest MT\n\t\t\t2:00\tRomania\tEE%sT\t1981 Mar 29 2:00s\n\t\t\t2:00\tC-Eur\tEE%sT\t1991\n\t\t\t2:00\tRomania\tEE%sT\t1994\n\t\t\t2:00\tE-Eur\tEE%sT\t1997\n\t\t\t2:00\tEU\tEE%sT\n\n# Russia\n\n# From Alexander Krivenyshev (2011-09-15):\n# Based on last Russian Government Decree # 725 on August 31, 2011\n# (Government document\n# <a href=\"http://www.government.ru/gov/results/16355/print/\">\n# http://www.government.ru/gov/results/16355/print/\n# </a>\n# in Russian)\n# there are few corrections have to be made for some Russian time zones...\n# All updated Russian Time Zones were placed in table and translated to English\n# by WorldTimeZone.com at the link below:\n# <a href=\"http://www.worldtimezone.com/dst_news/dst_news_russia36.htm\">\n# http://www.worldtimezone.com/dst_news/dst_news_russia36.htm\n# </a>\n\n# From Sanjeev Gupta (2011-09-27):\n# Scans of [Decree #23 of January 8, 1992] are available at:\n# <a href=\"http://government.consultant.ru/page.aspx?1223966\">\n# http://government.consultant.ru/page.aspx?1223966\n# They are in Cyrillic letters (presumably Russian).\n\n# From Arthur David Olson (2012-05-09):\n# Regarding the instant when clocks in time-zone-shifting parts of Russia\n# changed in September 2011:\n#\n# One source is\n# < a href=\"http://government.ru/gov/results/16355/>\n# http://government.ru/gov/results/16355/\n# </a>\n# which, according to translate.google.com, begins \"Decree of August 31,\n# 2011 No 725\" and contains no other dates or \"effective date\" information.\n#\n# Another source is\n# <a href=\"http://www.rg.ru/2011/09/06/chas-zona-dok.html\">\n# http://www.rg.ru/2011/09/06/chas-zona-dok.html\n# </a>\n# which, according to translate.google.com, begins \"Resolution of the\n# Government of the Russian Federation on August 31, 2011 N 725\" and also\n# contains \"Date first official publication: September 6, 2011 Posted on:\n# in the 'RG' - Federal Issue number 5573 September 6, 2011\" but which\n# does not contain any \"effective date\" information.\n#\n# Another source is\n# <a href=\"http://en.wikipedia.org/wiki/Oymyakonsky_District#cite_note-RuTime-7\">\n# http://en.wikipedia.org/wiki/Oymyakonsky_District#cite_note-RuTime-7\n# </a>\n# which, in note 8, contains \"Resolution #725 of August 31, 2011...\n# Effective as of after 7 days following the day of the official publication\"\n# but which does not contain any reference to September 6, 2011.\n#\n# The Wikipedia article refers to\n# <a href=\"http://base.consultant.ru/cons/cgi/online.cgi?req=doc;base=LAW;n=118896\">\n# http://base.consultant.ru/cons/cgi/online.cgi?req=doc;base=LAW;n=118896\n# </a>\n# which seems to copy the text of the government.ru page.\n#\n# Tobias Conradi combines Wikipedia's\n# \"as of after 7 days following the day of the official publication\"\n# with www.rg.ru's \"Date of first official publication: September 6, 2011\" to get\n# September 13, 2011 as the cutover date (unusually, a Tuesday, as Tobias Conradi notes).\n#\n# None of the sources indicates a time of day for changing clocks.\n#\n# Go with 2011-09-13 0:00s.\n\n# From Paul Eggert (2006-03-22):\n# Except for Moscow after 1919-07-01, I invented the time zone abbreviations.\n# Moscow time zone abbreviations after 1919-07-01, and Moscow rules after 1991,\n# are from Andrey A. Chernov.  The rest is from Shanks & Pottenger,\n# except we follow Chernov's report that 1992 DST transitions were Sat\n# 23:00, not Sun 02:00s.\n#\n# From Stanislaw A. Kuzikowski (1994-06-29):\n# But now it is some months since Novosibirsk is 3 hours ahead of Moscow!\n# I do not know why they have decided to make this change;\n# as far as I remember it was done exactly during winter->summer switching\n# so we (Novosibirsk) simply did not switch.\n#\n# From Andrey A. Chernov (1996-10-04):\n# 'MSK' and 'MSD' were born and used initially on Moscow computers with\n# UNIX-like OSes by several developer groups (e.g. Demos group, Kiae group)....\n# The next step was the UUCP network, the Relcom predecessor\n# (used mainly for mail), and MSK/MSD was actively used there.\n#\n# From Chris Carrier (1996-10-30):\n# According to a friend of mine who rode the Trans-Siberian Railroad from\n# Moscow to Irkutsk in 1995, public air and rail transport in Russia ...\n# still follows Moscow time, no matter where in Russia it is located.\n#\n# For Grozny, Chechnya, we have the following story from\n# John Daniszewski, \"Scavengers in the Rubble\", Los Angeles Times (2001-02-07):\n# News--often false--is spread by word of mouth.  A rumor that it was\n# time to move the clocks back put this whole city out of sync with\n# the rest of Russia for two weeks--even soldiers stationed here began\n# enforcing curfew at the wrong time.\n#\n# From Gwillim Law (2001-06-05):\n# There's considerable evidence that Sakhalin Island used to be in\n# UTC+11, and has changed to UTC+10, in this decade.  I start with the\n# SSIM, which listed Yuzhno-Sakhalinsk in zone RU10 along with Magadan\n# until February 1997, and then in RU9 with Khabarovsk and Vladivostok\n# since September 1997....  Although the Kuril Islands are\n# administratively part of Sakhalin oblast', they appear to have\n# remained on UTC+11 along with Magadan.\n#\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\n#\n# Kaliningradskaya oblast'.\nZone Europe/Kaliningrad\t 1:22:00 -\tLMT\t1893 Apr\n\t\t\t 1:00\tC-Eur\tCE%sT\t1945\n\t\t\t 2:00\tPoland\tCE%sT\t1946\n\t\t\t 3:00\tRussia\tMSK/MSD\t1991 Mar 31 2:00s\n\t\t\t 2:00\tRussia\tEE%sT\t2011 Mar 27 2:00s\n\t\t\t 3:00\t-\tFET # Further-eastern European Time\n#\n# From Oscar van Vlijmen (2001-08-25): [This region consists of]\n# Respublika Adygeya, Arkhangel'skaya oblast',\n# Belgorodskaya oblast', Bryanskaya oblast', Vladimirskaya oblast',\n# Vologodskaya oblast', Voronezhskaya oblast',\n# Respublika Dagestan, Ivanovskaya oblast', Respublika Ingushetiya,\n# Kabarbino-Balkarskaya Respublika, Respublika Kalmykiya,\n# Kalyzhskaya oblast', Respublika Karachaevo-Cherkessiya,\n# Respublika Kareliya, Respublika Komi,\n# Kostromskaya oblast', Krasnodarskij kraj, Kurskaya oblast',\n# Leningradskaya oblast', Lipetskaya oblast', Respublika Marij El,\n# Respublika Mordoviya, Moskva, Moskovskaya oblast',\n# Murmanskaya oblast', Nenetskij avtonomnyj okrug,\n# Nizhegorodskaya oblast', Novgorodskaya oblast', Orlovskaya oblast',\n# Penzenskaya oblast', Pskovskaya oblast', Rostovskaya oblast',\n# Ryazanskaya oblast', Sankt-Peterburg,\n# Respublika Severnaya Osetiya, Smolenskaya oblast',\n# Stavropol'skij kraj, Tambovskaya oblast', Respublika Tatarstan,\n# Tverskaya oblast', Tyl'skaya oblast', Ul'yanovskaya oblast',\n# Chechenskaya Respublika, Chuvashskaya oblast',\n# Yaroslavskaya oblast'\nZone Europe/Moscow\t 2:30:20 -\tLMT\t1880\n\t\t\t 2:30\t-\tMMT\t1916 Jul  3 # Moscow Mean Time\n\t\t\t 2:30:48 Russia\t%s\t1919 Jul  1 2:00\n\t\t\t 3:00\tRussia\tMSK/MSD\t1922 Oct\n\t\t\t 2:00\t-\tEET\t1930 Jun 21\n\t\t\t 3:00\tRussia\tMSK/MSD\t1991 Mar 31 2:00s\n\t\t\t 2:00\tRussia\tEE%sT\t1992 Jan 19 2:00s\n\t\t\t 3:00\tRussia\tMSK/MSD\t2011 Mar 27 2:00s\n\t\t\t 4:00\t-\tMSK\n#\n# Astrakhanskaya oblast', Kirovskaya oblast', Saratovskaya oblast',\n# Volgogradskaya oblast'.  Shanks & Pottenger say Kirov is still at +0400\n# but Wikipedia (2006-05-09) says +0300.  Perhaps it switched after the\n# others?  But we have no data.\nZone Europe/Volgograd\t 2:57:40 -\tLMT\t1920 Jan  3\n\t\t\t 3:00\t-\tTSAT\t1925 Apr  6 # Tsaritsyn Time\n\t\t\t 3:00\t-\tSTAT\t1930 Jun 21 # Stalingrad Time\n\t\t\t 4:00\t-\tSTAT\t1961 Nov 11\n\t\t\t 4:00\tRussia\tVOL%sT\t1989 Mar 26 2:00s # Volgograd T\n\t\t\t 3:00\tRussia\tVOL%sT\t1991 Mar 31 2:00s\n\t\t\t 4:00\t-\tVOLT\t1992 Mar 29 2:00s\n\t\t\t 3:00\tRussia\tVOL%sT\t2011 Mar 27 2:00s\n\t\t\t 4:00\t-\tVOLT\n#\n# From Oscar van Vlijmen (2001-08-25): [This region consists of]\n# Samarskaya oblast', Udmyrtskaya respublika\nZone Europe/Samara\t 3:20:36 -\tLMT\t1919 Jul  1 2:00\n\t\t\t 3:00\t-\tSAMT\t1930 Jun 21\n\t\t\t 4:00\t-\tSAMT\t1935 Jan 27\n\t\t\t 4:00\tRussia\tKUY%sT\t1989 Mar 26 2:00s # Kuybyshev\n\t\t\t 3:00\tRussia\tKUY%sT\t1991 Mar 31 2:00s\n\t\t\t 2:00\tRussia\tKUY%sT\t1991 Sep 29 2:00s\n\t\t\t 3:00\t-\tKUYT\t1991 Oct 20 3:00\n\t\t\t 4:00\tRussia\tSAM%sT\t2010 Mar 28 2:00s # Samara Time\n\t\t\t 3:00\tRussia\tSAM%sT\t2011 Mar 27 2:00s\n\t\t\t 4:00\t-\tSAMT\n\n#\n# From Oscar van Vlijmen (2001-08-25): [This region consists of]\n# Respublika Bashkortostan, Komi-Permyatskij avtonomnyj okrug,\n# Kurganskaya oblast', Orenburgskaya oblast', Permskaya oblast',\n# Sverdlovskaya oblast', Tyumenskaya oblast',\n# Khanty-Manskijskij avtonomnyj okrug, Chelyabinskaya oblast',\n# Yamalo-Nenetskij avtonomnyj okrug.\nZone Asia/Yekaterinburg\t 4:02:24 -\tLMT\t1919 Jul 15 4:00\n\t\t\t 4:00\t-\tSVET\t1930 Jun 21 # Sverdlovsk Time\n\t\t\t 5:00\tRussia\tSVE%sT\t1991 Mar 31 2:00s\n\t\t\t 4:00\tRussia\tSVE%sT\t1992 Jan 19 2:00s\n\t\t\t 5:00\tRussia\tYEK%sT\t2011 Mar 27 2:00s\n\t\t\t 6:00\t-\tYEKT\t# Yekaterinburg Time\n#\n# From Oscar van Vlijmen (2001-08-25): [This region consists of]\n# Respublika Altaj, Altajskij kraj, Omskaya oblast'.\nZone Asia/Omsk\t\t 4:53:36 -\tLMT\t1919 Nov 14\n\t\t\t 5:00\t-\tOMST\t1930 Jun 21 # Omsk TIme\n\t\t\t 6:00\tRussia\tOMS%sT\t1991 Mar 31 2:00s\n\t\t\t 5:00\tRussia\tOMS%sT\t1992 Jan 19 2:00s\n\t\t\t 6:00\tRussia\tOMS%sT\t2011 Mar 27 2:00s\n\t\t\t 7:00\t-\tOMST\n#\n# From Paul Eggert (2006-08-19): I'm guessing about Tomsk here; it's\n# not clear when it switched from +7 to +6.\n# Novosibirskaya oblast', Tomskaya oblast'.\nZone Asia/Novosibirsk\t 5:31:40 -\tLMT\t1919 Dec 14 6:00\n\t\t\t 6:00\t-\tNOVT\t1930 Jun 21 # Novosibirsk Time\n\t\t\t 7:00\tRussia\tNOV%sT\t1991 Mar 31 2:00s\n\t\t\t 6:00\tRussia\tNOV%sT\t1992 Jan 19 2:00s\n\t\t\t 7:00\tRussia\tNOV%sT\t1993 May 23 # say Shanks & P.\n\t\t\t 6:00\tRussia\tNOV%sT\t2011 Mar 27 2:00s\n\t\t\t 7:00\t-\tNOVT\n\n# From Alexander Krivenyshev (2009-10-13):\n# Kemerovo oblast' (Kemerovo region) in Russia will change current time zone on\n# March 28, 2010:\n# from current Russia Zone 6 - Krasnoyarsk Time Zone (KRA) UTC +0700\n# to Russia Zone 5 - Novosibirsk Time Zone (NOV) UTC +0600\n#\n# This is according to Government of Russia decree # 740, on September\n# 14, 2009 \"Application in the territory of the Kemerovo region the Fifth\n# time zone.\" (\"Russia Zone 5\" or old \"USSR Zone 5\" is GMT +0600)\n#\n# Russian Government web site (Russian language)\n# <a href=\"http://www.government.ru/content/governmentactivity/rfgovernmentdecisions/archiv\">\n# http://www.government.ru/content/governmentactivity/rfgovernmentdecisions/archive/2009/09/14/991633.htm\n# </a>\n# or Russian-English translation by WorldTimeZone.com with reference\n# map to local region and new Russia Time Zone map after March 28, 2010\n# <a href=\"http://www.worldtimezone.com/dst_news/dst_news_russia03.html\">\n# http://www.worldtimezone.com/dst_news/dst_news_russia03.html\n# </a>\n#\n# Thus, when Russia will switch to DST on the night of March 28, 2010\n# Kemerovo region (Kemerovo oblast') will not change the clock.\n#\n# As a result, Kemerovo oblast' will be in the same time zone as\n# Novosibirsk, Omsk, Tomsk, Barnaul and Altai Republic.\n\nZone Asia/Novokuznetsk\t 5:48:48 -\tNMT\t1920 Jan  6\n\t\t\t 6:00\t-\tKRAT\t1930 Jun 21 # Krasnoyarsk Time\n\t\t\t 7:00\tRussia\tKRA%sT\t1991 Mar 31 2:00s\n\t\t\t 6:00\tRussia\tKRA%sT\t1992 Jan 19 2:00s\n\t\t\t 7:00\tRussia\tKRA%sT\t2010 Mar 28 2:00s\n\t\t\t 6:00\tRussia\tNOV%sT\t2011 Mar 27 2:00s\n\t\t\t 7:00\t-\tNOVT # Novosibirsk/Novokuznetsk Time\n\n#\n# From Oscar van Vlijmen (2001-08-25): [This region consists of]\n# Krasnoyarskij kraj,\n# Tajmyrskij (Dolgano-Nenetskij) avtonomnyj okrug,\n# Respublika Tuva, Respublika Khakasiya, Evenkijskij avtonomnyj okrug.\nZone Asia/Krasnoyarsk\t 6:11:20 -\tLMT\t1920 Jan  6\n\t\t\t 6:00\t-\tKRAT\t1930 Jun 21 # Krasnoyarsk Time\n\t\t\t 7:00\tRussia\tKRA%sT\t1991 Mar 31 2:00s\n\t\t\t 6:00\tRussia\tKRA%sT\t1992 Jan 19 2:00s\n\t\t\t 7:00\tRussia\tKRA%sT\t2011 Mar 27 2:00s\n\t\t\t 8:00\t-\tKRAT\n#\n# From Oscar van Vlijmen (2001-08-25): [This region consists of]\n# Respublika Buryatiya, Irkutskaya oblast',\n# Ust'-Ordynskij Buryatskij avtonomnyj okrug.\nZone Asia/Irkutsk\t 6:57:20 -\tLMT\t1880\n\t\t\t 6:57:20 -\tIMT\t1920 Jan 25 # Irkutsk Mean Time\n\t\t\t 7:00\t-\tIRKT\t1930 Jun 21 # Irkutsk Time\n\t\t\t 8:00\tRussia\tIRK%sT\t1991 Mar 31 2:00s\n\t\t\t 7:00\tRussia\tIRK%sT\t1992 Jan 19 2:00s\n\t\t\t 8:00\tRussia\tIRK%sT\t2011 Mar 27 2:00s\n\t\t\t 9:00\t-\tIRKT\n#\n# From Oscar van Vlijmen (2003-10-18): [This region consists of]\n# Aginskij Buryatskij avtonomnyj okrug, Amurskaya oblast',\n# [parts of] Respublika Sakha (Yakutiya), Chitinskaya oblast'.\n\n# From Oscar van Vlijmen (2009-11-29):\n# ...some regions of [Russia] were merged with others since 2005...\n# Some names were changed, no big deal, except for one instance: a new name.\n# YAK/YAKST: UTC+9 Zabajkal'skij kraj.\n\n# From Oscar van Vlijmen (2009-11-29):\n# The Sakha districts are: Aldanskij, Amginskij, Anabarskij,\n# Verkhnevilyujskij, Vilyujskij, Gornyj,\n# Zhiganskij, Kobyajskij, Lenskij, Megino-Kangalasskij, Mirninskij,\n# Namskij, Nyurbinskij, Olenyokskij, Olyokminskij,\n# Suntarskij, Tattinskij, Ust'-Aldanskij, Khangalasskij,\n# Churapchinskij, Eveno-Bytantajskij Natsional'nij.\n\nZone Asia/Yakutsk\t 8:38:40 -\tLMT\t1919 Dec 15\n\t\t\t 8:00\t-\tYAKT\t1930 Jun 21 # Yakutsk Time\n\t\t\t 9:00\tRussia\tYAK%sT\t1991 Mar 31 2:00s\n\t\t\t 8:00\tRussia\tYAK%sT\t1992 Jan 19 2:00s\n\t\t\t 9:00\tRussia\tYAK%sT\t2011 Mar 27 2:00s\n\t\t\t 10:00\t-\tYAKT\n#\n# From Oscar van Vlijmen (2003-10-18): [This region consists of]\n# Evrejskaya avtonomnaya oblast', Khabarovskij kraj, Primorskij kraj,\n# [parts of] Respublika Sakha (Yakutiya).\n\n# From Oscar van Vlijmen (2009-11-29):\n# The Sakha districts are: Bulunskij, Verkhoyanskij, ... Ust'-Yanskij.\nZone Asia/Vladivostok\t 8:47:44 -\tLMT\t1922 Nov 15\n\t\t\t 9:00\t-\tVLAT\t1930 Jun 21 # Vladivostok Time\n\t\t\t10:00\tRussia\tVLA%sT\t1991 Mar 31 2:00s\n\t\t\t 9:00\tRussia\tVLA%sST\t1992 Jan 19 2:00s\n\t\t\t10:00\tRussia\tVLA%sT\t2011 Mar 27 2:00s\n\t\t\t11:00\t-\tVLAT\n\n# From Arthur David Olson (2012-05-09):\n# Tomponskij and Ust'-Majskij switched from Vladivostok time to Yakutsk time\n# in 2011.\n#\n# From Paul Eggert (2012-11-25):\n# Shanks and Pottenger (2003) has Khandyga on Yakutsk time.\n# Make a wild guess that it switched to Vladivostok time in 2004.\n# This transition is no doubt wrong, but we have no better info.\n#\nZone Asia/Khandyga\t 9:02:13 -\tLMT\t1919 Dec 15\n\t\t\t 8:00\t-\tYAKT\t1930 Jun 21 # Yakutsk Time\n\t\t\t 9:00\tRussia\tYAK%sT\t1991 Mar 31 2:00s\n\t\t\t 8:00\tRussia\tYAK%sT\t1992 Jan 19 2:00s\n\t\t\t 9:00\tRussia\tYAK%sT\t2004\n\t\t\t10:00\tRussia\tVLA%sT\t2011 Mar 27 2:00s\n\t\t\t11:00\t-\tVLAT\t2011 Sep 13 0:00s # Decree 725?\n\t\t\t10:00\t-\tYAKT\n\n#\n# Sakhalinskaya oblast'.\n# The Zone name should be Yuzhno-Sakhalinsk, but that's too long.\nZone Asia/Sakhalin\t 9:30:48 -\tLMT\t1905 Aug 23\n\t\t\t 9:00\t-\tCJT\t1938\n\t\t\t 9:00\t-\tJST\t1945 Aug 25\n\t\t\t11:00\tRussia\tSAK%sT\t1991 Mar 31 2:00s # Sakhalin T.\n\t\t\t10:00\tRussia\tSAK%sT\t1992 Jan 19 2:00s\n\t\t\t11:00\tRussia\tSAK%sT\t1997 Mar lastSun 2:00s\n\t\t\t10:00\tRussia\tSAK%sT\t2011 Mar 27 2:00s\n\t\t\t11:00\t-\tSAKT\n#\n# From Oscar van Vlijmen (2003-10-18): [This region consists of]\n# Magadanskaya oblast', Respublika Sakha (Yakutiya).\n# Probably also: Kuril Islands.\n\n# From Oscar van Vlijmen (2009-11-29):\n# The Sakha districts are: Abyjskij, Allaikhovskij, Verkhhhnekolymskij, Momskij,\n# Nizhnekolymskij, ... Srednekolymskij.\nZone Asia/Magadan\t10:03:12 -\tLMT\t1924 May  2\n\t\t\t10:00\t-\tMAGT\t1930 Jun 21 # Magadan Time\n\t\t\t11:00\tRussia\tMAG%sT\t1991 Mar 31 2:00s\n\t\t\t10:00\tRussia\tMAG%sT\t1992 Jan 19 2:00s\n\t\t\t11:00\tRussia\tMAG%sT\t2011 Mar 27 2:00s\n\t\t\t12:00\t-\tMAGT\n\n# From Arthur David Olson (2012-05-09):\n# Ojmyakonskij and the Kuril Islands switched from\n# Magadan time to Vladivostok time in 2011.\nZone Asia/Ust-Nera\t 9:32:54 -\tLMT\t1919 Dec 15\n\t\t\t 8:00\t-\tYAKT\t1930 Jun 21 # Yakutsk Time\n\t\t\t 9:00\tRussia\tYAKT\t1981 Apr  1\n\t\t\t11:00\tRussia\tMAG%sT\t1991 Mar 31 2:00s\n\t\t\t10:00\tRussia\tMAG%sT\t1992 Jan 19 2:00s\n\t\t\t11:00\tRussia\tMAG%sT\t2011 Mar 27 2:00s\n\t\t\t12:00\t-\tMAGT\t2011 Sep 13 0:00s # Decree 725?\n\t\t\t11:00\t-\tVLAT\n\n# From Oscar van Vlijmen (2001-08-25): [This region consists of]\n# Kamchatskaya oblast', Koryakskij avtonomnyj okrug.\n#\n# The Zone name should be Asia/Petropavlovsk-Kamchatski, but that's too long.\nZone Asia/Kamchatka\t10:34:36 -\tLMT\t1922 Nov 10\n\t\t\t11:00\t-\tPETT\t1930 Jun 21 # P-K Time\n\t\t\t12:00\tRussia\tPET%sT\t1991 Mar 31 2:00s\n\t\t\t11:00\tRussia\tPET%sT\t1992 Jan 19 2:00s\n\t\t\t12:00\tRussia\tPET%sT\t2010 Mar 28 2:00s\n\t\t\t11:00\tRussia\tPET%sT\t2011 Mar 27 2:00s\n\t\t\t12:00\t-\tPETT\n#\n# Chukotskij avtonomnyj okrug\nZone Asia/Anadyr\t11:49:56 -\tLMT\t1924 May  2\n\t\t\t12:00\t-\tANAT\t1930 Jun 21 # Anadyr Time\n\t\t\t13:00\tRussia\tANA%sT\t1982 Apr  1 0:00s\n\t\t\t12:00\tRussia\tANA%sT\t1991 Mar 31 2:00s\n\t\t\t11:00\tRussia\tANA%sT\t1992 Jan 19 2:00s\n\t\t\t12:00\tRussia\tANA%sT\t2010 Mar 28 2:00s\n\t\t\t11:00\tRussia\tANA%sT\t2011 Mar 27 2:00s\n\t\t\t12:00\t-\tANAT\n\n# San Marino\n# See Europe/Rome.\n\n# Serbia\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tEurope/Belgrade\t1:22:00\t-\tLMT\t1884\n\t\t\t1:00\t-\tCET\t1941 Apr 18 23:00\n\t\t\t1:00\tC-Eur\tCE%sT\t1945\n\t\t\t1:00\t-\tCET\t1945 May 8 2:00s\n\t\t\t1:00\t1:00\tCEST\t1945 Sep 16  2:00s\n# Metod Kozelj reports that the legal date of\n# transition to EU rules was 1982-11-27, for all of Yugoslavia at the time.\n# Shanks & Pottenger don't give as much detail, so go with Kozelj.\n\t\t\t1:00\t-\tCET\t1982 Nov 27\n\t\t\t1:00\tEU\tCE%sT\nLink Europe/Belgrade Europe/Ljubljana\t# Slovenia\nLink Europe/Belgrade Europe/Podgorica\t# Montenegro\nLink Europe/Belgrade Europe/Sarajevo\t# Bosnia and Herzegovina\nLink Europe/Belgrade Europe/Skopje\t# Macedonia\nLink Europe/Belgrade Europe/Zagreb\t# Croatia\n\n# Slovakia\nLink Europe/Prague Europe/Bratislava\n\n# Slovenia\n# See Europe/Belgrade.\n\n# Spain\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\n# For 1917-1919 Whitman gives Apr Sat>=1 - Oct Sat>=1;\n# go with Shanks & Pottenger.\nRule\tSpain\t1917\tonly\t-\tMay\t 5\t23:00s\t1:00\tS\nRule\tSpain\t1917\t1919\t-\tOct\t 6\t23:00s\t0\t-\nRule\tSpain\t1918\tonly\t-\tApr\t15\t23:00s\t1:00\tS\nRule\tSpain\t1919\tonly\t-\tApr\t 5\t23:00s\t1:00\tS\n# Whitman gives 1921 Feb 28 - Oct 14; go with Shanks & Pottenger.\nRule\tSpain\t1924\tonly\t-\tApr\t16\t23:00s\t1:00\tS\n# Whitman gives 1924 Oct 14; go with Shanks & Pottenger.\nRule\tSpain\t1924\tonly\t-\tOct\t 4\t23:00s\t0\t-\nRule\tSpain\t1926\tonly\t-\tApr\t17\t23:00s\t1:00\tS\n# Whitman says no DST in 1929; go with Shanks & Pottenger.\nRule\tSpain\t1926\t1929\t-\tOct\tSat>=1\t23:00s\t0\t-\nRule\tSpain\t1927\tonly\t-\tApr\t 9\t23:00s\t1:00\tS\nRule\tSpain\t1928\tonly\t-\tApr\t14\t23:00s\t1:00\tS\nRule\tSpain\t1929\tonly\t-\tApr\t20\t23:00s\t1:00\tS\n# Whitman gives 1937 Jun 16, 1938 Apr 16, 1940 Apr 13;\n# go with Shanks & Pottenger.\nRule\tSpain\t1937\tonly\t-\tMay\t22\t23:00s\t1:00\tS\nRule\tSpain\t1937\t1939\t-\tOct\tSat>=1\t23:00s\t0\t-\nRule\tSpain\t1938\tonly\t-\tMar\t22\t23:00s\t1:00\tS\nRule\tSpain\t1939\tonly\t-\tApr\t15\t23:00s\t1:00\tS\nRule\tSpain\t1940\tonly\t-\tMar\t16\t23:00s\t1:00\tS\n# Whitman says no DST 1942-1945; go with Shanks & Pottenger.\nRule\tSpain\t1942\tonly\t-\tMay\t 2\t22:00s\t2:00\tM # Midsummer\nRule\tSpain\t1942\tonly\t-\tSep\t 1\t22:00s\t1:00\tS\nRule\tSpain\t1943\t1946\t-\tApr\tSat>=13\t22:00s\t2:00\tM\nRule\tSpain\t1943\tonly\t-\tOct\t 3\t22:00s\t1:00\tS\nRule\tSpain\t1944\tonly\t-\tOct\t10\t22:00s\t1:00\tS\nRule\tSpain\t1945\tonly\t-\tSep\t30\t 1:00\t1:00\tS\nRule\tSpain\t1946\tonly\t-\tSep\t30\t 0:00\t0\t-\nRule\tSpain\t1949\tonly\t-\tApr\t30\t23:00\t1:00\tS\nRule\tSpain\t1949\tonly\t-\tSep\t30\t 1:00\t0\t-\nRule\tSpain\t1974\t1975\t-\tApr\tSat>=13\t23:00\t1:00\tS\nRule\tSpain\t1974\t1975\t-\tOct\tSun>=1\t 1:00\t0\t-\nRule\tSpain\t1976\tonly\t-\tMar\t27\t23:00\t1:00\tS\nRule\tSpain\t1976\t1977\t-\tSep\tlastSun\t 1:00\t0\t-\nRule\tSpain\t1977\t1978\t-\tApr\t 2\t23:00\t1:00\tS\nRule\tSpain\t1978\tonly\t-\tOct\t 1\t 1:00\t0\t-\n# The following rules are copied from Morocco from 1967 through 1978.\nRule SpainAfrica 1967\tonly\t-\tJun\t 3\t12:00\t1:00\tS\nRule SpainAfrica 1967\tonly\t-\tOct\t 1\t 0:00\t0\t-\nRule SpainAfrica 1974\tonly\t-\tJun\t24\t 0:00\t1:00\tS\nRule SpainAfrica 1974\tonly\t-\tSep\t 1\t 0:00\t0\t-\nRule SpainAfrica 1976\t1977\t-\tMay\t 1\t 0:00\t1:00\tS\nRule SpainAfrica 1976\tonly\t-\tAug\t 1\t 0:00\t0\t-\nRule SpainAfrica 1977\tonly\t-\tSep\t28\t 0:00\t0\t-\nRule SpainAfrica 1978\tonly\t-\tJun\t 1\t 0:00\t1:00\tS\nRule SpainAfrica 1978\tonly\t-\tAug\t 4\t 0:00\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tEurope/Madrid\t-0:14:44 -\tLMT\t1901 Jan  1  0:00s\n\t\t\t 0:00\tSpain\tWE%sT\t1946 Sep 30\n\t\t\t 1:00\tSpain\tCE%sT\t1979\n\t\t\t 1:00\tEU\tCE%sT\nZone\tAfrica/Ceuta\t-0:21:16 -\tLMT\t1901\n\t\t\t 0:00\t-\tWET\t1918 May  6 23:00\n\t\t\t 0:00\t1:00\tWEST\t1918 Oct  7 23:00\n\t\t\t 0:00\t-\tWET\t1924\n\t\t\t 0:00\tSpain\tWE%sT\t1929\n\t\t\t 0:00 SpainAfrica WE%sT 1984 Mar 16\n\t\t\t 1:00\t-\tCET\t1986\n\t\t\t 1:00\tEU\tCE%sT\nZone\tAtlantic/Canary\t-1:01:36 -\tLMT\t1922 Mar # Las Palmas de Gran C.\n\t\t\t-1:00\t-\tCANT\t1946 Sep 30 1:00 # Canaries Time\n\t\t\t 0:00\t-\tWET\t1980 Apr  6 0:00s\n\t\t\t 0:00\t1:00\tWEST\t1980 Sep 28 0:00s\n\t\t\t 0:00\tEU\tWE%sT\n# IATA SSIM (1996-09) says the Canaries switch at 2:00u, not 1:00u.\n# Ignore this for now, as the Canaries are part of the EU.\n\n# Sweden\n\n# From Ivan Nilsson (2001-04-13), superseding Shanks & Pottenger:\n#\n# The law \"Svensk forfattningssamling 1878, no 14\" about standard time in 1879:\n# From the beginning of 1879 (that is 01-01 00:00) the time for all\n# places in the country is \"the mean solar time for the meridian at\n# three degrees, or twelve minutes of time, to the west of the\n# meridian of the Observatory of Stockholm\".  The law is dated 1878-05-31.\n#\n# The observatory at that time had the meridian 18 degrees 03' 30\"\n# eastern longitude = 01:12:14 in time.  Less 12 minutes gives the\n# national standard time as 01:00:14 ahead of GMT....\n#\n# About the beginning of CET in Sweden. The lawtext (\"Svensk\n# forfattningssamling 1899, no 44\") states, that \"from the beginning\n# of 1900... ... the same as the mean solar time for the meridian at\n# the distance of one hour of time from the meridian of the English\n# observatory at Greenwich, or at 12 minutes 14 seconds to the west\n# from the meridian of the Observatory of Stockholm\". The law is dated\n# 1899-06-16.  In short: At 1900-01-01 00:00:00 the new standard time\n# in Sweden is 01:00:00 ahead of GMT.\n#\n# 1916: The lawtext (\"Svensk forfattningssamling 1916, no 124\") states\n# that \"1916-05-15 is considered to begin one hour earlier\". It is\n# pretty obvious that at 05-14 23:00 the clocks are set to 05-15 00:00....\n# Further the law says, that \"1916-09-30 is considered to end one hour later\".\n#\n# The laws regulating [DST] are available on the site of the Swedish\n# Parliament beginning with 1985 - the laws regulating 1980/1984 are\n# not available on the site (to my knowledge they are only available\n# in Swedish): <http://www.riksdagen.se/english/work/sfst.asp> (type\n# \"sommartid\" without the quotes in the field \"Fritext\" and then click\n# the Sok-button).\n#\n# (2001-05-13):\n#\n# I have now found a newspaper stating that at 1916-10-01 01:00\n# summertime the church-clocks etc were set back one hour to show\n# 1916-10-01 00:00 standard time.  The article also reports that some\n# people thought the switch to standard time would take place already\n# at 1916-10-01 00:00 summer time, but they had to wait for another\n# hour before the event took place.\n#\n# Source: The newspaper \"Dagens Nyheter\", 1916-10-01, page 7 upper left.\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Europe/Stockholm\t1:12:12 -\tLMT\t1879 Jan  1\n\t\t\t1:00:14\t-\tSET\t1900 Jan  1\t# Swedish Time\n\t\t\t1:00\t-\tCET\t1916 May 14 23:00\n\t\t\t1:00\t1:00\tCEST\t1916 Oct  1 01:00\n\t\t\t1:00\t-\tCET\t1980\n\t\t\t1:00\tEU\tCE%sT\n\n# Switzerland\n# From Howse:\n# By the end of the 18th century clocks and watches became commonplace\n# and their performance improved enormously.  Communities began to keep\n# mean time in preference to apparent time -- Geneva from 1780 ....\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\n# From Whitman (who writes \"Midnight?\"):\n# Rule\tSwiss\t1940\tonly\t-\tNov\t 2\t0:00\t1:00\tS\n# Rule\tSwiss\t1940\tonly\t-\tDec\t31\t0:00\t0\t-\n# From Shanks & Pottenger:\n# Rule\tSwiss\t1941\t1942\t-\tMay\tSun>=1\t2:00\t1:00\tS\n# Rule\tSwiss\t1941\t1942\t-\tOct\tSun>=1\t0:00\t0\t-\n\n# From Alois Treindl (2008-12-17):\n# I have researched the DST usage in Switzerland during the 1940ies.\n#\n# As I wrote in an earlier message, I suspected the current tzdata values\n# to be wrong. This is now verified.\n#\n# I have found copies of the original ruling by the Swiss Federal\n# government, in 'Eidgen[o]ssische Gesetzessammlung 1941 and 1942' (Swiss\n# federal law collection)...\n#\n# DST began on Monday 5 May 1941, 1:00 am by shifting the clocks to 2:00 am\n# DST ended on Monday 6 Oct 1941, 2:00 am by shifting the clocks to 1:00 am.\n#\n# DST began on Monday, 4 May 1942 at 01:00 am\n# DST ended on Monday, 5 Oct 1942 at 02:00 am\n#\n# There was no DST in 1940, I have checked the law collection carefully.\n# It is also indicated by the fact that the 1942 entry in the law\n# collection points back to 1941 as a reference, but no reference to any\n# other years are made.\n#\n# Newspaper articles I have read in the archives on 6 May 1941 reported\n# about the introduction of DST (Sommerzeit in German) during the previous\n# night as an absolute novelty, because this was the first time that such\n# a thing had happened in Switzerland.\n#\n# I have also checked 1916, because one book source (Gabriel, Traite de\n# l'heure dans le monde) claims that Switzerland had DST in 1916. This is\n# false, no official document could be found. Probably Gabriel got misled\n# by references to Germany, which introduced DST in 1916 for the first time.\n#\n# The tzdata rules for Switzerland must be changed to:\n# Rule  Swiss   1941    1942    -       May     Mon>=1  1:00    1:00    S\n# Rule  Swiss   1941    1942    -       Oct     Mon>=1  2:00    0       -\n#\n# The 1940 rules must be deleted.\n#\n# One further detail for Switzerland, which is probably out of scope for\n# most users of tzdata: The [Europe/Zurich zone] ...\n# describes all of Switzerland correctly, with the exception of\n# the Cantone Geneve (Geneva, Genf). Between 1848 and 1894 Geneve did not\n# follow Bern Mean Time but kept its own local mean time.\n# To represent this, an extra zone would be needed.\n#\n# From Alois Treindl (2013-09-11):\n# The Federal regulations say\n# http://www.admin.ch/opc/de/classified-compilation/20071096/index.html\n# ... the meridian for Bern mean time ... is 7 degrees 26'22.50\".\n# Expressed in time, it is 0h29m45.5s.\n\n# From Pierre-Yves Berger (2013-09-11):\n# the \"Circulaire du conseil federal\" (December 11 1893)\n# <http://www.amtsdruckschriften.bar.admin.ch/viewOrigDoc.do?id=10071353> ...\n# clearly states that the [1894-06-01] change should be done at midnight\n# but if no one is present after 11 at night, could be postponed until one\n# hour before the beginning of service.\n\n# From Paul Eggert (2013-09-11):\n# Round BMT to the nearest even second, 0:29:46.\n#\n# We can find no reliable source for Shanks's assertion that all of Switzerland\n# except Geneva switched to Bern Mean Time at 00:00 on 1848-09-12.  This book:\n#\n#\tJakob Messerli. Gleichmassig, punktlich, schnell: Zeiteinteilung und\n#\tZeitgebrauch in der Schweiz im 19. Jahrhundert. Chronos, Zurich 1995,\n#\tISBN 3-905311-68-2, OCLC 717570797.\n#\n# suggests that the transition was more gradual, and that the Swiss did not\n# agree about civil time during the transition.  The timekeeping it gives the\n# most detail for is postal and telegraph time: here, federal legislation (the\n# \"Bundesgesetz uber die Erstellung von elektrischen Telegraphen\") passed on\n# 1851-11-23, and an official implementation notice was published 1853-07-16\n# (Bundesblatt 1853, Bd. II, S. 859).  On p 72 Messerli writes that in\n# practice since July 1853 Bernese time was used in \"all postal and telegraph\n# offices in Switzerland from Geneva to St. Gallen and Basel to Chiasso\"\n# (Google translation).  For now, model this transition as occurring on\n# 1853-07-16, though it probably occurred at some other date in Zurich, and\n# legal civil time probably changed at still some other transition date.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tSwiss\t1941\t1942\t-\tMay\tMon>=1\t1:00\t1:00\tS\nRule\tSwiss\t1941\t1942\t-\tOct\tMon>=1\t2:00\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tEurope/Zurich\t0:34:08 -\tLMT\t1853 Jul 16 # See above comment.\n\t\t\t0:29:46\t-\tBMT\t1894 Jun # Bern Mean Time\n\t\t\t1:00\tSwiss\tCE%sT\t1981\n\t\t\t1:00\tEU\tCE%sT\n\n# Turkey\n\n# From Amar Devegowda (2007-01-03):\n# The time zone rules for Istanbul, Turkey have not been changed for years now.\n# ... The latest rules are available at -\n# http://www.timeanddate.com/worldclock/timezone.html?n=107\n# From Steffen Thorsen (2007-01-03):\n# I have been able to find press records back to 1996 which all say that\n# DST started 01:00 local time and end at 02:00 local time.  I am not sure\n# what happened before that.  One example for each year from 1996 to 2001:\n# http://newspot.byegm.gov.tr/arsiv/1996/21/N4.htm\n# http://www.byegm.gov.tr/YAYINLARIMIZ/CHR/ING97/03/97X03X25.TXT\n# http://www.byegm.gov.tr/YAYINLARIMIZ/CHR/ING98/03/98X03X02.HTM\n# http://www.byegm.gov.tr/YAYINLARIMIZ/CHR/ING99/10/99X10X26.HTM#%2016\n# http://www.byegm.gov.tr/YAYINLARIMIZ/CHR/ING2000/03/00X03X06.HTM#%2021\n# http://www.byegm.gov.tr/YAYINLARIMIZ/CHR/ING2001/03/23x03x01.HTM#%2027\n# From Paul Eggert (2007-01-03):\n# Prefer the above source to Shanks & Pottenger for time stamps after 1990.\n\n# From Steffen Thorsen (2007-03-09):\n# Starting 2007 though, it seems that they are adopting EU's 1:00 UTC\n# start/end time, according to the following page (2007-03-07):\n# http://www.ntvmsnbc.com/news/402029.asp\n# The official document is located here - it is in Turkish...:\n# http://rega.basbakanlik.gov.tr/eskiler/2007/03/20070307-7.htm\n# I was able to locate the following seemingly official document\n# (on a non-government server though) describing dates between 2002 and 2006:\n# http://www.alomaliye.com/bkk_2002_3769.htm\n\n# From G&ouml;kdeniz Karada&#x011f; (2011-03-10):\n#\n# According to the articles linked below, Turkey will change into summer\n# time zone (GMT+3) on March 28, 2011 at 3:00 a.m. instead of March 27.\n# This change is due to a nationwide exam on 27th.\n#\n# <a href=\"http://www.worldbulletin.net/?aType=haber&ArticleID=70872\">\n# http://www.worldbulletin.net/?aType=haber&ArticleID=70872\n# </a>\n# Turkish:\n# <a href=\"http://www.hurriyet.com.tr/ekonomi/17230464.asp?gid=373\">\n# http://www.hurriyet.com.tr/ekonomi/17230464.asp?gid=373\n# </a>\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tTurkey\t1916\tonly\t-\tMay\t 1\t0:00\t1:00\tS\nRule\tTurkey\t1916\tonly\t-\tOct\t 1\t0:00\t0\t-\nRule\tTurkey\t1920\tonly\t-\tMar\t28\t0:00\t1:00\tS\nRule\tTurkey\t1920\tonly\t-\tOct\t25\t0:00\t0\t-\nRule\tTurkey\t1921\tonly\t-\tApr\t 3\t0:00\t1:00\tS\nRule\tTurkey\t1921\tonly\t-\tOct\t 3\t0:00\t0\t-\nRule\tTurkey\t1922\tonly\t-\tMar\t26\t0:00\t1:00\tS\nRule\tTurkey\t1922\tonly\t-\tOct\t 8\t0:00\t0\t-\n# Whitman gives 1923 Apr 28 - Sep 16 and no DST in 1924-1925;\n# go with Shanks & Pottenger.\nRule\tTurkey\t1924\tonly\t-\tMay\t13\t0:00\t1:00\tS\nRule\tTurkey\t1924\t1925\t-\tOct\t 1\t0:00\t0\t-\nRule\tTurkey\t1925\tonly\t-\tMay\t 1\t0:00\t1:00\tS\nRule\tTurkey\t1940\tonly\t-\tJun\t30\t0:00\t1:00\tS\nRule\tTurkey\t1940\tonly\t-\tOct\t 5\t0:00\t0\t-\nRule\tTurkey\t1940\tonly\t-\tDec\t 1\t0:00\t1:00\tS\nRule\tTurkey\t1941\tonly\t-\tSep\t21\t0:00\t0\t-\nRule\tTurkey\t1942\tonly\t-\tApr\t 1\t0:00\t1:00\tS\n# Whitman omits the next two transition and gives 1945 Oct 1;\n# go with Shanks & Pottenger.\nRule\tTurkey\t1942\tonly\t-\tNov\t 1\t0:00\t0\t-\nRule\tTurkey\t1945\tonly\t-\tApr\t 2\t0:00\t1:00\tS\nRule\tTurkey\t1945\tonly\t-\tOct\t 8\t0:00\t0\t-\nRule\tTurkey\t1946\tonly\t-\tJun\t 1\t0:00\t1:00\tS\nRule\tTurkey\t1946\tonly\t-\tOct\t 1\t0:00\t0\t-\nRule\tTurkey\t1947\t1948\t-\tApr\tSun>=16\t0:00\t1:00\tS\nRule\tTurkey\t1947\t1950\t-\tOct\tSun>=2\t0:00\t0\t-\nRule\tTurkey\t1949\tonly\t-\tApr\t10\t0:00\t1:00\tS\nRule\tTurkey\t1950\tonly\t-\tApr\t19\t0:00\t1:00\tS\nRule\tTurkey\t1951\tonly\t-\tApr\t22\t0:00\t1:00\tS\nRule\tTurkey\t1951\tonly\t-\tOct\t 8\t0:00\t0\t-\nRule\tTurkey\t1962\tonly\t-\tJul\t15\t0:00\t1:00\tS\nRule\tTurkey\t1962\tonly\t-\tOct\t 8\t0:00\t0\t-\nRule\tTurkey\t1964\tonly\t-\tMay\t15\t0:00\t1:00\tS\nRule\tTurkey\t1964\tonly\t-\tOct\t 1\t0:00\t0\t-\nRule\tTurkey\t1970\t1972\t-\tMay\tSun>=2\t0:00\t1:00\tS\nRule\tTurkey\t1970\t1972\t-\tOct\tSun>=2\t0:00\t0\t-\nRule\tTurkey\t1973\tonly\t-\tJun\t 3\t1:00\t1:00\tS\nRule\tTurkey\t1973\tonly\t-\tNov\t 4\t3:00\t0\t-\nRule\tTurkey\t1974\tonly\t-\tMar\t31\t2:00\t1:00\tS\nRule\tTurkey\t1974\tonly\t-\tNov\t 3\t5:00\t0\t-\nRule\tTurkey\t1975\tonly\t-\tMar\t30\t0:00\t1:00\tS\nRule\tTurkey\t1975\t1976\t-\tOct\tlastSun\t0:00\t0\t-\nRule\tTurkey\t1976\tonly\t-\tJun\t 1\t0:00\t1:00\tS\nRule\tTurkey\t1977\t1978\t-\tApr\tSun>=1\t0:00\t1:00\tS\nRule\tTurkey\t1977\tonly\t-\tOct\t16\t0:00\t0\t-\nRule\tTurkey\t1979\t1980\t-\tApr\tSun>=1\t3:00\t1:00\tS\nRule\tTurkey\t1979\t1982\t-\tOct\tMon>=11\t0:00\t0\t-\nRule\tTurkey\t1981\t1982\t-\tMar\tlastSun\t3:00\t1:00\tS\nRule\tTurkey\t1983\tonly\t-\tJul\t31\t0:00\t1:00\tS\nRule\tTurkey\t1983\tonly\t-\tOct\t 2\t0:00\t0\t-\nRule\tTurkey\t1985\tonly\t-\tApr\t20\t0:00\t1:00\tS\nRule\tTurkey\t1985\tonly\t-\tSep\t28\t0:00\t0\t-\nRule\tTurkey\t1986\t1990\t-\tMar\tlastSun\t2:00s\t1:00\tS\nRule\tTurkey\t1986\t1990\t-\tSep\tlastSun\t2:00s\t0\t-\nRule\tTurkey\t1991\t2006\t-\tMar\tlastSun\t1:00s\t1:00\tS\nRule\tTurkey\t1991\t1995\t-\tSep\tlastSun\t1:00s\t0\t-\nRule\tTurkey\t1996\t2006\t-\tOct\tlastSun\t1:00s\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tEurope/Istanbul\t1:55:52 -\tLMT\t1880\n\t\t\t1:56:56\t-\tIMT\t1910 Oct # Istanbul Mean Time?\n\t\t\t2:00\tTurkey\tEE%sT\t1978 Oct 15\n\t\t\t3:00\tTurkey\tTR%sT\t1985 Apr 20 # Turkey Time\n\t\t\t2:00\tTurkey\tEE%sT\t2007\n\t\t\t2:00\tEU\tEE%sT\t2011 Mar 27 1:00u\n\t\t\t2:00\t-\tEET\t2011 Mar 28 1:00u\n\t\t\t2:00\tEU\tEE%sT\nLink\tEurope/Istanbul\tAsia/Istanbul\t# Istanbul is in both continents.\n\n# Ukraine\n#\n# From Igor Karpov, who works for the Ukrainian Ministry of Justice,\n# via Garrett Wollman (2003-01-27):\n# BTW, I've found the official document on this matter. It's government\n# regulations number 509, May 13, 1996. In my poor translation it says:\n# \"Time in Ukraine is set to second timezone (Kiev time). Each last Sunday\n# of March at 3am the time is changing to 4am and each last Sunday of\n# October the time at 4am is changing to 3am\"\n\n# From Alexander Krivenyshev (2011-09-20):\n# On September 20, 2011 the deputies of the Verkhovna Rada agreed to\n# abolish the transfer clock to winter time.\n#\n# Bill number 8330 of MP from the Party of Regions Oleg Nadoshi got\n# approval from 266 deputies.\n#\n# Ukraine abolishes transter back to the winter time (in Russian)\n# <a href=\"http://news.mail.ru/politics/6861560/\">\n# http://news.mail.ru/politics/6861560/\n# </a>\n#\n# The Ukrainians will no longer change the clock (in Russian)\n# <a href=\"http://www.segodnya.ua/news/14290482.html\">\n# http://www.segodnya.ua/news/14290482.html\n# </a>\n#\n# Deputies cancelled the winter time (in Russian)\n# <a href=\"http://www.pravda.com.ua/rus/news/2011/09/20/6600616/\">\n# http://www.pravda.com.ua/rus/news/2011/09/20/6600616/\n# </a>\n#\n# From Philip Pizzey (2011-10-18):\n# Today my Ukrainian colleagues have informed me that the\n# Ukrainian parliament have decided that they will go to winter\n# time this year after all.\n#\n# From Udo Schwedt (2011-10-18):\n# As far as I understand, the recent change to the Ukrainian time zone\n# (Europe/Kiev) to introduce permanent daylight saving time (similar\n# to Russia) was reverted today:\n#\n# <a href=\"http://portal.rada.gov.ua/rada/control/en/publish/article/info_left?art_id=287324&cat_id=105995\">\n# http://portal.rada.gov.ua/rada/control/en/publish/article/info_left?art_id=287324&cat_id=105995\n# </a>\n#\n# Also reported by Alexander Bokovoy (2011-10-18) who also noted:\n# The law documents themselves are at\n#\n# <a href=\"http://w1.c1.rada.gov.ua/pls/zweb_n/webproc4_1?id=&pf3511=41484\">\n# http://w1.c1.rada.gov.ua/pls/zweb_n/webproc4_1?id=&pf3511=41484\n# </a>\n\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\n# Most of Ukraine since 1970 has been like Kiev.\n# \"Kyiv\" is the transliteration of the Ukrainian name, but\n# \"Kiev\" is more common in English.\nZone Europe/Kiev\t2:02:04 -\tLMT\t1880\n\t\t\t2:02:04\t-\tKMT\t1924 May  2 # Kiev Mean Time\n\t\t\t2:00\t-\tEET\t1930 Jun 21\n\t\t\t3:00\t-\tMSK\t1941 Sep 20\n\t\t\t1:00\tC-Eur\tCE%sT\t1943 Nov  6\n\t\t\t3:00\tRussia\tMSK/MSD\t1990\n\t\t\t3:00\t-\tMSK\t1990 Jul  1 2:00\n\t\t\t2:00\t-\tEET\t1992\n\t\t\t2:00\tE-Eur\tEE%sT\t1995\n\t\t\t2:00\tEU\tEE%sT\n# Ruthenia used CET 1990/1991.\n# \"Uzhhorod\" is the transliteration of the Ukrainian name, but\n# \"Uzhgorod\" is more common in English.\nZone Europe/Uzhgorod\t1:29:12 -\tLMT\t1890 Oct\n\t\t\t1:00\t-\tCET\t1940\n\t\t\t1:00\tC-Eur\tCE%sT\t1944 Oct\n\t\t\t1:00\t1:00\tCEST\t1944 Oct 26\n\t\t\t1:00\t-\tCET\t1945 Jun 29\n\t\t\t3:00\tRussia\tMSK/MSD\t1990\n\t\t\t3:00\t-\tMSK\t1990 Jul  1 2:00\n\t\t\t1:00\t-\tCET\t1991 Mar 31 3:00\n\t\t\t2:00\t-\tEET\t1992\n\t\t\t2:00\tE-Eur\tEE%sT\t1995\n\t\t\t2:00\tEU\tEE%sT\n# Zaporozh'ye and eastern Lugansk oblasts observed DST 1990/1991.\n# \"Zaporizhia\" is the transliteration of the Ukrainian name, but\n# \"Zaporozh'ye\" is more common in English.  Use the common English\n# spelling, except omit the apostrophe as it is not allowed in\n# portable Posix file names.\nZone Europe/Zaporozhye\t2:20:40 -\tLMT\t1880\n\t\t\t2:20\t-\tCUT\t1924 May  2 # Central Ukraine T\n\t\t\t2:00\t-\tEET\t1930 Jun 21\n\t\t\t3:00\t-\tMSK\t1941 Aug 25\n\t\t\t1:00\tC-Eur\tCE%sT\t1943 Oct 25\n\t\t\t3:00\tRussia\tMSK/MSD\t1991 Mar 31 2:00\n\t\t\t2:00\tE-Eur\tEE%sT\t1995\n\t\t\t2:00\tEU\tEE%sT\n# Central Crimea used Moscow time 1994/1997.\nZone Europe/Simferopol\t2:16:24 -\tLMT\t1880\n\t\t\t2:16\t-\tSMT\t1924 May  2 # Simferopol Mean T\n\t\t\t2:00\t-\tEET\t1930 Jun 21\n\t\t\t3:00\t-\tMSK\t1941 Nov\n\t\t\t1:00\tC-Eur\tCE%sT\t1944 Apr 13\n\t\t\t3:00\tRussia\tMSK/MSD\t1990\n\t\t\t3:00\t-\tMSK\t1990 Jul  1 2:00\n\t\t\t2:00\t-\tEET\t1992\n# From Paul Eggert (2006-03-22):\n# The _Economist_ (1994-05-28, p 45) reports that central Crimea switched\n# from Kiev to Moscow time sometime after the January 1994 elections.\n# Shanks (1999) says \"date of change uncertain\", but implies that it happened\n# sometime between the 1994 DST switches.  Shanks & Pottenger simply say\n# 1994-09-25 03:00, but that can't be right.  For now, guess it\n# changed in May.\n\t\t\t2:00\tE-Eur\tEE%sT\t1994 May\n# From IATA SSIM (1994/1997), which also says that Kerch is still like Kiev.\n\t\t\t3:00\tE-Eur\tMSK/MSD\t1996 Mar 31 3:00s\n\t\t\t3:00\t1:00\tMSD\t1996 Oct 27 3:00s\n# IATA SSIM (1997-09) says Crimea switched to EET/EEST.\n# Assume it happened in March by not changing the clocks.\n\t\t\t3:00\tRussia\tMSK/MSD\t1997\n\t\t\t3:00\t-\tMSK\t1997 Mar lastSun 1:00u\n\t\t\t2:00\tEU\tEE%sT\n\n# Vatican City\n# See Europe/Rome.\n\n###############################################################################\n\n# One source shows that Bulgaria, Cyprus, Finland, and Greece observe DST from\n# the last Sunday in March to the last Sunday in September in 1986.\n# The source shows Romania changing a day later than everybody else.\n#\n# According to Bernard Sieloff's source, Poland is in the MET time zone but\n# uses the WE DST rules.  The Western USSR uses EET+1 and ME DST rules.\n# Bernard Sieloff's source claims Romania switches on the same day, but at\n# 00:00 standard time (i.e., 01:00 DST).  It also claims that Turkey\n# switches on the same day, but switches on at 01:00 standard time\n# and off at 00:00 standard time (i.e., 01:00 DST)\n\n# ...\n# Date: Wed, 28 Jan 87 16:56:27 -0100\n# From: Tom Hofmann\n# ...\n#\n# ...the European time rules are...standardized since 1981, when\n# most European coun[tr]ies started DST.  Before that year, only\n# a few countries (UK, France, Italy) had DST, each according\n# to own national rules.  In 1981, however, DST started on\n# 'Apr firstSun', and not on 'Mar lastSun' as in the following\n# years...\n# But also since 1981 there are some more national exceptions\n# than listed in 'europe': Switzerland, for example, joined DST\n# one year later, Denmark ended DST on 'Oct 1' instead of 'Sep\n# lastSun' in 1981---I don't know how they handle now.\n#\n# Finally, DST ist always from 'Apr 1' to 'Oct 1' in the\n# Soviet Union (as far as I know).\n#\n# Tom Hofmann, Scientific Computer Center, CIBA-GEIGY AG,\n# 4002 Basle, Switzerland\n# ...\n\n# ...\n# Date: Wed, 4 Feb 87 22:35:22 +0100\n# From: Dik T. Winter\n# ...\n#\n# The information from Tom Hofmann is (as far as I know) not entirely correct.\n# After a request from chongo at amdahl I tried to retrieve all information\n# about DST in Europe.  I was able to find all from about 1969.\n#\n# ...standardization on DST in Europe started in about 1977 with switches on\n# first Sunday in April and last Sunday in September...\n# In 1981 UK joined Europe insofar that\n# the starting day for both shifted to last Sunday in March.  And from 1982\n# the whole of Europe used DST, with switch dates April 1 and October 1 in\n# the Sov[i]et Union.  In 1985 the SU reverted to standard Europe[a]n switch\n# dates...\n#\n# It should also be remembered that time-zones are not constants; e.g.\n# Portugal switched in 1976 from MET (or CET) to WET with DST...\n# Note also that though there were rules for switch dates not\n# all countries abided to these dates, and many individual deviations\n# occurred, though not since 1982 I believe.  Another note: it is always\n# assumed that DST is 1 hour ahead of normal time, this need not be the\n# case; at least in the Netherlands there have been times when DST was 2 hours\n# in advance of normal time.\n#\n# ...\n# dik t. winter, cwi, amsterdam, nederland\n# ...\n\n# From Bob Devine (1988-01-28):\n# ...\n# Greece: Last Sunday in April to last Sunday in September (iffy on dates).\n# Since 1978.  Change at midnight.\n# ...\n# Monaco: has same DST as France.\n# ...\n";

zone_files['factory'] = "# <pre>\n# This file is in the public domain, so clarified as of\n# 2009-05-17 by Arthur David Olson.\n\n# For companies who don't want to put time zone specification in\n# their installation procedures.  When users run date, they'll get the message.\n# Also useful for the \"comp.sources\" version.\n\n# Zone\tNAME\tGMTOFF\tRULES\tFORMAT\nZone\tFactory\t0\t- \"Local time zone must be set--see zic manual page\"\n";

zone_files['iso3166.tab'] = "# ISO 3166 alpha-2 country codes\n#\n# This file is in the public domain, so clarified as of\n# 2009-05-17 by Arthur David Olson.\n#\n# From Paul Eggert (2013-05-27):\n#\n# This file contains a table with the following columns:\n# 1.  ISO 3166-1 alpha-2 country code, current as of\n#     ISO 3166-1 Newsletter VI-15 (2013-05-10).  See: Updates on ISO 3166\n#   http://www.iso.org/iso/home/standards/country_codes/updates_on_iso_3166.htm\n# 2.  The usual English name for the coded region,\n#     chosen so that alphabetic sorting of subsets produces helpful lists.\n#     This is not the same as the English name in the ISO 3166 tables.\n#\n# Columns are separated by a single tab.\n# The table is sorted by country code.\n#\n# Lines beginning with `#' are comments.\n#\n# This table is intended as an aid for users, to help them select time\n# zone data appropriate for their practical needs.  It is not intended\n# to take or endorse any position on legal or territorial claims.\n#\n#country-\n#code\tname of country, territory, area, or subdivision\nAD\tAndorra\nAE\tUnited Arab Emirates\nAF\tAfghanistan\nAG\tAntigua & Barbuda\nAI\tAnguilla\nAL\tAlbania\nAM\tArmenia\nAO\tAngola\nAQ\tAntarctica\nAR\tArgentina\nAS\tSamoa (American)\nAT\tAustria\nAU\tAustralia\nAW\tAruba\nAX\tAaland Islands\nAZ\tAzerbaijan\nBA\tBosnia & Herzegovina\nBB\tBarbados\nBD\tBangladesh\nBE\tBelgium\nBF\tBurkina Faso\nBG\tBulgaria\nBH\tBahrain\nBI\tBurundi\nBJ\tBenin\nBL\tSt Barthelemy\nBM\tBermuda\nBN\tBrunei\nBO\tBolivia\nBQ\tCaribbean Netherlands\nBR\tBrazil\nBS\tBahamas\nBT\tBhutan\nBV\tBouvet Island\nBW\tBotswana\nBY\tBelarus\nBZ\tBelize\nCA\tCanada\nCC\tCocos (Keeling) Islands\nCD\tCongo (Dem. Rep.)\nCF\tCentral African Rep.\nCG\tCongo (Rep.)\nCH\tSwitzerland\nCI\tCote d'Ivoire\nCK\tCook Islands\nCL\tChile\nCM\tCameroon\nCN\tChina\nCO\tColombia\nCR\tCosta Rica\nCU\tCuba\nCV\tCape Verde\nCW\tCuracao\nCX\tChristmas Island\nCY\tCyprus\nCZ\tCzech Republic\nDE\tGermany\nDJ\tDjibouti\nDK\tDenmark\nDM\tDominica\nDO\tDominican Republic\nDZ\tAlgeria\nEC\tEcuador\nEE\tEstonia\nEG\tEgypt\nEH\tWestern Sahara\nER\tEritrea\nES\tSpain\nET\tEthiopia\nFI\tFinland\nFJ\tFiji\nFK\tFalkland Islands\nFM\tMicronesia\nFO\tFaroe Islands\nFR\tFrance\nGA\tGabon\nGB\tBritain (UK)\nGD\tGrenada\nGE\tGeorgia\nGF\tFrench Guiana\nGG\tGuernsey\nGH\tGhana\nGI\tGibraltar\nGL\tGreenland\nGM\tGambia\nGN\tGuinea\nGP\tGuadeloupe\nGQ\tEquatorial Guinea\nGR\tGreece\nGS\tSouth Georgia & the South Sandwich Islands\nGT\tGuatemala\nGU\tGuam\nGW\tGuinea-Bissau\nGY\tGuyana\nHK\tHong Kong\nHM\tHeard Island & McDonald Islands\nHN\tHonduras\nHR\tCroatia\nHT\tHaiti\nHU\tHungary\nID\tIndonesia\nIE\tIreland\nIL\tIsrael\nIM\tIsle of Man\nIN\tIndia\nIO\tBritish Indian Ocean Territory\nIQ\tIraq\nIR\tIran\nIS\tIceland\nIT\tItaly\nJE\tJersey\nJM\tJamaica\nJO\tJordan\nJP\tJapan\nKE\tKenya\nKG\tKyrgyzstan\nKH\tCambodia\nKI\tKiribati\nKM\tComoros\nKN\tSt Kitts & Nevis\nKP\tKorea (North)\nKR\tKorea (South)\nKW\tKuwait\nKY\tCayman Islands\nKZ\tKazakhstan\nLA\tLaos\nLB\tLebanon\nLC\tSt Lucia\nLI\tLiechtenstein\nLK\tSri Lanka\nLR\tLiberia\nLS\tLesotho\nLT\tLithuania\nLU\tLuxembourg\nLV\tLatvia\nLY\tLibya\nMA\tMorocco\nMC\tMonaco\nMD\tMoldova\nME\tMontenegro\nMF\tSt Martin (French part)\nMG\tMadagascar\nMH\tMarshall Islands\nMK\tMacedonia\nML\tMali\nMM\tMyanmar (Burma)\nMN\tMongolia\nMO\tMacau\nMP\tNorthern Mariana Islands\nMQ\tMartinique\nMR\tMauritania\nMS\tMontserrat\nMT\tMalta\nMU\tMauritius\nMV\tMaldives\nMW\tMalawi\nMX\tMexico\nMY\tMalaysia\nMZ\tMozambique\nNA\tNamibia\nNC\tNew Caledonia\nNE\tNiger\nNF\tNorfolk Island\nNG\tNigeria\nNI\tNicaragua\nNL\tNetherlands\nNO\tNorway\nNP\tNepal\nNR\tNauru\nNU\tNiue\nNZ\tNew Zealand\nOM\tOman\nPA\tPanama\nPE\tPeru\nPF\tFrench Polynesia\nPG\tPapua New Guinea\nPH\tPhilippines\nPK\tPakistan\nPL\tPoland\nPM\tSt Pierre & Miquelon\nPN\tPitcairn\nPR\tPuerto Rico\nPS\tPalestine\nPT\tPortugal\nPW\tPalau\nPY\tParaguay\nQA\tQatar\nRE\tReunion\nRO\tRomania\nRS\tSerbia\nRU\tRussia\nRW\tRwanda\nSA\tSaudi Arabia\nSB\tSolomon Islands\nSC\tSeychelles\nSD\tSudan\nSE\tSweden\nSG\tSingapore\nSH\tSt Helena\nSI\tSlovenia\nSJ\tSvalbard & Jan Mayen\nSK\tSlovakia\nSL\tSierra Leone\nSM\tSan Marino\nSN\tSenegal\nSO\tSomalia\nSR\tSuriname\nSS\tSouth Sudan\nST\tSao Tome & Principe\nSV\tEl Salvador\nSX\tSt Maarten (Dutch part)\nSY\tSyria\nSZ\tSwaziland\nTC\tTurks & Caicos Is\nTD\tChad\nTF\tFrench Southern & Antarctic Lands\nTG\tTogo\nTH\tThailand\nTJ\tTajikistan\nTK\tTokelau\nTL\tEast Timor\nTM\tTurkmenistan\nTN\tTunisia\nTO\tTonga\nTR\tTurkey\nTT\tTrinidad & Tobago\nTV\tTuvalu\nTW\tTaiwan\nTZ\tTanzania\nUA\tUkraine\nUG\tUganda\nUM\tUS minor outlying islands\nUS\tUnited States\nUY\tUruguay\nUZ\tUzbekistan\nVA\tVatican City\nVC\tSt Vincent\nVE\tVenezuela\nVG\tVirgin Islands (UK)\nVI\tVirgin Islands (US)\nVN\tVietnam\nVU\tVanuatu\nWF\tWallis & Futuna\nWS\tSamoa (western)\nYE\tYemen\nYT\tMayotte\nZA\tSouth Africa\nZM\tZambia\nZW\tZimbabwe\n";

zone_files['leapseconds'] = "# Allowance for leapseconds added to each timezone file.\n\n# This file is in the public domain.\n\n# This file is generated automatically from the data in the public-domain\n# leap-seconds.list file available from most NIST time servers.\n# If the URL <ftp://time.nist.gov/pub/leap-seconds.list> does not work,\n# you should be able to pick up leap-seconds.list from a secondary NIST server.\n# For more about leap-seconds.list, please see\n# The NTP Timescale and Leap Seconds\n# <http://www.eecis.udel.edu/~mills/leap.html>.\n\n# The International Earth Rotation Service periodically uses leap seconds\n# to keep UTC to within 0.9 s of UT1\n# (which measures the true angular orientation of the earth in space); see\n# Terry J Quinn, The BIPM and the accurate measure of time,\n# Proc IEEE 79, 7 (July 1991), 894-905 <http://dx.doi.org/10.1109/5.84965>.\n# There were no leap seconds before 1972, because the official mechanism\n# accounting for the discrepancy between atomic time and the earth's rotation\n# did not exist until the early 1970s.\n\n# The correction (+ or -) is made at the given time, so lines\n# will typically look like:\n#\tLeap\tYEAR\tMON\tDAY\t23:59:60\t+\tR/S\n# or\n#\tLeap\tYEAR\tMON\tDAY\t23:59:59\t-\tR/S\n\n# If the leapsecond is Rolling (R) the given time is local time.\n# If the leapsecond is Stationary (S) the given time is UTC.\n\n# Leap\tYEAR\tMONTH\tDAY\tHH:MM:SS\tCORR\tR/S\nLeap\t1972\tJun\t30\t23:59:60\t+\tS\nLeap\t1972\tDec\t31\t23:59:60\t+\tS\nLeap\t1973\tDec\t31\t23:59:60\t+\tS\nLeap\t1974\tDec\t31\t23:59:60\t+\tS\nLeap\t1975\tDec\t31\t23:59:60\t+\tS\nLeap\t1976\tDec\t31\t23:59:60\t+\tS\nLeap\t1977\tDec\t31\t23:59:60\t+\tS\nLeap\t1978\tDec\t31\t23:59:60\t+\tS\nLeap\t1979\tDec\t31\t23:59:60\t+\tS\nLeap\t1981\tJun\t30\t23:59:60\t+\tS\nLeap\t1982\tJun\t30\t23:59:60\t+\tS\nLeap\t1983\tJun\t30\t23:59:60\t+\tS\nLeap\t1985\tJun\t30\t23:59:60\t+\tS\nLeap\t1987\tDec\t31\t23:59:60\t+\tS\nLeap\t1989\tDec\t31\t23:59:60\t+\tS\nLeap\t1990\tDec\t31\t23:59:60\t+\tS\nLeap\t1992\tJun\t30\t23:59:60\t+\tS\nLeap\t1993\tJun\t30\t23:59:60\t+\tS\nLeap\t1994\tJun\t30\t23:59:60\t+\tS\nLeap\t1995\tDec\t31\t23:59:60\t+\tS\nLeap\t1997\tJun\t30\t23:59:60\t+\tS\nLeap\t1998\tDec\t31\t23:59:60\t+\tS\nLeap\t2005\tDec\t31\t23:59:60\t+\tS\nLeap\t2008\tDec\t31\t23:59:60\t+\tS\nLeap\t2012\tJun\t30\t23:59:60\t+\tS\n";

zone_files['leap-seconds.list'] = "#\n#\tIn the following text, the symbol '#' introduces\n#\ta comment, which continues from that symbol until \n#\tthe end of the line. A plain comment line has a\n#\twhitespace character following the comment indicator.\n#\tThere are also special comment lines defined below. \n#\tA special comment will always have a non-whitespace \n#\tcharacter in column 2.\n#\n#\tA blank line should be ignored.\n#\n#\tThe following table shows the corrections that must\n#\tbe applied to compute International Atomic Time (TAI)\n#\tfrom the Coordinated Universal Time (UTC) values that\n#\tare transmitted by almost all time services.\n#\n#\tThe first column shows an epoch as a number of seconds\n#\tsince 1900.0 and the second column shows the number of\n#\tseconds that must be added to UTC to compute TAI for\n#\tany timestamp at or after that epoch. The value on \n#\teach line is valid from the indicated initial instant\n#\tuntil the epoch given on the next one or indefinitely \n#\tinto the future if there is no next line.\n#\t(The comment on each line shows the representation of\n#\tthe corresponding initial epoch in the usual \n#\tday-month-year format. The epoch always begins at\n#\t00:00:00 UTC on the indicated day. See Note 5 below.)\n#\t\n#\tImportant notes:\n#\n#\t1. Coordinated Universal Time (UTC) is often referred to\n#\tas Greenwich Mean Time (GMT). The GMT time scale is no\n#\tlonger used, and the use of GMT to designate UTC is\n#\tdiscouraged.\n#\n#\t2. The UTC time scale is realized by many national \n#\tlaboratories and timing centers. Each laboratory\n#\tidentifies its realization with its name: Thus\n#\tUTC(NIST), UTC(USNO), etc. The differences among\n#\tthese different realizations are typically on the\n#\torder of a few nanoseconds (i.e., 0.000 000 00x s)\n#\tand can be ignored for many purposes. These differences\n#\tare tabulated in Circular T, which is published monthly\n#\tby the International Bureau of Weights and Measures\n#\t(BIPM). See www.bipm.fr for more information.\n#\n#\t3. The current defintion of the relationship between UTC \n#\tand TAI dates from 1 January 1972. A number of different \n#\ttime scales were in use before than epoch, and it can be \n#\tquite difficult to compute precise timestamps and time \n#\tintervals in those \"prehistoric\" days. For more information,\n#\tconsult:\n#\n#\t\tThe Explanatory Supplement to the Astronomical\n#\t\tEphemeris.\n#\tor\n#\t\tTerry Quinn, \"The BIPM and the Accurate Measurement\n#\t\tof Time,\" Proc. of the IEEE, Vol. 79, pp. 894-905,\n#\t\tJuly, 1991.\n#\n#\t4.  The insertion of leap seconds into UTC is currently the\n#\tresponsibility of the International Earth Rotation Service,\n#\twhich is located at the Paris Observatory: \n#\n#\tCentral Bureau of IERS\n#\t61, Avenue de l'Observatoire\n#\t75014 Paris, France.\n#\n#\tLeap seconds are announced by the IERS in its Bulletin C\n#\n#\tSee hpiers.obspm.fr or www.iers.org for more details.\n#\n#\tAll national laboratories and timing centers use the\n#\tdata from the BIPM and the IERS to construct their\n#\tlocal realizations of UTC.\n#\n#\tAlthough the definition also includes the possibility\n#\tof dropping seconds (\"negative\" leap seconds), this has \n#\tnever been done and is unlikely to be necessary in the \n#\tforeseeable future.\n#\n#\t5. If your system keeps time as the number of seconds since\n#\tsome epoch (e.g., NTP timestamps), then the algorithm for\n#\tassigning a UTC time stamp to an event that happens during a positive\n#\tleap second is not well defined. The official name of that leap \n#\tsecond is 23:59:60, but there is no way of representing that time \n#\tin these systems. \n#\tMany systems of this type effectively stop the system clock for \n#\tone second during the leap second and use a time that is equivalent \n#\tto 23:59:59 UTC twice. For these systems, the corresponding TAI \n#\ttimestamp would be obtained by advancing to the next entry in the\n#\tfollowing table when the time equivalent to 23:59:59 UTC\n#\tis used for the second time. Thus the leap second which\n#\toccurred on 30 June 1972 at 23:59:59 UTC would have TAI\n#\ttimestamps computed as follows:\n#\n#\t...\n#\t30 June 1972 23:59:59 (2287785599, first time):\tTAI= UTC + 10 seconds\n#\t30 June 1972 23:59:60 (2287785599,second time):\tTAI= UTC + 11 seconds\n#\t1  July 1972 00:00:00 (2287785600)\t\tTAI= UTC + 11 seconds\n#\t...\n#\n#\tIf your system realizes the leap second by repeating 00:00:00 UTC twice\n#\t(this is possible but not usual), then the advance to the next entry\n#\tin the table must occur the second time that a time equivlent to \n#\t00:00:00 UTC is used. Thus, using the same example as above:\n#\n#\t...\n#       30 June 1972 23:59:59 (2287785599):\t\tTAI= UTC + 10 seconds\n#       30 June 1972 23:59:60 (2287785600, first time):\tTAI= UTC + 10 seconds\n#       1  July 1972 00:00:00 (2287785600,second time):\tTAI= UTC + 11 seconds\n#\t...\n#\n#\tin both cases the use of timestamps based on TAI produces a smooth\n#\ttime scale with no discontinuity in the time interval.\n#\n#\tThis complexity would not be needed for negative leap seconds (if they \n#\tare ever used). The UTC time would skip 23:59:59 and advance from \n#\t23:59:58 to 00:00:00 in that case.  The TAI offset would decrease by \n#\t1 second at the same instant.  This is a much easier situation to deal \n#\twith, since the difficulty of unambiguously representing the epoch \n#\tduring the leap second does not arise.\n#\n#\tQuestions or comments to:\n#\t\tJudah Levine\n#\t\tTime and Frequency Division\n#\t\tNIST\n#\t\tBoulder, Colorado\n#\t\tjlevine@boulder.nist.gov\n#\n#\tLast Update of leap second values:   11 January 2012\n#\n#\tThe following line shows this last update date in NTP timestamp \n#\tformat. This is the date on which the most recent change to\n#\tthe leap second data was added to the file. This line can\n#\tbe identified by the unique pair of characters in the first two \n#\tcolumns as shown below.\n#\n#$\t 3535228800\n#\n#\tThe NTP timestamps are in units of seconds since the NTP epoch,\n#\twhich is 1900.0. The Modified Julian Day number corresponding\n#\tto the NTP time stamp, X, can be computed as \n#\n#\tX/86400 + 15020\n#\n#\twhere the first term converts seconds to days and the second \n#\tterm adds the MJD corresponding to 1900.0. The integer portion\n#\tof the result is the integer MJD for that day, and any remainder\n#\tis the time of day, expressed as the fraction of the day since 0 \n#\thours UTC. The conversion from day fraction to seconds or to\n#\thours, minutes, and seconds may involve rounding or truncation,\n#\tdepending on the method used in the computation.\n#\n#\tThe data in this file will be updated periodically as new leap \n#\tseconds are announced. In addition to being entered on the line\n#\tabove, the update time (in NTP format) will be added to the basic \n#\tfile name leap-seconds to form the name leap-seconds.<NTP TIME>.\n#\tIn addition, the generic name leap-seconds.list will always point to \n#\tthe most recent version of the file.\n#\n#\tThis update procedure will be performed only when a new leap second\n#\tis announced. \n#\n#\tThe following entry specifies the expiration date of the data\n#\tin this file in units of seconds since 1900.0.  This expiration date \n#\twill be changed at least twice per year whether or not a new leap \n#\tsecond is announced. These semi-annual changes will be made no\n#\tlater than 1 June and 1 December of each year to indicate what\n#\taction (if any) is to be taken on 30 June and 31 December, \n#\trespectively. (These are the customary effective dates for new\n#\tleap seconds.) This expiration date will be identified by a\n#\tunique pair of characters in columns 1 and 2 as shown below.\n#\tIn the unlikely event that a leap second is announced with an \n#\teffective date other than 30 June or 31 December, then this\n#\tfile will be edited to include that leap second as soon as it is\n#\tannounced or at least one month before the effective date\n#\t(whichever is later). \n#\tIf an announcement by the IERS specifies that no leap second is \n#\tscheduled, then only the expiration date of the file will \n#\tbe advanced to show that the information in the file is still\n#\tcurrent -- the update time stamp, the data and the name of the file \n#\twill not change.\n#\n#\tUpdated through IERS Bulletin C46\n#\tFile expires on:  28 June 2014\n#\n#@\t3612902400\n#\n2272060800\t10\t# 1 Jan 1972\n2287785600\t11\t# 1 Jul 1972\n2303683200\t12\t# 1 Jan 1973\n2335219200\t13\t# 1 Jan 1974\n2366755200\t14\t# 1 Jan 1975\n2398291200\t15\t# 1 Jan 1976\n2429913600\t16\t# 1 Jan 1977\n2461449600\t17\t# 1 Jan 1978\n2492985600\t18\t# 1 Jan 1979\n2524521600\t19\t# 1 Jan 1980\n2571782400\t20\t# 1 Jul 1981\n2603318400\t21\t# 1 Jul 1982\n2634854400\t22\t# 1 Jul 1983\n2698012800\t23\t# 1 Jul 1985\n2776982400\t24\t# 1 Jan 1988\n2840140800\t25\t# 1 Jan 1990\n2871676800\t26\t# 1 Jan 1991\n2918937600\t27\t# 1 Jul 1992\n2950473600\t28\t# 1 Jul 1993\n2982009600\t29\t# 1 Jul 1994\n3029443200\t30\t# 1 Jan 1996\n3076704000\t31\t# 1 Jul 1997\n3124137600\t32\t# 1 Jan 1999\n3345062400\t33\t# 1 Jan 2006\n3439756800\t34\t# 1 Jan 2009\n3550089600\t35\t# 1 Jul 2012\n#\n#\tthe following special comment contains the\n#\thash value of the data in this file computed\n#\tuse the secure hash algorithm as specified\n#\tby FIPS 180-1. See the files in ~/pub/sha for\n#\tthe details of how this hash value is\n#\tcomputed. Note that the hash computation\n#\tignores comments and whitespace characters\n#\tin data lines. It includes the NTP values\n#\tof both the last modification time and the \n#\texpiration time of the file, but not the\n#\twhite space on those lines.\n#\tthe hash line is also ignored in the\n#\tcomputation.\n#\n#h\t1151a8f e85a5069 9000fcdb 3d5e5365 1d505b37\n";

zone_files['northamerica'] = "# <pre>\n# This file is in the public domain, so clarified as of\n# 2009-05-17 by Arthur David Olson.\n\n# also includes Central America and the Caribbean\n\n# This data is by no means authoritative; if you think you know better,\n# go ahead and edit the file (and please send any changes to\n# tz@iana.org for general use in the future).\n\n# From Paul Eggert (1999-03-22):\n# A reliable and entertaining source about time zones is\n# Derek Howse, Greenwich time and longitude, Philip Wilson Publishers (1997).\n\n###############################################################################\n\n# United States\n\n# From Paul Eggert (1999-03-31):\n# Howse writes (pp 121-125) that time zones were invented by\n# Professor Charles Ferdinand Dowd (1825-1904),\n# Principal of Temple Grove Ladies' Seminary (Saratoga Springs, NY).\n# His pamphlet \"A System of National Time for Railroads\" (1870)\n# was the result of his proposals at the Convention of Railroad Trunk Lines\n# in New York City (1869-10).  His 1870 proposal was based on Washington, DC,\n# but in 1872-05 he moved the proposed origin to Greenwich.\n# His proposal was adopted by the railroads on 1883-11-18 at 12:00,\n# and the most of the country soon followed suit.\n\n# From Paul Eggert (2005-04-16):\n# That 1883 transition occurred at 12:00 new time, not at 12:00 old time.\n# See p 46 of David Prerau, Seize the daylight, Thunder's Mouth Press (2005).\n\n# From Paul Eggert (2006-03-22):\n# A good source for time zone historical data in the US is\n# Thomas G. Shanks, The American Atlas (5th edition),\n# San Diego: ACS Publications, Inc. (1991).\n# Make sure you have the errata sheet; the book is somewhat useless without it.\n# It is the source for most of the pre-1991 US entries below.\n\n# From Paul Eggert (2001-03-06):\n# Daylight Saving Time was first suggested as a joke by Benjamin Franklin\n# in his whimsical essay \"An Economical Project for Diminishing the Cost\n# of Light\" published in the Journal de Paris (1784-04-26).\n# Not everyone is happy with the results:\n#\n#\tI don't really care how time is reckoned so long as there is some\n#\tagreement about it, but I object to being told that I am saving\n#\tdaylight when my reason tells me that I am doing nothing of the kind.\n#\tI even object to the implication that I am wasting something\n#\tvaluable if I stay in bed after the sun has risen.  As an admirer\n#\tof moonlight I resent the bossy insistence of those who want to\n#\treduce my time for enjoying it.  At the back of the Daylight Saving\n#\tscheme I detect the bony, blue-fingered hand of Puritanism, eager\n#\tto push people into bed earlier, and get them up earlier, to make\n#\tthem healthy, wealthy and wise in spite of themselves.\n#\n#\t-- Robertson Davies, The diary of Samuel Marchbanks,\n#\t   Clarke, Irwin (1947), XIX, Sunday\n#\n# For more about the first ten years of DST in the United States, see\n# Robert Garland's <a href=\"http://www.clpgh.org/exhibit/dst.html\">\n# Ten years of daylight saving from the Pittsburgh standpoint\n# (Carnegie Library of Pittsburgh, 1927)</a>.\n#\n# Shanks says that DST was called \"War Time\" in the US in 1918 and 1919.\n# However, DST was imposed by the Standard Time Act of 1918, which\n# was the first nationwide legal time standard, and apparently\n# time was just called \"Standard Time\" or \"Daylight Saving Time\".\n\n# From Arthur David Olson:\n# US Daylight Saving Time ended on the last Sunday of *October* in 1974.\n# See, for example, the front page of the Saturday, 1974-10-26\n# and Sunday, 1974-10-27 editions of the Washington Post.\n\n# From Arthur David Olson:\n# Before the Uniform Time Act of 1966 took effect in 1967, observance of\n# Daylight Saving Time in the US was by local option, except during wartime.\n\n# From Arthur David Olson (2000-09-25):\n# Last night I heard part of a rebroadcast of a 1945 Arch Oboler radio drama.\n# In the introduction, Oboler spoke of \"Eastern Peace Time.\"\n# An AltaVista search turned up\n# <a href=\"http://rowayton.org/rhs/hstaug45.html\">:\n# \"When the time is announced over the radio now, it is 'Eastern Peace\n# Time' instead of the old familiar 'Eastern War Time.'  Peace is wonderful.\"\n# </a> (August 1945) by way of confirmation.\n\n# From Joseph Gallant citing\n# George H. Douglas, _The Early Days of Radio Broadcasting_ (1987):\n# At 7 P.M. (Eastern War Time) [on 1945-08-14], the networks were set\n# to switch to London for Attlee's address, but the American people\n# never got to hear his speech live. According to one press account,\n# CBS' Bob Trout was first to announce the word of Japan's surrender,\n# but a few seconds later, NBC, ABC and Mutual also flashed the word\n# of surrender, all of whom interrupting the bells of Big Ben in\n# London which were to precede Mr. Attlee's speech.\n\n# From Paul Eggert (2003-02-09): It was Robert St John, not Bob Trout.  From\n# Myrna Oliver's obituary of St John on page B16 of today's Los Angeles Times:\n#\n# ... a war-weary U.S. clung to radios, awaiting word of Japan's surrender.\n# Any announcement from Asia would reach St. John's New York newsroom on a\n# wire service teletype machine, which had prescribed signals for major news.\n# Associated Press, for example, would ring five bells before spewing out\n# typed copy of an important story, and 10 bells for news \"of transcendental\n# importance.\"\n#\n# On Aug. 14, stalling while talking steadily into the NBC networks' open\n# microphone, St. John heard five bells and waited only to hear a sixth bell,\n# before announcing confidently: \"Ladies and gentlemen, World War II is over.\n# The Japanese have agreed to our surrender terms.\"\n#\n# He had scored a 20-second scoop on other broadcasters.\n\n# From Arthur David Olson (2005-08-22):\n# Paul has been careful to use the \"US\" rules only in those locations\n# that are part of the United States; this reflects the real scope of\n# U.S. government action.  So even though the \"US\" rules have changed\n# in the latest release, other countries won't be affected.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tUS\t1918\t1919\t-\tMar\tlastSun\t2:00\t1:00\tD\nRule\tUS\t1918\t1919\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tUS\t1942\tonly\t-\tFeb\t9\t2:00\t1:00\tW # War\nRule\tUS\t1945\tonly\t-\tAug\t14\t23:00u\t1:00\tP # Peace\nRule\tUS\t1945\tonly\t-\tSep\t30\t2:00\t0\tS\nRule\tUS\t1967\t2006\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tUS\t1967\t1973\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tUS\t1974\tonly\t-\tJan\t6\t2:00\t1:00\tD\nRule\tUS\t1975\tonly\t-\tFeb\t23\t2:00\t1:00\tD\nRule\tUS\t1976\t1986\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tUS\t1987\t2006\t-\tApr\tSun>=1\t2:00\t1:00\tD\nRule\tUS\t2007\tmax\t-\tMar\tSun>=8\t2:00\t1:00\tD\nRule\tUS\t2007\tmax\t-\tNov\tSun>=1\t2:00\t0\tS\n\n# From Arthur David Olson, 2005-12-19\n# We generate the files specified below to guard against old files with\n# obsolete information being left in the time zone binary directory.\n# We limit the list to names that have appeared in previous versions of\n# this time zone package.\n# We do these as separate Zones rather than as Links to avoid problems if\n# a particular place changes whether it observes DST.\n# We put these specifications here in the northamerica file both to\n# increase the chances that they'll actually get compiled and to\n# avoid the need to duplicate the US rules in another file.\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tEST\t\t -5:00\t-\tEST\nZone\tMST\t\t -7:00\t-\tMST\nZone\tHST\t\t-10:00\t-\tHST\nZone\tEST5EDT\t\t -5:00\tUS\tE%sT\nZone\tCST6CDT\t\t -6:00\tUS\tC%sT\nZone\tMST7MDT\t\t -7:00\tUS\tM%sT\nZone\tPST8PDT\t\t -8:00\tUS\tP%sT\n\n# From Bob Devine (1988-01-28):\n# ...Alaska (and Hawaii) had the timezone names changed in 1967.\n#    old\t\t\t new\n#    Pacific Standard Time(PST)  -same-\n#    Yukon Standard Time(YST)    -same-\n#    Central Alaska S.T. (CAT)   Alaska-Hawaii St[an]dard Time (AHST)\n#    Nome Standard Time (NT)     Bering Standard Time (BST)\n#\n# ...Alaska's timezone lines were redrawn in 1983 to give only 2 tz.\n#    The YST zone now covers nearly all of the state, AHST just part\n#    of the Aleutian islands.   No DST.\n\n# From Paul Eggert (1995-12-19):\n# The tables below use 'NST', not 'NT', for Nome Standard Time.\n# I invented 'CAWT' for Central Alaska War Time.\n\n# From U. S. Naval Observatory (1989-01-19):\n# USA  EASTERN       5 H  BEHIND UTC    NEW YORK, WASHINGTON\n# USA  EASTERN       4 H  BEHIND UTC    APR 3 - OCT 30\n# USA  CENTRAL       6 H  BEHIND UTC    CHICAGO, HOUSTON\n# USA  CENTRAL       5 H  BEHIND UTC    APR 3 - OCT 30\n# USA  MOUNTAIN      7 H  BEHIND UTC    DENVER\n# USA  MOUNTAIN      6 H  BEHIND UTC    APR 3 - OCT 30\n# USA  PACIFIC       8 H  BEHIND UTC    L.A., SAN FRANCISCO\n# USA  PACIFIC       7 H  BEHIND UTC    APR 3 - OCT 30\n# USA  ALASKA STD    9 H  BEHIND UTC    MOST OF ALASKA     (AKST)\n# USA  ALASKA STD    8 H  BEHIND UTC    APR 3 - OCT 30 (AKDT)\n# USA  ALEUTIAN     10 H  BEHIND UTC    ISLANDS WEST OF 170W\n# USA  - \" -         9 H  BEHIND UTC    APR 3 - OCT 30\n# USA  HAWAII       10 H  BEHIND UTC\n# USA  BERING       11 H  BEHIND UTC    SAMOA, MIDWAY\n\n# From Arthur David Olson (1989-01-21):\n# The above dates are for 1988.\n# Note the \"AKST\" and \"AKDT\" abbreviations, the claim that there's\n# no DST in Samoa, and the claim that there is DST in Alaska and the\n# Aleutians.\n\n# From Arthur David Olson (1988-02-13):\n# Legal standard time zone names, from United States Code (1982 Edition and\n# Supplement III), Title 15, Chapter 6, Section 260 and forward.  First, names\n# up to 1967-04-01 (when most provisions of the Uniform Time Act of 1966\n# took effect), as explained in sections 263 and 261:\n#\t(none)\n#\tUnited States standard eastern time\n#\tUnited States standard mountain time\n#\tUnited States standard central time\n#\tUnited States standard Pacific time\n#\t(none)\n#\tUnited States standard Alaska time\n#\t(none)\n# Next, names from 1967-04-01 until 1983-11-30 (the date for\n# public law 98-181):\n#\tAtlantic standard time\n#\teastern standard time\n#\tcentral standard time\n#\tmountain standard time\n#\tPacific standard time\n#\tYukon standard time\n#\tAlaska-Hawaii standard time\n#\tBering standard time\n# And after 1983-11-30:\n#\tAtlantic standard time\n#\teastern standard time\n#\tcentral standard time\n#\tmountain standard time\n#\tPacific standard time\n#\tAlaska standard time\n#\tHawaii-Aleutian standard time\n#\tSamoa standard time\n# The law doesn't give abbreviations.\n#\n# From Paul Eggert (2000-01-08), following a heads-up from Rives McDow:\n# Public law 106-564 (2000-12-23) introduced the abbreviation\n# \"Chamorro Standard Time\" for time in Guam and the Northern Marianas.\n# See the file \"australasia\".\n\n# From Arthur David Olson, 2005-08-09\n# The following was signed into law on 2005-08-08.\n#\n# H.R. 6, Energy Policy Act of 2005, SEC. 110. DAYLIGHT SAVINGS.\n#   (a) Amendment- Section 3(a) of the Uniform Time Act of 1966 (15\n#   U.S.C. 260a(a)) is amended--\n#     (1) by striking 'first Sunday of April' and inserting 'second\n#     Sunday of March'; and\n#     (2) by striking 'last Sunday of October' and inserting 'first\n#     Sunday of November'.\n#   (b) Effective Date- Subsection (a) shall take effect 1 year after the\n#   date of enactment of this Act or March 1, 2007, whichever is later.\n#   (c) Report to Congress- Not later than 9 months after the effective\n#   date stated in subsection (b), the Secretary shall report to Congress\n#   on the impact of this section on energy consumption in the United\n#   States.\n#   (d) Right to Revert- Congress retains the right to revert the\n#   Daylight Saving Time back to the 2005 time schedules once the\n#   Department study is complete.\n\n# US eastern time, represented by New York\n\n# Connecticut, Delaware, District of Columbia, most of Florida,\n# Georgia, southeast Indiana (Dearborn and Ohio counties), eastern Kentucky\n# (except America/Kentucky/Louisville below), Maine, Maryland, Massachusetts,\n# New Hampshire, New Jersey, New York, North Carolina, Ohio,\n# Pennsylvania, Rhode Island, South Carolina, eastern Tennessee,\n# Vermont, Virginia, West Virginia\n\n# From Dave Cantor (2004-11-02):\n# Early this summer I had the occasion to visit the Mount Washington\n# Observatory weather station atop (of course!) Mount Washington [, NH]....\n# One of the staff members said that the station was on Eastern Standard Time\n# and didn't change their clocks for Daylight Saving ... so that their\n# reports will always have times which are 5 hours behind UTC.\n\n# From Paul Eggert (2005-08-26):\n# According to today's Huntsville Times\n# <http://www.al.com/news/huntsvilletimes/index.ssf?/base/news/1125047783228320.xml&coll=1>\n# a few towns on Alabama's \"eastern border with Georgia, such as Phenix City\n# in Russell County, Lanett in Chambers County and some towns in Lee County,\n# set their watches and clocks on Eastern time.\"  It quotes H.H. \"Bubba\"\n# Roberts, city administrator in Phenix City. as saying \"We are in the Central\n# time zone, but we do go by the Eastern time zone because so many people work\n# in Columbus.\"\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER\nRule\tNYC\t1920\tonly\t-\tMar\tlastSun\t2:00\t1:00\tD\nRule\tNYC\t1920\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tNYC\t1921\t1966\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tNYC\t1921\t1954\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tNYC\t1955\t1966\t-\tOct\tlastSun\t2:00\t0\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/New_York\t-4:56:02 -\tLMT\t1883 Nov 18 12:03:58\n\t\t\t-5:00\tUS\tE%sT\t1920\n\t\t\t-5:00\tNYC\tE%sT\t1942\n\t\t\t-5:00\tUS\tE%sT\t1946\n\t\t\t-5:00\tNYC\tE%sT\t1967\n\t\t\t-5:00\tUS\tE%sT\n\n# US central time, represented by Chicago\n\n# Alabama, Arkansas, Florida panhandle (Bay, Calhoun, Escambia,\n# Gulf, Holmes, Jackson, Okaloosa, Santa Rosa, Walton, and\n# Washington counties), Illinois, western Indiana\n# (Gibson, Jasper, Lake, LaPorte, Newton, Porter, Posey, Spencer,\n# Vanderburgh, and Warrick counties), Iowa, most of Kansas, western\n# Kentucky, Louisiana, Minnesota, Mississippi, Missouri, eastern\n# Nebraska, eastern North Dakota, Oklahoma, eastern South Dakota,\n# western Tennessee, most of Texas, Wisconsin\n\n# From Larry M. Smith (2006-04-26) re Wisconsin:\n# http://www.legis.state.wi.us/statutes/Stat0175.pdf ...\n# is currently enforced at the 01:00 time of change.  Because the local\n# \"bar time\" in the state corresponds to 02:00, a number of citations\n# are issued for the \"sale of class 'B' alcohol after prohibited\n# hours\" within the deviated hour of this change every year....\n#\n# From Douglas R. Bomberg (2007-03-12):\n# Wisconsin has enacted (nearly eleventh-hour) legislation to get WI\n# Statue 175 closer in synch with the US Congress' intent....\n# http://www.legis.state.wi.us/2007/data/acts/07Act3.pdf\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER\nRule\tChicago\t1920\tonly\t-\tJun\t13\t2:00\t1:00\tD\nRule\tChicago\t1920\t1921\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tChicago\t1921\tonly\t-\tMar\tlastSun\t2:00\t1:00\tD\nRule\tChicago\t1922\t1966\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tChicago\t1922\t1954\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tChicago\t1955\t1966\t-\tOct\tlastSun\t2:00\t0\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Chicago\t-5:50:36 -\tLMT\t1883 Nov 18 12:09:24\n\t\t\t-6:00\tUS\tC%sT\t1920\n\t\t\t-6:00\tChicago\tC%sT\t1936 Mar  1 2:00\n\t\t\t-5:00\t-\tEST\t1936 Nov 15 2:00\n\t\t\t-6:00\tChicago\tC%sT\t1942\n\t\t\t-6:00\tUS\tC%sT\t1946\n\t\t\t-6:00\tChicago\tC%sT\t1967\n\t\t\t-6:00\tUS\tC%sT\n# Oliver County, ND switched from mountain to central time on 1992-10-25.\nZone America/North_Dakota/Center -6:45:12 - LMT\t1883 Nov 18 12:14:48\n\t\t\t-7:00\tUS\tM%sT\t1992 Oct 25 02:00\n\t\t\t-6:00\tUS\tC%sT\n# Morton County, ND, switched from mountain to central time on\n# 2003-10-26, except for the area around Mandan which was already central time.\n# See <http://dmses.dot.gov/docimages/p63/135818.pdf>.\n# Officially this switch also included part of Sioux County, and\n# Jones, Mellette, and Todd Counties in South Dakota;\n# but in practice these other counties were already observing central time.\n# See <http://www.epa.gov/fedrgstr/EPA-IMPACT/2003/October/Day-28/i27056.htm>.\nZone America/North_Dakota/New_Salem -6:45:39 - LMT 1883 Nov 18 12:14:21\n\t\t\t-7:00\tUS\tM%sT\t2003 Oct 26 02:00\n\t\t\t-6:00\tUS\tC%sT\n\n# From Josh Findley (2011-01-21):\n# ...it appears that Mercer County, North Dakota, changed from the\n# mountain time zone to the central time zone at the last transition from\n# daylight-saving to standard time (on Nov. 7, 2010):\n# <a href=\"http://www.gpo.gov/fdsys/pkg/FR-2010-09-29/html/2010-24376.htm\">\n# http://www.gpo.gov/fdsys/pkg/FR-2010-09-29/html/2010-24376.htm\n# </a>\n# <a href=\"http://www.bismarcktribune.com/news/local/article_1eb1b588-c758-11df-b472-001cc4c03286.html\">\n# http://www.bismarcktribune.com/news/local/article_1eb1b588-c758-11df-b472-001cc4c03286.html\n# </a>\n\n# From Andy Lipscomb (2011-01-24):\n# ...according to the Census Bureau, the largest city is Beulah (although\n# it's commonly referred to as Beulah-Hazen, with Hazen being the next\n# largest city in Mercer County).  Google Maps places Beulah's city hall\n# at 4715'51\" north, 10146'40\" west, which yields an offset of 6h47'07\".\n\nZone America/North_Dakota/Beulah -6:47:07 - LMT 1883 Nov 18 12:12:53\n\t\t\t-7:00\tUS\tM%sT\t2010 Nov  7 2:00\n\t\t\t-6:00\tUS\tC%sT\n\n# US mountain time, represented by Denver\n#\n# Colorado, far western Kansas, Montana, western\n# Nebraska, Nevada border (Jackpot, Owyhee, and Mountain City),\n# New Mexico, southwestern North Dakota,\n# western South Dakota, far western Texas (El Paso County, Hudspeth County,\n# and Pine Springs and Nickel Creek in Culberson County), Utah, Wyoming\n#\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER\nRule\tDenver\t1920\t1921\t-\tMar\tlastSun\t2:00\t1:00\tD\nRule\tDenver\t1920\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tDenver\t1921\tonly\t-\tMay\t22\t2:00\t0\tS\nRule\tDenver\t1965\t1966\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tDenver\t1965\t1966\t-\tOct\tlastSun\t2:00\t0\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Denver\t-6:59:56 -\tLMT\t1883 Nov 18 12:00:04\n\t\t\t-7:00\tUS\tM%sT\t1920\n\t\t\t-7:00\tDenver\tM%sT\t1942\n\t\t\t-7:00\tUS\tM%sT\t1946\n\t\t\t-7:00\tDenver\tM%sT\t1967\n\t\t\t-7:00\tUS\tM%sT\n\n# US Pacific time, represented by Los Angeles\n#\n# California, northern Idaho (Benewah, Bonner, Boundary, Clearwater,\n# Idaho, Kootenai, Latah, Lewis, Nez Perce, and Shoshone counties,\n# and the northern three-quarters of Idaho county),\n# most of Nevada, most of Oregon, and Washington\n#\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER\nRule\tCA\t1948\tonly\t-\tMar\t14\t2:00\t1:00\tD\nRule\tCA\t1949\tonly\t-\tJan\t 1\t2:00\t0\tS\nRule\tCA\t1950\t1966\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tCA\t1950\t1961\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tCA\t1962\t1966\t-\tOct\tlastSun\t2:00\t0\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Los_Angeles -7:52:58 -\tLMT\t1883 Nov 18 12:07:02\n\t\t\t-8:00\tUS\tP%sT\t1946\n\t\t\t-8:00\tCA\tP%sT\t1967\n\t\t\t-8:00\tUS\tP%sT\n\n# Alaska\n# AK%sT is the modern abbreviation for -9:00 per USNO.\n#\n# From Paul Eggert (2001-05-30):\n# Howse writes that Alaska switched from the Julian to the Gregorian calendar,\n# and from east-of-GMT to west-of-GMT days, when the US bought it from Russia.\n# This was on 1867-10-18, a Friday; the previous day was 1867-10-06 Julian,\n# also a Friday.  Include only the time zone part of this transition,\n# ignoring the switch from Julian to Gregorian, since we can't represent\n# the Julian calendar.\n#\n# As far as we know, none of the exact locations mentioned below were\n# permanently inhabited in 1867 by anyone using either calendar.\n# (Yakutat was colonized by the Russians in 1799, but the settlement\n# was destroyed in 1805 by a Yakutat-kon war party.)  However, there\n# were nearby inhabitants in some cases and for our purposes perhaps\n# it's best to simply use the official transition.\n#\n\n# From Steve Ferguson (2011-01-31):\n# The author lives in Alaska and many of the references listed are only\n# available to Alaskan residents.\n#\n# <a href=\"http://www.alaskahistoricalsociety.org/index.cfm?section=discover%20alaska&page=Glimpses%20of%20the%20Past&viewpost=2&ContentId=98\">\n# http://www.alaskahistoricalsociety.org/index.cfm?section=discover%20alaska&page=Glimpses%20of%20the%20Past&viewpost=2&ContentId=98\n# </a>\n\n# From Arthur David Olson (2011-02-01):\n# Here's database-relevant material from the 2001 \"Alaska History\" article:\n#\n# On September 20 [1979]...DOT...officials decreed that on April 27,\n# 1980, Juneau and other nearby communities would move to Yukon Time.\n# Sitka, Petersburg, Wrangell, and Ketchikan, however, would remain on\n# Pacific Time.\n#\n# ...on September 22, 1980, DOT Secretary Neil E. Goldschmidt rescinded the\n# Department's September 1979 decision. Juneau and other communities in\n# northern Southeast reverted to Pacific Time on October 26.\n#\n# On October 28 [1983]...the Metlakatla Indian Community Council voted\n# unanimously to keep the reservation on Pacific Time.\n#\n# According to DOT official Joanne Petrie, Indian reservations are not\n# bound to follow time zones imposed by neighboring jurisdictions.\n#\n# (The last is consistent with how the database now handles the Navajo\n# Nation.)\n\n# From Arthur David Olson (2011-02-09):\n# I just spoke by phone with a staff member at the Metlakatla Indian\n# Community office (using contact information available at\n# <a href=\"http://www.commerce.state.ak.us/dca/commdb/CIS.cfm?Comm_Boro_name=Metlakatla\">\n# http://www.commerce.state.ak.us/dca/commdb/CIS.cfm?Comm_Boro_name=Metlakatla\n# </a>).\n# It's shortly after 1:00 here on the east coast of the United States;\n# the staffer said it was shortly after 10:00 there. When I asked whether\n# that meant they were on Pacific time, they said no--they were on their\n# own time. I asked about daylight saving; they said it wasn't used. I\n# did not inquire about practices in the past.\n\n# From Arthur David Olson (2011-08-17):\n# For lack of better information, assume that Metlakatla's\n# abandonment of use of daylight saving resulted from the 1983 vote.\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Juneau\t 15:02:19 -\tLMT\t1867 Oct 18\n\t\t\t -8:57:41 -\tLMT\t1900 Aug 20 12:00\n\t\t\t -8:00\t-\tPST\t1942\n\t\t\t -8:00\tUS\tP%sT\t1946\n\t\t\t -8:00\t-\tPST\t1969\n\t\t\t -8:00\tUS\tP%sT\t1980 Apr 27 2:00\n\t\t\t -9:00\tUS\tY%sT\t1980 Oct 26 2:00\n\t\t\t -8:00\tUS\tP%sT\t1983 Oct 30 2:00\n\t\t\t -9:00\tUS\tY%sT\t1983 Nov 30\n\t\t\t -9:00\tUS\tAK%sT\nZone America/Sitka\t 14:58:47 -\tLMT\t1867 Oct 18\n\t\t\t -9:01:13 -\tLMT\t1900 Aug 20 12:00\n\t\t\t -8:00\t-\tPST\t1942\n\t\t\t -8:00\tUS\tP%sT\t1946\n\t\t\t -8:00\t-\tPST\t1969\n\t\t\t -8:00\tUS\tP%sT\t1983 Oct 30 2:00\n\t\t\t -9:00\tUS\tY%sT\t1983 Nov 30\n\t\t\t -9:00\tUS\tAK%sT\nZone America/Metlakatla\t 15:13:42 -\tLMT\t1867 Oct 18\n\t\t\t -8:46:18 -\tLMT\t1900 Aug 20 12:00\n\t\t\t -8:00\t-\tPST\t1942\n\t\t\t -8:00\tUS\tP%sT\t1946\n\t\t\t -8:00\t-\tPST\t1969\n\t\t\t -8:00\tUS\tP%sT\t1983 Oct 30 2:00\n\t\t\t -8:00\t-\tMeST\nZone America/Yakutat\t 14:41:05 -\tLMT\t1867 Oct 18\n\t\t\t -9:18:55 -\tLMT\t1900 Aug 20 12:00\n\t\t\t -9:00\t-\tYST\t1942\n\t\t\t -9:00\tUS\tY%sT\t1946\n\t\t\t -9:00\t-\tYST\t1969\n\t\t\t -9:00\tUS\tY%sT\t1983 Nov 30\n\t\t\t -9:00\tUS\tAK%sT\nZone America/Anchorage\t 14:00:24 -\tLMT\t1867 Oct 18\n\t\t\t -9:59:36 -\tLMT\t1900 Aug 20 12:00\n\t\t\t-10:00\t-\tCAT\t1942\n\t\t\t-10:00\tUS\tCAT/CAWT 1945 Aug 14 23:00u\n\t\t\t-10:00\tUS\tCAT/CAPT 1946 # Peace\n\t\t\t-10:00\t-\tCAT\t1967 Apr\n\t\t\t-10:00\t-\tAHST\t1969\n\t\t\t-10:00\tUS\tAH%sT\t1983 Oct 30 2:00\n\t\t\t -9:00\tUS\tY%sT\t1983 Nov 30\n\t\t\t -9:00\tUS\tAK%sT\nZone America/Nome\t 12:58:21 -\tLMT\t1867 Oct 18\n\t\t\t-11:01:38 -\tLMT\t1900 Aug 20 12:00\n\t\t\t-11:00\t-\tNST\t1942\n\t\t\t-11:00\tUS\tN%sT\t1946\n\t\t\t-11:00\t-\tNST\t1967 Apr\n\t\t\t-11:00\t-\tBST\t1969\n\t\t\t-11:00\tUS\tB%sT\t1983 Oct 30 2:00\n\t\t\t -9:00\tUS\tY%sT\t1983 Nov 30\n\t\t\t -9:00\tUS\tAK%sT\nZone America/Adak\t 12:13:21 -\tLMT\t1867 Oct 18\n\t\t\t-11:46:38 -\tLMT\t1900 Aug 20 12:00\n\t\t\t-11:00\t-\tNST\t1942\n\t\t\t-11:00\tUS\tN%sT\t1946\n\t\t\t-11:00\t-\tNST\t1967 Apr\n\t\t\t-11:00\t-\tBST\t1969\n\t\t\t-11:00\tUS\tB%sT\t1983 Oct 30 2:00\n\t\t\t-10:00\tUS\tAH%sT\t1983 Nov 30\n\t\t\t-10:00\tUS\tHA%sT\n# The following switches don't quite make our 1970 cutoff.\n#\n# Shanks writes that part of southwest Alaska (e.g. Aniak)\n# switched from -11:00 to -10:00 on 1968-09-22 at 02:00,\n# and another part (e.g. Akiak) made the same switch five weeks later.\n#\n# From David Flater (2004-11-09):\n# In e-mail, 2004-11-02, Ray Hudson, historian/liaison to the Unalaska\n# Historic Preservation Commission, provided this information, which\n# suggests that Unalaska deviated from statutory time from early 1967\n# possibly until 1983:\n#\n#  Minutes of the Unalaska City Council Meeting, January 10, 1967:\n#  \"Except for St. Paul and Akutan, Unalaska is the only important\n#  location not on Alaska Standard Time.  The following resolution was\n#  made by William Robinson and seconded by Henry Swanson:  Be it\n#  resolved that the City of Unalaska hereby goes to Alaska Standard\n#  Time as of midnight Friday, January 13, 1967 (1 A.M. Saturday,\n#  January 14, Alaska Standard Time.)  This resolution was passed with\n#  three votes for and one against.\"\n\n# Hawaii\n\n# From Arthur David Olson (2010-12-09):\n# \"Hawaiian Time\" by Robert C. Schmitt and Doak C. Cox appears on pages 207-225\n# of volume 26 of The Hawaiian Journal of History (1992). As of 2010-12-09,\n# the article is available at\n# <a href=\"http://evols.library.manoa.hawaii.edu/bitstream/10524/239/2/JL26215.pdf\">\n# http://evols.library.manoa.hawaii.edu/bitstream/10524/239/2/JL26215.pdf\n# </a>\n# and indicates that standard time was adopted effective noon, January\n# 13, 1896 (page 218), that in \"1933, the Legislature decreed daylight\n# saving for the period between the last Sunday of each April and the\n# last Sunday of each September, but less than a month later repealed the\n# act,\" (page 220), that year-round daylight saving time was in effect\n# from 1942-02-09 to 1945-09-30 (page 221, with no time of day given for\n# when clocks changed) and that clocks were changed by 30 minutes\n# effective the second Sunday of June, 1947 (page 219, with no time of\n# day given for when clocks changed). A footnote for the 1933 changes\n# cites Session Laws of Hawaii 1933, \"Act. 90 (approved 26 Apr. 1933)\n# and Act 163 (approved 21 May 1933).\"\n\n# From Arthur David Olson (2011-01-19):\n# The following is from \"Laws of the Territory of Hawaii Passed by the\n# Seventeenth Legislature: Regular Session 1933,\" available (as of\n# 2011-01-19) at American University's Pence Law Library. Page 85: \"Act\n# 90...At 2 o'clock ante meridian of the last Sunday in April of each\n# year, the standard time of this Territory shall be advanced one\n# hour...This Act shall take effect upon its approval. Approved this 26th\n# day of April, A. D. 1933. LAWRENCE M JUDD, Governor of the Territory of\n# Hawaii.\" Page 172:  \"Act 163...Act 90 of the Session Laws of 1933 is\n# hereby repealed...This Act shall take effect upon its approval, upon\n# which date the standard time of this Territory shall be restored to\n# that existing immediately prior to the taking effect of said Act 90.\n# Approved this 21st day of May, A. D. 1933. LAWRENCE M. JUDD, Governor\n# of the Territory of Hawaii.\"\n#\n# Note that 1933-05-21 was a Sunday.\n# We're left to guess the time of day when Act 163 was approved; guess noon.\n\nZone Pacific/Honolulu\t-10:31:26 -\tLMT\t1896 Jan 13 12:00 #Schmitt&Cox\n\t\t\t-10:30\t-\tHST\t1933 Apr 30 2:00 #Laws 1933\n\t\t\t-10:30\t1:00\tHDT\t1933 May 21 12:00 #Laws 1933+12\n\t\t\t-10:30\t-\tHST\t1942 Feb 09 2:00 #Schmitt&Cox+2\n\t\t\t-10:30\t1:00\tHDT\t1945 Sep 30 2:00 #Schmitt&Cox+2\n\t\t\t-10:30\t-\tHST\t1947 Jun  8 2:00 #Schmitt&Cox+2\n\t\t\t-10:00\t-\tHST\n\nLink Pacific/Honolulu Pacific/Johnston\n\n# Now we turn to US areas that have diverged from the consensus since 1970.\n\n# Arizona mostly uses MST.\n\n# From Paul Eggert (2002-10-20):\n#\n# The information in the rest of this paragraph is derived from the\n# <a href=\"http://www.dlapr.lib.az.us/links/daylight.htm\">\n# Daylight Saving Time web page (2002-01-23)</a> maintained by the\n# Arizona State Library, Archives and Public Records.\n# Between 1944-01-01 and 1944-04-01 the State of Arizona used standard\n# time, but by federal law railroads, airlines, bus lines, military\n# personnel, and some engaged in interstate commerce continued to\n# observe war (i.e., daylight saving) time.  The 1944-03-17 Phoenix\n# Gazette says that was the date the law changed, and that 04-01 was\n# the date the state's clocks would change.  In 1945 the State of\n# Arizona used standard time all year, again with exceptions only as\n# mandated by federal law.  Arizona observed DST in 1967, but Arizona\n# Laws 1968, ch. 183 (effective 1968-03-21) repealed DST.\n#\n# Shanks says the 1944 experiment came to an end on 1944-03-17.\n# Go with the Arizona State Library instead.\n\nZone America/Phoenix\t-7:28:18 -\tLMT\t1883 Nov 18 11:31:42\n\t\t\t-7:00\tUS\tM%sT\t1944 Jan  1 00:01\n\t\t\t-7:00\t-\tMST\t1944 Apr  1 00:01\n\t\t\t-7:00\tUS\tM%sT\t1944 Oct  1 00:01\n\t\t\t-7:00\t-\tMST\t1967\n\t\t\t-7:00\tUS\tM%sT\t1968 Mar 21\n\t\t\t-7:00\t-\tMST\n# From Arthur David Olson (1988-02-13):\n# A writer from the Inter Tribal Council of Arizona, Inc.,\n# notes in private correspondence dated 1987-12-28 that \"Presently, only the\n# Navajo Nation participates in the Daylight Saving Time policy, due to its\n# large size and location in three states.\"  (The \"only\" means that other\n# tribal nations don't use DST.)\n#\n# From Paul Eggert (2013-08-26):\n# See America/Denver for a zone appropriate for the Navajo Nation.\n\n# Southern Idaho (Ada, Adams, Bannock, Bear Lake, Bingham, Blaine,\n# Boise, Bonneville, Butte, Camas, Canyon, Caribou, Cassia, Clark,\n# Custer, Elmore, Franklin, Fremont, Gem, Gooding, Jefferson, Jerome,\n# Lemhi, Lincoln, Madison, Minidoka, Oneida, Owyhee, Payette, Power,\n# Teton, Twin Falls, Valley, Washington counties, and the southern\n# quarter of Idaho county) and eastern Oregon (most of Malheur County)\n# switched four weeks late in 1974.\n#\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Boise\t-7:44:49 -\tLMT\t1883 Nov 18 12:15:11\n\t\t\t-8:00\tUS\tP%sT\t1923 May 13 2:00\n\t\t\t-7:00\tUS\tM%sT\t1974\n\t\t\t-7:00\t-\tMST\t1974 Feb  3 2:00\n\t\t\t-7:00\tUS\tM%sT\n\n# Indiana\n#\n# For a map of Indiana's time zone regions, see:\n# <a href=\"http://www.mccsc.edu/time.html\">\n# What time is it in Indiana?\n# </a> (2006-03-01)\n#\n# From Paul Eggert (2007-08-17):\n# Since 1970, most of Indiana has been like America/Indiana/Indianapolis,\n# with the following exceptions:\n#\n# - Gibson, Jasper, Lake, LaPorte, Newton, Porter, Posey, Spencer,\n#   Vandenburgh, and Warrick counties have been like America/Chicago.\n#\n# - Dearborn and Ohio counties have been like America/New_York.\n#\n# - Clark, Floyd, and Harrison counties have been like\n#   America/Kentucky/Louisville.\n#\n# - Crawford, Daviess, Dubois, Knox, Martin, Perry, Pike, Pulaski, Starke,\n#   and Switzerland counties have their own time zone histories as noted below.\n#\n# Shanks partitioned Indiana into 345 regions, each with its own time history,\n# and wrote \"Even newspaper reports present contradictory information.\"\n# Those Hoosiers!  Such a flighty and changeable people!\n# Fortunately, most of the complexity occurred before our cutoff date of 1970.\n#\n# Other than Indianapolis, the Indiana place names are so nondescript\n# that they would be ambiguous if we left them at the 'America' level.\n# So we reluctantly put them all in a subdirectory 'America/Indiana'.\n\n# From Paul Eggert (2005-08-16):\n# http://www.mccsc.edu/time.html says that Indiana will use DST starting 2006.\n\n# From Nathan Stratton Treadway (2006-03-30):\n# http://www.dot.gov/affairs/dot0406.htm [3705 B]\n# From Deborah Goldsmith (2006-01-18):\n# http://dmses.dot.gov/docimages/pdf95/382329_web.pdf [2.9 MB]\n# From Paul Eggert (2006-01-20):\n# It says \"DOT is relocating the time zone boundary in Indiana to move Starke,\n# Pulaski, Knox, Daviess, Martin, Pike, Dubois, and Perry Counties from the\n# Eastern Time Zone to the Central Time Zone.... The effective date of\n# this rule is 2:OO a.m. EST Sunday, April 2, 2006, which is the\n# changeover date from standard time to Daylight Saving Time.\"\n# Strictly speaking, this means the affected counties will change their\n# clocks twice that night, but this obviously is in error.  The intent\n# is that 01:59:59 EST be followed by 02:00:00 CDT.\n\n# From Gwillim Law (2007-02-10):\n# The Associated Press has been reporting that Pulaski County, Indiana is\n# going to switch from Central to Eastern Time on March 11, 2007....\n# http://www.indystar.com/apps/pbcs.dll/article?AID=/20070207/LOCAL190108/702070524/0/LOCAL\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER\nRule Indianapolis 1941\tonly\t-\tJun\t22\t2:00\t1:00\tD\nRule Indianapolis 1941\t1954\t-\tSep\tlastSun\t2:00\t0\tS\nRule Indianapolis 1946\t1954\t-\tApr\tlastSun\t2:00\t1:00\tD\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Indiana/Indianapolis -5:44:38 - LMT 1883 Nov 18 12:15:22\n\t\t\t-6:00\tUS\tC%sT\t1920\n\t\t\t-6:00 Indianapolis C%sT\t1942\n\t\t\t-6:00\tUS\tC%sT\t1946\n\t\t\t-6:00 Indianapolis C%sT\t1955 Apr 24 2:00\n\t\t\t-5:00\t-\tEST\t1957 Sep 29 2:00\n\t\t\t-6:00\t-\tCST\t1958 Apr 27 2:00\n\t\t\t-5:00\t-\tEST\t1969\n\t\t\t-5:00\tUS\tE%sT\t1971\n\t\t\t-5:00\t-\tEST\t2006\n\t\t\t-5:00\tUS\tE%sT\n#\n# Eastern Crawford County, Indiana, left its clocks alone in 1974,\n# as well as from 1976 through 2005.\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER\nRule\tMarengo\t1951\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tMarengo\t1951\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tMarengo\t1954\t1960\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tMarengo\t1954\t1960\t-\tSep\tlastSun\t2:00\t0\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Indiana/Marengo -5:45:23 -\tLMT\t1883 Nov 18 12:14:37\n\t\t\t-6:00\tUS\tC%sT\t1951\n\t\t\t-6:00\tMarengo\tC%sT\t1961 Apr 30 2:00\n\t\t\t-5:00\t-\tEST\t1969\n\t\t\t-5:00\tUS\tE%sT\t1974 Jan  6 2:00\n\t\t\t-6:00\t1:00\tCDT\t1974 Oct 27 2:00\n\t\t\t-5:00\tUS\tE%sT\t1976\n\t\t\t-5:00\t-\tEST\t2006\n\t\t\t-5:00\tUS\tE%sT\n#\n# Daviess, Dubois, Knox, and Martin Counties, Indiana,\n# switched from eastern to central time in April 2006, then switched back\n# in November 2007.\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER\nRule Vincennes\t1946\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule Vincennes\t1946\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule Vincennes\t1953\t1954\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule Vincennes\t1953\t1959\t-\tSep\tlastSun\t2:00\t0\tS\nRule Vincennes\t1955\tonly\t-\tMay\t 1\t0:00\t1:00\tD\nRule Vincennes\t1956\t1963\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule Vincennes\t1960\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule Vincennes\t1961\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule Vincennes\t1962\t1963\t-\tOct\tlastSun\t2:00\t0\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Indiana/Vincennes -5:50:07 - LMT\t1883 Nov 18 12:09:53\n\t\t\t-6:00\tUS\tC%sT\t1946\n\t\t\t-6:00 Vincennes\tC%sT\t1964 Apr 26 2:00\n\t\t\t-5:00\t-\tEST\t1969\n\t\t\t-5:00\tUS\tE%sT\t1971\n\t\t\t-5:00\t-\tEST\t2006 Apr  2 2:00\n\t\t\t-6:00\tUS\tC%sT\t2007 Nov  4 2:00\n\t\t\t-5:00\tUS\tE%sT\n#\n# Perry County, Indiana, switched from eastern to central time in April 2006.\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER\nRule Perry\t1946\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule Perry\t1946\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule Perry\t1953\t1954\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule Perry\t1953\t1959\t-\tSep\tlastSun\t2:00\t0\tS\nRule Perry\t1955\tonly\t-\tMay\t 1\t0:00\t1:00\tD\nRule Perry\t1956\t1963\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule Perry\t1960\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule Perry\t1961\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule Perry\t1962\t1963\t-\tOct\tlastSun\t2:00\t0\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Indiana/Tell_City -5:47:03 - LMT\t1883 Nov 18 12:12:57\n\t\t\t-6:00\tUS\tC%sT\t1946\n\t\t\t-6:00 Perry\tC%sT\t1964 Apr 26 2:00\n\t\t\t-5:00\t-\tEST\t1969\n\t\t\t-5:00\tUS\tE%sT\t1971\n\t\t\t-5:00\t-\tEST\t2006 Apr  2 2:00\n\t\t\t-6:00\tUS\tC%sT\n#\n# Pike County, Indiana moved from central to eastern time in 1977,\n# then switched back in 2006, then switched back again in 2007.\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER\nRule\tPike\t1955\tonly\t-\tMay\t 1\t0:00\t1:00\tD\nRule\tPike\t1955\t1960\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tPike\t1956\t1964\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tPike\t1961\t1964\t-\tOct\tlastSun\t2:00\t0\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Indiana/Petersburg -5:49:07 - LMT\t1883 Nov 18 12:10:53\n\t\t\t-6:00\tUS\tC%sT\t1955\n\t\t\t-6:00\tPike\tC%sT\t1965 Apr 25 2:00\n\t\t\t-5:00\t-\tEST\t1966 Oct 30 2:00\n\t\t\t-6:00\tUS\tC%sT\t1977 Oct 30 2:00\n\t\t\t-5:00\t-\tEST\t2006 Apr  2 2:00\n\t\t\t-6:00\tUS\tC%sT\t2007 Nov  4 2:00\n\t\t\t-5:00\tUS\tE%sT\n#\n# Starke County, Indiana moved from central to eastern time in 1991,\n# then switched back in 2006.\n# From Arthur David Olson (1991-10-28):\n# An article on page A3 of the Sunday, 1991-10-27 Washington Post\n# notes that Starke County switched from Central time to Eastern time as of\n# 1991-10-27.\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER\nRule\tStarke\t1947\t1961\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tStarke\t1947\t1954\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tStarke\t1955\t1956\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tStarke\t1957\t1958\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tStarke\t1959\t1961\t-\tOct\tlastSun\t2:00\t0\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Indiana/Knox -5:46:30 -\tLMT\t1883 Nov 18 12:13:30\n\t\t\t-6:00\tUS\tC%sT\t1947\n\t\t\t-6:00\tStarke\tC%sT\t1962 Apr 29 2:00\n\t\t\t-5:00\t-\tEST\t1963 Oct 27 2:00\n\t\t\t-6:00\tUS\tC%sT\t1991 Oct 27 2:00\n\t\t\t-5:00\t-\tEST\t2006 Apr  2 2:00\n\t\t\t-6:00\tUS\tC%sT\n#\n# Pulaski County, Indiana, switched from eastern to central time in\n# April 2006 and then switched back in March 2007.\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER\nRule\tPulaski\t1946\t1960\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tPulaski\t1946\t1954\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tPulaski\t1955\t1956\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tPulaski\t1957\t1960\t-\tSep\tlastSun\t2:00\t0\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Indiana/Winamac -5:46:25 - LMT\t1883 Nov 18 12:13:35\n\t\t\t-6:00\tUS\tC%sT\t1946\n\t\t\t-6:00\tPulaski\tC%sT\t1961 Apr 30 2:00\n\t\t\t-5:00\t-\tEST\t1969\n\t\t\t-5:00\tUS\tE%sT\t1971\n\t\t\t-5:00\t-\tEST\t2006 Apr  2 2:00\n\t\t\t-6:00\tUS\tC%sT\t2007 Mar 11 2:00\n\t\t\t-5:00\tUS\tE%sT\n#\n# Switzerland County, Indiana, did not observe DST from 1973 through 2005.\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Indiana/Vevay -5:40:16 -\tLMT\t1883 Nov 18 12:19:44\n\t\t\t-6:00\tUS\tC%sT\t1954 Apr 25 2:00\n\t\t\t-5:00\t-\tEST\t1969\n\t\t\t-5:00\tUS\tE%sT\t1973\n\t\t\t-5:00\t-\tEST\t2006\n\t\t\t-5:00\tUS\tE%sT\n\n# Part of Kentucky left its clocks alone in 1974.\n# This also includes Clark, Floyd, and Harrison counties in Indiana.\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER\nRule Louisville\t1921\tonly\t-\tMay\t1\t2:00\t1:00\tD\nRule Louisville\t1921\tonly\t-\tSep\t1\t2:00\t0\tS\nRule Louisville\t1941\t1961\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule Louisville\t1941\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule Louisville\t1946\tonly\t-\tJun\t2\t2:00\t0\tS\nRule Louisville\t1950\t1955\t-\tSep\tlastSun\t2:00\t0\tS\nRule Louisville\t1956\t1960\t-\tOct\tlastSun\t2:00\t0\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Kentucky/Louisville -5:43:02 -\tLMT\t1883 Nov 18 12:16:58\n\t\t\t-6:00\tUS\tC%sT\t1921\n\t\t\t-6:00 Louisville C%sT\t1942\n\t\t\t-6:00\tUS\tC%sT\t1946\n\t\t\t-6:00 Louisville C%sT\t1961 Jul 23 2:00\n\t\t\t-5:00\t-\tEST\t1968\n\t\t\t-5:00\tUS\tE%sT\t1974 Jan  6 2:00\n\t\t\t-6:00\t1:00\tCDT\t1974 Oct 27 2:00\n\t\t\t-5:00\tUS\tE%sT\n#\n# Wayne County, Kentucky\n#\n# From\n# <a href=\"http://www.lake-cumberland.com/life/archive/news990129time.shtml\">\n# Lake Cumberland LIFE\n# </a> (1999-01-29) via WKYM-101.7:\n# Clinton County has joined Wayne County in asking the DoT to change from\n# the Central to the Eastern time zone....  The Wayne County government made\n# the same request in December.  And while Russell County officials have not\n# taken action, the majority of respondents to a poll conducted there in\n# August indicated they would like to change to \"fast time\" also.\n# The three Lake Cumberland counties are the farthest east of any U.S.\n# location in the Central time zone.\n#\n# From Rich Wales (2000-08-29):\n# After prolonged debate, and despite continuing deep differences of opinion,\n# Wayne County (central Kentucky) is switching from Central (-0600) to Eastern\n# (-0500) time.  They won't \"fall back\" this year.  See Sara Shipley,\n# The difference an hour makes, Nando Times (2000-08-29 15:33 -0400).\n#\n# From Paul Eggert (2001-07-16):\n# The final rule was published in the\n# <a href=\"http://frwebgate.access.gpo.gov/cgi-bin/getdoc.cgi?dbname=2000_register&docid=fr17au00-22\">\n# Federal Register 65, 160 (2000-08-17), page 50154-50158.\n# </a>\n#\nZone America/Kentucky/Monticello -5:39:24 - LMT\t1883 Nov 18 12:20:36\n\t\t\t-6:00\tUS\tC%sT\t1946\n\t\t\t-6:00\t-\tCST\t1968\n\t\t\t-6:00\tUS\tC%sT\t2000 Oct 29  2:00\n\t\t\t-5:00\tUS\tE%sT\n\n\n# From Rives McDow (2000-08-30):\n# Here ... are all the changes in the US since 1985.\n# Kearny County, KS (put all of county on central;\n#\tpreviously split between MST and CST) ... 1990-10\n# Starke County, IN (from CST to EST) ... 1991-10\n# Oliver County, ND (from MST to CST) ... 1992-10\n# West Wendover, NV (from PST TO MST) ... 1999-10\n# Wayne County, KY (from CST to EST) ... 2000-10\n#\n# From Paul Eggert (2001-07-17):\n# We don't know where the line used to be within Kearny County, KS,\n# so omit that change for now.\n# See America/Indiana/Knox for the Starke County, IN change.\n# See America/North_Dakota/Center for the Oliver County, ND change.\n# West Wendover, NV officially switched from Pacific to mountain time on\n# 1999-10-31.  See the\n# <a href=\"http://frwebgate.access.gpo.gov/cgi-bin/getdoc.cgi?dbname=1999_register&docid=fr21oc99-15\">\n# Federal Register 64, 203 (1999-10-21), page 56705-56707.\n# </a>\n# However, the Federal Register says that West Wendover already operated\n# on mountain time, and the rule merely made this official;\n# hence a separate tz entry is not needed.\n\n# Michigan\n#\n# From Bob Devine (1988-01-28):\n# Michigan didn't observe DST from 1968 to 1973.\n#\n# From Paul Eggert (1999-03-31):\n# Shanks writes that Michigan started using standard time on 1885-09-18,\n# but Howse writes (pp 124-125, referring to Popular Astronomy, 1901-01)\n# that Detroit kept\n#\n#\tlocal time until 1900 when the City Council decreed that clocks should\n#\tbe put back twenty-eight minutes to Central Standard Time.  Half the\n#\tcity obeyed, half refused.  After considerable debate, the decision\n#\twas rescinded and the city reverted to Sun time.  A derisive offer to\n#\terect a sundial in front of the city hall was referred to the\n#\tCommittee on Sewers.  Then, in 1905, Central time was adopted\n#\tby city vote.\n#\n# This story is too entertaining to be false, so go with Howse over Shanks.\n#\n# From Paul Eggert (2001-03-06):\n# Garland (1927) writes \"Cleveland and Detroit advanced their clocks\n# one hour in 1914.\"  This change is not in Shanks.  We have no more\n# info, so omit this for now.\n#\n# Most of Michigan observed DST from 1973 on, but was a bit late in 1975.\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER\nRule\tDetroit\t1948\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tDetroit\t1948\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tDetroit\t1967\tonly\t-\tJun\t14\t2:00\t1:00\tD\nRule\tDetroit\t1967\tonly\t-\tOct\tlastSun\t2:00\t0\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Detroit\t-5:32:11 -\tLMT\t1905\n\t\t\t-6:00\t-\tCST\t1915 May 15 2:00\n\t\t\t-5:00\t-\tEST\t1942\n\t\t\t-5:00\tUS\tE%sT\t1946\n\t\t\t-5:00\tDetroit\tE%sT\t1973\n\t\t\t-5:00\tUS\tE%sT\t1975\n\t\t\t-5:00\t-\tEST\t1975 Apr 27 2:00\n\t\t\t-5:00\tUS\tE%sT\n#\n# Dickinson, Gogebic, Iron, and Menominee Counties, Michigan,\n# switched from EST to CST/CDT in 1973.\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER\nRule Menominee\t1946\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule Menominee\t1946\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule Menominee\t1966\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule Menominee\t1966\tonly\t-\tOct\tlastSun\t2:00\t0\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Menominee\t-5:50:27 -\tLMT\t1885 Sep 18 12:00\n\t\t\t-6:00\tUS\tC%sT\t1946\n\t\t\t-6:00 Menominee\tC%sT\t1969 Apr 27 2:00\n\t\t\t-5:00\t-\tEST\t1973 Apr 29 2:00\n\t\t\t-6:00\tUS\tC%sT\n\n# Navassa\n# administered by the US Fish and Wildlife Service\n# claimed by US under the provisions of the 1856 Guano Islands Act\n# also claimed by Haiti\n# occupied 1857/1900 by the Navassa Phosphate Co\n# US lighthouse 1917/1996-09\n# currently uninhabited\n# see Mark Fineman, \"An Isle Rich in Guano and Discord\",\n# _Los Angeles Times_ (1998-11-10), A1, A10; it cites\n# Jimmy Skaggs, _The Great Guano Rush_ (1994).\n\n################################################################################\n\n\n# From Paul Eggert (2006-03-22):\n# A good source for time zone historical data outside the U.S. is\n# Thomas G. Shanks and Rique Pottenger, The International Atlas (6th edition),\n# San Diego: ACS Publications, Inc. (2003).\n#\n# Gwillim Law writes that a good source\n# for recent time zone data is the International Air Transport\n# Association's Standard Schedules Information Manual (IATA SSIM),\n# published semiannually.  Law sent in several helpful summaries\n# of the IATA's data after 1990.\n#\n# Except where otherwise noted, Shanks & Pottenger is the source for\n# entries through 1990, and IATA SSIM is the source for entries afterwards.\n#\n# Other sources occasionally used include:\n#\n#\tEdward W. Whitman, World Time Differences,\n#\tWhitman Publishing Co, 2 Niagara Av, Ealing, London (undated),\n#\twhich I found in the UCLA library.\n#\n#\t<a href=\"http://www.pettswoodvillage.co.uk/Daylight_Savings_William_Willett.pdf\">\n#\tWilliam Willett, The Waste of Daylight, 19th edition\n#\t</a> (1914-03)\n#\n#\tMilne J. Civil time. Geogr J. 1899 Feb;13(2):173-94\n#\t<http://www.jstor.org/stable/1774359>.\n#\n# See the 'europe' file for Greenland.\n\n# Canada\n\n# From Alain LaBont<e'> (1994-11-14):\n# I post here the time zone abbreviations standardized in Canada\n# for both English and French in the CAN/CSA-Z234.4-89 standard....\n#\n#\tUTC\tStandard time\tDaylight savings time\n#\toffset\tFrench\tEnglish\tFrench\tEnglish\n#\t-2:30\t-\t-\tHAT\tNDT\n#\t-3\t-\t-\tHAA\tADT\n#\t-3:30\tHNT\tNST\t-\t-\n#\t-4\tHNA\tAST\tHAE\tEDT\n#\t-5\tHNE\tEST\tHAC\tCDT\n#\t-6\tHNC\tCST\tHAR\tMDT\n#\t-7\tHNR\tMST\tHAP\tPDT\n#\t-8\tHNP\tPST\tHAY\tYDT\n#\t-9\tHNY\tYST\t-\t-\n#\n#\tHN: Heure Normale\tST: Standard Time\n#\tHA: Heure Avanc<e'>e\tDT: Daylight saving Time\n#\n#\tA: de l'Atlantique\tAtlantic\n#\tC: du Centre\t\tCentral\n#\tE: de l'Est\t\tEastern\n#\tM:\t\t\tMountain\n#\tN:\t\t\tNewfoundland\n#\tP: du Pacifique\t\tPacific\n#\tR: des Rocheuses\n#\tT: de Terre-Neuve\n#\tY: du Yukon\t\tYukon\n#\n# From Paul Eggert (1994-11-22):\n# Alas, this sort of thing must be handled by localization software.\n\n# Unless otherwise specified, the data for Canada are all from Shanks\n# & Pottenger.\n\n# From Chris Walton (2006-04-01, 2006-04-25, 2006-06-26, 2007-01-31,\n# 2007-03-01):\n# The British Columbia government announced yesterday that it will\n# adjust daylight savings next year to align with changes in the\n# U.S. and the rest of Canada....\n# http://www2.news.gov.bc.ca/news_releases_2005-2009/2006AG0014-000330.htm\n# ...\n# Nova Scotia\n# Daylight saving time will be extended by four weeks starting in 2007....\n# http://www.gov.ns.ca/just/regulations/rg2/2006/ma1206.pdf\n#\n# [For New Brunswick] the new legislation dictates that the time change is to\n# be done at 02:00 instead of 00:01.\n# http://www.gnb.ca/0062/acts/BBA-2006/Chap-19.pdf\n# ...\n# Manitoba has traditionally changed the clock every fall at 03:00.\n# As of 2006, the transition is to take place one hour earlier at 02:00.\n# http://web2.gov.mb.ca/laws/statutes/ccsm/o030e.php\n# ...\n# [Alberta, Ontario, Quebec] will follow US rules.\n# http://www.qp.gov.ab.ca/documents/spring/CH03_06.CFM\n# http://www.e-laws.gov.on.ca/DBLaws/Source/Regs/English/2006/R06111_e.htm\n# http://www2.publicationsduquebec.gouv.qc.ca/dynamicSearch/telecharge.php?type=5&file=2006C39A.PDF\n# ...\n# P.E.I. will follow US rules....\n# http://www.assembly.pe.ca/bills/pdf_chapter/62/3/chapter-41.pdf\n# ...\n# Province of Newfoundland and Labrador....\n# http://www.hoa.gov.nl.ca/hoa/bills/Bill0634.htm\n# ...\n# Yukon\n# http://www.gov.yk.ca/legislation/regs/oic2006_127.pdf\n# ...\n# N.W.T. will follow US rules.  Whoever maintains the government web site\n# does not seem to believe in bookmarks.  To see the news release, click the\n# following link and search for \"Daylight Savings Time Change\".  Press the\n# \"Daylight Savings Time Change\" link; it will fire off a popup using\n# JavaScript.\n# http://www.exec.gov.nt.ca/currentnews/currentPR.asp?mode=archive\n# ...\n# Nunavut\n# An amendment to the Interpretation Act was registered on February 19/2007....\n# http://action.attavik.ca/home/justice-gn/attach/2007/gaz02part2.pdf\n\n# From Paul Eggert (2006-04-25):\n# H. David Matthews and Mary Vincent's map\n# <a href=\"http://www.canadiangeographic.ca/Magazine/SO98/geomap.asp\">\n# \"It's about TIME\", _Canadian Geographic_ (September-October 1998)\n# </a> contains detailed boundaries for regions observing nonstandard\n# time and daylight saving time arrangements in Canada circa 1998.\n#\n# INMS, the Institute for National Measurement Standards in Ottawa, has <a\n# href=\"http://inms-ienm.nrc-cnrc.gc.ca/en/time_services/daylight_saving_e.php\">\n# information about standard and daylight saving time zones in Canada.\n# </a> (updated periodically).\n# Its unofficial information is often taken from Matthews and Vincent.\n\n# From Paul Eggert (2006-06-27):\n# For now, assume all of DST-observing Canada will fall into line with the\n# new US DST rules,\n\n# From Chris Walton (2011-12-01)\n# In the first of Tammy Hardwick's articles\n# <a href=\"http://www.ilovecreston.com/?p=articles&t=spec&ar=260\">\n# http://www.ilovecreston.com/?p=articles&t=spec&ar=260\n# </a>\n# she quotes the Friday November 1/1918 edition of the Creston Review.\n# The quote includes these two statements:\n# 'Sunday the CPR went back to the old system of time...'\n# '... The daylight saving scheme was dropped all over Canada at the same time,'\n# These statements refer to a transition from daylight time to standard time\n# that occurred nationally on Sunday October 27/1918.  This transition was\n# also documented in the Saturday October 26/1918 edition of the Toronto Star.\n\n# In light of that evidence, we alter the date from the earlier believed\n# Oct 31, to Oct 27, 1918 (and Sunday is a more likely transition day\n# than Thursday) in all Canadian rulesets.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tCanada\t1918\tonly\t-\tApr\t14\t2:00\t1:00\tD\nRule\tCanada\t1918\tonly\t-\tOct\t27\t2:00\t0\tS\nRule\tCanada\t1942\tonly\t-\tFeb\t 9\t2:00\t1:00\tW # War\nRule\tCanada\t1945\tonly\t-\tAug\t14\t23:00u\t1:00\tP # Peace\nRule\tCanada\t1945\tonly\t-\tSep\t30\t2:00\t0\tS\nRule\tCanada\t1974\t1986\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tCanada\t1974\t2006\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tCanada\t1987\t2006\t-\tApr\tSun>=1\t2:00\t1:00\tD\nRule\tCanada\t2007\tmax\t-\tMar\tSun>=8\t2:00\t1:00\tD\nRule\tCanada\t2007\tmax\t-\tNov\tSun>=1\t2:00\t0\tS\n\n\n# Newfoundland and Labrador\n\n# From Paul Eggert (2000-10-02):\n# Matthews and Vincent (1998) write that Labrador should use NST/NDT,\n# but the only part of Labrador that follows the rules is the\n# southeast corner, including Port Hope Simpson and Mary's Harbour,\n# but excluding, say, Black Tickle.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tStJohns\t1917\tonly\t-\tApr\t 8\t2:00\t1:00\tD\nRule\tStJohns\t1917\tonly\t-\tSep\t17\t2:00\t0\tS\n# Whitman gives 1919 Apr 5 and 1920 Apr 5; go with Shanks & Pottenger.\nRule\tStJohns\t1919\tonly\t-\tMay\t 5\t23:00\t1:00\tD\nRule\tStJohns\t1919\tonly\t-\tAug\t12\t23:00\t0\tS\n# For 1931-1935 Whitman gives Apr same date; go with Shanks & Pottenger.\nRule\tStJohns\t1920\t1935\t-\tMay\tSun>=1\t23:00\t1:00\tD\nRule\tStJohns\t1920\t1935\t-\tOct\tlastSun\t23:00\t0\tS\n# For 1936-1941 Whitman gives May Sun>=8 and Oct Sun>=1; go with Shanks &\n# Pottenger.\nRule\tStJohns\t1936\t1941\t-\tMay\tMon>=9\t0:00\t1:00\tD\nRule\tStJohns\t1936\t1941\t-\tOct\tMon>=2\t0:00\t0\tS\n# Whitman gives the following transitions:\n# 1942 03-01/12-31, 1943 05-30/09-05, 1944 07-10/09-02, 1945 01-01/10-07\n# but go with Shanks & Pottenger and assume they used Canadian rules.\n# For 1946-9 Whitman gives May 5,4,9,1 - Oct 1,5,3,2, and for 1950 he gives\n# Apr 30 - Sep 24; go with Shanks & Pottenger.\nRule\tStJohns\t1946\t1950\t-\tMay\tSun>=8\t2:00\t1:00\tD\nRule\tStJohns\t1946\t1950\t-\tOct\tSun>=2\t2:00\t0\tS\nRule\tStJohns\t1951\t1986\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tStJohns\t1951\t1959\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tStJohns\t1960\t1986\t-\tOct\tlastSun\t2:00\t0\tS\n# From Paul Eggert (2000-10-02):\n# INMS (2000-09-12) says that, since 1988 at least, Newfoundland switches\n# at 00:01 local time.  For now, assume it started in 1987.\n\n# From Michael Pelley (2011-09-12):\n# We received today, Monday, September 12, 2011, notification that the\n# changes to the Newfoundland Standard Time Act have been proclaimed.\n# The change in the Act stipulates that the change from Daylight Savings\n# Time to Standard Time and from Standard Time to Daylight Savings Time\n# now occurs at 2:00AM.\n# ...\n# <a href=\"http://www.assembly.nl.ca/legislation/sr/annualstatutes/2011/1106.chp.htm\">\n# http://www.assembly.nl.ca/legislation/sr/annualstatutes/2011/1106.chp.htm\n# </a>\n# ...\n# MICHAEL PELLEY  |  Manager of Enterprise Architecture - Solution Delivery\n# Office of the Chief Information Officer\n# Executive Council\n# Government of Newfoundland & Labrador\n\nRule\tStJohns\t1987\tonly\t-\tApr\tSun>=1\t0:01\t1:00\tD\nRule\tStJohns\t1987\t2006\t-\tOct\tlastSun\t0:01\t0\tS\nRule\tStJohns\t1988\tonly\t-\tApr\tSun>=1\t0:01\t2:00\tDD\nRule\tStJohns\t1989\t2006\t-\tApr\tSun>=1\t0:01\t1:00\tD\nRule\tStJohns\t2007\t2011\t-\tMar\tSun>=8\t0:01\t1:00\tD\nRule\tStJohns\t2007\t2010\t-\tNov\tSun>=1\t0:01\t0\tS\n#\n# St John's has an apostrophe, but Posix file names can't have apostrophes.\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/St_Johns\t-3:30:52 -\tLMT\t1884\n\t\t\t-3:30:52 StJohns N%sT\t1918\n\t\t\t-3:30:52 Canada\tN%sT\t1919\n\t\t\t-3:30:52 StJohns N%sT\t1935 Mar 30\n\t\t\t-3:30\tStJohns\tN%sT\t1942 May 11\n\t\t\t-3:30\tCanada\tN%sT\t1946\n\t\t\t-3:30\tStJohns\tN%sT\t2011 Nov\n\t\t\t-3:30\tCanada\tN%sT\n\n# most of east Labrador\n\n# The name 'Happy Valley-Goose Bay' is too long; use 'Goose Bay'.\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Goose_Bay\t-4:01:40 -\tLMT\t1884 # Happy Valley-Goose Bay\n\t\t\t-3:30:52 -\tNST\t1918\n\t\t\t-3:30:52 Canada N%sT\t1919\n\t\t\t-3:30:52 -\tNST\t1935 Mar 30\n\t\t\t-3:30\t-\tNST\t1936\n\t\t\t-3:30\tStJohns\tN%sT\t1942 May 11\n\t\t\t-3:30\tCanada\tN%sT\t1946\n\t\t\t-3:30\tStJohns\tN%sT\t1966 Mar 15 2:00\n\t\t\t-4:00\tStJohns\tA%sT\t2011 Nov\n\t\t\t-4:00\tCanada\tA%sT\n\n\n# west Labrador, Nova Scotia, Prince Edward I\n\n# From Paul Eggert (2006-03-22):\n# Shanks & Pottenger write that since 1970 most of this region has been like\n# Halifax.  Many locales did not observe peacetime DST until 1972;\n# Glace Bay, NS is the largest that we know of.\n# Shanks & Pottenger also write that Liverpool, NS was the only town\n# in Canada to observe DST in 1971 but not 1970; for now we'll assume\n# this is a typo.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tHalifax\t1916\tonly\t-\tApr\t 1\t0:00\t1:00\tD\nRule\tHalifax\t1916\tonly\t-\tOct\t 1\t0:00\t0\tS\nRule\tHalifax\t1920\tonly\t-\tMay\t 9\t0:00\t1:00\tD\nRule\tHalifax\t1920\tonly\t-\tAug\t29\t0:00\t0\tS\nRule\tHalifax\t1921\tonly\t-\tMay\t 6\t0:00\t1:00\tD\nRule\tHalifax\t1921\t1922\t-\tSep\t 5\t0:00\t0\tS\nRule\tHalifax\t1922\tonly\t-\tApr\t30\t0:00\t1:00\tD\nRule\tHalifax\t1923\t1925\t-\tMay\tSun>=1\t0:00\t1:00\tD\nRule\tHalifax\t1923\tonly\t-\tSep\t 4\t0:00\t0\tS\nRule\tHalifax\t1924\tonly\t-\tSep\t15\t0:00\t0\tS\nRule\tHalifax\t1925\tonly\t-\tSep\t28\t0:00\t0\tS\nRule\tHalifax\t1926\tonly\t-\tMay\t16\t0:00\t1:00\tD\nRule\tHalifax\t1926\tonly\t-\tSep\t13\t0:00\t0\tS\nRule\tHalifax\t1927\tonly\t-\tMay\t 1\t0:00\t1:00\tD\nRule\tHalifax\t1927\tonly\t-\tSep\t26\t0:00\t0\tS\nRule\tHalifax\t1928\t1931\t-\tMay\tSun>=8\t0:00\t1:00\tD\nRule\tHalifax\t1928\tonly\t-\tSep\t 9\t0:00\t0\tS\nRule\tHalifax\t1929\tonly\t-\tSep\t 3\t0:00\t0\tS\nRule\tHalifax\t1930\tonly\t-\tSep\t15\t0:00\t0\tS\nRule\tHalifax\t1931\t1932\t-\tSep\tMon>=24\t0:00\t0\tS\nRule\tHalifax\t1932\tonly\t-\tMay\t 1\t0:00\t1:00\tD\nRule\tHalifax\t1933\tonly\t-\tApr\t30\t0:00\t1:00\tD\nRule\tHalifax\t1933\tonly\t-\tOct\t 2\t0:00\t0\tS\nRule\tHalifax\t1934\tonly\t-\tMay\t20\t0:00\t1:00\tD\nRule\tHalifax\t1934\tonly\t-\tSep\t16\t0:00\t0\tS\nRule\tHalifax\t1935\tonly\t-\tJun\t 2\t0:00\t1:00\tD\nRule\tHalifax\t1935\tonly\t-\tSep\t30\t0:00\t0\tS\nRule\tHalifax\t1936\tonly\t-\tJun\t 1\t0:00\t1:00\tD\nRule\tHalifax\t1936\tonly\t-\tSep\t14\t0:00\t0\tS\nRule\tHalifax\t1937\t1938\t-\tMay\tSun>=1\t0:00\t1:00\tD\nRule\tHalifax\t1937\t1941\t-\tSep\tMon>=24\t0:00\t0\tS\nRule\tHalifax\t1939\tonly\t-\tMay\t28\t0:00\t1:00\tD\nRule\tHalifax\t1940\t1941\t-\tMay\tSun>=1\t0:00\t1:00\tD\nRule\tHalifax\t1946\t1949\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tHalifax\t1946\t1949\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tHalifax\t1951\t1954\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tHalifax\t1951\t1954\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tHalifax\t1956\t1959\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tHalifax\t1956\t1959\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tHalifax\t1962\t1973\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tHalifax\t1962\t1973\t-\tOct\tlastSun\t2:00\t0\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Halifax\t-4:14:24 -\tLMT\t1902 Jun 15\n\t\t\t-4:00\tHalifax\tA%sT\t1918\n\t\t\t-4:00\tCanada\tA%sT\t1919\n\t\t\t-4:00\tHalifax\tA%sT\t1942 Feb  9 2:00s\n\t\t\t-4:00\tCanada\tA%sT\t1946\n\t\t\t-4:00\tHalifax\tA%sT\t1974\n\t\t\t-4:00\tCanada\tA%sT\nZone America/Glace_Bay\t-3:59:48 -\tLMT\t1902 Jun 15\n\t\t\t-4:00\tCanada\tA%sT\t1953\n\t\t\t-4:00\tHalifax\tA%sT\t1954\n\t\t\t-4:00\t-\tAST\t1972\n\t\t\t-4:00\tHalifax\tA%sT\t1974\n\t\t\t-4:00\tCanada\tA%sT\n\n# New Brunswick\n\n# From Paul Eggert (2007-01-31):\n# The Time Definition Act <http://www.gnb.ca/0062/PDF-acts/t-06.pdf>\n# says they changed at 00:01 through 2006, and\n# <http://www.canlii.org/nb/laws/sta/t-6/20030127/whole.html> makes it\n# clear that this was the case since at least 1993.\n# For now, assume it started in 1993.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tMoncton\t1933\t1935\t-\tJun\tSun>=8\t1:00\t1:00\tD\nRule\tMoncton\t1933\t1935\t-\tSep\tSun>=8\t1:00\t0\tS\nRule\tMoncton\t1936\t1938\t-\tJun\tSun>=1\t1:00\t1:00\tD\nRule\tMoncton\t1936\t1938\t-\tSep\tSun>=1\t1:00\t0\tS\nRule\tMoncton\t1939\tonly\t-\tMay\t27\t1:00\t1:00\tD\nRule\tMoncton\t1939\t1941\t-\tSep\tSat>=21\t1:00\t0\tS\nRule\tMoncton\t1940\tonly\t-\tMay\t19\t1:00\t1:00\tD\nRule\tMoncton\t1941\tonly\t-\tMay\t 4\t1:00\t1:00\tD\nRule\tMoncton\t1946\t1972\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tMoncton\t1946\t1956\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tMoncton\t1957\t1972\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tMoncton\t1993\t2006\t-\tApr\tSun>=1\t0:01\t1:00\tD\nRule\tMoncton\t1993\t2006\t-\tOct\tlastSun\t0:01\t0\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Moncton\t-4:19:08 -\tLMT\t1883 Dec  9\n\t\t\t-5:00\t-\tEST\t1902 Jun 15\n\t\t\t-4:00\tCanada\tA%sT\t1933\n\t\t\t-4:00\tMoncton\tA%sT\t1942\n\t\t\t-4:00\tCanada\tA%sT\t1946\n\t\t\t-4:00\tMoncton\tA%sT\t1973\n\t\t\t-4:00\tCanada\tA%sT\t1993\n\t\t\t-4:00\tMoncton\tA%sT\t2007\n\t\t\t-4:00\tCanada\tA%sT\n\n# Quebec\n\n# From Paul Eggert (2013-08-30):\n# Since 1970 most of Quebec has been like Toronto.\n# However, because earlier versions of the tz database mistakenly relied on data\n# from Shanks & Pottenger saying that Quebec differed from Ontario after 1970,\n# a separate entry was created for most of Quebec.  We're loath to lose\n# its pre-1970 info, even though the tz database is normally limited to\n# zones that differ after 1970, so keep this otherwise out-of-scope entry.\n\n# Matthews and Vincent (1998) also write that Quebec east of the -63\n# meridian is supposed to observe AST, but residents as far east as\n# Natashquan use EST/EDT, and residents east of Natashquan use AST.\n# The Quebec department of justice writes in\n# \"The situation in Minganie and Basse-Cote-Nord\"\n# http://www.justice.gouv.qc.ca/english/publications/generale/temps-minganie-a.htm\n# that the coastal strip from just east of Natashquan to Blanc-Sablon\n# observes Atlantic standard time all year round.\n# http://www.assnat.qc.ca/Media/Process.aspx?MediaId=ANQ.Vigie.Bll.DocumentGenerique_8845en\n# says this common practice was codified into law as of 2007.\n# For lack of better info, guess this practice began around 1970, contra to\n# Shanks & Pottenger who have this region observing AST/ADT.\n# for post-1970 data America/Puerto_Rico.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tMont\t1917\tonly\t-\tMar\t25\t2:00\t1:00\tD\nRule\tMont\t1917\tonly\t-\tApr\t24\t0:00\t0\tS\nRule\tMont\t1919\tonly\t-\tMar\t31\t2:30\t1:00\tD\nRule\tMont\t1919\tonly\t-\tOct\t25\t2:30\t0\tS\nRule\tMont\t1920\tonly\t-\tMay\t 2\t2:30\t1:00\tD\nRule\tMont\t1920\t1922\t-\tOct\tSun>=1\t2:30\t0\tS\nRule\tMont\t1921\tonly\t-\tMay\t 1\t2:00\t1:00\tD\nRule\tMont\t1922\tonly\t-\tApr\t30\t2:00\t1:00\tD\nRule\tMont\t1924\tonly\t-\tMay\t17\t2:00\t1:00\tD\nRule\tMont\t1924\t1926\t-\tSep\tlastSun\t2:30\t0\tS\nRule\tMont\t1925\t1926\t-\tMay\tSun>=1\t2:00\t1:00\tD\n# The 1927-to-1937 rules can be expressed more simply as\n# Rule\tMont\t1927\t1937\t-\tApr\tlastSat\t24:00\t1:00\tD\n# Rule\tMont\t1927\t1937\t-\tSep\tlastSat\t24:00\t0\tS\n# The rules below avoid use of 24:00\n# (which pre-1998 versions of zic cannot handle).\nRule\tMont\t1927\tonly\t-\tMay\t1\t0:00\t1:00\tD\nRule\tMont\t1927\t1932\t-\tSep\tlastSun\t0:00\t0\tS\nRule\tMont\t1928\t1931\t-\tApr\tlastSun\t0:00\t1:00\tD\nRule\tMont\t1932\tonly\t-\tMay\t1\t0:00\t1:00\tD\nRule\tMont\t1933\t1940\t-\tApr\tlastSun\t0:00\t1:00\tD\nRule\tMont\t1933\tonly\t-\tOct\t1\t0:00\t0\tS\nRule\tMont\t1934\t1939\t-\tSep\tlastSun\t0:00\t0\tS\nRule\tMont\t1946\t1973\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tMont\t1945\t1948\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tMont\t1949\t1950\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tMont\t1951\t1956\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tMont\t1957\t1973\t-\tOct\tlastSun\t2:00\t0\tS\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Blanc-Sablon -3:48:28 -\tLMT\t1884\n\t\t\t-4:00\tCanada\tA%sT\t1970\n\t\t\t-4:00\t-\tAST\nZone America/Montreal\t-4:54:16 -\tLMT\t1884\n\t\t\t-5:00\tMont\tE%sT\t1918\n\t\t\t-5:00\tCanada\tE%sT\t1919\n\t\t\t-5:00\tMont\tE%sT\t1942 Feb  9 2:00s\n\t\t\t-5:00\tCanada\tE%sT\t1946\n\t\t\t-5:00\tMont\tE%sT\t1974\n\t\t\t-5:00\tCanada\tE%sT\n\n# Ontario\n\n# From Paul Eggert (2006-07-09):\n# Shanks & Pottenger write that since 1970 most of Ontario has been like\n# Toronto.\n# Thunder Bay skipped DST in 1973.\n# Many smaller locales did not observe peacetime DST until 1974;\n# Nipigon (EST) and Rainy River (CST) are the largest that we know of.\n# Far west Ontario is like Winnipeg; far east Quebec is like Halifax.\n\n# From Mark Brader (2003-07-26):\n# [According to the Toronto Star] Orillia, Ontario, adopted DST\n# effective Saturday, 1912-06-22, 22:00; the article mentions that\n# Port Arthur (now part of Thunder Bay, Ontario) as well as Moose Jaw\n# have already done so.  In Orillia DST was to run until Saturday,\n# 1912-08-31 (no time mentioned), but it was met with considerable\n# hostility from certain segments of the public, and was revoked after\n# only two weeks -- I copied it as Saturday, 1912-07-07, 22:00, but\n# presumably that should be -07-06.  (1912-06-19, -07-12; also letters\n# earlier in June).\n#\n# Kenora, Ontario, was to abandon DST on 1914-06-01 (-05-21).\n\n# From Paul Eggert (1997-10-17):\n# Mark Brader writes that an article in the 1997-10-14 Toronto Star\n# says that Atikokan, Ontario currently does not observe DST,\n# but will vote on 11-10 whether to use EST/EDT.\n# He also writes that the\n# <a href=\"http://www.gov.on.ca/MBS/english/publications/statregs/conttext.html\">\n# Ontario Time Act (1990, Chapter T.9)\n# </a>\n# says that Ontario east of 90W uses EST/EDT, and west of 90W uses CST/CDT.\n# Officially Atikokan is therefore on CST/CDT, and most likely this report\n# concerns a non-official time observed as a matter of local practice.\n#\n# From Paul Eggert (2000-10-02):\n# Matthews and Vincent (1998) write that Atikokan, Pickle Lake, and\n# New Osnaburgh observe CST all year, that Big Trout Lake observes\n# CST/CDT, and that Upsala and Shebandowan observe EST/EDT, all in\n# violation of the official Ontario rules.\n#\n# From Paul Eggert (2006-07-09):\n# Chris Walton (2006-07-06) mentioned an article by Stephanie MacLellan in the\n# 2005-07-21 Chronicle-Journal, which said:\n#\n#\tThe clocks in Atikokan stay set on standard time year-round.\n#\tThis means they spend about half the time on central time and\n#\tthe other half on eastern time.\n#\n#\tFor the most part, the system works, Mayor Dennis Brown said.\n#\n#\t\"The majority of businesses in Atikokan deal more with Eastern\n#\tCanada, but there are some that deal with Western Canada,\" he\n#\tsaid.  \"I don't see any changes happening here.\"\n#\n# Walton also writes \"Supposedly Pickle Lake and Mishkeegogamang\n# [New Osnaburgh] follow the same practice.\"\n\n# From Garry McKinnon (2006-07-14) via Chris Walton:\n# I chatted with a member of my board who has an outstanding memory\n# and a long history in Atikokan (and in the telecom industry) and he\n# can say for certain that Atikokan has been practicing the current\n# time keeping since 1952, at least.\n\n# From Paul Eggert (2006-07-17):\n# Shanks & Pottenger say that Atikokan has agreed with Rainy River\n# ever since standard time was introduced, but the information from\n# McKinnon sounds more authoritative.  For now, assume that Atikokan\n# switched to EST immediately after WWII era daylight saving time\n# ended.  This matches the old (less-populous) America/Coral_Harbour\n# entry since our cutoff date of 1970, so we can move\n# America/Coral_Harbour to the 'backward' file.\n\n# From Mark Brader (2010-03-06):\n#\n# Currently the database has:\n#\n# # Ontario\n#\n# # From Paul Eggert (2006-07-09):\n# # Shanks & Pottenger write that since 1970 most of Ontario has been like\n# # Toronto.\n# # Thunder Bay skipped DST in 1973.\n# # Many smaller locales did not observe peacetime DST until 1974;\n# # Nipigon (EST) and Rainy River (CST) are the largest that we know of.\n#\n# In the (Toronto) Globe and Mail for Saturday, 1955-09-24, in the bottom\n# right corner of page 1, it says that Toronto will return to standard\n# time at 2 am Sunday morning (which agrees with the database), and that:\n#\n#     The one-hour setback will go into effect throughout most of Ontario,\n#     except in areas like Windsor which remains on standard time all year.\n#\n# Windsor is, of course, a lot larger than Nipigon.\n#\n# I only came across this incidentally.  I don't know if Windsor began\n# observing DST when Detroit did, or in 1974, or on some other date.\n#\n# By the way, the article continues by noting that:\n#\n#     Some cities in the United States have pushed the deadline back\n#     three weeks and will change over from daylight saving in October.\n\n# From Arthur David Olson (2010-07-17):\n#\n# \"Standard Time and Time Zones in Canada\" appeared in\n# The Journal of The Royal Astronomical Society of Canada,\n# volume 26, number 2 (February 1932) and, as of 2010-07-17,\n# was available at\n# <a href=\"http://adsabs.harvard.edu/full/1932JRASC..26...49S\">\n# http://adsabs.harvard.edu/full/1932JRASC..26...49S\n# </a>\n#\n# It includes the text below (starting on page 57):\n#\n#   A list of the places in Canada using daylight saving time would\n# require yearly revision. From information kindly furnished by\n# the provincial governments and by the postmasters in many cities\n# and towns, it is found that the following places used daylight sav-\n# ing in 1930. The information for the province of Quebec is definite,\n# for the other provinces only approximate:\n#\n# \tProvince\tDaylight saving time used\n# Prince Edward Island\tNot used.\n# Nova Scotia\t\tIn Halifax only.\n# New Brunswick\t\tIn St. John only.\n# Quebec\t\tIn the following places:\n# \t\t\tMontreal\tLachine\n# \t\t\tQuebec\t\tMont-Royal\n# \t\t\tLevis\t\tIberville\n# \t\t\tSt. Lambert\tCap de la Madeleine\n# \t\t\tVerdun\t\tLoretteville\n# \t\t\tWestmount\tRichmond\n# \t\t\tOutremont\tSt. Jerome\n# \t\t\tLongueuil\tGreenfield Park\n# \t\t\tArvida\t\tWaterloo\n# \t\t\tChambly-Canton\tBeaulieu\n# \t\t\tMelbourne\tLa Tuque\n# \t\t\tSt. Theophile\tBuckingham\n# Ontario\t\tUsed generally in the cities and towns along\n# \t\t\tthe southerly part of the province. Not\n# \t\t\tused in the northwesterlhy part.\n# Manitoba\t\tNot used.\n# Saskatchewan\t\tIn Regina only.\n# Alberta\t\tNot used.\n# British Columbia\tNot used.\n#\n#   With some exceptions, the use of daylight saving may be said to be limited\n# to those cities and towns lying between Quebec city and Windsor, Ont.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tToronto\t1919\tonly\t-\tMar\t30\t23:30\t1:00\tD\nRule\tToronto\t1919\tonly\t-\tOct\t26\t0:00\t0\tS\nRule\tToronto\t1920\tonly\t-\tMay\t 2\t2:00\t1:00\tD\nRule\tToronto\t1920\tonly\t-\tSep\t26\t0:00\t0\tS\nRule\tToronto\t1921\tonly\t-\tMay\t15\t2:00\t1:00\tD\nRule\tToronto\t1921\tonly\t-\tSep\t15\t2:00\t0\tS\nRule\tToronto\t1922\t1923\t-\tMay\tSun>=8\t2:00\t1:00\tD\n# Shanks & Pottenger say 1923-09-19; assume it's a typo and that \"-16\"\n# was meant.\nRule\tToronto\t1922\t1926\t-\tSep\tSun>=15\t2:00\t0\tS\nRule\tToronto\t1924\t1927\t-\tMay\tSun>=1\t2:00\t1:00\tD\n# The 1927-to-1939 rules can be expressed more simply as\n# Rule\tToronto\t1927\t1937\t-\tSep\tSun>=25\t2:00\t0\tS\n# Rule\tToronto\t1928\t1937\t-\tApr\tSun>=25\t2:00\t1:00\tD\n# Rule\tToronto\t1938\t1940\t-\tApr\tlastSun\t2:00\t1:00\tD\n# Rule\tToronto\t1938\t1939\t-\tSep\tlastSun\t2:00\t0\tS\n# The rules below avoid use of Sun>=25\n# (which pre-2004 versions of zic cannot handle).\nRule\tToronto\t1927\t1932\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tToronto\t1928\t1931\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tToronto\t1932\tonly\t-\tMay\t1\t2:00\t1:00\tD\nRule\tToronto\t1933\t1940\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tToronto\t1933\tonly\t-\tOct\t1\t2:00\t0\tS\nRule\tToronto\t1934\t1939\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tToronto\t1945\t1946\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tToronto\t1946\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tToronto\t1947\t1949\t-\tApr\tlastSun\t0:00\t1:00\tD\nRule\tToronto\t1947\t1948\t-\tSep\tlastSun\t0:00\t0\tS\nRule\tToronto\t1949\tonly\t-\tNov\tlastSun\t0:00\t0\tS\nRule\tToronto\t1950\t1973\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tToronto\t1950\tonly\t-\tNov\tlastSun\t2:00\t0\tS\nRule\tToronto\t1951\t1956\t-\tSep\tlastSun\t2:00\t0\tS\n# Shanks & Pottenger say Toronto ended DST a week early in 1971,\n# namely on 1971-10-24, but Mark Brader wrote (2003-05-31) that this\n# is wrong, and that he had confirmed it by checking the 1971-10-30\n# Toronto Star, which said that DST was ending 1971-10-31 as usual.\nRule\tToronto\t1957\t1973\t-\tOct\tlastSun\t2:00\t0\tS\n\n# From Paul Eggert (2003-07-27):\n# Willett (1914-03) writes (p. 17) \"In the Cities of Fort William, and\n# Port Arthur, Ontario, the principle of the Bill has been in\n# operation for the past three years, and in the City of Moose Jaw,\n# Saskatchewan, for one year.\"\n\n# From David Bryan via Tory Tronrud, Director/Curator,\n# Thunder Bay Museum (2003-11-12):\n# There is some suggestion, however, that, by-law or not, daylight\n# savings time was being practiced in Fort William and Port Arthur\n# before 1909.... [I]n 1910, the line between the Eastern and Central\n# Time Zones was permanently moved about two hundred miles west to\n# include the Thunder Bay area....  When Canada adopted daylight\n# savings time in 1916, Fort William and Port Arthur, having done so\n# already, did not change their clocks....  During the Second World\n# War,... [t]he cities agreed to implement DST during the summer\n# months for the remainder of the war years.\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Toronto\t-5:17:32 -\tLMT\t1895\n\t\t\t-5:00\tCanada\tE%sT\t1919\n\t\t\t-5:00\tToronto\tE%sT\t1942 Feb  9 2:00s\n\t\t\t-5:00\tCanada\tE%sT\t1946\n\t\t\t-5:00\tToronto\tE%sT\t1974\n\t\t\t-5:00\tCanada\tE%sT\nZone America/Thunder_Bay -5:57:00 -\tLMT\t1895\n\t\t\t-6:00\t-\tCST\t1910\n\t\t\t-5:00\t-\tEST\t1942\n\t\t\t-5:00\tCanada\tE%sT\t1970\n\t\t\t-5:00\tToronto\tE%sT\t1973\n\t\t\t-5:00\t-\tEST\t1974\n\t\t\t-5:00\tCanada\tE%sT\nZone America/Nipigon\t-5:53:04 -\tLMT\t1895\n\t\t\t-5:00\tCanada\tE%sT\t1940 Sep 29\n\t\t\t-5:00\t1:00\tEDT\t1942 Feb  9 2:00s\n\t\t\t-5:00\tCanada\tE%sT\nZone America/Rainy_River -6:18:16 -\tLMT\t1895\n\t\t\t-6:00\tCanada\tC%sT\t1940 Sep 29\n\t\t\t-6:00\t1:00\tCDT\t1942 Feb  9 2:00s\n\t\t\t-6:00\tCanada\tC%sT\nZone America/Atikokan\t-6:06:28 -\tLMT\t1895\n\t\t\t-6:00\tCanada\tC%sT\t1940 Sep 29\n\t\t\t-6:00\t1:00\tCDT\t1942 Feb  9 2:00s\n\t\t\t-6:00\tCanada\tC%sT\t1945 Sep 30 2:00\n\t\t\t-5:00\t-\tEST\n\n\n# Manitoba\n\n# From Rob Douglas (2006-04-06):\n# the old Manitoba Time Act - as amended by Bill 2, assented to\n# March 27, 1987 ... said ...\n# \"between two o'clock Central Standard Time in the morning of\n# the first Sunday of April of each year and two o'clock Central\n# Standard Time in the morning of the last Sunday of October next\n# following, one hour in advance of Central Standard Time.\"...\n# I believe that the English legislation [of the old time act] had =\n# been assented to (March 22, 1967)....\n# Also, as far as I can tell, there was no order-in-council varying\n# the time of Daylight Saving Time for 2005 and so the provisions of\n# the 1987 version would apply - the changeover was at 2:00 Central\n# Standard Time (i.e. not until 3:00 Central Daylight Time).\n\n# From Paul Eggert (2006-04-10):\n# Shanks & Pottenger say Manitoba switched at 02:00 (not 02:00s)\n# starting 1966.  Since 02:00s is clearly correct for 1967 on, assume\n# it was also 02:00s in 1966.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tWinn\t1916\tonly\t-\tApr\t23\t0:00\t1:00\tD\nRule\tWinn\t1916\tonly\t-\tSep\t17\t0:00\t0\tS\nRule\tWinn\t1918\tonly\t-\tApr\t14\t2:00\t1:00\tD\nRule\tWinn\t1918\tonly\t-\tOct\t27\t2:00\t0\tS\nRule\tWinn\t1937\tonly\t-\tMay\t16\t2:00\t1:00\tD\nRule\tWinn\t1937\tonly\t-\tSep\t26\t2:00\t0\tS\nRule\tWinn\t1942\tonly\t-\tFeb\t 9\t2:00\t1:00\tW # War\nRule\tWinn\t1945\tonly\t-\tAug\t14\t23:00u\t1:00\tP # Peace\nRule\tWinn\t1945\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tWinn\t1946\tonly\t-\tMay\t12\t2:00\t1:00\tD\nRule\tWinn\t1946\tonly\t-\tOct\t13\t2:00\t0\tS\nRule\tWinn\t1947\t1949\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tWinn\t1947\t1949\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tWinn\t1950\tonly\t-\tMay\t 1\t2:00\t1:00\tD\nRule\tWinn\t1950\tonly\t-\tSep\t30\t2:00\t0\tS\nRule\tWinn\t1951\t1960\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tWinn\t1951\t1958\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tWinn\t1959\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tWinn\t1960\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tWinn\t1963\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tWinn\t1963\tonly\t-\tSep\t22\t2:00\t0\tS\nRule\tWinn\t1966\t1986\t-\tApr\tlastSun\t2:00s\t1:00\tD\nRule\tWinn\t1966\t2005\t-\tOct\tlastSun\t2:00s\t0\tS\nRule\tWinn\t1987\t2005\t-\tApr\tSun>=1\t2:00s\t1:00\tD\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Winnipeg\t-6:28:36 -\tLMT\t1887 Jul 16\n\t\t\t-6:00\tWinn\tC%sT\t2006\n\t\t\t-6:00\tCanada\tC%sT\n\n\n# Saskatchewan\n\n# From Mark Brader (2003-07-26):\n# The first actual adoption of DST in Canada was at the municipal\n# level.  As the [Toronto] Star put it (1912-06-07), \"While people\n# elsewhere have long been talking of legislation to save daylight,\n# the city of Moose Jaw [Saskatchewan] has acted on its own hook.\"\n# DST in Moose Jaw began on Saturday, 1912-06-01 (no time mentioned:\n# presumably late evening, as below), and would run until \"the end of\n# the summer\".  The discrepancy between municipal time and railroad\n# time was noted.\n\n# From Paul Eggert (2003-07-27):\n# Willett (1914-03) notes that DST \"has been in operation ... in the\n# City of Moose Jaw, Saskatchewan, for one year.\"\n\n# From Paul Eggert (2006-03-22):\n# Shanks & Pottenger say that since 1970 this region has mostly been as Regina.\n# Some western towns (e.g. Swift Current) switched from MST/MDT to CST in 1972.\n# Other western towns (e.g. Lloydminster) are like Edmonton.\n# Matthews and Vincent (1998) write that Denare Beach and Creighton\n# are like Winnipeg, in violation of Saskatchewan law.\n\n# From W. Jones (1992-11-06):\n# The. . .below is based on information I got from our law library, the\n# provincial archives, and the provincial Community Services department.\n# A precise history would require digging through newspaper archives, and\n# since you didn't say what you wanted, I didn't bother.\n#\n# Saskatchewan is split by a time zone meridian (105W) and over the years\n# the boundary became pretty ragged as communities near it reevaluated\n# their affiliations in one direction or the other.  In 1965 a provincial\n# referendum favoured legislating common time practices.\n#\n# On 15 April 1966 the Time Act (c. T-14, Revised Statutes of\n# Saskatchewan 1978) was proclaimed, and established that the eastern\n# part of Saskatchewan would use CST year round, that districts in\n# northwest Saskatchewan would by default follow CST but could opt to\n# follow Mountain Time rules (thus 1 hour difference in the winter and\n# zero in the summer), and that districts in southwest Saskatchewan would\n# by default follow MT but could opt to follow CST.\n#\n# It took a few years for the dust to settle (I know one story of a town\n# on one time zone having its school in another, such that a mom had to\n# serve her family lunch in two shifts), but presently it seems that only\n# a few towns on the border with Alberta (e.g. Lloydminster) follow MT\n# rules any more; all other districts appear to have used CST year round\n# since sometime in the 1960s.\n\n# From Chris Walton (2006-06-26):\n# The Saskatchewan time act which was last updated in 1996 is about 30 pages\n# long and rather painful to read.\n# http://www.qp.gov.sk.ca/documents/English/Statutes/Statutes/T14.pdf\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tRegina\t1918\tonly\t-\tApr\t14\t2:00\t1:00\tD\nRule\tRegina\t1918\tonly\t-\tOct\t27\t2:00\t0\tS\nRule\tRegina\t1930\t1934\t-\tMay\tSun>=1\t0:00\t1:00\tD\nRule\tRegina\t1930\t1934\t-\tOct\tSun>=1\t0:00\t0\tS\nRule\tRegina\t1937\t1941\t-\tApr\tSun>=8\t0:00\t1:00\tD\nRule\tRegina\t1937\tonly\t-\tOct\tSun>=8\t0:00\t0\tS\nRule\tRegina\t1938\tonly\t-\tOct\tSun>=1\t0:00\t0\tS\nRule\tRegina\t1939\t1941\t-\tOct\tSun>=8\t0:00\t0\tS\nRule\tRegina\t1942\tonly\t-\tFeb\t 9\t2:00\t1:00\tW # War\nRule\tRegina\t1945\tonly\t-\tAug\t14\t23:00u\t1:00\tP # Peace\nRule\tRegina\t1945\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tRegina\t1946\tonly\t-\tApr\tSun>=8\t2:00\t1:00\tD\nRule\tRegina\t1946\tonly\t-\tOct\tSun>=8\t2:00\t0\tS\nRule\tRegina\t1947\t1957\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tRegina\t1947\t1957\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tRegina\t1959\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tRegina\t1959\tonly\t-\tOct\tlastSun\t2:00\t0\tS\n#\nRule\tSwift\t1957\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tSwift\t1957\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tSwift\t1959\t1961\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tSwift\t1959\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tSwift\t1960\t1961\t-\tSep\tlastSun\t2:00\t0\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Regina\t-6:58:36 -\tLMT\t1905 Sep\n\t\t\t-7:00\tRegina\tM%sT\t1960 Apr lastSun 2:00\n\t\t\t-6:00\t-\tCST\nZone America/Swift_Current -7:11:20 -\tLMT\t1905 Sep\n\t\t\t-7:00\tCanada\tM%sT\t1946 Apr lastSun 2:00\n\t\t\t-7:00\tRegina\tM%sT\t1950\n\t\t\t-7:00\tSwift\tM%sT\t1972 Apr lastSun 2:00\n\t\t\t-6:00\t-\tCST\n\n\n# Alberta\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tEdm\t1918\t1919\t-\tApr\tSun>=8\t2:00\t1:00\tD\nRule\tEdm\t1918\tonly\t-\tOct\t27\t2:00\t0\tS\nRule\tEdm\t1919\tonly\t-\tMay\t27\t2:00\t0\tS\nRule\tEdm\t1920\t1923\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tEdm\t1920\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tEdm\t1921\t1923\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tEdm\t1942\tonly\t-\tFeb\t 9\t2:00\t1:00\tW # War\nRule\tEdm\t1945\tonly\t-\tAug\t14\t23:00u\t1:00\tP # Peace\nRule\tEdm\t1945\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tEdm\t1947\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tEdm\t1947\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tEdm\t1967\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tEdm\t1967\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tEdm\t1969\tonly\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tEdm\t1969\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tEdm\t1972\t1986\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tEdm\t1972\t2006\t-\tOct\tlastSun\t2:00\t0\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Edmonton\t-7:33:52 -\tLMT\t1906 Sep\n\t\t\t-7:00\tEdm\tM%sT\t1987\n\t\t\t-7:00\tCanada\tM%sT\n\n\n# British Columbia\n\n# From Paul Eggert (2006-03-22):\n# Shanks & Pottenger write that since 1970 most of this region has\n# been like Vancouver.\n# Dawson Creek uses MST.  Much of east BC is like Edmonton.\n# Matthews and Vincent (1998) write that Creston is like Dawson Creek.\n\n# It seems though that (re: Creston) is not entirely correct:\n\n# From Chris Walton (2011-12-01):\n# There are two areas within the Canadian province of British Columbia\n# that do not currently observe daylight saving:\n# a) The Creston Valley (includes the town of Creston and surrounding area)\n# b) The eastern half of the Peace River Regional District\n# (includes the cities of Dawson Creek and Fort St. John)\n\n# Earlier this year I stumbled across a detailed article about the time\n# keeping history of Creston; it was written by Tammy Hardwick who is the\n# manager of the Creston & District Museum. The article was written in May 2009.\n# <a href=\"http://www.ilovecreston.com/?p=articles&t=spec&ar=260\">\n# http://www.ilovecreston.com/?p=articles&t=spec&ar=260\n# </a>\n# According to the article, Creston has not changed its clocks since June 1918.\n# i.e. Creston has been stuck on UTC-7 for 93 years.\n# Dawson Creek, on the other hand, changed its clocks as recently as April 1972.\n\n# Unfortunately the exact date for the time change in June 1918 remains\n# unknown and will be difficult to ascertain.  I e-mailed Tammy a few months\n# ago to ask if Sunday June 2 was a reasonable guess.  She said it was just\n# as plausible as any other date (in June).  She also said that after writing the\n# article she had discovered another time change in 1916; this is the subject\n# of another article which she wrote in October 2010.\n# <a href=\"http://www.creston.museum.bc.ca/index.php?module=comments&uop=view_comment&cm+id=56\">\n# http://www.creston.museum.bc.ca/index.php?module=comments&uop=view_comment&cm+id=56\n# </a>\n\n# Here is a summary of the three clock change events in Creston's history:\n# 1. 1884 or 1885: adoption of Mountain Standard Time (GMT-7)\n# Exact date unknown\n# 2. Oct 1916: switch to Pacific Standard Time (GMT-8)\n# Exact date in October unknown;  Sunday October 1 is a reasonable guess.\n# 3. June 1918: switch to Pacific Daylight Time (GMT-7)\n# Exact date in June unknown; Sunday June 2 is a reasonable guess.\n# note#1:\n# On Oct 27/1918 when daylight saving ended in the rest of Canada,\n# Creston did not change its clocks.\n# note#2:\n# During WWII when the Federal Government legislated a mandatory clock change,\n# Creston did not oblige.\n# note#3:\n# There is no guarantee that Creston will remain on Mountain Standard Time\n# (UTC-7) forever.\n# The subject was debated at least once this year by the town Council.\n# <a href=\"http://www.bclocalnews.com/kootenay_rockies/crestonvalleyadvance/news/116760809.html\">\n# http://www.bclocalnews.com/kootenay_rockies/crestonvalleyadvance/news/116760809.html\n# </a>\n\n# During a period WWII, summer time (Daylight saying) was mandatory in Canada.\n# In Creston, that was handled by shifting the area to PST (-8:00) then applying\n# summer time to cause the offset to be -7:00, the same as it had been before\n# the change.  It can be argued that the timezone abbreviation during this\n# period should be PDT rather than MST, but that doesn't seem important enough\n# (to anyone) to further complicate the rules.\n\n# The transition dates (and times) are guesses.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tVanc\t1918\tonly\t-\tApr\t14\t2:00\t1:00\tD\nRule\tVanc\t1918\tonly\t-\tOct\t27\t2:00\t0\tS\nRule\tVanc\t1942\tonly\t-\tFeb\t 9\t2:00\t1:00\tW # War\nRule\tVanc\t1945\tonly\t-\tAug\t14\t23:00u\t1:00\tP # Peace\nRule\tVanc\t1945\tonly\t-\tSep\t30\t2:00\t0\tS\nRule\tVanc\t1946\t1986\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tVanc\t1946\tonly\t-\tOct\t13\t2:00\t0\tS\nRule\tVanc\t1947\t1961\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tVanc\t1962\t2006\t-\tOct\tlastSun\t2:00\t0\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Vancouver\t-8:12:28 -\tLMT\t1884\n\t\t\t-8:00\tVanc\tP%sT\t1987\n\t\t\t-8:00\tCanada\tP%sT\nZone America/Dawson_Creek -8:00:56 -\tLMT\t1884\n\t\t\t-8:00\tCanada\tP%sT\t1947\n\t\t\t-8:00\tVanc\tP%sT\t1972 Aug 30 2:00\n\t\t\t-7:00\t-\tMST\nZone America/Creston\t-7:46:04 -\tLMT\t1884\n\t\t\t-7:00\t-\tMST\t1916 Oct 1\n\t\t\t-8:00\t-\tPST\t1918 Jun 2\n\t\t\t-7:00\t-\tMST\n\n# Northwest Territories, Nunavut, Yukon\n\n# From Paul Eggert (2006-03-22):\n# Dawson switched to PST in 1973.  Inuvik switched to MST in 1979.\n# Mathew Englander (1996-10-07) gives the following refs:\n#\t* 1967. Paragraph 28(34)(g) of the Interpretation Act, S.C. 1967-68,\n#\tc. 7 defines Yukon standard time as UTC-9.  This is still valid;\n#\tsee Interpretation Act, R.S.C. 1985, c. I-21, s. 35(1).\n#\t* C.O. 1973/214 switched Yukon to PST on 1973-10-28 00:00.\n#\t* O.I.C. 1980/02 established DST.\n#\t* O.I.C. 1987/056 changed DST to Apr firstSun 2:00 to Oct lastSun 2:00.\n# Shanks & Pottenger say Yukon's 1973-10-28 switch was at 2:00; go\n# with Englander.\n# From Chris Walton (2006-06-26):\n# Here is a link to the old daylight saving portion of the interpretation\n# act which was last updated in 1987:\n# http://www.gov.yk.ca/legislation/regs/oic1987_056.pdf\n\n# From Rives McDow (1999-09-04):\n# Nunavut ... moved ... to incorporate the whole territory into one time zone.\n# <a href=\"http://www.nunatsiaq.com/nunavut/nvt90903_13.html\">\n# Nunavut moves to single time zone Oct. 31\n# </a>\n#\n# From Antoine Leca (1999-09-06):\n# We then need to create a new timezone for the Kitikmeot region of Nunavut\n# to differentiate it from the Yellowknife region.\n\n# From Paul Eggert (1999-09-20):\n# <a href=\"http://www.nunavut.com/basicfacts/english/basicfacts_1territory.html\">\n# Basic Facts: The New Territory\n# </a> (1999) reports that Pangnirtung operates on eastern time,\n# and that Coral Harbour does not observe DST.  We don't know when\n# Pangnirtung switched to eastern time; we'll guess 1995.\n\n# From Rives McDow (1999-11-08):\n# On October 31, when the rest of Nunavut went to Central time,\n# Pangnirtung wobbled.  Here is the result of their wobble:\n#\n# The following businesses and organizations in Pangnirtung use Central Time:\n#\n#\tFirst Air, Power Corp, Nunavut Construction, Health Center, RCMP,\n#\tEastern Arctic National Parks, A & D Specialist\n#\n# The following businesses and organizations in Pangnirtung use Eastern Time:\n#\n#\tHamlet office, All other businesses, Both schools, Airport operator\n#\n# This has made for an interesting situation there, which warranted the news.\n# No one there that I spoke with seems concerned, or has plans to\n# change the local methods of keeping time, as it evidently does not\n# really interfere with any activities or make things difficult locally.\n# They plan to celebrate New Year's turn-over twice, one hour apart,\n# so it appears that the situation will last at least that long.\n# The Nunavut Intergovernmental Affairs hopes that they will \"come to\n# their senses\", but the locals evidently don't see any problem with\n# the current state of affairs.\n\n# From Michaela Rodrigue, writing in the\n# <a href=\"http://www.nunatsiaq.com/archives/nunavut991130/nvt91119_17.html\">\n# Nunatsiaq News (1999-11-19)</a>:\n# Clyde River, Pangnirtung and Sanikiluaq now operate with two time zones,\n# central - or Nunavut time - for government offices, and eastern time\n# for municipal offices and schools....  Igloolik [was similar but then]\n# made the switch to central time on Saturday, Nov. 6.\n\n# From Paul Eggert (2000-10-02):\n# Matthews and Vincent (1998) say the following, but we lack histories\n# for these potential new Zones.\n#\n# The Canadian Forces station at Alert uses Eastern Time while the\n# handful of residents at the Eureka weather station [in the Central\n# zone] skip daylight savings.  Baffin Island, which is crossed by the\n# Central, Eastern and Atlantic Time zones only uses Eastern Time.\n# Gjoa Haven, Taloyoak and Pelly Bay all use Mountain instead of\n# Central Time and Southampton Island [in the Central zone] is not\n# required to use daylight savings.\n\n# From\n# <a href=\"http://www.nunatsiaq.com/archives/nunavut001130/nvt21110_02.html\">\n# Nunavut now has two time zones\n# </a> (2000-11-10):\n# The Nunavut government would allow its employees in Kugluktuk and\n# Cambridge Bay to operate on central time year-round, putting them\n# one hour behind the rest of Nunavut for six months during the winter.\n# At the end of October the two communities had rebelled against\n# Nunavut's unified time zone, refusing to shift to eastern time with\n# the rest of the territory for the winter.  Cambridge Bay remained on\n# central time, while Kugluktuk, even farther west, reverted to\n# mountain time, which they had used before the advent of Nunavut's\n# unified time zone in 1999.\n#\n# From Rives McDow (2001-01-20), quoting the Nunavut government:\n# The preceding decision came into effect at midnight, Saturday Nov 4, 2000.\n\n# From Paul Eggert (2000-12-04):\n# Let's just keep track of the official times for now.\n\n# From Rives McDow (2001-03-07):\n# The premier of Nunavut has issued a ministerial statement advising\n# that effective 2001-04-01, the territory of Nunavut will revert\n# back to three time zones (mountain, central, and eastern).  Of the\n# cities in Nunavut, Coral Harbor is the only one that I know of that\n# has said it will not observe dst, staying on EST year round.  I'm\n# checking for more info, and will get back to you if I come up with\n# more.\n# [Also see <http://www.nunatsiaq.com/nunavut/nvt10309_06.html> (2001-03-09).]\n\n# From Gwillim Law (2005-05-21):\n# According to maps at\n# http://inms-ienm.nrc-cnrc.gc.ca/images/time_services/TZ01SWE.jpg\n# http://inms-ienm.nrc-cnrc.gc.ca/images/time_services/TZ01SSE.jpg\n# (both dated 2003), and\n# http://www.canadiangeographic.ca/Magazine/SO98/geomap.asp\n# (from a 1998 Canadian Geographic article), the de facto and de jure time\n# for Southampton Island (at the north end of Hudson Bay) is UTC-5 all year\n# round.  Using Google, it's easy to find other websites that confirm this.\n# I wasn't able to find how far back this time regimen goes, but since it\n# predates the creation of Nunavut, it probably goes back many years....\n# The Inuktitut name of Coral Harbour is Sallit, but it's rarely used.\n#\n# From Paul Eggert (2005-07-26):\n# For lack of better information, assume that Southampton Island observed\n# daylight saving only during wartime.\n\n# From Chris Walton (2007-03-01):\n# ... the community of Resolute (located on Cornwallis Island in\n# Nunavut) moved from Central Time to Eastern Time last November.\n# Basically the community did not change its clocks at the end of\n# daylight saving....\n# http://www.nnsl.com/frames/newspapers/2006-11/nov13_06none.html\n\n# From Chris Walton (2011-03-21):\n# Back in 2007 I initiated the creation of a new \"zone file\" for Resolute\n# Bay. Resolute Bay is a small community located about 900km north of\n# the Arctic Circle. The zone file was required because Resolute Bay had\n# decided to use UTC-5 instead of UTC-6 for the winter of 2006-2007.\n#\n# According to new information which I received last week, Resolute Bay\n# went back to using UTC-6 in the winter of 2007-2008...\n#\n# On March 11/2007 most of Canada went onto daylight saving. On March\n# 14/2007 I phoned the Resolute Bay hamlet office to do a \"time check.\" I\n# talked to somebody that was both knowledgeable and helpful. I was able\n# to confirm that Resolute Bay was still operating on UTC-5. It was\n# explained to me that Resolute Bay had been on the Eastern Time zone\n# (EST) in the winter, and was now back on the Central Time zone (CDT).\n# i.e. the time zone had changed twice in the last year but the clocks\n# had not moved. The residents had to know which time zone they were in\n# so they could follow the correct TV schedule...\n#\n# On Nov 02/2008 most of Canada went onto standard time. On Nov 03/2008 I\n# phoned the Resolute Bay hamlet office...[D]ue to the challenging nature\n# of the phone call, I decided to seek out an alternate source of\n# information. I found an e-mail address for somebody by the name of\n# Stephanie Adams whose job was listed as \"Inns North Support Officer for\n# Arctic Co-operatives.\" I was under the impression that Stephanie lived\n# and worked in Resolute Bay...\n#\n# On March 14/2011 I phoned the hamlet office again. I was told that\n# Resolute Bay had been using Central Standard Time over the winter of\n# 2010-2011 and that the clocks had therefore been moved one hour ahead\n# on March 13/2011. The person I talked to was aware that Resolute Bay\n# had previously experimented with Eastern Standard Time but he could not\n# tell me when the practice had stopped.\n#\n# On March 17/2011 I searched the Web to find an e-mail address of\n# somebody that might be able to tell me exactly when Resolute Bay went\n# off Eastern Standard Time. I stumbled on the name \"Aziz Kheraj.\" Aziz\n# used to be the mayor of Resolute Bay and he apparently owns half the\n# businesses including \"South Camp Inn.\" This website has some info on\n# Aziz:\n# <a href=\"http://www.uphere.ca/node/493\">\n# http://www.uphere.ca/node/493\n# </a>\n#\n# I sent Aziz an e-mail asking when Resolute Bay had stopped using\n# Eastern Standard Time.\n#\n# Aziz responded quickly with this: \"hi, The time was not changed for the\n# 1 year only, the following year, the community went back to the old way\n# of \"spring ahead-fall behind\" currently we are zulu plus 5 hrs and in\n# the winter Zulu plus 6 hrs\"\n#\n# This of course conflicted with everything I had ascertained in November 2008.\n#\n# I sent Aziz a copy of my 2008 e-mail exchange with Stephanie. Aziz\n# responded with this: \"Hi, Stephanie lives in Winnipeg. I live here, You\n# may want to check with the weather office in Resolute Bay or do a\n# search on the weather through Env. Canada. web site\"\n#\n# If I had realized the Stephanie did not live in Resolute Bay I would\n# never have contacted her.  I now believe that all the information I\n# obtained in November 2008 should be ignored...\n# I apologize for reporting incorrect information in 2008.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tNT_YK\t1918\tonly\t-\tApr\t14\t2:00\t1:00\tD\nRule\tNT_YK\t1918\tonly\t-\tOct\t27\t2:00\t0\tS\nRule\tNT_YK\t1919\tonly\t-\tMay\t25\t2:00\t1:00\tD\nRule\tNT_YK\t1919\tonly\t-\tNov\t 1\t0:00\t0\tS\nRule\tNT_YK\t1942\tonly\t-\tFeb\t 9\t2:00\t1:00\tW # War\nRule\tNT_YK\t1945\tonly\t-\tAug\t14\t23:00u\t1:00\tP # Peace\nRule\tNT_YK\t1945\tonly\t-\tSep\t30\t2:00\t0\tS\nRule\tNT_YK\t1965\tonly\t-\tApr\tlastSun\t0:00\t2:00\tDD\nRule\tNT_YK\t1965\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tNT_YK\t1980\t1986\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tNT_YK\t1980\t2006\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tNT_YK\t1987\t2006\t-\tApr\tSun>=1\t2:00\t1:00\tD\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\n# aka Panniqtuuq\nZone America/Pangnirtung 0\t-\tzzz\t1921 # trading post est.\n\t\t\t-4:00\tNT_YK\tA%sT\t1995 Apr Sun>=1 2:00\n\t\t\t-5:00\tCanada\tE%sT\t1999 Oct 31 2:00\n\t\t\t-6:00\tCanada\tC%sT\t2000 Oct 29 2:00\n\t\t\t-5:00\tCanada\tE%sT\n# formerly Frobisher Bay\nZone America/Iqaluit\t0\t-\tzzz\t1942 Aug # Frobisher Bay est.\n\t\t\t-5:00\tNT_YK\tE%sT\t1999 Oct 31 2:00\n\t\t\t-6:00\tCanada\tC%sT\t2000 Oct 29 2:00\n\t\t\t-5:00\tCanada\tE%sT\n# aka Qausuittuq\nZone America/Resolute\t0\t-\tzzz\t1947 Aug 31 # Resolute founded\n\t\t\t-6:00\tNT_YK\tC%sT\t2000 Oct 29 2:00\n\t\t\t-5:00\t-\tEST\t2001 Apr  1 3:00\n\t\t\t-6:00\tCanada\tC%sT\t2006 Oct 29 2:00\n\t\t\t-5:00\t-\tEST\t2007 Mar 11 3:00\n\t\t\t-6:00\tCanada\tC%sT\n# aka Kangiqiniq\nZone America/Rankin_Inlet 0\t-\tzzz\t1957 # Rankin Inlet founded\n\t\t\t-6:00\tNT_YK\tC%sT\t2000 Oct 29 2:00\n\t\t\t-5:00\t-\tEST\t2001 Apr  1 3:00\n\t\t\t-6:00\tCanada\tC%sT\n# aka Iqaluktuuttiaq\nZone America/Cambridge_Bay 0\t-\tzzz\t1920 # trading post est.?\n\t\t\t-7:00\tNT_YK\tM%sT\t1999 Oct 31 2:00\n\t\t\t-6:00\tCanada\tC%sT\t2000 Oct 29 2:00\n\t\t\t-5:00\t-\tEST\t2000 Nov  5 0:00\n\t\t\t-6:00\t-\tCST\t2001 Apr  1 3:00\n\t\t\t-7:00\tCanada\tM%sT\nZone America/Yellowknife 0\t-\tzzz\t1935 # Yellowknife founded?\n\t\t\t-7:00\tNT_YK\tM%sT\t1980\n\t\t\t-7:00\tCanada\tM%sT\nZone America/Inuvik\t0\t-\tzzz\t1953 # Inuvik founded\n\t\t\t-8:00\tNT_YK\tP%sT\t1979 Apr lastSun 2:00\n\t\t\t-7:00\tNT_YK\tM%sT\t1980\n\t\t\t-7:00\tCanada\tM%sT\nZone America/Whitehorse\t-9:00:12 -\tLMT\t1900 Aug 20\n\t\t\t-9:00\tNT_YK\tY%sT\t1966 Jul 1 2:00\n\t\t\t-8:00\tNT_YK\tP%sT\t1980\n\t\t\t-8:00\tCanada\tP%sT\nZone America/Dawson\t-9:17:40 -\tLMT\t1900 Aug 20\n\t\t\t-9:00\tNT_YK\tY%sT\t1973 Oct 28 0:00\n\t\t\t-8:00\tNT_YK\tP%sT\t1980\n\t\t\t-8:00\tCanada\tP%sT\n\n\n###############################################################################\n\n# Mexico\n\n# From Paul Eggert (2001-03-05):\n# The Investigation and Analysis Service of the\n# Mexican Library of Congress (MLoC) has published a\n# <a href=\"http://www.cddhcu.gob.mx/bibliot/publica/inveyana/polisoc/horver/\">\n# history of Mexican local time (in Spanish)\n# </a>.\n#\n# Here are the discrepancies between Shanks & Pottenger (S&P) and the MLoC.\n# (In all cases we go with the MLoC.)\n# S&P report that Baja was at -8:00 in 1922/1923.\n# S&P say the 1930 transition in Baja was 1930-11-16.\n# S&P report no DST during summer 1931.\n# S&P report a transition at 1932-03-30 23:00, not 1932-04-01.\n\n# From Gwillim Law (2001-02-20):\n# There are some other discrepancies between the Decrees page and the\n# tz database.  I think they can best be explained by supposing that\n# the researchers who prepared the Decrees page failed to find some of\n# the relevant documents.\n\n# From Alan Perry (1996-02-15):\n# A guy from our Mexico subsidiary finally found the Presidential Decree\n# outlining the timezone changes in Mexico.\n#\n# ------------- Begin Forwarded Message -------------\n#\n# I finally got my hands on the Official Presidential Decree that sets up the\n# rules for the DST changes. The rules are:\n#\n# 1. The country is divided in 3 timezones:\n#    - Baja California Norte (the Mexico/BajaNorte TZ)\n#    - Baja California Sur, Nayarit, Sinaloa and Sonora (the Mexico/BajaSur TZ)\n#    - The rest of the country (the Mexico/General TZ)\n#\n# 2. From the first Sunday in April at 2:00 AM to the last Sunday in October\n#    at 2:00 AM, the times in each zone are as follows:\n#    BajaNorte: GMT+7\n#    BajaSur:   GMT+6\n#    General:   GMT+5\n#\n# 3. The rest of the year, the times are as follows:\n#    BajaNorte: GMT+8\n#    BajaSur:   GMT+7\n#    General:   GMT+6\n#\n# The Decree was published in Mexico's Official Newspaper on January 4th.\n#\n# -------------- End Forwarded Message --------------\n# From Paul Eggert (1996-06-12):\n# For an English translation of the decree, see\n# <a href=\"http://mexico-travel.com/extra/timezone_eng.html\">\n# \"Diario Oficial: Time Zone Changeover\" (1996-01-04).\n# </a>\n\n# From Rives McDow (1998-10-08):\n# The State of Quintana Roo has reverted back to central STD and DST times\n# (i.e. UTC -0600 and -0500 as of 1998-08-02).\n\n# From Rives McDow (2000-01-10):\n# Effective April 4, 1999 at 2:00 AM local time, Sonora changed to the time\n# zone 5 hours from the International Date Line, and will not observe daylight\n# savings time so as to stay on the same time zone as the southern part of\n# Arizona year round.\n\n# From Jesper Norgaard, translating\n# <http://www.reforma.com/nacional/articulo/064327/> (2001-01-17):\n# In Oaxaca, the 55.000 teachers from the Section 22 of the National\n# Syndicate of Education Workers, refuse to apply daylight saving each\n# year, so that the more than 10,000 schools work at normal hour the\n# whole year.\n\n# From Gwillim Law (2001-01-19):\n# <http://www.reforma.com/negocios_y_dinero/articulo/064481/> ... says\n# (translated):...\n# January 17, 2000 - The Energy Secretary, Ernesto Martens, announced\n# that Summer Time will be reduced from seven to five months, starting\n# this year....\n# <http://www.publico.com.mx/scripts/texto3.asp?action=pagina&pag=21&pos=p&secc=naci&date=01/17/2001>\n# [translated], says \"summer time will ... take effect on the first Sunday\n# in May, and end on the last Sunday of September.\n\n# From Arthur David Olson (2001-01-25):\n# The 2001-01-24 traditional Washington Post contained the page one\n# story \"Timely Issue Divides Mexicans.\"...\n# http://www.washingtonpost.com/wp-dyn/articles/A37383-2001Jan23.html\n# ... Mexico City Mayor Lopez Obrador \"...is threatening to keep\n# Mexico City and its 20 million residents on a different time than\n# the rest of the country...\" In particular, Lopez Obrador would abolish\n# observation of Daylight Saving Time.\n\n# <a href=\"http://www.conae.gob.mx/ahorro/decretohorver2001.html#decre\">\n# Official statute published by the Energy Department\n# </a> (2001-02-01) shows Baja and Chihauhua as still using US DST rules,\n# and Sonora with no DST.  This was reported by Jesper Norgaard (2001-02-03).\n\n# From Paul Eggert (2001-03-03):\n#\n# <a href=\"http://www.latimes.com/news/nation/20010303/t000018766.html\">\n# James F. Smith writes in today's LA Times\n# </a>\n# * Sonora will continue to observe standard time.\n# * Last week Mexico City's mayor Andres Manuel Lopez Obrador decreed that\n#   the Federal District will not adopt DST.\n# * 4 of 16 district leaders announced they'll ignore the decree.\n# * The decree does not affect federal-controlled facilities including\n#   the airport, banks, hospitals, and schools.\n#\n# For now we'll assume that the Federal District will bow to federal rules.\n\n# From Jesper Norgaard (2001-04-01):\n# I found some references to the Mexican application of daylight\n# saving, which modifies what I had already sent you, stating earlier\n# that a number of northern Mexican states would go on daylight\n# saving. The modification reverts this to only cover Baja California\n# (Norte), while all other states (except Sonora, who has no daylight\n# saving all year) will follow the original decree of president\n# Vicente Fox, starting daylight saving May 6, 2001 and ending\n# September 30, 2001.\n# References: \"Diario de Monterrey\" <www.diariodemonterrey.com/index.asp>\n# Palabra <http://palabra.infosel.com/010331/primera/ppri3101.pdf> (2001-03-31)\n\n# From Reuters (2001-09-04):\n# Mexico's Supreme Court on Tuesday declared that daylight savings was\n# unconstitutional in Mexico City, creating the possibility the\n# capital will be in a different time zone from the rest of the nation\n# next year....  The Supreme Court's ruling takes effect at 2:00\n# a.m. (0800 GMT) on Sept. 30, when Mexico is scheduled to revert to\n# standard time. \"This is so residents of the Federal District are not\n# subject to unexpected time changes,\" a statement from the court said.\n\n# From Jesper Norgaard Welen (2002-03-12):\n# ... consulting my local grocery store(!) and my coworkers, they all insisted\n# that a new decision had been made to reinstate US style DST in Mexico....\n# http://www.conae.gob.mx/ahorro/horaver2001_m1_2002.html (2002-02-20)\n# confirms this.  Sonora as usual is the only state where DST is not applied.\n\n# From Steffen Thorsen (2009-12-28):\n#\n# Steffen Thorsen wrote:\n# > Mexico's House of Representatives has approved a proposal for northern\n# > Mexico's border cities to share the same daylight saving schedule as\n# > the United States.\n# Now this has passed both the Congress and the Senate, so starting from\n# 2010, some border regions will be the same:\n# <a href=\"http://www.signonsandiego.com/news/2009/dec/28/clocks-will-match-both-sides-border/\">\n# http://www.signonsandiego.com/news/2009/dec/28/clocks-will-match-both-sides-border/\n# </a>\n# <a href=\"http://www.elmananarey.com/diario/noticia/nacional/noticias/empatan_horario_de_frontera_con_eu/621939\">\n# http://www.elmananarey.com/diario/noticia/nacional/noticias/empatan_horario_de_frontera_con_eu/621939\n# </a>\n# (Spanish)\n#\n# Could not find the new law text, but the proposed law text changes are here:\n# <a href=\"http://gaceta.diputados.gob.mx/Gaceta/61/2009/dic/20091210-V.pdf\">\n# http://gaceta.diputados.gob.mx/Gaceta/61/2009/dic/20091210-V.pdf\n# </a>\n# (Gaceta Parlamentaria)\n#\n# There is also a list of the votes here:\n# <a href=\"http://gaceta.diputados.gob.mx/Gaceta/61/2009/dic/V2-101209.html\">\n# http://gaceta.diputados.gob.mx/Gaceta/61/2009/dic/V2-101209.html\n# </a>\n#\n# Our page:\n# <a href=\"http://www.timeanddate.com/news/time/north-mexico-dst-change.html\">\n# http://www.timeanddate.com/news/time/north-mexico-dst-change.html\n# </a>\n\n# From Arthur David Olson (2010-01-20):\n# The page\n# <a href=\"http://dof.gob.mx/nota_detalle.php?codigo=5127480&fecha=06/01/2010\">\n# http://dof.gob.mx/nota_detalle.php?codigo=5127480&fecha=06/01/2010\n# </a>\n# includes this text:\n# En los municipios fronterizos de Tijuana y Mexicali en Baja California;\n# Ju&aacute;rez y Ojinaga en Chihuahua; Acu&ntilde;a y Piedras Negras en Coahuila;\n# An&aacute;huac en Nuevo Le&oacute;n; y Nuevo Laredo, Reynosa y Matamoros en\n# Tamaulipas, la aplicaci&oacute;n de este horario estacional surtir&aacute; efecto\n# desde las dos horas del segundo domingo de marzo y concluir&aacute; a las dos\n# horas del primer domingo de noviembre.\n# En los municipios fronterizos que se encuentren ubicados en la franja\n# fronteriza norte en el territorio comprendido entre la l&iacute;nea\n# internacional y la l&iacute;nea paralela ubicada a una distancia de veinte\n# kil&oacute;metros, as&iacute; como la Ciudad de Ensenada, Baja California, hacia el\n# interior del pa&iacute;s, la aplicaci&oacute;n de este horario estacional surtir&aacute;\n# efecto desde las dos horas del segundo domingo de marzo y concluir&aacute; a\n# las dos horas del primer domingo de noviembre.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tMexico\t1939\tonly\t-\tFeb\t5\t0:00\t1:00\tD\nRule\tMexico\t1939\tonly\t-\tJun\t25\t0:00\t0\tS\nRule\tMexico\t1940\tonly\t-\tDec\t9\t0:00\t1:00\tD\nRule\tMexico\t1941\tonly\t-\tApr\t1\t0:00\t0\tS\nRule\tMexico\t1943\tonly\t-\tDec\t16\t0:00\t1:00\tW # War\nRule\tMexico\t1944\tonly\t-\tMay\t1\t0:00\t0\tS\nRule\tMexico\t1950\tonly\t-\tFeb\t12\t0:00\t1:00\tD\nRule\tMexico\t1950\tonly\t-\tJul\t30\t0:00\t0\tS\nRule\tMexico\t1996\t2000\t-\tApr\tSun>=1\t2:00\t1:00\tD\nRule\tMexico\t1996\t2000\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tMexico\t2001\tonly\t-\tMay\tSun>=1\t2:00\t1:00\tD\nRule\tMexico\t2001\tonly\t-\tSep\tlastSun\t2:00\t0\tS\nRule\tMexico\t2002\tmax\t-\tApr\tSun>=1\t2:00\t1:00\tD\nRule\tMexico\t2002\tmax\t-\tOct\tlastSun\t2:00\t0\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\n# Quintana Roo\nZone America/Cancun\t-5:47:04 -\tLMT\t1922 Jan  1  0:12:56\n\t\t\t-6:00\t-\tCST\t1981 Dec 23\n\t\t\t-5:00\tMexico\tE%sT\t1998 Aug  2  2:00\n\t\t\t-6:00\tMexico\tC%sT\n# Campeche, Yucatan\nZone America/Merida\t-5:58:28 -\tLMT\t1922 Jan  1  0:01:32\n\t\t\t-6:00\t-\tCST\t1981 Dec 23\n\t\t\t-5:00\t-\tEST\t1982 Dec  2\n\t\t\t-6:00\tMexico\tC%sT\n# Coahuila, Durango, Nuevo Leon, Tamaulipas (near US border)\nZone America/Matamoros\t-6:40:00 -\tLMT\t1921 Dec 31 23:20:00\n\t\t\t-6:00\t-\tCST\t1988\n\t\t\t-6:00\tUS\tC%sT\t1989\n\t\t\t-6:00\tMexico\tC%sT\t2010\n\t\t\t-6:00\tUS\tC%sT\n# Coahuila, Durango, Nuevo Leon, Tamaulipas (away from US border)\nZone America/Monterrey\t-6:41:16 -\tLMT\t1921 Dec 31 23:18:44\n\t\t\t-6:00\t-\tCST\t1988\n\t\t\t-6:00\tUS\tC%sT\t1989\n\t\t\t-6:00\tMexico\tC%sT\n# Central Mexico\nZone America/Mexico_City -6:36:36 -\tLMT\t1922 Jan  1 0:23:24\n\t\t\t-7:00\t-\tMST\t1927 Jun 10 23:00\n\t\t\t-6:00\t-\tCST\t1930 Nov 15\n\t\t\t-7:00\t-\tMST\t1931 May  1 23:00\n\t\t\t-6:00\t-\tCST\t1931 Oct\n\t\t\t-7:00\t-\tMST\t1932 Apr  1\n\t\t\t-6:00\tMexico\tC%sT\t2001 Sep 30 02:00\n\t\t\t-6:00\t-\tCST\t2002 Feb 20\n\t\t\t-6:00\tMexico\tC%sT\n# Chihuahua (near US border)\nZone America/Ojinaga\t-6:57:40 -\tLMT\t1922 Jan 1 0:02:20\n\t\t\t-7:00\t-\tMST\t1927 Jun 10 23:00\n\t\t\t-6:00\t-\tCST\t1930 Nov 15\n\t\t\t-7:00\t-\tMST\t1931 May  1 23:00\n\t\t\t-6:00\t-\tCST\t1931 Oct\n\t\t\t-7:00\t-\tMST\t1932 Apr  1\n\t\t\t-6:00\t-\tCST\t1996\n\t\t\t-6:00\tMexico\tC%sT\t1998\n\t\t\t-6:00\t-\tCST\t1998 Apr Sun>=1 3:00\n\t\t\t-7:00\tMexico\tM%sT\t2010\n\t\t\t-7:00\tUS\tM%sT\n# Chihuahua (away from US border)\nZone America/Chihuahua\t-7:04:20 -\tLMT\t1921 Dec 31 23:55:40\n\t\t\t-7:00\t-\tMST\t1927 Jun 10 23:00\n\t\t\t-6:00\t-\tCST\t1930 Nov 15\n\t\t\t-7:00\t-\tMST\t1931 May  1 23:00\n\t\t\t-6:00\t-\tCST\t1931 Oct\n\t\t\t-7:00\t-\tMST\t1932 Apr  1\n\t\t\t-6:00\t-\tCST\t1996\n\t\t\t-6:00\tMexico\tC%sT\t1998\n\t\t\t-6:00\t-\tCST\t1998 Apr Sun>=1 3:00\n\t\t\t-7:00\tMexico\tM%sT\n# Sonora\nZone America/Hermosillo\t-7:23:52 -\tLMT\t1921 Dec 31 23:36:08\n\t\t\t-7:00\t-\tMST\t1927 Jun 10 23:00\n\t\t\t-6:00\t-\tCST\t1930 Nov 15\n\t\t\t-7:00\t-\tMST\t1931 May  1 23:00\n\t\t\t-6:00\t-\tCST\t1931 Oct\n\t\t\t-7:00\t-\tMST\t1932 Apr  1\n\t\t\t-6:00\t-\tCST\t1942 Apr 24\n\t\t\t-7:00\t-\tMST\t1949 Jan 14\n\t\t\t-8:00\t-\tPST\t1970\n\t\t\t-7:00\tMexico\tM%sT\t1999\n\t\t\t-7:00\t-\tMST\n\n# From Alexander Krivenyshev (2010-04-21):\n# According to news, Bah&iacute;a de Banderas (Mexican state of Nayarit)\n# changed time zone UTC-7 to new time zone UTC-6 on April 4, 2010 (to\n# share the same time zone as nearby city Puerto Vallarta, Jalisco).\n#\n# (Spanish)\n# Bah&iacute;a de Banderas homologa su horario al del centro del\n# pa&iacute;s, a partir de este domingo\n# <a href=\"http://www.nayarit.gob.mx/notes.asp?id=20748\">\n# http://www.nayarit.gob.mx/notes.asp?id=20748\n# </a>\n#\n# Bah&iacute;a de Banderas homologa su horario con el del Centro del\n# Pa&iacute;s\n# <a href=\"http://www.bahiadebanderas.gob.mx/principal/index.php?option=com_content&view=article&id=261:bahia-de-banderas-homologa-su-horario-con-el-del-centro-del-pais&catid=42:comunicacion-social&Itemid=50\">\n# http://www.bahiadebanderas.gob.mx/principal/index.php?option=com_content&view=article&id=261:bahia-de-banderas-homologa-su-horario-con-el-del-centro-del-pais&catid=42:comunicacion-social&Itemid=50\"\n# </a>\n#\n# (English)\n# Puerto Vallarta and Bah&iacute;a de Banderas: One Time Zone\n# <a href=\"http://virtualvallarta.com/puertovallarta/puertovallarta/localnews/2009-12-03-Puerto-Vallarta-and-Bahia-de-Banderas-One-Time-Zone.shtml\">\n# http://virtualvallarta.com/puertovallarta/puertovallarta/localnews/2009-12-03-Puerto-Vallarta-and-Bahia-de-Banderas-One-Time-Zone.shtml\n# </a>\n#\n# or\n# <a href=\"http://www.worldtimezone.com/dst_news/dst_news_mexico08.html\">\n# http://www.worldtimezone.com/dst_news/dst_news_mexico08.html\n# </a>\n#\n# \"Mexico's Senate approved the amendments to the Mexican Schedule System that\n# will allow Bah&iacute;a de Banderas and Puerto Vallarta to share the same time\n# zone ...\"\n# Baja California Sur, Nayarit, Sinaloa\n\n# From Arthur David Olson (2010-05-01):\n# Use \"Bahia_Banderas\" to keep the name to fourteen characters.\n\nZone America/Mazatlan\t-7:05:40 -\tLMT\t1921 Dec 31 23:54:20\n\t\t\t-7:00\t-\tMST\t1927 Jun 10 23:00\n\t\t\t-6:00\t-\tCST\t1930 Nov 15\n\t\t\t-7:00\t-\tMST\t1931 May  1 23:00\n\t\t\t-6:00\t-\tCST\t1931 Oct\n\t\t\t-7:00\t-\tMST\t1932 Apr  1\n\t\t\t-6:00\t-\tCST\t1942 Apr 24\n\t\t\t-7:00\t-\tMST\t1949 Jan 14\n\t\t\t-8:00\t-\tPST\t1970\n\t\t\t-7:00\tMexico\tM%sT\n\nZone America/Bahia_Banderas\t-7:01:00 -\tLMT\t1921 Dec 31 23:59:00\n\t\t\t-7:00\t-\tMST\t1927 Jun 10 23:00\n\t\t\t-6:00\t-\tCST\t1930 Nov 15\n\t\t\t-7:00\t-\tMST\t1931 May  1 23:00\n\t\t\t-6:00\t-\tCST\t1931 Oct\n\t\t\t-7:00\t-\tMST\t1932 Apr  1\n\t\t\t-6:00\t-\tCST\t1942 Apr 24\n\t\t\t-7:00\t-\tMST\t1949 Jan 14\n\t\t\t-8:00\t-\tPST\t1970\n\t\t\t-7:00\tMexico\tM%sT\t2010 Apr 4 2:00\n\t\t\t-6:00\tMexico\tC%sT\n\n# Baja California (near US border)\nZone America/Tijuana\t-7:48:04 -\tLMT\t1922 Jan  1  0:11:56\n\t\t\t-7:00\t-\tMST\t1924\n\t\t\t-8:00\t-\tPST\t1927 Jun 10 23:00\n\t\t\t-7:00\t-\tMST\t1930 Nov 15\n\t\t\t-8:00\t-\tPST\t1931 Apr  1\n\t\t\t-8:00\t1:00\tPDT\t1931 Sep 30\n\t\t\t-8:00\t-\tPST\t1942 Apr 24\n\t\t\t-8:00\t1:00\tPWT\t1945 Aug 14 23:00u\n\t\t\t-8:00\t1:00\tPPT\t1945 Nov 12 # Peace\n\t\t\t-8:00\t-\tPST\t1948 Apr  5\n\t\t\t-8:00\t1:00\tPDT\t1949 Jan 14\n\t\t\t-8:00\t-\tPST\t1954\n\t\t\t-8:00\tCA\tP%sT\t1961\n\t\t\t-8:00\t-\tPST\t1976\n\t\t\t-8:00\tUS\tP%sT\t1996\n\t\t\t-8:00\tMexico\tP%sT\t2001\n\t\t\t-8:00\tUS\tP%sT\t2002 Feb 20\n\t\t\t-8:00\tMexico\tP%sT\t2010\n\t\t\t-8:00\tUS\tP%sT\n# Baja California (away from US border)\nZone America/Santa_Isabel\t-7:39:28 -\tLMT\t1922 Jan  1  0:20:32\n\t\t\t-7:00\t-\tMST\t1924\n\t\t\t-8:00\t-\tPST\t1927 Jun 10 23:00\n\t\t\t-7:00\t-\tMST\t1930 Nov 15\n\t\t\t-8:00\t-\tPST\t1931 Apr  1\n\t\t\t-8:00\t1:00\tPDT\t1931 Sep 30\n\t\t\t-8:00\t-\tPST\t1942 Apr 24\n\t\t\t-8:00\t1:00\tPWT\t1945 Aug 14 23:00u\n\t\t\t-8:00\t1:00\tPPT\t1945 Nov 12 # Peace\n\t\t\t-8:00\t-\tPST\t1948 Apr  5\n\t\t\t-8:00\t1:00\tPDT\t1949 Jan 14\n\t\t\t-8:00\t-\tPST\t1954\n\t\t\t-8:00\tCA\tP%sT\t1961\n\t\t\t-8:00\t-\tPST\t1976\n\t\t\t-8:00\tUS\tP%sT\t1996\n\t\t\t-8:00\tMexico\tP%sT\t2001\n\t\t\t-8:00\tUS\tP%sT\t2002 Feb 20\n\t\t\t-8:00\tMexico\tP%sT\n# From Paul Eggert (2006-03-22):\n# Formerly there was an America/Ensenada zone, which differed from\n# America/Tijuana only in that it did not observe DST from 1976\n# through 1995.  This was as per Shanks (1999).  But Shanks & Pottenger say\n# Ensenada did not observe DST from 1948 through 1975.  Guy Harris reports\n# that the 1987 OAG says \"Only Ensenada, Mexicale, San Felipe and\n# Tijuana observe DST,\" which agrees with Shanks & Pottenger but implies that\n# DST-observance was a town-by-town matter back then.  This concerns\n# data after 1970 so most likely there should be at least one Zone\n# other than America/Tijuana for Baja, but it's not clear yet what its\n# name or contents should be.\n#\n# Revillagigedo Is\n# no information\n\n###############################################################################\n\n# Anguilla\n# See 'southamerica'.\n\n# Antigua and Barbuda\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAmerica/Antigua\t-4:07:12 -\tLMT\t1912 Mar 2\n\t\t\t-5:00\t-\tEST\t1951\n\t\t\t-4:00\t-\tAST\n\n# Bahamas\n#\n# For 1899 Milne gives -5:09:29.5; round that.\n#\n# From Sue Williams (2006-12-07):\n# The Bahamas announced about a month ago that they plan to change their DST\n# rules to sync with the U.S. starting in 2007....\n# http://www.jonesbahamas.com/?c=45&a=10412\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tBahamas\t1964\t1975\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tBahamas\t1964\t1975\t-\tApr\tlastSun\t2:00\t1:00\tD\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAmerica/Nassau\t-5:09:30 -\tLMT\t1912 Mar 2\n\t\t\t-5:00\tBahamas\tE%sT\t1976\n\t\t\t-5:00\tUS\tE%sT\n\n# Barbados\n\n# For 1899 Milne gives -3:58:29.2; round that.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tBarb\t1977\tonly\t-\tJun\t12\t2:00\t1:00\tD\nRule\tBarb\t1977\t1978\t-\tOct\tSun>=1\t2:00\t0\tS\nRule\tBarb\t1978\t1980\t-\tApr\tSun>=15\t2:00\t1:00\tD\nRule\tBarb\t1979\tonly\t-\tSep\t30\t2:00\t0\tS\nRule\tBarb\t1980\tonly\t-\tSep\t25\t2:00\t0\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Barbados\t-3:58:29 -\tLMT\t1924\t\t# Bridgetown\n\t\t\t-3:58:29 -\tBMT\t1932\t  # Bridgetown Mean Time\n\t\t\t-4:00\tBarb\tA%sT\n\n# Belize\n# Whitman entirely disagrees with Shanks; go with Shanks & Pottenger.\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tBelize\t1918\t1942\t-\tOct\tSun>=2\t0:00\t0:30\tHD\nRule\tBelize\t1919\t1943\t-\tFeb\tSun>=9\t0:00\t0\tS\nRule\tBelize\t1973\tonly\t-\tDec\t 5\t0:00\t1:00\tD\nRule\tBelize\t1974\tonly\t-\tFeb\t 9\t0:00\t0\tS\nRule\tBelize\t1982\tonly\t-\tDec\t18\t0:00\t1:00\tD\nRule\tBelize\t1983\tonly\t-\tFeb\t12\t0:00\t0\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAmerica/Belize\t-5:52:48 -\tLMT\t1912 Apr\n\t\t\t-6:00\tBelize\tC%sT\n\n# Bermuda\n\n# For 1899 Milne gives -4:19:18.3 as the meridian of the clock tower,\n# Bermuda dockyard, Ireland I; round that.\n\n# From Dan Jones, reporting in The Royal Gazette (2006-06-26):\n\n# Next year, however, clocks in the US will go forward on the second Sunday\n# in March, until the first Sunday in November.  And, after the Time Zone\n# (Seasonal Variation) Bill 2006 was passed in the House of Assembly on\n# Friday, the same thing will happen in Bermuda.\n# http://www.theroyalgazette.com/apps/pbcs.dll/article?AID=/20060529/NEWS/105290135\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Atlantic/Bermuda\t-4:19:18 -\tLMT\t1930 Jan  1 2:00    # Hamilton\n\t\t\t-4:00\t-\tAST\t1974 Apr 28 2:00\n\t\t\t-4:00\tCanada\tA%sT\t1976\n\t\t\t-4:00\tUS\tA%sT\n\n# Cayman Is\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAmerica/Cayman\t-5:25:32 -\tLMT\t1890\t\t# Georgetown\n\t\t\t-5:07:11 -\tKMT\t1912 Feb    # Kingston Mean Time\n\t\t\t-5:00\t-\tEST\n\n# Costa Rica\n\n# Milne gives -5:36:13.3 as San Jose mean time; round to nearest.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tCR\t1979\t1980\t-\tFeb\tlastSun\t0:00\t1:00\tD\nRule\tCR\t1979\t1980\t-\tJun\tSun>=1\t0:00\t0\tS\nRule\tCR\t1991\t1992\t-\tJan\tSat>=15\t0:00\t1:00\tD\n# IATA SSIM (1991-09) says the following was at 1:00;\n# go with Shanks & Pottenger.\nRule\tCR\t1991\tonly\t-\tJul\t 1\t0:00\t0\tS\nRule\tCR\t1992\tonly\t-\tMar\t15\t0:00\t0\tS\n# There are too many San Joses elsewhere, so we'll use 'Costa Rica'.\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Costa_Rica\t-5:36:13 -\tLMT\t1890\t\t# San Jose\n\t\t\t-5:36:13 -\tSJMT\t1921 Jan 15 # San Jose Mean Time\n\t\t\t-6:00\tCR\tC%sT\n# Coco\n# no information; probably like America/Costa_Rica\n\n# Cuba\n\n# From Paul Eggert (2013-02-21):\n# Milne gives -5:28:50.45 for the observatory at Havana, -5:29:23.57\n# for the port, and -5:30 for meteorological observations.\n# For now, stick with Shanks & Pottenger.\n\n# From Arthur David Olson (1999-03-29):\n# The 1999-03-28 exhibition baseball game held in Havana, Cuba, between\n# the Cuban National Team and the Baltimore Orioles was carried live on\n# the Orioles Radio Network, including affiliate WTOP in Washington, DC.\n# During the game, play-by-play announcer Jim Hunter noted that\n# \"We'll be losing two hours of sleep...Cuba switched to Daylight Saving\n# Time today.\"  (The \"two hour\" remark referred to losing one hour of\n# sleep on 1999-03-28--when the announcers were in Cuba as it switched\n# to DST--and one more hour on 1999-04-04--when the announcers will have\n# returned to Baltimore, which switches on that date.)\n\n# From Evert van der Veer via Steffen Thorsen (2004-10-28):\n# Cuba is not going back to standard time this year.\n# From Paul Eggert (2006-03-22):\n# http://www.granma.cu/ingles/2004/septiembre/juev30/41medid-i.html\n# says that it's due to a problem at the Antonio Guiteras\n# thermoelectric plant, and says \"This October there will be no return\n# to normal hours (after daylight saving time)\".\n# For now, let's assume that it's a temporary measure.\n\n# From Carlos A. Carnero Delgado (2005-11-12):\n# This year (just like in 2004-2005) there's no change in time zone\n# adjustment in Cuba.  We will stay in daylight saving time:\n# http://www.granma.cu/espanol/2005/noviembre/mier9/horario.html\n\n# From Jesper Norgaard Welen (2006-10-21):\n# An article in GRANMA INTERNACIONAL claims that Cuba will end\n# the 3 years of permanent DST next weekend, see\n# http://www.granma.cu/ingles/2006/octubre/lun16/43horario.html\n# \"On Saturday night, October 28 going into Sunday, October 29, at 01:00,\n# watches should be set back one hour -- going back to 00:00 hours -- returning\n# to the normal schedule....\n\n# From Paul Eggert (2007-03-02):\n# http://www.granma.cubaweb.cu/english/news/art89.html, dated yesterday,\n# says Cuban clocks will advance at midnight on March 10.\n# For lack of better information, assume Cuba will use US rules,\n# except that it switches at midnight standard time as usual.\n#\n# From Steffen Thorsen (2007-10-25):\n# Carlos Alberto Fonseca Arauz informed me that Cuba will end DST one week\n# earlier - on the last Sunday of October, just like in 2006.\n#\n# He supplied these references:\n#\n# http://www.prensalatina.com.mx/article.asp?ID=%7B4CC32C1B-A9F7-42FB-8A07-8631AFC923AF%7D&language=ES\n# http://actualidad.terra.es/sociedad/articulo/cuba_llama_ahorrar_energia_cambio_1957044.htm\n#\n# From Alex Kryvenishev (2007-10-25):\n# Here is also article from Granma (Cuba):\n#\n# [Regira] el Horario Normal desde el [proximo] domingo 28 de octubre\n# http://www.granma.cubaweb.cu/2007/10/24/nacional/artic07.html\n#\n# http://www.worldtimezone.com/dst_news/dst_news_cuba03.html\n\n# From Arthur David Olson (2008-03-09):\n# I'm in Maryland which is now observing United States Eastern Daylight\n# Time. At 9:44 local time I used RealPlayer to listen to\n# <a href=\"http://media.enet.cu/radioreloj\">\n# http://media.enet.cu/radioreloj\n# </a>, a Cuban information station, and heard\n# the time announced as \"ocho cuarenta y cuatro\" (\"eight forty-four\"),\n# indicating that Cuba is still on standard time.\n\n# From Steffen Thorsen (2008-03-12):\n# It seems that Cuba will start DST on Sunday, 2007-03-16...\n# It was announced yesterday, according to this source (in Spanish):\n# <a href=\"http://www.nnc.cubaweb.cu/marzo-2008/cien-1-11-3-08.htm\">\n# http://www.nnc.cubaweb.cu/marzo-2008/cien-1-11-3-08.htm\n# </a>\n#\n# Some more background information is posted here:\n# <a href=\"http://www.timeanddate.com/news/time/cuba-starts-dst-march-16.html\">\n# http://www.timeanddate.com/news/time/cuba-starts-dst-march-16.html\n# </a>\n#\n# The article also says that Cuba has been observing DST since 1963,\n# while Shanks (and tzdata) has 1965 as the first date (except in the\n# 1940's). Many other web pages in Cuba also claim that it has been\n# observed since 1963, but with the exception of 1970 - an exception\n# which is not present in tzdata/Shanks. So there is a chance we need to\n# change some historic records as well.\n#\n# One example:\n# <a href=\"http://www.radiohc.cu/espanol/noticias/mar07/11mar/hor.htm\">\n# http://www.radiohc.cu/espanol/noticias/mar07/11mar/hor.htm\n# </a>\n\n# From Jesper Norgaard Welen (2008-03-13):\n# The Cuban time change has just been confirmed on the most authoritative\n# web site, the Granma.  Please check out\n# <a href=\"http://www.granma.cubaweb.cu/2008/03/13/nacional/artic10.html\">\n# http://www.granma.cubaweb.cu/2008/03/13/nacional/artic10.html\n# </a>\n#\n# Basically as expected after Steffen Thorsens information, the change\n# will take place midnight between Saturday and Sunday.\n\n# From Arthur David Olson (2008-03-12):\n# Assume Sun>=15 (third Sunday) going forward.\n\n# From Alexander Krivenyshev (2009-03-04)\n# According to the Radio Reloj - Cuba will start Daylight Saving Time on\n# midnight between Saturday, March 07, 2009 and Sunday, March 08, 2009-\n# not on midnight March 14 / March 15 as previously thought.\n#\n# <a href=\"http://www.worldtimezone.com/dst_news/dst_news_cuba05.html\">\n# http://www.worldtimezone.com/dst_news/dst_news_cuba05.html\n# (in Spanish)\n# </a>\n\n# From Arthur David Olson (2009-03-09)\n# I listened over the Internet to\n# <a href=\"http://media.enet.cu/readioreloj\">\n# http://media.enet.cu/readioreloj\n# </a>\n# this morning; when it was 10:05 a. m. here in Bethesda, Maryland the\n# the time was announced as \"diez cinco\"--the same time as here, indicating\n# that has indeed switched to DST. Assume second Sunday from 2009 forward.\n\n# From Steffen Thorsen (2011-03-08):\n# Granma announced that Cuba is going to start DST on 2011-03-20 00:00:00\n# this year. Nothing about the end date known so far (if that has\n# changed at all).\n#\n# Source:\n# <a href=\"http://granma.co.cu/2011/03/08/nacional/artic01.html\">\n# http://granma.co.cu/2011/03/08/nacional/artic01.html\n# </a>\n#\n# Our info:\n# <a href=\"http://www.timeanddate.com/news/time/cuba-starts-dst-2011.html\">\n# http://www.timeanddate.com/news/time/cuba-starts-dst-2011.html\n# </a>\n#\n# From Steffen Thorsen (2011-10-30)\n# Cuba will end DST two weeks later this year. Instead of going back\n# tonight, it has been delayed to 2011-11-13 at 01:00.\n#\n# One source (Spanish)\n# <a href=\"http://www.radioangulo.cu/noticias/cuba/17105-cuba-restablecera-el-horario-del-meridiano-de-greenwich.html\">\n# http://www.radioangulo.cu/noticias/cuba/17105-cuba-restablecera-el-horario-del-meridiano-de-greenwich.html\n# </a>\n#\n# Our page:\n# <a href=\"http://www.timeanddate.com/news/time/cuba-time-changes-2011.html\">\n# http://www.timeanddate.com/news/time/cuba-time-changes-2011.html\n# </a>\n#\n# From Steffen Thorsen (2012-03-01)\n# According to Radio Reloj, Cuba will start DST on Midnight between March\n# 31 and April 1.\n#\n# Radio Reloj has the following info (Spanish):\n# <a href=\"http://www.radioreloj.cu/index.php/noticias-radio-reloj/71-miscelaneas/7529-cuba-aplicara-el-horario-de-verano-desde-el-1-de-abril\">\n# http://www.radioreloj.cu/index.php/noticias-radio-reloj/71-miscelaneas/7529-cuba-aplicara-el-horario-de-verano-desde-el-1-de-abril\n# </a>\n#\n# Our info on it:\n# <a href=\"http://www.timeanddate.com/news/time/cuba-starts-dst-2012.html\">\n# http://www.timeanddate.com/news/time/cuba-starts-dst-2012.html\n# </a>\n\n# From Steffen Thorsen (2012-11-03):\n# Radio Reloj and many other sources report that Cuba is changing back\n# to standard time on 2012-11-04:\n# http://www.radioreloj.cu/index.php/noticias-radio-reloj/36-nacionales/9961-regira-horario-normal-en-cuba-desde-el-domingo-cuatro-de-noviembre\n# From Paul Eggert (2012-11-03):\n# For now, assume the future rule is first Sunday in November.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tCuba\t1928\tonly\t-\tJun\t10\t0:00\t1:00\tD\nRule\tCuba\t1928\tonly\t-\tOct\t10\t0:00\t0\tS\nRule\tCuba\t1940\t1942\t-\tJun\tSun>=1\t0:00\t1:00\tD\nRule\tCuba\t1940\t1942\t-\tSep\tSun>=1\t0:00\t0\tS\nRule\tCuba\t1945\t1946\t-\tJun\tSun>=1\t0:00\t1:00\tD\nRule\tCuba\t1945\t1946\t-\tSep\tSun>=1\t0:00\t0\tS\nRule\tCuba\t1965\tonly\t-\tJun\t1\t0:00\t1:00\tD\nRule\tCuba\t1965\tonly\t-\tSep\t30\t0:00\t0\tS\nRule\tCuba\t1966\tonly\t-\tMay\t29\t0:00\t1:00\tD\nRule\tCuba\t1966\tonly\t-\tOct\t2\t0:00\t0\tS\nRule\tCuba\t1967\tonly\t-\tApr\t8\t0:00\t1:00\tD\nRule\tCuba\t1967\t1968\t-\tSep\tSun>=8\t0:00\t0\tS\nRule\tCuba\t1968\tonly\t-\tApr\t14\t0:00\t1:00\tD\nRule\tCuba\t1969\t1977\t-\tApr\tlastSun\t0:00\t1:00\tD\nRule\tCuba\t1969\t1971\t-\tOct\tlastSun\t0:00\t0\tS\nRule\tCuba\t1972\t1974\t-\tOct\t8\t0:00\t0\tS\nRule\tCuba\t1975\t1977\t-\tOct\tlastSun\t0:00\t0\tS\nRule\tCuba\t1978\tonly\t-\tMay\t7\t0:00\t1:00\tD\nRule\tCuba\t1978\t1990\t-\tOct\tSun>=8\t0:00\t0\tS\nRule\tCuba\t1979\t1980\t-\tMar\tSun>=15\t0:00\t1:00\tD\nRule\tCuba\t1981\t1985\t-\tMay\tSun>=5\t0:00\t1:00\tD\nRule\tCuba\t1986\t1989\t-\tMar\tSun>=14\t0:00\t1:00\tD\nRule\tCuba\t1990\t1997\t-\tApr\tSun>=1\t0:00\t1:00\tD\nRule\tCuba\t1991\t1995\t-\tOct\tSun>=8\t0:00s\t0\tS\nRule\tCuba\t1996\tonly\t-\tOct\t 6\t0:00s\t0\tS\nRule\tCuba\t1997\tonly\t-\tOct\t12\t0:00s\t0\tS\nRule\tCuba\t1998\t1999\t-\tMar\tlastSun\t0:00s\t1:00\tD\nRule\tCuba\t1998\t2003\t-\tOct\tlastSun\t0:00s\t0\tS\nRule\tCuba\t2000\t2004\t-\tApr\tSun>=1\t0:00s\t1:00\tD\nRule\tCuba\t2006\t2010\t-\tOct\tlastSun\t0:00s\t0\tS\nRule\tCuba\t2007\tonly\t-\tMar\tSun>=8\t0:00s\t1:00\tD\nRule\tCuba\t2008\tonly\t-\tMar\tSun>=15\t0:00s\t1:00\tD\nRule\tCuba\t2009\t2010\t-\tMar\tSun>=8\t0:00s\t1:00\tD\nRule\tCuba\t2011\tonly\t-\tMar\tSun>=15\t0:00s\t1:00\tD\nRule\tCuba\t2011\tonly\t-\tNov\t13\t0:00s\t0\tS\nRule\tCuba\t2012\tonly\t-\tApr\t1\t0:00s\t1:00\tD\nRule\tCuba\t2012\tmax\t-\tNov\tSun>=1\t0:00s\t0\tS\nRule\tCuba\t2013\tmax\t-\tMar\tSun>=8\t0:00s\t1:00\tD\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAmerica/Havana\t-5:29:28 -\tLMT\t1890\n\t\t\t-5:29:36 -\tHMT\t1925 Jul 19 12:00 # Havana MT\n\t\t\t-5:00\tCuba\tC%sT\n\n# Dominica\n# See 'southamerica'.\n\n# Dominican Republic\n\n# From Steffen Thorsen (2000-10-30):\n# Enrique Morales reported to me that the Dominican Republic has changed the\n# time zone to Eastern Standard Time as of Sunday 29 at 2 am....\n# http://www.listin.com.do/antes/261000/republica/princi.html\n\n# From Paul Eggert (2000-12-04):\n# That URL (2000-10-26, in Spanish) says they planned to use US-style DST.\n\n# From Rives McDow (2000-12-01):\n# Dominican Republic changed its mind and presidential decree on Tuesday,\n# November 28, 2000, with a new decree.  On Sunday, December 3 at 1:00 AM the\n# Dominican Republic will be reverting to 8 hours from the International Date\n# Line, and will not be using DST in the foreseeable future.  The reason they\n# decided to use DST was to be in synch with Puerto Rico, who was also going\n# to implement DST.  When Puerto Rico didn't implement DST, the president\n# decided to revert.\n\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tDR\t1966\tonly\t-\tOct\t30\t0:00\t1:00\tD\nRule\tDR\t1967\tonly\t-\tFeb\t28\t0:00\t0\tS\nRule\tDR\t1969\t1973\t-\tOct\tlastSun\t0:00\t0:30\tHD\nRule\tDR\t1970\tonly\t-\tFeb\t21\t0:00\t0\tS\nRule\tDR\t1971\tonly\t-\tJan\t20\t0:00\t0\tS\nRule\tDR\t1972\t1974\t-\tJan\t21\t0:00\t0\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Santo_Domingo -4:39:36 -\tLMT\t1890\n\t\t\t-4:40\t-\tSDMT\t1933 Apr  1 12:00 # S. Dom. MT\n\t\t\t-5:00\tDR\tE%sT\t1974 Oct 27\n\t\t\t-4:00\t-\tAST\t2000 Oct 29 02:00\n\t\t\t-5:00\tUS\tE%sT\t2000 Dec  3 01:00\n\t\t\t-4:00\t-\tAST\n\n# El Salvador\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tSalv\t1987\t1988\t-\tMay\tSun>=1\t0:00\t1:00\tD\nRule\tSalv\t1987\t1988\t-\tSep\tlastSun\t0:00\t0\tS\n# There are too many San Salvadors elsewhere, so use America/El_Salvador\n# instead of America/San_Salvador.\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/El_Salvador -5:56:48 -\tLMT\t1921\t\t# San Salvador\n\t\t\t-6:00\tSalv\tC%sT\n\n# Grenada\n# Guadeloupe\n# St Barthelemy\n# St Martin (French part)\n# See 'southamerica'.\n\n# Guatemala\n#\n# From Gwillim Law (2006-04-22), after a heads-up from Oscar van Vlijmen:\n# Diario Co Latino, at\n# http://www.diariocolatino.com/internacionales/detalles.asp?NewsID=8079,\n# says in an article dated 2006-04-19 that the Guatemalan government had\n# decided on that date to advance official time by 60 minutes, to lessen the\n# impact of the elevated cost of oil....  Daylight saving time will last from\n# 2006-04-29 24:00 (Guatemalan standard time) to 2006-09-30 (time unspecified).\n# From Paul Eggert (2006-06-22):\n# The Ministry of Energy and Mines, press release CP-15/2006\n# (2006-04-19), says DST ends at 24:00.  See\n# <http://www.sieca.org.gt/Sitio_publico/Energeticos/Doc/Medidas/Cambio_Horario_Nac_190406.pdf>.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tGuat\t1973\tonly\t-\tNov\t25\t0:00\t1:00\tD\nRule\tGuat\t1974\tonly\t-\tFeb\t24\t0:00\t0\tS\nRule\tGuat\t1983\tonly\t-\tMay\t21\t0:00\t1:00\tD\nRule\tGuat\t1983\tonly\t-\tSep\t22\t0:00\t0\tS\nRule\tGuat\t1991\tonly\t-\tMar\t23\t0:00\t1:00\tD\nRule\tGuat\t1991\tonly\t-\tSep\t 7\t0:00\t0\tS\nRule\tGuat\t2006\tonly\t-\tApr\t30\t0:00\t1:00\tD\nRule\tGuat\t2006\tonly\t-\tOct\t 1\t0:00\t0\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Guatemala\t-6:02:04 -\tLMT\t1918 Oct 5\n\t\t\t-6:00\tGuat\tC%sT\n\n# Haiti\n# From Gwillim Law (2005-04-15):\n# Risto O. Nykanen wrote me that Haiti is now on DST.\n# I searched for confirmation, and I found a\n# <a href=\"http://www.haitianconsulate.org/time.doc\"> press release\n# on the Web page of the Haitian Consulate in Chicago (2005-03-31),\n# </a>.  Translated from French, it says:\n#\n#  \"The Prime Minister's Communication Office notifies the public in general\n#   and the press in particular that, following a decision of the Interior\n#   Ministry and the Territorial Collectivities [I suppose that means the\n#   provinces], Haiti will move to Eastern Daylight Time in the night from next\n#   Saturday the 2nd to Sunday the 3rd.\n#\n#  \"Consequently, the Prime Minister's Communication Office wishes to inform\n#   the population that the country's clocks will be set forward one hour\n#   starting at midnight.  This provision will hold until the last Saturday in\n#   October 2005.\n#\n#  \"Port-au-Prince, March 31, 2005\"\n#\n# From Steffen Thorsen (2006-04-04):\n# I have been informed by users that Haiti observes DST this year like\n# last year, so the current \"only\" rule for 2005 might be changed to a\n# \"max\" rule or to last until 2006. (Who knows if they will observe DST\n# next year or if they will extend their DST like US/Canada next year).\n#\n# I have found this article about it (in French):\n# http://www.haitipressnetwork.com/news.cfm?articleID=7612\n#\n# The reason seems to be an energy crisis.\n\n# From Stephen Colebourne (2007-02-22):\n# Some IATA info: Haiti won't be having DST in 2007.\n\n# From Steffen Thorsen (2012-03-11):\n# According to several news sources, Haiti will observe DST this year,\n# apparently using the same start and end date as USA/Canada.\n# So this means they have already changed their time.\n#\n# http://www.alterpresse.org/spip.php?article12510\n# http://radiovision2000haiti.net/home/?p=13253\n#\n# From Arthur David Olson (2012-03-11):\n# The alterpresse.org source seems to show a US-style leap from 2:00 a.m. to\n# 3:00 a.m. rather than the traditional Haitian jump at midnight.\n# Assume a US-style fall back as well.\n\n# From Steffen Thorsen (2013-03-10):\n# It appears that Haiti is observing DST this year as well, same rules\n# as US/Canada.  They did it last year as well, and it looks like they\n# are going to observe DST every year now...\n#\n# http://radiovision2000haiti.net/public/haiti-avis-changement-dheure-dimanche/\n# http://www.canalplushaiti.net/?p=6714\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tHaiti\t1983\tonly\t-\tMay\t8\t0:00\t1:00\tD\nRule\tHaiti\t1984\t1987\t-\tApr\tlastSun\t0:00\t1:00\tD\nRule\tHaiti\t1983\t1987\t-\tOct\tlastSun\t0:00\t0\tS\n# Shanks & Pottenger say AT is 2:00, but IATA SSIM (1991/1997) says 1:00s.\n# Go with IATA.\nRule\tHaiti\t1988\t1997\t-\tApr\tSun>=1\t1:00s\t1:00\tD\nRule\tHaiti\t1988\t1997\t-\tOct\tlastSun\t1:00s\t0\tS\nRule\tHaiti\t2005\t2006\t-\tApr\tSun>=1\t0:00\t1:00\tD\nRule\tHaiti\t2005\t2006\t-\tOct\tlastSun\t0:00\t0\tS\nRule\tHaiti\t2012\tmax\t-\tMar\tSun>=8\t2:00\t1:00\tD\nRule\tHaiti\t2012\tmax\t-\tNov\tSun>=1\t2:00\t0\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Port-au-Prince -4:49:20 -\tLMT\t1890\n\t\t\t-4:49\t-\tPPMT\t1917 Jan 24 12:00 # P-a-P MT\n\t\t\t-5:00\tHaiti\tE%sT\n\n# Honduras\n# Shanks & Pottenger say 1921 Jan 1; go with Whitman's more precise Apr 1.\n\n# From Paul Eggert (2006-05-05):\n# worldtimezone.com reports a 2006-05-02 Spanish-language AP article\n# saying Honduras will start using DST midnight Saturday, effective 4\n# months until September.  La Tribuna reported today\n# <http://www.latribuna.hn/99299.html> that Manuel Zelaya, the president\n# of Honduras, refused to back down on this.\n\n# From Jesper Norgaard Welen (2006-08-08):\n# It seems that Honduras has returned from DST to standard time this Monday at\n# 00:00 hours (prolonging Sunday to 25 hours duration).\n# http://www.worldtimezone.com/dst_news/dst_news_honduras04.html\n\n# From Paul Eggert (2006-08-08):\n# Also see Diario El Heraldo, The country returns to standard time (2006-08-08)\n# <http://www.elheraldo.hn/nota.php?nid=54941&sec=12>.\n# It mentions executive decree 18-2006.\n\n# From Steffen Thorsen (2006-08-17):\n# Honduras will observe DST from 2007 to 2009, exact dates are not\n# published, I have located this authoritative source:\n# http://www.presidencia.gob.hn/noticia.aspx?nId=47\n\n# From Steffen Thorsen (2007-03-30):\n# http://www.laprensahn.com/pais_nota.php?id04962=7386\n# So it seems that Honduras will not enter DST this year....\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tHond\t1987\t1988\t-\tMay\tSun>=1\t0:00\t1:00\tD\nRule\tHond\t1987\t1988\t-\tSep\tlastSun\t0:00\t0\tS\nRule\tHond\t2006\tonly\t-\tMay\tSun>=1\t0:00\t1:00\tD\nRule\tHond\t2006\tonly\t-\tAug\tMon>=1\t0:00\t0\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Tegucigalpa -5:48:52 -\tLMT\t1921 Apr\n\t\t\t-6:00\tHond\tC%sT\n#\n# Great Swan I ceded by US to Honduras in 1972\n\n# Jamaica\n# Shanks & Pottenger give -5:07:12, but Milne records -5:07:10.41 from an\n# unspecified official document, and says \"This time is used throughout the\n# island\".  Go with Milne.  Round to the nearest second as required by zic.\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAmerica/Jamaica\t-5:07:11 -\tLMT\t1890\t\t# Kingston\n\t\t\t-5:07:11 -\tKMT\t1912 Feb    # Kingston Mean Time\n\t\t\t-5:00\t-\tEST\t1974 Apr 28 2:00\n\t\t\t-5:00\tUS\tE%sT\t1984\n\t\t\t-5:00\t-\tEST\n\n# Martinique\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Martinique\t-4:04:20 -      LMT\t1890\t\t# Fort-de-France\n\t\t\t-4:04:20 -\tFFMT\t1911 May     # Fort-de-France MT\n\t\t\t-4:00\t-\tAST\t1980 Apr  6\n\t\t\t-4:00\t1:00\tADT\t1980 Sep 28\n\t\t\t-4:00\t-\tAST\n\n# Montserrat\n# See 'southamerica'.\n\n# Nicaragua\n#\n# This uses Shanks & Pottenger for times before 2005.\n#\n# From Steffen Thorsen (2005-04-12):\n# I've got reports from 8 different people that Nicaragua just started\n# DST on Sunday 2005-04-10, in order to save energy because of\n# expensive petroleum.  The exact end date for DST is not yet\n# announced, only \"September\" but some sites also say \"mid-September\".\n# Some background information is available on the President's official site:\n# http://www.presidencia.gob.ni/Presidencia/Files_index/Secretaria/Notas%20de%20Prensa/Presidente/2005/ABRIL/Gobierno-de-nicaragua-adelanta-hora-oficial-06abril.htm\n# The Decree, no 23-2005 is available here:\n# http://www.presidencia.gob.ni/buscador_gaceta/BD/DECRETOS/2005/Decreto%2023-2005%20Se%20adelanta%20en%20una%20hora%20en%20todo%20el%20territorio%20nacional%20apartir%20de%20las%2024horas%20del%2009%20de%20Abril.pdf\n#\n# From Paul Eggert (2005-05-01):\n# The decree doesn't say anything about daylight saving, but for now let's\n# assume that it is daylight saving....\n#\n# From Gwillim Law (2005-04-21):\n# The Associated Press story on the time change, which can be found at\n# http://www.lapalmainteractivo.com/guias/content/gen/ap/America_Latina/AMC_GEN_NICARAGUA_HORA.html\n# and elsewhere, says (fifth paragraph, translated from Spanish):  \"The last\n# time that a change of clocks was applied to save energy was in the year 2000\n# during the Arnoldo Aleman administration.\"...\n# The northamerica file says that Nicaragua has been on UTC-6 continuously\n# since December 1998.  I wasn't able to find any details of Nicaraguan time\n# changes in 2000.  Perhaps a note could be added to the northamerica file, to\n# the effect that we have indirect evidence that DST was observed in 2000.\n#\n# From Jesper Norgaard Welen (2005-11-02):\n# Nicaragua left DST the 2005-10-02 at 00:00 (local time).\n# http://www.presidencia.gob.ni/presidencia/files_index/secretaria/comunicados/2005/septiembre/26septiembre-cambio-hora.htm\n# (2005-09-26)\n#\n# From Jesper Norgaard Welen (2006-05-05):\n# http://www.elnuevodiario.com.ni/2006/05/01/nacionales/18410\n# (my informal translation)\n# By order of the president of the republic, Enrique Bolanos, Nicaragua\n# advanced by sixty minutes their official time, yesterday at 2 in the\n# morning, and will stay that way until 30.th. of september.\n#\n# From Jesper Norgaard Welen (2006-09-30):\n# http://www.presidencia.gob.ni/buscador_gaceta/BD/DECRETOS/2006/D-063-2006P-PRN-Cambio-Hora.pdf\n# My informal translation runs:\n# The natural sun time is restored in all the national territory, in that the\n# time is returned one hour at 01:00 am of October 1 of 2006.\n#\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tNic\t1979\t1980\t-\tMar\tSun>=16\t0:00\t1:00\tD\nRule\tNic\t1979\t1980\t-\tJun\tMon>=23\t0:00\t0\tS\nRule\tNic\t2005\tonly\t-\tApr\t10\t0:00\t1:00\tD\nRule\tNic\t2005\tonly\t-\tOct\tSun>=1\t0:00\t0\tS\nRule\tNic\t2006\tonly\t-\tApr\t30\t2:00\t1:00\tD\nRule\tNic\t2006\tonly\t-\tOct\tSun>=1\t1:00\t0\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAmerica/Managua\t-5:45:08 -\tLMT\t1890\n\t\t\t-5:45:12 -\tMMT\t1934 Jun 23 # Managua Mean Time?\n\t\t\t-6:00\t-\tCST\t1973 May\n\t\t\t-5:00\t-\tEST\t1975 Feb 16\n\t\t\t-6:00\tNic\tC%sT\t1992 Jan  1 4:00\n\t\t\t-5:00\t-\tEST\t1992 Sep 24\n\t\t\t-6:00\t-\tCST\t1993\n\t\t\t-5:00\t-\tEST\t1997\n\t\t\t-6:00\tNic\tC%sT\n\n# Panama\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAmerica/Panama\t-5:18:08 -\tLMT\t1890\n\t\t\t-5:19:36 -\tCMT\t1908 Apr 22   # Colon Mean Time\n\t\t\t-5:00\t-\tEST\n\n# Puerto Rico\n# There are too many San Juans elsewhere, so we'll use 'Puerto_Rico'.\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Puerto_Rico -4:24:25 -\tLMT\t1899 Mar 28 12:00    # San Juan\n\t\t\t-4:00\t-\tAST\t1942 May  3\n\t\t\t-4:00\tUS\tA%sT\t1946\n\t\t\t-4:00\t-\tAST\n\n# St Kitts-Nevis\n# St Lucia\n# See 'southamerica'.\n\n# St Pierre and Miquelon\n# There are too many St Pierres elsewhere, so we'll use 'Miquelon'.\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Miquelon\t-3:44:40 -\tLMT\t1911 May 15\t# St Pierre\n\t\t\t-4:00\t-\tAST\t1980 May\n\t\t\t-3:00\t-\tPMST\t1987 # Pierre & Miquelon Time\n\t\t\t-3:00\tCanada\tPM%sT\n\n# St Vincent and the Grenadines\n# See 'southamerica'.\n\n# Turks and Caicos\n#\n# From Chris Dunn in\n# <http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=415007>\n# (2007-03-15): In the Turks & Caicos Islands (America/Grand_Turk) the\n# daylight saving dates for time changes have been adjusted to match\n# the recent U.S. change of dates.\n#\n# From Brian Inglis (2007-04-28):\n# http://www.turksandcaicos.tc/calendar/index.htm [2007-04-26]\n# there is an entry for Nov 4 \"Daylight Savings Time Ends 2007\" and three\n# rows before that there is an out of date entry for Oct:\n# \"Eastern Standard Times Begins 2007\n# Clocks are set back one hour at 2:00 a.m. local Daylight Saving Time\"\n# indicating that the normal ET rules are followed.\n#\n# From Paul Eggert (2006-05-01):\n# Shanks & Pottenger say they use US DST rules, but IATA SSIM (1991/1998)\n# says they switch at midnight.  Go with Shanks & Pottenger.\n#\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tTC\t1979\t1986\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tTC\t1979\t2006\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tTC\t1987\t2006\t-\tApr\tSun>=1\t2:00\t1:00\tD\nRule\tTC\t2007\tmax\t-\tMar\tSun>=8\t2:00\t1:00\tD\nRule\tTC\t2007\tmax\t-\tNov\tSun>=1\t2:00\t0\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Grand_Turk\t-4:44:32 -\tLMT\t1890\n\t\t\t-5:07:11 -\tKMT\t1912 Feb    # Kingston Mean Time\n\t\t\t-5:00\tTC\tE%sT\n\n# British Virgin Is\n# Virgin Is\n# See 'southamerica'.\n";

zone_files['pacificnew'] = "# <pre>\n# This file is in the public domain, so clarified as of\n# 2009-05-17 by Arthur David Olson.\n\n# From Arthur David Olson (1989-04-05):\n# On 1989-04-05, the U. S. House of Representatives passed (238-154) a bill\n# establishing \"Pacific Presidential Election Time\"; it was not acted on\n# by the Senate or signed into law by the President.\n# You might want to change the \"PE\" (Presidential Election) below to\n# \"Q\" (Quadrennial) to maintain three-character zone abbreviations.\n# If you're really conservative, you might want to change it to \"D\".\n# Avoid \"L\" (Leap Year), which won't be true in 2100.\n\n# If Presidential Election Time is ever established, replace \"XXXX\" below\n# with the year the law takes effect and uncomment the \"##\" lines.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\n## Rule\tTwilite\tXXXX\tmax\t-\tApr\tSun>=1\t2:00\t1:00\tD\n## Rule\tTwilite\tXXXX\tmax\tuspres\tOct\tlastSun\t2:00\t1:00\tPE\n## Rule\tTwilite\tXXXX\tmax\tuspres\tNov\tSun>=7\t2:00\t0\tS\n## Rule\tTwilite\tXXXX\tmax\tnonpres\tOct\tlastSun\t2:00\t0\tS\n\n# Zone\tNAME\t\t\tGMTOFF\tRULES/SAVE\tFORMAT\t[UNTIL]\n## Zone\tAmerica/Los_Angeles-PET\t-8:00\tUS\t\tP%sT\tXXXX\n##\t\t\t\t-8:00\tTwilite\t\tP%sT\n\n# For now...\nLink\tAmerica/Los_Angeles\tUS/Pacific-New\t##\n";

zone_files['solar87'] = "# <pre>\n# This file is in the public domain, so clarified as of\n# 2009-05-17 by Arthur David Olson.\n\n# So much for footnotes about Saudi Arabia.\n# Apparent noon times below are for Riyadh; your mileage will vary.\n# Times were computed using formulas in the U.S. Naval Observatory's\n# Almanac for Computers 1987; the formulas \"will give EqT to an accuracy of\n# [plus or minus two] seconds during the current year.\"\n#\n# Rounding to the nearest five seconds results in fewer than\n# 256 different \"time types\"--a limit that's faced because time types are\n# stored on disk as unsigned chars.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tsol87\t1987\tonly\t-\tJan\t1\t12:03:20s -0:03:20 -\nRule\tsol87\t1987\tonly\t-\tJan\t2\t12:03:50s -0:03:50 -\nRule\tsol87\t1987\tonly\t-\tJan\t3\t12:04:15s -0:04:15 -\nRule\tsol87\t1987\tonly\t-\tJan\t4\t12:04:45s -0:04:45 -\nRule\tsol87\t1987\tonly\t-\tJan\t5\t12:05:10s -0:05:10 -\nRule\tsol87\t1987\tonly\t-\tJan\t6\t12:05:40s -0:05:40 -\nRule\tsol87\t1987\tonly\t-\tJan\t7\t12:06:05s -0:06:05 -\nRule\tsol87\t1987\tonly\t-\tJan\t8\t12:06:30s -0:06:30 -\nRule\tsol87\t1987\tonly\t-\tJan\t9\t12:06:55s -0:06:55 -\nRule\tsol87\t1987\tonly\t-\tJan\t10\t12:07:20s -0:07:20 -\nRule\tsol87\t1987\tonly\t-\tJan\t11\t12:07:45s -0:07:45 -\nRule\tsol87\t1987\tonly\t-\tJan\t12\t12:08:10s -0:08:10 -\nRule\tsol87\t1987\tonly\t-\tJan\t13\t12:08:30s -0:08:30 -\nRule\tsol87\t1987\tonly\t-\tJan\t14\t12:08:55s -0:08:55 -\nRule\tsol87\t1987\tonly\t-\tJan\t15\t12:09:15s -0:09:15 -\nRule\tsol87\t1987\tonly\t-\tJan\t16\t12:09:35s -0:09:35 -\nRule\tsol87\t1987\tonly\t-\tJan\t17\t12:09:55s -0:09:55 -\nRule\tsol87\t1987\tonly\t-\tJan\t18\t12:10:15s -0:10:15 -\nRule\tsol87\t1987\tonly\t-\tJan\t19\t12:10:35s -0:10:35 -\nRule\tsol87\t1987\tonly\t-\tJan\t20\t12:10:55s -0:10:55 -\nRule\tsol87\t1987\tonly\t-\tJan\t21\t12:11:10s -0:11:10 -\nRule\tsol87\t1987\tonly\t-\tJan\t22\t12:11:30s -0:11:30 -\nRule\tsol87\t1987\tonly\t-\tJan\t23\t12:11:45s -0:11:45 -\nRule\tsol87\t1987\tonly\t-\tJan\t24\t12:12:00s -0:12:00 -\nRule\tsol87\t1987\tonly\t-\tJan\t25\t12:12:15s -0:12:15 -\nRule\tsol87\t1987\tonly\t-\tJan\t26\t12:12:30s -0:12:30 -\nRule\tsol87\t1987\tonly\t-\tJan\t27\t12:12:40s -0:12:40 -\nRule\tsol87\t1987\tonly\t-\tJan\t28\t12:12:55s -0:12:55 -\nRule\tsol87\t1987\tonly\t-\tJan\t29\t12:13:05s -0:13:05 -\nRule\tsol87\t1987\tonly\t-\tJan\t30\t12:13:15s -0:13:15 -\nRule\tsol87\t1987\tonly\t-\tJan\t31\t12:13:25s -0:13:25 -\nRule\tsol87\t1987\tonly\t-\tFeb\t1\t12:13:35s -0:13:35 -\nRule\tsol87\t1987\tonly\t-\tFeb\t2\t12:13:40s -0:13:40 -\nRule\tsol87\t1987\tonly\t-\tFeb\t3\t12:13:50s -0:13:50 -\nRule\tsol87\t1987\tonly\t-\tFeb\t4\t12:13:55s -0:13:55 -\nRule\tsol87\t1987\tonly\t-\tFeb\t5\t12:14:00s -0:14:00 -\nRule\tsol87\t1987\tonly\t-\tFeb\t6\t12:14:05s -0:14:05 -\nRule\tsol87\t1987\tonly\t-\tFeb\t7\t12:14:10s -0:14:10 -\nRule\tsol87\t1987\tonly\t-\tFeb\t8\t12:14:10s -0:14:10 -\nRule\tsol87\t1987\tonly\t-\tFeb\t9\t12:14:15s -0:14:15 -\nRule\tsol87\t1987\tonly\t-\tFeb\t10\t12:14:15s -0:14:15 -\nRule\tsol87\t1987\tonly\t-\tFeb\t11\t12:14:15s -0:14:15 -\nRule\tsol87\t1987\tonly\t-\tFeb\t12\t12:14:15s -0:14:15 -\nRule\tsol87\t1987\tonly\t-\tFeb\t13\t12:14:15s -0:14:15 -\nRule\tsol87\t1987\tonly\t-\tFeb\t14\t12:14:15s -0:14:15 -\nRule\tsol87\t1987\tonly\t-\tFeb\t15\t12:14:10s -0:14:10 -\nRule\tsol87\t1987\tonly\t-\tFeb\t16\t12:14:10s -0:14:10 -\nRule\tsol87\t1987\tonly\t-\tFeb\t17\t12:14:05s -0:14:05 -\nRule\tsol87\t1987\tonly\t-\tFeb\t18\t12:14:00s -0:14:00 -\nRule\tsol87\t1987\tonly\t-\tFeb\t19\t12:13:55s -0:13:55 -\nRule\tsol87\t1987\tonly\t-\tFeb\t20\t12:13:50s -0:13:50 -\nRule\tsol87\t1987\tonly\t-\tFeb\t21\t12:13:45s -0:13:45 -\nRule\tsol87\t1987\tonly\t-\tFeb\t22\t12:13:35s -0:13:35 -\nRule\tsol87\t1987\tonly\t-\tFeb\t23\t12:13:30s -0:13:30 -\nRule\tsol87\t1987\tonly\t-\tFeb\t24\t12:13:20s -0:13:20 -\nRule\tsol87\t1987\tonly\t-\tFeb\t25\t12:13:10s -0:13:10 -\nRule\tsol87\t1987\tonly\t-\tFeb\t26\t12:13:00s -0:13:00 -\nRule\tsol87\t1987\tonly\t-\tFeb\t27\t12:12:50s -0:12:50 -\nRule\tsol87\t1987\tonly\t-\tFeb\t28\t12:12:40s -0:12:40 -\nRule\tsol87\t1987\tonly\t-\tMar\t1\t12:12:30s -0:12:30 -\nRule\tsol87\t1987\tonly\t-\tMar\t2\t12:12:20s -0:12:20 -\nRule\tsol87\t1987\tonly\t-\tMar\t3\t12:12:05s -0:12:05 -\nRule\tsol87\t1987\tonly\t-\tMar\t4\t12:11:55s -0:11:55 -\nRule\tsol87\t1987\tonly\t-\tMar\t5\t12:11:40s -0:11:40 -\nRule\tsol87\t1987\tonly\t-\tMar\t6\t12:11:25s -0:11:25 -\nRule\tsol87\t1987\tonly\t-\tMar\t7\t12:11:15s -0:11:15 -\nRule\tsol87\t1987\tonly\t-\tMar\t8\t12:11:00s -0:11:00 -\nRule\tsol87\t1987\tonly\t-\tMar\t9\t12:10:45s -0:10:45 -\nRule\tsol87\t1987\tonly\t-\tMar\t10\t12:10:30s -0:10:30 -\nRule\tsol87\t1987\tonly\t-\tMar\t11\t12:10:15s -0:10:15 -\nRule\tsol87\t1987\tonly\t-\tMar\t12\t12:09:55s -0:09:55 -\nRule\tsol87\t1987\tonly\t-\tMar\t13\t12:09:40s -0:09:40 -\nRule\tsol87\t1987\tonly\t-\tMar\t14\t12:09:25s -0:09:25 -\nRule\tsol87\t1987\tonly\t-\tMar\t15\t12:09:10s -0:09:10 -\nRule\tsol87\t1987\tonly\t-\tMar\t16\t12:08:50s -0:08:50 -\nRule\tsol87\t1987\tonly\t-\tMar\t17\t12:08:35s -0:08:35 -\nRule\tsol87\t1987\tonly\t-\tMar\t18\t12:08:15s -0:08:15 -\nRule\tsol87\t1987\tonly\t-\tMar\t19\t12:08:00s -0:08:00 -\nRule\tsol87\t1987\tonly\t-\tMar\t20\t12:07:40s -0:07:40 -\nRule\tsol87\t1987\tonly\t-\tMar\t21\t12:07:25s -0:07:25 -\nRule\tsol87\t1987\tonly\t-\tMar\t22\t12:07:05s -0:07:05 -\nRule\tsol87\t1987\tonly\t-\tMar\t23\t12:06:50s -0:06:50 -\nRule\tsol87\t1987\tonly\t-\tMar\t24\t12:06:30s -0:06:30 -\nRule\tsol87\t1987\tonly\t-\tMar\t25\t12:06:10s -0:06:10 -\nRule\tsol87\t1987\tonly\t-\tMar\t26\t12:05:55s -0:05:55 -\nRule\tsol87\t1987\tonly\t-\tMar\t27\t12:05:35s -0:05:35 -\nRule\tsol87\t1987\tonly\t-\tMar\t28\t12:05:15s -0:05:15 -\nRule\tsol87\t1987\tonly\t-\tMar\t29\t12:05:00s -0:05:00 -\nRule\tsol87\t1987\tonly\t-\tMar\t30\t12:04:40s -0:04:40 -\nRule\tsol87\t1987\tonly\t-\tMar\t31\t12:04:25s -0:04:25 -\nRule\tsol87\t1987\tonly\t-\tApr\t1\t12:04:05s -0:04:05 -\nRule\tsol87\t1987\tonly\t-\tApr\t2\t12:03:45s -0:03:45 -\nRule\tsol87\t1987\tonly\t-\tApr\t3\t12:03:30s -0:03:30 -\nRule\tsol87\t1987\tonly\t-\tApr\t4\t12:03:10s -0:03:10 -\nRule\tsol87\t1987\tonly\t-\tApr\t5\t12:02:55s -0:02:55 -\nRule\tsol87\t1987\tonly\t-\tApr\t6\t12:02:35s -0:02:35 -\nRule\tsol87\t1987\tonly\t-\tApr\t7\t12:02:20s -0:02:20 -\nRule\tsol87\t1987\tonly\t-\tApr\t8\t12:02:05s -0:02:05 -\nRule\tsol87\t1987\tonly\t-\tApr\t9\t12:01:45s -0:01:45 -\nRule\tsol87\t1987\tonly\t-\tApr\t10\t12:01:30s -0:01:30 -\nRule\tsol87\t1987\tonly\t-\tApr\t11\t12:01:15s -0:01:15 -\nRule\tsol87\t1987\tonly\t-\tApr\t12\t12:00:55s -0:00:55 -\nRule\tsol87\t1987\tonly\t-\tApr\t13\t12:00:40s -0:00:40 -\nRule\tsol87\t1987\tonly\t-\tApr\t14\t12:00:25s -0:00:25 -\nRule\tsol87\t1987\tonly\t-\tApr\t15\t12:00:10s -0:00:10 -\nRule\tsol87\t1987\tonly\t-\tApr\t16\t11:59:55s 0:00:05 -\nRule\tsol87\t1987\tonly\t-\tApr\t17\t11:59:45s 0:00:15 -\nRule\tsol87\t1987\tonly\t-\tApr\t18\t11:59:30s 0:00:30 -\nRule\tsol87\t1987\tonly\t-\tApr\t19\t11:59:15s 0:00:45 -\nRule\tsol87\t1987\tonly\t-\tApr\t20\t11:59:05s 0:00:55 -\nRule\tsol87\t1987\tonly\t-\tApr\t21\t11:58:50s 0:01:10 -\nRule\tsol87\t1987\tonly\t-\tApr\t22\t11:58:40s 0:01:20 -\nRule\tsol87\t1987\tonly\t-\tApr\t23\t11:58:25s 0:01:35 -\nRule\tsol87\t1987\tonly\t-\tApr\t24\t11:58:15s 0:01:45 -\nRule\tsol87\t1987\tonly\t-\tApr\t25\t11:58:05s 0:01:55 -\nRule\tsol87\t1987\tonly\t-\tApr\t26\t11:57:55s 0:02:05 -\nRule\tsol87\t1987\tonly\t-\tApr\t27\t11:57:45s 0:02:15 -\nRule\tsol87\t1987\tonly\t-\tApr\t28\t11:57:35s 0:02:25 -\nRule\tsol87\t1987\tonly\t-\tApr\t29\t11:57:25s 0:02:35 -\nRule\tsol87\t1987\tonly\t-\tApr\t30\t11:57:15s 0:02:45 -\nRule\tsol87\t1987\tonly\t-\tMay\t1\t11:57:10s 0:02:50 -\nRule\tsol87\t1987\tonly\t-\tMay\t2\t11:57:00s 0:03:00 -\nRule\tsol87\t1987\tonly\t-\tMay\t3\t11:56:55s 0:03:05 -\nRule\tsol87\t1987\tonly\t-\tMay\t4\t11:56:50s 0:03:10 -\nRule\tsol87\t1987\tonly\t-\tMay\t5\t11:56:45s 0:03:15 -\nRule\tsol87\t1987\tonly\t-\tMay\t6\t11:56:40s 0:03:20 -\nRule\tsol87\t1987\tonly\t-\tMay\t7\t11:56:35s 0:03:25 -\nRule\tsol87\t1987\tonly\t-\tMay\t8\t11:56:30s 0:03:30 -\nRule\tsol87\t1987\tonly\t-\tMay\t9\t11:56:25s 0:03:35 -\nRule\tsol87\t1987\tonly\t-\tMay\t10\t11:56:25s 0:03:35 -\nRule\tsol87\t1987\tonly\t-\tMay\t11\t11:56:20s 0:03:40 -\nRule\tsol87\t1987\tonly\t-\tMay\t12\t11:56:20s 0:03:40 -\nRule\tsol87\t1987\tonly\t-\tMay\t13\t11:56:20s 0:03:40 -\nRule\tsol87\t1987\tonly\t-\tMay\t14\t11:56:20s 0:03:40 -\nRule\tsol87\t1987\tonly\t-\tMay\t15\t11:56:20s 0:03:40 -\nRule\tsol87\t1987\tonly\t-\tMay\t16\t11:56:20s 0:03:40 -\nRule\tsol87\t1987\tonly\t-\tMay\t17\t11:56:20s 0:03:40 -\nRule\tsol87\t1987\tonly\t-\tMay\t18\t11:56:20s 0:03:40 -\nRule\tsol87\t1987\tonly\t-\tMay\t19\t11:56:25s 0:03:35 -\nRule\tsol87\t1987\tonly\t-\tMay\t20\t11:56:25s 0:03:35 -\nRule\tsol87\t1987\tonly\t-\tMay\t21\t11:56:30s 0:03:30 -\nRule\tsol87\t1987\tonly\t-\tMay\t22\t11:56:35s 0:03:25 -\nRule\tsol87\t1987\tonly\t-\tMay\t23\t11:56:40s 0:03:20 -\nRule\tsol87\t1987\tonly\t-\tMay\t24\t11:56:45s 0:03:15 -\nRule\tsol87\t1987\tonly\t-\tMay\t25\t11:56:50s 0:03:10 -\nRule\tsol87\t1987\tonly\t-\tMay\t26\t11:56:55s 0:03:05 -\nRule\tsol87\t1987\tonly\t-\tMay\t27\t11:57:00s 0:03:00 -\nRule\tsol87\t1987\tonly\t-\tMay\t28\t11:57:10s 0:02:50 -\nRule\tsol87\t1987\tonly\t-\tMay\t29\t11:57:15s 0:02:45 -\nRule\tsol87\t1987\tonly\t-\tMay\t30\t11:57:25s 0:02:35 -\nRule\tsol87\t1987\tonly\t-\tMay\t31\t11:57:30s 0:02:30 -\nRule\tsol87\t1987\tonly\t-\tJun\t1\t11:57:40s 0:02:20 -\nRule\tsol87\t1987\tonly\t-\tJun\t2\t11:57:50s 0:02:10 -\nRule\tsol87\t1987\tonly\t-\tJun\t3\t11:58:00s 0:02:00 -\nRule\tsol87\t1987\tonly\t-\tJun\t4\t11:58:10s 0:01:50 -\nRule\tsol87\t1987\tonly\t-\tJun\t5\t11:58:20s 0:01:40 -\nRule\tsol87\t1987\tonly\t-\tJun\t6\t11:58:30s 0:01:30 -\nRule\tsol87\t1987\tonly\t-\tJun\t7\t11:58:40s 0:01:20 -\nRule\tsol87\t1987\tonly\t-\tJun\t8\t11:58:50s 0:01:10 -\nRule\tsol87\t1987\tonly\t-\tJun\t9\t11:59:05s 0:00:55 -\nRule\tsol87\t1987\tonly\t-\tJun\t10\t11:59:15s 0:00:45 -\nRule\tsol87\t1987\tonly\t-\tJun\t11\t11:59:30s 0:00:30 -\nRule\tsol87\t1987\tonly\t-\tJun\t12\t11:59:40s 0:00:20 -\nRule\tsol87\t1987\tonly\t-\tJun\t13\t11:59:50s 0:00:10 -\nRule\tsol87\t1987\tonly\t-\tJun\t14\t12:00:05s -0:00:05 -\nRule\tsol87\t1987\tonly\t-\tJun\t15\t12:00:15s -0:00:15 -\nRule\tsol87\t1987\tonly\t-\tJun\t16\t12:00:30s -0:00:30 -\nRule\tsol87\t1987\tonly\t-\tJun\t17\t12:00:45s -0:00:45 -\nRule\tsol87\t1987\tonly\t-\tJun\t18\t12:00:55s -0:00:55 -\nRule\tsol87\t1987\tonly\t-\tJun\t19\t12:01:10s -0:01:10 -\nRule\tsol87\t1987\tonly\t-\tJun\t20\t12:01:20s -0:01:20 -\nRule\tsol87\t1987\tonly\t-\tJun\t21\t12:01:35s -0:01:35 -\nRule\tsol87\t1987\tonly\t-\tJun\t22\t12:01:50s -0:01:50 -\nRule\tsol87\t1987\tonly\t-\tJun\t23\t12:02:00s -0:02:00 -\nRule\tsol87\t1987\tonly\t-\tJun\t24\t12:02:15s -0:02:15 -\nRule\tsol87\t1987\tonly\t-\tJun\t25\t12:02:25s -0:02:25 -\nRule\tsol87\t1987\tonly\t-\tJun\t26\t12:02:40s -0:02:40 -\nRule\tsol87\t1987\tonly\t-\tJun\t27\t12:02:50s -0:02:50 -\nRule\tsol87\t1987\tonly\t-\tJun\t28\t12:03:05s -0:03:05 -\nRule\tsol87\t1987\tonly\t-\tJun\t29\t12:03:15s -0:03:15 -\nRule\tsol87\t1987\tonly\t-\tJun\t30\t12:03:30s -0:03:30 -\nRule\tsol87\t1987\tonly\t-\tJul\t1\t12:03:40s -0:03:40 -\nRule\tsol87\t1987\tonly\t-\tJul\t2\t12:03:50s -0:03:50 -\nRule\tsol87\t1987\tonly\t-\tJul\t3\t12:04:05s -0:04:05 -\nRule\tsol87\t1987\tonly\t-\tJul\t4\t12:04:15s -0:04:15 -\nRule\tsol87\t1987\tonly\t-\tJul\t5\t12:04:25s -0:04:25 -\nRule\tsol87\t1987\tonly\t-\tJul\t6\t12:04:35s -0:04:35 -\nRule\tsol87\t1987\tonly\t-\tJul\t7\t12:04:45s -0:04:45 -\nRule\tsol87\t1987\tonly\t-\tJul\t8\t12:04:55s -0:04:55 -\nRule\tsol87\t1987\tonly\t-\tJul\t9\t12:05:05s -0:05:05 -\nRule\tsol87\t1987\tonly\t-\tJul\t10\t12:05:15s -0:05:15 -\nRule\tsol87\t1987\tonly\t-\tJul\t11\t12:05:20s -0:05:20 -\nRule\tsol87\t1987\tonly\t-\tJul\t12\t12:05:30s -0:05:30 -\nRule\tsol87\t1987\tonly\t-\tJul\t13\t12:05:40s -0:05:40 -\nRule\tsol87\t1987\tonly\t-\tJul\t14\t12:05:45s -0:05:45 -\nRule\tsol87\t1987\tonly\t-\tJul\t15\t12:05:50s -0:05:50 -\nRule\tsol87\t1987\tonly\t-\tJul\t16\t12:06:00s -0:06:00 -\nRule\tsol87\t1987\tonly\t-\tJul\t17\t12:06:05s -0:06:05 -\nRule\tsol87\t1987\tonly\t-\tJul\t18\t12:06:10s -0:06:10 -\nRule\tsol87\t1987\tonly\t-\tJul\t19\t12:06:15s -0:06:15 -\nRule\tsol87\t1987\tonly\t-\tJul\t20\t12:06:15s -0:06:15 -\nRule\tsol87\t1987\tonly\t-\tJul\t21\t12:06:20s -0:06:20 -\nRule\tsol87\t1987\tonly\t-\tJul\t22\t12:06:25s -0:06:25 -\nRule\tsol87\t1987\tonly\t-\tJul\t23\t12:06:25s -0:06:25 -\nRule\tsol87\t1987\tonly\t-\tJul\t24\t12:06:25s -0:06:25 -\nRule\tsol87\t1987\tonly\t-\tJul\t25\t12:06:30s -0:06:30 -\nRule\tsol87\t1987\tonly\t-\tJul\t26\t12:06:30s -0:06:30 -\nRule\tsol87\t1987\tonly\t-\tJul\t27\t12:06:30s -0:06:30 -\nRule\tsol87\t1987\tonly\t-\tJul\t28\t12:06:30s -0:06:30 -\nRule\tsol87\t1987\tonly\t-\tJul\t29\t12:06:25s -0:06:25 -\nRule\tsol87\t1987\tonly\t-\tJul\t30\t12:06:25s -0:06:25 -\nRule\tsol87\t1987\tonly\t-\tJul\t31\t12:06:25s -0:06:25 -\nRule\tsol87\t1987\tonly\t-\tAug\t1\t12:06:20s -0:06:20 -\nRule\tsol87\t1987\tonly\t-\tAug\t2\t12:06:15s -0:06:15 -\nRule\tsol87\t1987\tonly\t-\tAug\t3\t12:06:10s -0:06:10 -\nRule\tsol87\t1987\tonly\t-\tAug\t4\t12:06:05s -0:06:05 -\nRule\tsol87\t1987\tonly\t-\tAug\t5\t12:06:00s -0:06:00 -\nRule\tsol87\t1987\tonly\t-\tAug\t6\t12:05:55s -0:05:55 -\nRule\tsol87\t1987\tonly\t-\tAug\t7\t12:05:50s -0:05:50 -\nRule\tsol87\t1987\tonly\t-\tAug\t8\t12:05:40s -0:05:40 -\nRule\tsol87\t1987\tonly\t-\tAug\t9\t12:05:35s -0:05:35 -\nRule\tsol87\t1987\tonly\t-\tAug\t10\t12:05:25s -0:05:25 -\nRule\tsol87\t1987\tonly\t-\tAug\t11\t12:05:15s -0:05:15 -\nRule\tsol87\t1987\tonly\t-\tAug\t12\t12:05:05s -0:05:05 -\nRule\tsol87\t1987\tonly\t-\tAug\t13\t12:04:55s -0:04:55 -\nRule\tsol87\t1987\tonly\t-\tAug\t14\t12:04:45s -0:04:45 -\nRule\tsol87\t1987\tonly\t-\tAug\t15\t12:04:35s -0:04:35 -\nRule\tsol87\t1987\tonly\t-\tAug\t16\t12:04:25s -0:04:25 -\nRule\tsol87\t1987\tonly\t-\tAug\t17\t12:04:10s -0:04:10 -\nRule\tsol87\t1987\tonly\t-\tAug\t18\t12:04:00s -0:04:00 -\nRule\tsol87\t1987\tonly\t-\tAug\t19\t12:03:45s -0:03:45 -\nRule\tsol87\t1987\tonly\t-\tAug\t20\t12:03:30s -0:03:30 -\nRule\tsol87\t1987\tonly\t-\tAug\t21\t12:03:15s -0:03:15 -\nRule\tsol87\t1987\tonly\t-\tAug\t22\t12:03:00s -0:03:00 -\nRule\tsol87\t1987\tonly\t-\tAug\t23\t12:02:45s -0:02:45 -\nRule\tsol87\t1987\tonly\t-\tAug\t24\t12:02:30s -0:02:30 -\nRule\tsol87\t1987\tonly\t-\tAug\t25\t12:02:15s -0:02:15 -\nRule\tsol87\t1987\tonly\t-\tAug\t26\t12:02:00s -0:02:00 -\nRule\tsol87\t1987\tonly\t-\tAug\t27\t12:01:40s -0:01:40 -\nRule\tsol87\t1987\tonly\t-\tAug\t28\t12:01:25s -0:01:25 -\nRule\tsol87\t1987\tonly\t-\tAug\t29\t12:01:05s -0:01:05 -\nRule\tsol87\t1987\tonly\t-\tAug\t30\t12:00:50s -0:00:50 -\nRule\tsol87\t1987\tonly\t-\tAug\t31\t12:00:30s -0:00:30 -\nRule\tsol87\t1987\tonly\t-\tSep\t1\t12:00:10s -0:00:10 -\nRule\tsol87\t1987\tonly\t-\tSep\t2\t11:59:50s 0:00:10 -\nRule\tsol87\t1987\tonly\t-\tSep\t3\t11:59:35s 0:00:25 -\nRule\tsol87\t1987\tonly\t-\tSep\t4\t11:59:15s 0:00:45 -\nRule\tsol87\t1987\tonly\t-\tSep\t5\t11:58:55s 0:01:05 -\nRule\tsol87\t1987\tonly\t-\tSep\t6\t11:58:35s 0:01:25 -\nRule\tsol87\t1987\tonly\t-\tSep\t7\t11:58:15s 0:01:45 -\nRule\tsol87\t1987\tonly\t-\tSep\t8\t11:57:55s 0:02:05 -\nRule\tsol87\t1987\tonly\t-\tSep\t9\t11:57:30s 0:02:30 -\nRule\tsol87\t1987\tonly\t-\tSep\t10\t11:57:10s 0:02:50 -\nRule\tsol87\t1987\tonly\t-\tSep\t11\t11:56:50s 0:03:10 -\nRule\tsol87\t1987\tonly\t-\tSep\t12\t11:56:30s 0:03:30 -\nRule\tsol87\t1987\tonly\t-\tSep\t13\t11:56:10s 0:03:50 -\nRule\tsol87\t1987\tonly\t-\tSep\t14\t11:55:45s 0:04:15 -\nRule\tsol87\t1987\tonly\t-\tSep\t15\t11:55:25s 0:04:35 -\nRule\tsol87\t1987\tonly\t-\tSep\t16\t11:55:05s 0:04:55 -\nRule\tsol87\t1987\tonly\t-\tSep\t17\t11:54:45s 0:05:15 -\nRule\tsol87\t1987\tonly\t-\tSep\t18\t11:54:20s 0:05:40 -\nRule\tsol87\t1987\tonly\t-\tSep\t19\t11:54:00s 0:06:00 -\nRule\tsol87\t1987\tonly\t-\tSep\t20\t11:53:40s 0:06:20 -\nRule\tsol87\t1987\tonly\t-\tSep\t21\t11:53:15s 0:06:45 -\nRule\tsol87\t1987\tonly\t-\tSep\t22\t11:52:55s 0:07:05 -\nRule\tsol87\t1987\tonly\t-\tSep\t23\t11:52:35s 0:07:25 -\nRule\tsol87\t1987\tonly\t-\tSep\t24\t11:52:15s 0:07:45 -\nRule\tsol87\t1987\tonly\t-\tSep\t25\t11:51:55s 0:08:05 -\nRule\tsol87\t1987\tonly\t-\tSep\t26\t11:51:35s 0:08:25 -\nRule\tsol87\t1987\tonly\t-\tSep\t27\t11:51:10s 0:08:50 -\nRule\tsol87\t1987\tonly\t-\tSep\t28\t11:50:50s 0:09:10 -\nRule\tsol87\t1987\tonly\t-\tSep\t29\t11:50:30s 0:09:30 -\nRule\tsol87\t1987\tonly\t-\tSep\t30\t11:50:10s 0:09:50 -\nRule\tsol87\t1987\tonly\t-\tOct\t1\t11:49:50s 0:10:10 -\nRule\tsol87\t1987\tonly\t-\tOct\t2\t11:49:35s 0:10:25 -\nRule\tsol87\t1987\tonly\t-\tOct\t3\t11:49:15s 0:10:45 -\nRule\tsol87\t1987\tonly\t-\tOct\t4\t11:48:55s 0:11:05 -\nRule\tsol87\t1987\tonly\t-\tOct\t5\t11:48:35s 0:11:25 -\nRule\tsol87\t1987\tonly\t-\tOct\t6\t11:48:20s 0:11:40 -\nRule\tsol87\t1987\tonly\t-\tOct\t7\t11:48:00s 0:12:00 -\nRule\tsol87\t1987\tonly\t-\tOct\t8\t11:47:45s 0:12:15 -\nRule\tsol87\t1987\tonly\t-\tOct\t9\t11:47:25s 0:12:35 -\nRule\tsol87\t1987\tonly\t-\tOct\t10\t11:47:10s 0:12:50 -\nRule\tsol87\t1987\tonly\t-\tOct\t11\t11:46:55s 0:13:05 -\nRule\tsol87\t1987\tonly\t-\tOct\t12\t11:46:40s 0:13:20 -\nRule\tsol87\t1987\tonly\t-\tOct\t13\t11:46:25s 0:13:35 -\nRule\tsol87\t1987\tonly\t-\tOct\t14\t11:46:10s 0:13:50 -\nRule\tsol87\t1987\tonly\t-\tOct\t15\t11:45:55s 0:14:05 -\nRule\tsol87\t1987\tonly\t-\tOct\t16\t11:45:45s 0:14:15 -\nRule\tsol87\t1987\tonly\t-\tOct\t17\t11:45:30s 0:14:30 -\nRule\tsol87\t1987\tonly\t-\tOct\t18\t11:45:20s 0:14:40 -\nRule\tsol87\t1987\tonly\t-\tOct\t19\t11:45:05s 0:14:55 -\nRule\tsol87\t1987\tonly\t-\tOct\t20\t11:44:55s 0:15:05 -\nRule\tsol87\t1987\tonly\t-\tOct\t21\t11:44:45s 0:15:15 -\nRule\tsol87\t1987\tonly\t-\tOct\t22\t11:44:35s 0:15:25 -\nRule\tsol87\t1987\tonly\t-\tOct\t23\t11:44:25s 0:15:35 -\nRule\tsol87\t1987\tonly\t-\tOct\t24\t11:44:20s 0:15:40 -\nRule\tsol87\t1987\tonly\t-\tOct\t25\t11:44:10s 0:15:50 -\nRule\tsol87\t1987\tonly\t-\tOct\t26\t11:44:05s 0:15:55 -\nRule\tsol87\t1987\tonly\t-\tOct\t27\t11:43:55s 0:16:05 -\nRule\tsol87\t1987\tonly\t-\tOct\t28\t11:43:50s 0:16:10 -\nRule\tsol87\t1987\tonly\t-\tOct\t29\t11:43:45s 0:16:15 -\nRule\tsol87\t1987\tonly\t-\tOct\t30\t11:43:45s 0:16:15 -\nRule\tsol87\t1987\tonly\t-\tOct\t31\t11:43:40s 0:16:20 -\nRule\tsol87\t1987\tonly\t-\tNov\t1\t11:43:40s 0:16:20 -\nRule\tsol87\t1987\tonly\t-\tNov\t2\t11:43:35s 0:16:25 -\nRule\tsol87\t1987\tonly\t-\tNov\t3\t11:43:35s 0:16:25 -\nRule\tsol87\t1987\tonly\t-\tNov\t4\t11:43:35s 0:16:25 -\nRule\tsol87\t1987\tonly\t-\tNov\t5\t11:43:35s 0:16:25 -\nRule\tsol87\t1987\tonly\t-\tNov\t6\t11:43:40s 0:16:20 -\nRule\tsol87\t1987\tonly\t-\tNov\t7\t11:43:40s 0:16:20 -\nRule\tsol87\t1987\tonly\t-\tNov\t8\t11:43:45s 0:16:15 -\nRule\tsol87\t1987\tonly\t-\tNov\t9\t11:43:50s 0:16:10 -\nRule\tsol87\t1987\tonly\t-\tNov\t10\t11:43:55s 0:16:05 -\nRule\tsol87\t1987\tonly\t-\tNov\t11\t11:44:00s 0:16:00 -\nRule\tsol87\t1987\tonly\t-\tNov\t12\t11:44:05s 0:15:55 -\nRule\tsol87\t1987\tonly\t-\tNov\t13\t11:44:15s 0:15:45 -\nRule\tsol87\t1987\tonly\t-\tNov\t14\t11:44:20s 0:15:40 -\nRule\tsol87\t1987\tonly\t-\tNov\t15\t11:44:30s 0:15:30 -\nRule\tsol87\t1987\tonly\t-\tNov\t16\t11:44:40s 0:15:20 -\nRule\tsol87\t1987\tonly\t-\tNov\t17\t11:44:50s 0:15:10 -\nRule\tsol87\t1987\tonly\t-\tNov\t18\t11:45:05s 0:14:55 -\nRule\tsol87\t1987\tonly\t-\tNov\t19\t11:45:15s 0:14:45 -\nRule\tsol87\t1987\tonly\t-\tNov\t20\t11:45:30s 0:14:30 -\nRule\tsol87\t1987\tonly\t-\tNov\t21\t11:45:45s 0:14:15 -\nRule\tsol87\t1987\tonly\t-\tNov\t22\t11:46:00s 0:14:00 -\nRule\tsol87\t1987\tonly\t-\tNov\t23\t11:46:15s 0:13:45 -\nRule\tsol87\t1987\tonly\t-\tNov\t24\t11:46:30s 0:13:30 -\nRule\tsol87\t1987\tonly\t-\tNov\t25\t11:46:50s 0:13:10 -\nRule\tsol87\t1987\tonly\t-\tNov\t26\t11:47:10s 0:12:50 -\nRule\tsol87\t1987\tonly\t-\tNov\t27\t11:47:25s 0:12:35 -\nRule\tsol87\t1987\tonly\t-\tNov\t28\t11:47:45s 0:12:15 -\nRule\tsol87\t1987\tonly\t-\tNov\t29\t11:48:05s 0:11:55 -\nRule\tsol87\t1987\tonly\t-\tNov\t30\t11:48:30s 0:11:30 -\nRule\tsol87\t1987\tonly\t-\tDec\t1\t11:48:50s 0:11:10 -\nRule\tsol87\t1987\tonly\t-\tDec\t2\t11:49:10s 0:10:50 -\nRule\tsol87\t1987\tonly\t-\tDec\t3\t11:49:35s 0:10:25 -\nRule\tsol87\t1987\tonly\t-\tDec\t4\t11:50:00s 0:10:00 -\nRule\tsol87\t1987\tonly\t-\tDec\t5\t11:50:25s 0:09:35 -\nRule\tsol87\t1987\tonly\t-\tDec\t6\t11:50:50s 0:09:10 -\nRule\tsol87\t1987\tonly\t-\tDec\t7\t11:51:15s 0:08:45 -\nRule\tsol87\t1987\tonly\t-\tDec\t8\t11:51:40s 0:08:20 -\nRule\tsol87\t1987\tonly\t-\tDec\t9\t11:52:05s 0:07:55 -\nRule\tsol87\t1987\tonly\t-\tDec\t10\t11:52:30s 0:07:30 -\nRule\tsol87\t1987\tonly\t-\tDec\t11\t11:53:00s 0:07:00 -\nRule\tsol87\t1987\tonly\t-\tDec\t12\t11:53:25s 0:06:35 -\nRule\tsol87\t1987\tonly\t-\tDec\t13\t11:53:55s 0:06:05 -\nRule\tsol87\t1987\tonly\t-\tDec\t14\t11:54:25s 0:05:35 -\nRule\tsol87\t1987\tonly\t-\tDec\t15\t11:54:50s 0:05:10 -\nRule\tsol87\t1987\tonly\t-\tDec\t16\t11:55:20s 0:04:40 -\nRule\tsol87\t1987\tonly\t-\tDec\t17\t11:55:50s 0:04:10 -\nRule\tsol87\t1987\tonly\t-\tDec\t18\t11:56:20s 0:03:40 -\nRule\tsol87\t1987\tonly\t-\tDec\t19\t11:56:50s 0:03:10 -\nRule\tsol87\t1987\tonly\t-\tDec\t20\t11:57:20s 0:02:40 -\nRule\tsol87\t1987\tonly\t-\tDec\t21\t11:57:50s 0:02:10 -\nRule\tsol87\t1987\tonly\t-\tDec\t22\t11:58:20s 0:01:40 -\nRule\tsol87\t1987\tonly\t-\tDec\t23\t11:58:50s 0:01:10 -\nRule\tsol87\t1987\tonly\t-\tDec\t24\t11:59:20s 0:00:40 -\nRule\tsol87\t1987\tonly\t-\tDec\t25\t11:59:50s 0:00:10 -\nRule\tsol87\t1987\tonly\t-\tDec\t26\t12:00:20s -0:00:20 -\nRule\tsol87\t1987\tonly\t-\tDec\t27\t12:00:45s -0:00:45 -\nRule\tsol87\t1987\tonly\t-\tDec\t28\t12:01:15s -0:01:15 -\nRule\tsol87\t1987\tonly\t-\tDec\t29\t12:01:45s -0:01:45 -\nRule\tsol87\t1987\tonly\t-\tDec\t30\t12:02:15s -0:02:15 -\nRule\tsol87\t1987\tonly\t-\tDec\t31\t12:02:45s -0:02:45 -\n\n# Riyadh is at about 46 degrees 46 minutes East:  3 hrs, 7 mins, 4 secs\n# Before and after 1987, we'll operate on local mean solar time.\n\n# Zone\tNAME\t\tGMTOFF\tRULES/SAVE\tFORMAT\t[UNTIL]\nZone\tAsia/Riyadh87\t3:07:04\t-\t\tzzz\t1987\n\t\t\t3:07:04\tsol87\t\tzzz\t1988\n\t\t\t3:07:04\t-\t\tzzz\n# For backward compatibility...\nLink\tAsia/Riyadh87\tMideast/Riyadh87\n";

zone_files['solar88'] = "# <pre>\n# This file is in the public domain, so clarified as of\n# 2009-05-17 by Arthur David Olson.\n\n# Apparent noon times below are for Riyadh; they're a bit off for other places.\n# Times were computed using formulas in the U.S. Naval Observatory's\n# Almanac for Computers 1988; the formulas \"will give EqT to an accuracy of\n# [plus or minus two] seconds during the current year.\"\n#\n# Rounding to the nearest five seconds results in fewer than\n# 256 different \"time types\"--a limit that's faced because time types are\n# stored on disk as unsigned chars.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tsol88\t1988\tonly\t-\tJan\t1\t12:03:15s -0:03:15 -\nRule\tsol88\t1988\tonly\t-\tJan\t2\t12:03:40s -0:03:40 -\nRule\tsol88\t1988\tonly\t-\tJan\t3\t12:04:10s -0:04:10 -\nRule\tsol88\t1988\tonly\t-\tJan\t4\t12:04:40s -0:04:40 -\nRule\tsol88\t1988\tonly\t-\tJan\t5\t12:05:05s -0:05:05 -\nRule\tsol88\t1988\tonly\t-\tJan\t6\t12:05:30s -0:05:30 -\nRule\tsol88\t1988\tonly\t-\tJan\t7\t12:06:00s -0:06:00 -\nRule\tsol88\t1988\tonly\t-\tJan\t8\t12:06:25s -0:06:25 -\nRule\tsol88\t1988\tonly\t-\tJan\t9\t12:06:50s -0:06:50 -\nRule\tsol88\t1988\tonly\t-\tJan\t10\t12:07:15s -0:07:15 -\nRule\tsol88\t1988\tonly\t-\tJan\t11\t12:07:40s -0:07:40 -\nRule\tsol88\t1988\tonly\t-\tJan\t12\t12:08:05s -0:08:05 -\nRule\tsol88\t1988\tonly\t-\tJan\t13\t12:08:25s -0:08:25 -\nRule\tsol88\t1988\tonly\t-\tJan\t14\t12:08:50s -0:08:50 -\nRule\tsol88\t1988\tonly\t-\tJan\t15\t12:09:10s -0:09:10 -\nRule\tsol88\t1988\tonly\t-\tJan\t16\t12:09:30s -0:09:30 -\nRule\tsol88\t1988\tonly\t-\tJan\t17\t12:09:50s -0:09:50 -\nRule\tsol88\t1988\tonly\t-\tJan\t18\t12:10:10s -0:10:10 -\nRule\tsol88\t1988\tonly\t-\tJan\t19\t12:10:30s -0:10:30 -\nRule\tsol88\t1988\tonly\t-\tJan\t20\t12:10:50s -0:10:50 -\nRule\tsol88\t1988\tonly\t-\tJan\t21\t12:11:05s -0:11:05 -\nRule\tsol88\t1988\tonly\t-\tJan\t22\t12:11:25s -0:11:25 -\nRule\tsol88\t1988\tonly\t-\tJan\t23\t12:11:40s -0:11:40 -\nRule\tsol88\t1988\tonly\t-\tJan\t24\t12:11:55s -0:11:55 -\nRule\tsol88\t1988\tonly\t-\tJan\t25\t12:12:10s -0:12:10 -\nRule\tsol88\t1988\tonly\t-\tJan\t26\t12:12:25s -0:12:25 -\nRule\tsol88\t1988\tonly\t-\tJan\t27\t12:12:40s -0:12:40 -\nRule\tsol88\t1988\tonly\t-\tJan\t28\t12:12:50s -0:12:50 -\nRule\tsol88\t1988\tonly\t-\tJan\t29\t12:13:00s -0:13:00 -\nRule\tsol88\t1988\tonly\t-\tJan\t30\t12:13:10s -0:13:10 -\nRule\tsol88\t1988\tonly\t-\tJan\t31\t12:13:20s -0:13:20 -\nRule\tsol88\t1988\tonly\t-\tFeb\t1\t12:13:30s -0:13:30 -\nRule\tsol88\t1988\tonly\t-\tFeb\t2\t12:13:40s -0:13:40 -\nRule\tsol88\t1988\tonly\t-\tFeb\t3\t12:13:45s -0:13:45 -\nRule\tsol88\t1988\tonly\t-\tFeb\t4\t12:13:55s -0:13:55 -\nRule\tsol88\t1988\tonly\t-\tFeb\t5\t12:14:00s -0:14:00 -\nRule\tsol88\t1988\tonly\t-\tFeb\t6\t12:14:05s -0:14:05 -\nRule\tsol88\t1988\tonly\t-\tFeb\t7\t12:14:10s -0:14:10 -\nRule\tsol88\t1988\tonly\t-\tFeb\t8\t12:14:10s -0:14:10 -\nRule\tsol88\t1988\tonly\t-\tFeb\t9\t12:14:15s -0:14:15 -\nRule\tsol88\t1988\tonly\t-\tFeb\t10\t12:14:15s -0:14:15 -\nRule\tsol88\t1988\tonly\t-\tFeb\t11\t12:14:15s -0:14:15 -\nRule\tsol88\t1988\tonly\t-\tFeb\t12\t12:14:15s -0:14:15 -\nRule\tsol88\t1988\tonly\t-\tFeb\t13\t12:14:15s -0:14:15 -\nRule\tsol88\t1988\tonly\t-\tFeb\t14\t12:14:15s -0:14:15 -\nRule\tsol88\t1988\tonly\t-\tFeb\t15\t12:14:10s -0:14:10 -\nRule\tsol88\t1988\tonly\t-\tFeb\t16\t12:14:10s -0:14:10 -\nRule\tsol88\t1988\tonly\t-\tFeb\t17\t12:14:05s -0:14:05 -\nRule\tsol88\t1988\tonly\t-\tFeb\t18\t12:14:00s -0:14:00 -\nRule\tsol88\t1988\tonly\t-\tFeb\t19\t12:13:55s -0:13:55 -\nRule\tsol88\t1988\tonly\t-\tFeb\t20\t12:13:50s -0:13:50 -\nRule\tsol88\t1988\tonly\t-\tFeb\t21\t12:13:45s -0:13:45 -\nRule\tsol88\t1988\tonly\t-\tFeb\t22\t12:13:40s -0:13:40 -\nRule\tsol88\t1988\tonly\t-\tFeb\t23\t12:13:30s -0:13:30 -\nRule\tsol88\t1988\tonly\t-\tFeb\t24\t12:13:20s -0:13:20 -\nRule\tsol88\t1988\tonly\t-\tFeb\t25\t12:13:15s -0:13:15 -\nRule\tsol88\t1988\tonly\t-\tFeb\t26\t12:13:05s -0:13:05 -\nRule\tsol88\t1988\tonly\t-\tFeb\t27\t12:12:55s -0:12:55 -\nRule\tsol88\t1988\tonly\t-\tFeb\t28\t12:12:45s -0:12:45 -\nRule\tsol88\t1988\tonly\t-\tFeb\t29\t12:12:30s -0:12:30 -\nRule\tsol88\t1988\tonly\t-\tMar\t1\t12:12:20s -0:12:20 -\nRule\tsol88\t1988\tonly\t-\tMar\t2\t12:12:10s -0:12:10 -\nRule\tsol88\t1988\tonly\t-\tMar\t3\t12:11:55s -0:11:55 -\nRule\tsol88\t1988\tonly\t-\tMar\t4\t12:11:45s -0:11:45 -\nRule\tsol88\t1988\tonly\t-\tMar\t5\t12:11:30s -0:11:30 -\nRule\tsol88\t1988\tonly\t-\tMar\t6\t12:11:15s -0:11:15 -\nRule\tsol88\t1988\tonly\t-\tMar\t7\t12:11:00s -0:11:00 -\nRule\tsol88\t1988\tonly\t-\tMar\t8\t12:10:45s -0:10:45 -\nRule\tsol88\t1988\tonly\t-\tMar\t9\t12:10:30s -0:10:30 -\nRule\tsol88\t1988\tonly\t-\tMar\t10\t12:10:15s -0:10:15 -\nRule\tsol88\t1988\tonly\t-\tMar\t11\t12:10:00s -0:10:00 -\nRule\tsol88\t1988\tonly\t-\tMar\t12\t12:09:45s -0:09:45 -\nRule\tsol88\t1988\tonly\t-\tMar\t13\t12:09:30s -0:09:30 -\nRule\tsol88\t1988\tonly\t-\tMar\t14\t12:09:10s -0:09:10 -\nRule\tsol88\t1988\tonly\t-\tMar\t15\t12:08:55s -0:08:55 -\nRule\tsol88\t1988\tonly\t-\tMar\t16\t12:08:40s -0:08:40 -\nRule\tsol88\t1988\tonly\t-\tMar\t17\t12:08:20s -0:08:20 -\nRule\tsol88\t1988\tonly\t-\tMar\t18\t12:08:05s -0:08:05 -\nRule\tsol88\t1988\tonly\t-\tMar\t19\t12:07:45s -0:07:45 -\nRule\tsol88\t1988\tonly\t-\tMar\t20\t12:07:30s -0:07:30 -\nRule\tsol88\t1988\tonly\t-\tMar\t21\t12:07:10s -0:07:10 -\nRule\tsol88\t1988\tonly\t-\tMar\t22\t12:06:50s -0:06:50 -\nRule\tsol88\t1988\tonly\t-\tMar\t23\t12:06:35s -0:06:35 -\nRule\tsol88\t1988\tonly\t-\tMar\t24\t12:06:15s -0:06:15 -\nRule\tsol88\t1988\tonly\t-\tMar\t25\t12:06:00s -0:06:00 -\nRule\tsol88\t1988\tonly\t-\tMar\t26\t12:05:40s -0:05:40 -\nRule\tsol88\t1988\tonly\t-\tMar\t27\t12:05:20s -0:05:20 -\nRule\tsol88\t1988\tonly\t-\tMar\t28\t12:05:05s -0:05:05 -\nRule\tsol88\t1988\tonly\t-\tMar\t29\t12:04:45s -0:04:45 -\nRule\tsol88\t1988\tonly\t-\tMar\t30\t12:04:25s -0:04:25 -\nRule\tsol88\t1988\tonly\t-\tMar\t31\t12:04:10s -0:04:10 -\nRule\tsol88\t1988\tonly\t-\tApr\t1\t12:03:50s -0:03:50 -\nRule\tsol88\t1988\tonly\t-\tApr\t2\t12:03:35s -0:03:35 -\nRule\tsol88\t1988\tonly\t-\tApr\t3\t12:03:15s -0:03:15 -\nRule\tsol88\t1988\tonly\t-\tApr\t4\t12:03:00s -0:03:00 -\nRule\tsol88\t1988\tonly\t-\tApr\t5\t12:02:40s -0:02:40 -\nRule\tsol88\t1988\tonly\t-\tApr\t6\t12:02:25s -0:02:25 -\nRule\tsol88\t1988\tonly\t-\tApr\t7\t12:02:05s -0:02:05 -\nRule\tsol88\t1988\tonly\t-\tApr\t8\t12:01:50s -0:01:50 -\nRule\tsol88\t1988\tonly\t-\tApr\t9\t12:01:35s -0:01:35 -\nRule\tsol88\t1988\tonly\t-\tApr\t10\t12:01:15s -0:01:15 -\nRule\tsol88\t1988\tonly\t-\tApr\t11\t12:01:00s -0:01:00 -\nRule\tsol88\t1988\tonly\t-\tApr\t12\t12:00:45s -0:00:45 -\nRule\tsol88\t1988\tonly\t-\tApr\t13\t12:00:30s -0:00:30 -\nRule\tsol88\t1988\tonly\t-\tApr\t14\t12:00:15s -0:00:15 -\nRule\tsol88\t1988\tonly\t-\tApr\t15\t12:00:00s 0:00:00 -\nRule\tsol88\t1988\tonly\t-\tApr\t16\t11:59:45s 0:00:15 -\nRule\tsol88\t1988\tonly\t-\tApr\t17\t11:59:30s 0:00:30 -\nRule\tsol88\t1988\tonly\t-\tApr\t18\t11:59:20s 0:00:40 -\nRule\tsol88\t1988\tonly\t-\tApr\t19\t11:59:05s 0:00:55 -\nRule\tsol88\t1988\tonly\t-\tApr\t20\t11:58:55s 0:01:05 -\nRule\tsol88\t1988\tonly\t-\tApr\t21\t11:58:40s 0:01:20 -\nRule\tsol88\t1988\tonly\t-\tApr\t22\t11:58:30s 0:01:30 -\nRule\tsol88\t1988\tonly\t-\tApr\t23\t11:58:15s 0:01:45 -\nRule\tsol88\t1988\tonly\t-\tApr\t24\t11:58:05s 0:01:55 -\nRule\tsol88\t1988\tonly\t-\tApr\t25\t11:57:55s 0:02:05 -\nRule\tsol88\t1988\tonly\t-\tApr\t26\t11:57:45s 0:02:15 -\nRule\tsol88\t1988\tonly\t-\tApr\t27\t11:57:35s 0:02:25 -\nRule\tsol88\t1988\tonly\t-\tApr\t28\t11:57:30s 0:02:30 -\nRule\tsol88\t1988\tonly\t-\tApr\t29\t11:57:20s 0:02:40 -\nRule\tsol88\t1988\tonly\t-\tApr\t30\t11:57:10s 0:02:50 -\nRule\tsol88\t1988\tonly\t-\tMay\t1\t11:57:05s 0:02:55 -\nRule\tsol88\t1988\tonly\t-\tMay\t2\t11:56:55s 0:03:05 -\nRule\tsol88\t1988\tonly\t-\tMay\t3\t11:56:50s 0:03:10 -\nRule\tsol88\t1988\tonly\t-\tMay\t4\t11:56:45s 0:03:15 -\nRule\tsol88\t1988\tonly\t-\tMay\t5\t11:56:40s 0:03:20 -\nRule\tsol88\t1988\tonly\t-\tMay\t6\t11:56:35s 0:03:25 -\nRule\tsol88\t1988\tonly\t-\tMay\t7\t11:56:30s 0:03:30 -\nRule\tsol88\t1988\tonly\t-\tMay\t8\t11:56:25s 0:03:35 -\nRule\tsol88\t1988\tonly\t-\tMay\t9\t11:56:25s 0:03:35 -\nRule\tsol88\t1988\tonly\t-\tMay\t10\t11:56:20s 0:03:40 -\nRule\tsol88\t1988\tonly\t-\tMay\t11\t11:56:20s 0:03:40 -\nRule\tsol88\t1988\tonly\t-\tMay\t12\t11:56:20s 0:03:40 -\nRule\tsol88\t1988\tonly\t-\tMay\t13\t11:56:20s 0:03:40 -\nRule\tsol88\t1988\tonly\t-\tMay\t14\t11:56:20s 0:03:40 -\nRule\tsol88\t1988\tonly\t-\tMay\t15\t11:56:20s 0:03:40 -\nRule\tsol88\t1988\tonly\t-\tMay\t16\t11:56:20s 0:03:40 -\nRule\tsol88\t1988\tonly\t-\tMay\t17\t11:56:20s 0:03:40 -\nRule\tsol88\t1988\tonly\t-\tMay\t18\t11:56:25s 0:03:35 -\nRule\tsol88\t1988\tonly\t-\tMay\t19\t11:56:25s 0:03:35 -\nRule\tsol88\t1988\tonly\t-\tMay\t20\t11:56:30s 0:03:30 -\nRule\tsol88\t1988\tonly\t-\tMay\t21\t11:56:35s 0:03:25 -\nRule\tsol88\t1988\tonly\t-\tMay\t22\t11:56:40s 0:03:20 -\nRule\tsol88\t1988\tonly\t-\tMay\t23\t11:56:45s 0:03:15 -\nRule\tsol88\t1988\tonly\t-\tMay\t24\t11:56:50s 0:03:10 -\nRule\tsol88\t1988\tonly\t-\tMay\t25\t11:56:55s 0:03:05 -\nRule\tsol88\t1988\tonly\t-\tMay\t26\t11:57:00s 0:03:00 -\nRule\tsol88\t1988\tonly\t-\tMay\t27\t11:57:05s 0:02:55 -\nRule\tsol88\t1988\tonly\t-\tMay\t28\t11:57:15s 0:02:45 -\nRule\tsol88\t1988\tonly\t-\tMay\t29\t11:57:20s 0:02:40 -\nRule\tsol88\t1988\tonly\t-\tMay\t30\t11:57:30s 0:02:30 -\nRule\tsol88\t1988\tonly\t-\tMay\t31\t11:57:40s 0:02:20 -\nRule\tsol88\t1988\tonly\t-\tJun\t1\t11:57:50s 0:02:10 -\nRule\tsol88\t1988\tonly\t-\tJun\t2\t11:57:55s 0:02:05 -\nRule\tsol88\t1988\tonly\t-\tJun\t3\t11:58:05s 0:01:55 -\nRule\tsol88\t1988\tonly\t-\tJun\t4\t11:58:15s 0:01:45 -\nRule\tsol88\t1988\tonly\t-\tJun\t5\t11:58:30s 0:01:30 -\nRule\tsol88\t1988\tonly\t-\tJun\t6\t11:58:40s 0:01:20 -\nRule\tsol88\t1988\tonly\t-\tJun\t7\t11:58:50s 0:01:10 -\nRule\tsol88\t1988\tonly\t-\tJun\t8\t11:59:00s 0:01:00 -\nRule\tsol88\t1988\tonly\t-\tJun\t9\t11:59:15s 0:00:45 -\nRule\tsol88\t1988\tonly\t-\tJun\t10\t11:59:25s 0:00:35 -\nRule\tsol88\t1988\tonly\t-\tJun\t11\t11:59:35s 0:00:25 -\nRule\tsol88\t1988\tonly\t-\tJun\t12\t11:59:50s 0:00:10 -\nRule\tsol88\t1988\tonly\t-\tJun\t13\t12:00:00s 0:00:00 -\nRule\tsol88\t1988\tonly\t-\tJun\t14\t12:00:15s -0:00:15 -\nRule\tsol88\t1988\tonly\t-\tJun\t15\t12:00:25s -0:00:25 -\nRule\tsol88\t1988\tonly\t-\tJun\t16\t12:00:40s -0:00:40 -\nRule\tsol88\t1988\tonly\t-\tJun\t17\t12:00:55s -0:00:55 -\nRule\tsol88\t1988\tonly\t-\tJun\t18\t12:01:05s -0:01:05 -\nRule\tsol88\t1988\tonly\t-\tJun\t19\t12:01:20s -0:01:20 -\nRule\tsol88\t1988\tonly\t-\tJun\t20\t12:01:30s -0:01:30 -\nRule\tsol88\t1988\tonly\t-\tJun\t21\t12:01:45s -0:01:45 -\nRule\tsol88\t1988\tonly\t-\tJun\t22\t12:02:00s -0:02:00 -\nRule\tsol88\t1988\tonly\t-\tJun\t23\t12:02:10s -0:02:10 -\nRule\tsol88\t1988\tonly\t-\tJun\t24\t12:02:25s -0:02:25 -\nRule\tsol88\t1988\tonly\t-\tJun\t25\t12:02:35s -0:02:35 -\nRule\tsol88\t1988\tonly\t-\tJun\t26\t12:02:50s -0:02:50 -\nRule\tsol88\t1988\tonly\t-\tJun\t27\t12:03:00s -0:03:00 -\nRule\tsol88\t1988\tonly\t-\tJun\t28\t12:03:15s -0:03:15 -\nRule\tsol88\t1988\tonly\t-\tJun\t29\t12:03:25s -0:03:25 -\nRule\tsol88\t1988\tonly\t-\tJun\t30\t12:03:40s -0:03:40 -\nRule\tsol88\t1988\tonly\t-\tJul\t1\t12:03:50s -0:03:50 -\nRule\tsol88\t1988\tonly\t-\tJul\t2\t12:04:00s -0:04:00 -\nRule\tsol88\t1988\tonly\t-\tJul\t3\t12:04:10s -0:04:10 -\nRule\tsol88\t1988\tonly\t-\tJul\t4\t12:04:25s -0:04:25 -\nRule\tsol88\t1988\tonly\t-\tJul\t5\t12:04:35s -0:04:35 -\nRule\tsol88\t1988\tonly\t-\tJul\t6\t12:04:45s -0:04:45 -\nRule\tsol88\t1988\tonly\t-\tJul\t7\t12:04:55s -0:04:55 -\nRule\tsol88\t1988\tonly\t-\tJul\t8\t12:05:05s -0:05:05 -\nRule\tsol88\t1988\tonly\t-\tJul\t9\t12:05:10s -0:05:10 -\nRule\tsol88\t1988\tonly\t-\tJul\t10\t12:05:20s -0:05:20 -\nRule\tsol88\t1988\tonly\t-\tJul\t11\t12:05:30s -0:05:30 -\nRule\tsol88\t1988\tonly\t-\tJul\t12\t12:05:35s -0:05:35 -\nRule\tsol88\t1988\tonly\t-\tJul\t13\t12:05:45s -0:05:45 -\nRule\tsol88\t1988\tonly\t-\tJul\t14\t12:05:50s -0:05:50 -\nRule\tsol88\t1988\tonly\t-\tJul\t15\t12:05:55s -0:05:55 -\nRule\tsol88\t1988\tonly\t-\tJul\t16\t12:06:00s -0:06:00 -\nRule\tsol88\t1988\tonly\t-\tJul\t17\t12:06:05s -0:06:05 -\nRule\tsol88\t1988\tonly\t-\tJul\t18\t12:06:10s -0:06:10 -\nRule\tsol88\t1988\tonly\t-\tJul\t19\t12:06:15s -0:06:15 -\nRule\tsol88\t1988\tonly\t-\tJul\t20\t12:06:20s -0:06:20 -\nRule\tsol88\t1988\tonly\t-\tJul\t21\t12:06:25s -0:06:25 -\nRule\tsol88\t1988\tonly\t-\tJul\t22\t12:06:25s -0:06:25 -\nRule\tsol88\t1988\tonly\t-\tJul\t23\t12:06:25s -0:06:25 -\nRule\tsol88\t1988\tonly\t-\tJul\t24\t12:06:30s -0:06:30 -\nRule\tsol88\t1988\tonly\t-\tJul\t25\t12:06:30s -0:06:30 -\nRule\tsol88\t1988\tonly\t-\tJul\t26\t12:06:30s -0:06:30 -\nRule\tsol88\t1988\tonly\t-\tJul\t27\t12:06:30s -0:06:30 -\nRule\tsol88\t1988\tonly\t-\tJul\t28\t12:06:30s -0:06:30 -\nRule\tsol88\t1988\tonly\t-\tJul\t29\t12:06:25s -0:06:25 -\nRule\tsol88\t1988\tonly\t-\tJul\t30\t12:06:25s -0:06:25 -\nRule\tsol88\t1988\tonly\t-\tJul\t31\t12:06:20s -0:06:20 -\nRule\tsol88\t1988\tonly\t-\tAug\t1\t12:06:15s -0:06:15 -\nRule\tsol88\t1988\tonly\t-\tAug\t2\t12:06:15s -0:06:15 -\nRule\tsol88\t1988\tonly\t-\tAug\t3\t12:06:10s -0:06:10 -\nRule\tsol88\t1988\tonly\t-\tAug\t4\t12:06:05s -0:06:05 -\nRule\tsol88\t1988\tonly\t-\tAug\t5\t12:05:55s -0:05:55 -\nRule\tsol88\t1988\tonly\t-\tAug\t6\t12:05:50s -0:05:50 -\nRule\tsol88\t1988\tonly\t-\tAug\t7\t12:05:45s -0:05:45 -\nRule\tsol88\t1988\tonly\t-\tAug\t8\t12:05:35s -0:05:35 -\nRule\tsol88\t1988\tonly\t-\tAug\t9\t12:05:25s -0:05:25 -\nRule\tsol88\t1988\tonly\t-\tAug\t10\t12:05:20s -0:05:20 -\nRule\tsol88\t1988\tonly\t-\tAug\t11\t12:05:10s -0:05:10 -\nRule\tsol88\t1988\tonly\t-\tAug\t12\t12:05:00s -0:05:00 -\nRule\tsol88\t1988\tonly\t-\tAug\t13\t12:04:50s -0:04:50 -\nRule\tsol88\t1988\tonly\t-\tAug\t14\t12:04:35s -0:04:35 -\nRule\tsol88\t1988\tonly\t-\tAug\t15\t12:04:25s -0:04:25 -\nRule\tsol88\t1988\tonly\t-\tAug\t16\t12:04:15s -0:04:15 -\nRule\tsol88\t1988\tonly\t-\tAug\t17\t12:04:00s -0:04:00 -\nRule\tsol88\t1988\tonly\t-\tAug\t18\t12:03:50s -0:03:50 -\nRule\tsol88\t1988\tonly\t-\tAug\t19\t12:03:35s -0:03:35 -\nRule\tsol88\t1988\tonly\t-\tAug\t20\t12:03:20s -0:03:20 -\nRule\tsol88\t1988\tonly\t-\tAug\t21\t12:03:05s -0:03:05 -\nRule\tsol88\t1988\tonly\t-\tAug\t22\t12:02:50s -0:02:50 -\nRule\tsol88\t1988\tonly\t-\tAug\t23\t12:02:35s -0:02:35 -\nRule\tsol88\t1988\tonly\t-\tAug\t24\t12:02:20s -0:02:20 -\nRule\tsol88\t1988\tonly\t-\tAug\t25\t12:02:00s -0:02:00 -\nRule\tsol88\t1988\tonly\t-\tAug\t26\t12:01:45s -0:01:45 -\nRule\tsol88\t1988\tonly\t-\tAug\t27\t12:01:30s -0:01:30 -\nRule\tsol88\t1988\tonly\t-\tAug\t28\t12:01:10s -0:01:10 -\nRule\tsol88\t1988\tonly\t-\tAug\t29\t12:00:50s -0:00:50 -\nRule\tsol88\t1988\tonly\t-\tAug\t30\t12:00:35s -0:00:35 -\nRule\tsol88\t1988\tonly\t-\tAug\t31\t12:00:15s -0:00:15 -\nRule\tsol88\t1988\tonly\t-\tSep\t1\t11:59:55s 0:00:05 -\nRule\tsol88\t1988\tonly\t-\tSep\t2\t11:59:35s 0:00:25 -\nRule\tsol88\t1988\tonly\t-\tSep\t3\t11:59:20s 0:00:40 -\nRule\tsol88\t1988\tonly\t-\tSep\t4\t11:59:00s 0:01:00 -\nRule\tsol88\t1988\tonly\t-\tSep\t5\t11:58:40s 0:01:20 -\nRule\tsol88\t1988\tonly\t-\tSep\t6\t11:58:20s 0:01:40 -\nRule\tsol88\t1988\tonly\t-\tSep\t7\t11:58:00s 0:02:00 -\nRule\tsol88\t1988\tonly\t-\tSep\t8\t11:57:35s 0:02:25 -\nRule\tsol88\t1988\tonly\t-\tSep\t9\t11:57:15s 0:02:45 -\nRule\tsol88\t1988\tonly\t-\tSep\t10\t11:56:55s 0:03:05 -\nRule\tsol88\t1988\tonly\t-\tSep\t11\t11:56:35s 0:03:25 -\nRule\tsol88\t1988\tonly\t-\tSep\t12\t11:56:15s 0:03:45 -\nRule\tsol88\t1988\tonly\t-\tSep\t13\t11:55:50s 0:04:10 -\nRule\tsol88\t1988\tonly\t-\tSep\t14\t11:55:30s 0:04:30 -\nRule\tsol88\t1988\tonly\t-\tSep\t15\t11:55:10s 0:04:50 -\nRule\tsol88\t1988\tonly\t-\tSep\t16\t11:54:50s 0:05:10 -\nRule\tsol88\t1988\tonly\t-\tSep\t17\t11:54:25s 0:05:35 -\nRule\tsol88\t1988\tonly\t-\tSep\t18\t11:54:05s 0:05:55 -\nRule\tsol88\t1988\tonly\t-\tSep\t19\t11:53:45s 0:06:15 -\nRule\tsol88\t1988\tonly\t-\tSep\t20\t11:53:25s 0:06:35 -\nRule\tsol88\t1988\tonly\t-\tSep\t21\t11:53:00s 0:07:00 -\nRule\tsol88\t1988\tonly\t-\tSep\t22\t11:52:40s 0:07:20 -\nRule\tsol88\t1988\tonly\t-\tSep\t23\t11:52:20s 0:07:40 -\nRule\tsol88\t1988\tonly\t-\tSep\t24\t11:52:00s 0:08:00 -\nRule\tsol88\t1988\tonly\t-\tSep\t25\t11:51:40s 0:08:20 -\nRule\tsol88\t1988\tonly\t-\tSep\t26\t11:51:15s 0:08:45 -\nRule\tsol88\t1988\tonly\t-\tSep\t27\t11:50:55s 0:09:05 -\nRule\tsol88\t1988\tonly\t-\tSep\t28\t11:50:35s 0:09:25 -\nRule\tsol88\t1988\tonly\t-\tSep\t29\t11:50:15s 0:09:45 -\nRule\tsol88\t1988\tonly\t-\tSep\t30\t11:49:55s 0:10:05 -\nRule\tsol88\t1988\tonly\t-\tOct\t1\t11:49:35s 0:10:25 -\nRule\tsol88\t1988\tonly\t-\tOct\t2\t11:49:20s 0:10:40 -\nRule\tsol88\t1988\tonly\t-\tOct\t3\t11:49:00s 0:11:00 -\nRule\tsol88\t1988\tonly\t-\tOct\t4\t11:48:40s 0:11:20 -\nRule\tsol88\t1988\tonly\t-\tOct\t5\t11:48:25s 0:11:35 -\nRule\tsol88\t1988\tonly\t-\tOct\t6\t11:48:05s 0:11:55 -\nRule\tsol88\t1988\tonly\t-\tOct\t7\t11:47:50s 0:12:10 -\nRule\tsol88\t1988\tonly\t-\tOct\t8\t11:47:30s 0:12:30 -\nRule\tsol88\t1988\tonly\t-\tOct\t9\t11:47:15s 0:12:45 -\nRule\tsol88\t1988\tonly\t-\tOct\t10\t11:47:00s 0:13:00 -\nRule\tsol88\t1988\tonly\t-\tOct\t11\t11:46:45s 0:13:15 -\nRule\tsol88\t1988\tonly\t-\tOct\t12\t11:46:30s 0:13:30 -\nRule\tsol88\t1988\tonly\t-\tOct\t13\t11:46:15s 0:13:45 -\nRule\tsol88\t1988\tonly\t-\tOct\t14\t11:46:00s 0:14:00 -\nRule\tsol88\t1988\tonly\t-\tOct\t15\t11:45:45s 0:14:15 -\nRule\tsol88\t1988\tonly\t-\tOct\t16\t11:45:35s 0:14:25 -\nRule\tsol88\t1988\tonly\t-\tOct\t17\t11:45:20s 0:14:40 -\nRule\tsol88\t1988\tonly\t-\tOct\t18\t11:45:10s 0:14:50 -\nRule\tsol88\t1988\tonly\t-\tOct\t19\t11:45:00s 0:15:00 -\nRule\tsol88\t1988\tonly\t-\tOct\t20\t11:44:45s 0:15:15 -\nRule\tsol88\t1988\tonly\t-\tOct\t21\t11:44:40s 0:15:20 -\nRule\tsol88\t1988\tonly\t-\tOct\t22\t11:44:30s 0:15:30 -\nRule\tsol88\t1988\tonly\t-\tOct\t23\t11:44:20s 0:15:40 -\nRule\tsol88\t1988\tonly\t-\tOct\t24\t11:44:10s 0:15:50 -\nRule\tsol88\t1988\tonly\t-\tOct\t25\t11:44:05s 0:15:55 -\nRule\tsol88\t1988\tonly\t-\tOct\t26\t11:44:00s 0:16:00 -\nRule\tsol88\t1988\tonly\t-\tOct\t27\t11:43:55s 0:16:05 -\nRule\tsol88\t1988\tonly\t-\tOct\t28\t11:43:50s 0:16:10 -\nRule\tsol88\t1988\tonly\t-\tOct\t29\t11:43:45s 0:16:15 -\nRule\tsol88\t1988\tonly\t-\tOct\t30\t11:43:40s 0:16:20 -\nRule\tsol88\t1988\tonly\t-\tOct\t31\t11:43:40s 0:16:20 -\nRule\tsol88\t1988\tonly\t-\tNov\t1\t11:43:35s 0:16:25 -\nRule\tsol88\t1988\tonly\t-\tNov\t2\t11:43:35s 0:16:25 -\nRule\tsol88\t1988\tonly\t-\tNov\t3\t11:43:35s 0:16:25 -\nRule\tsol88\t1988\tonly\t-\tNov\t4\t11:43:35s 0:16:25 -\nRule\tsol88\t1988\tonly\t-\tNov\t5\t11:43:40s 0:16:20 -\nRule\tsol88\t1988\tonly\t-\tNov\t6\t11:43:40s 0:16:20 -\nRule\tsol88\t1988\tonly\t-\tNov\t7\t11:43:45s 0:16:15 -\nRule\tsol88\t1988\tonly\t-\tNov\t8\t11:43:45s 0:16:15 -\nRule\tsol88\t1988\tonly\t-\tNov\t9\t11:43:50s 0:16:10 -\nRule\tsol88\t1988\tonly\t-\tNov\t10\t11:44:00s 0:16:00 -\nRule\tsol88\t1988\tonly\t-\tNov\t11\t11:44:05s 0:15:55 -\nRule\tsol88\t1988\tonly\t-\tNov\t12\t11:44:10s 0:15:50 -\nRule\tsol88\t1988\tonly\t-\tNov\t13\t11:44:20s 0:15:40 -\nRule\tsol88\t1988\tonly\t-\tNov\t14\t11:44:30s 0:15:30 -\nRule\tsol88\t1988\tonly\t-\tNov\t15\t11:44:40s 0:15:20 -\nRule\tsol88\t1988\tonly\t-\tNov\t16\t11:44:50s 0:15:10 -\nRule\tsol88\t1988\tonly\t-\tNov\t17\t11:45:00s 0:15:00 -\nRule\tsol88\t1988\tonly\t-\tNov\t18\t11:45:15s 0:14:45 -\nRule\tsol88\t1988\tonly\t-\tNov\t19\t11:45:25s 0:14:35 -\nRule\tsol88\t1988\tonly\t-\tNov\t20\t11:45:40s 0:14:20 -\nRule\tsol88\t1988\tonly\t-\tNov\t21\t11:45:55s 0:14:05 -\nRule\tsol88\t1988\tonly\t-\tNov\t22\t11:46:10s 0:13:50 -\nRule\tsol88\t1988\tonly\t-\tNov\t23\t11:46:30s 0:13:30 -\nRule\tsol88\t1988\tonly\t-\tNov\t24\t11:46:45s 0:13:15 -\nRule\tsol88\t1988\tonly\t-\tNov\t25\t11:47:05s 0:12:55 -\nRule\tsol88\t1988\tonly\t-\tNov\t26\t11:47:20s 0:12:40 -\nRule\tsol88\t1988\tonly\t-\tNov\t27\t11:47:40s 0:12:20 -\nRule\tsol88\t1988\tonly\t-\tNov\t28\t11:48:00s 0:12:00 -\nRule\tsol88\t1988\tonly\t-\tNov\t29\t11:48:25s 0:11:35 -\nRule\tsol88\t1988\tonly\t-\tNov\t30\t11:48:45s 0:11:15 -\nRule\tsol88\t1988\tonly\t-\tDec\t1\t11:49:05s 0:10:55 -\nRule\tsol88\t1988\tonly\t-\tDec\t2\t11:49:30s 0:10:30 -\nRule\tsol88\t1988\tonly\t-\tDec\t3\t11:49:55s 0:10:05 -\nRule\tsol88\t1988\tonly\t-\tDec\t4\t11:50:15s 0:09:45 -\nRule\tsol88\t1988\tonly\t-\tDec\t5\t11:50:40s 0:09:20 -\nRule\tsol88\t1988\tonly\t-\tDec\t6\t11:51:05s 0:08:55 -\nRule\tsol88\t1988\tonly\t-\tDec\t7\t11:51:35s 0:08:25 -\nRule\tsol88\t1988\tonly\t-\tDec\t8\t11:52:00s 0:08:00 -\nRule\tsol88\t1988\tonly\t-\tDec\t9\t11:52:25s 0:07:35 -\nRule\tsol88\t1988\tonly\t-\tDec\t10\t11:52:55s 0:07:05 -\nRule\tsol88\t1988\tonly\t-\tDec\t11\t11:53:20s 0:06:40 -\nRule\tsol88\t1988\tonly\t-\tDec\t12\t11:53:50s 0:06:10 -\nRule\tsol88\t1988\tonly\t-\tDec\t13\t11:54:15s 0:05:45 -\nRule\tsol88\t1988\tonly\t-\tDec\t14\t11:54:45s 0:05:15 -\nRule\tsol88\t1988\tonly\t-\tDec\t15\t11:55:15s 0:04:45 -\nRule\tsol88\t1988\tonly\t-\tDec\t16\t11:55:45s 0:04:15 -\nRule\tsol88\t1988\tonly\t-\tDec\t17\t11:56:15s 0:03:45 -\nRule\tsol88\t1988\tonly\t-\tDec\t18\t11:56:40s 0:03:20 -\nRule\tsol88\t1988\tonly\t-\tDec\t19\t11:57:10s 0:02:50 -\nRule\tsol88\t1988\tonly\t-\tDec\t20\t11:57:40s 0:02:20 -\nRule\tsol88\t1988\tonly\t-\tDec\t21\t11:58:10s 0:01:50 -\nRule\tsol88\t1988\tonly\t-\tDec\t22\t11:58:40s 0:01:20 -\nRule\tsol88\t1988\tonly\t-\tDec\t23\t11:59:10s 0:00:50 -\nRule\tsol88\t1988\tonly\t-\tDec\t24\t11:59:40s 0:00:20 -\nRule\tsol88\t1988\tonly\t-\tDec\t25\t12:00:10s -0:00:10 -\nRule\tsol88\t1988\tonly\t-\tDec\t26\t12:00:40s -0:00:40 -\nRule\tsol88\t1988\tonly\t-\tDec\t27\t12:01:10s -0:01:10 -\nRule\tsol88\t1988\tonly\t-\tDec\t28\t12:01:40s -0:01:40 -\nRule\tsol88\t1988\tonly\t-\tDec\t29\t12:02:10s -0:02:10 -\nRule\tsol88\t1988\tonly\t-\tDec\t30\t12:02:35s -0:02:35 -\nRule\tsol88\t1988\tonly\t-\tDec\t31\t12:03:05s -0:03:05 -\n\n# Riyadh is at about 46 degrees 46 minutes East:  3 hrs, 7 mins, 4 secs\n# Before and after 1988, we'll operate on local mean solar time.\n\n# Zone\tNAME\t\tGMTOFF\tRULES/SAVE\tFORMAT\t[UNTIL]\nZone\tAsia/Riyadh88\t3:07:04\t-\t\tzzz\t1988\n\t\t\t3:07:04\tsol88\t\tzzz\t1989\n\t\t\t3:07:04\t-\t\tzzz\n# For backward compatibility...\nLink\tAsia/Riyadh88\tMideast/Riyadh88\n";

zone_files['solar89'] = "# <pre>\n# This file is in the public domain, so clarified as of\n# 2009-05-17 by Arthur David Olson.\n\n# Apparent noon times below are for Riyadh; they're a bit off for other places.\n# Times were computed using a formula provided by the U. S. Naval Observatory:\n#\teqt = -105.8 * sin(l) + 596.2 * sin(2 * l) + 4.4 * sin(3 * l)\n#\t\t-12.7 * sin(4 * l) - 429.0 * cos(l) - 2.1 * cos (2 * l)\n#\t\t+ 19.3 * cos(3 * l);\n# where l is the \"mean longitude of the Sun\" given by\n#\tl = 279.642 degrees + 0.985647 * d\n# and d is the interval in days from January 0, 0 hours Universal Time\n# (equaling the day of the year plus the fraction of a day from zero hours).\n# The accuracy of the formula is plus or minus three seconds.\n#\n# Rounding to the nearest five seconds results in fewer than\n# 256 different \"time types\"--a limit that's faced because time types are\n# stored on disk as unsigned chars.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tsol89\t1989\tonly\t-\tJan\t1\t12:03:35s -0:03:35 -\nRule\tsol89\t1989\tonly\t-\tJan\t2\t12:04:05s -0:04:05 -\nRule\tsol89\t1989\tonly\t-\tJan\t3\t12:04:30s -0:04:30 -\nRule\tsol89\t1989\tonly\t-\tJan\t4\t12:05:00s -0:05:00 -\nRule\tsol89\t1989\tonly\t-\tJan\t5\t12:05:25s -0:05:25 -\nRule\tsol89\t1989\tonly\t-\tJan\t6\t12:05:50s -0:05:50 -\nRule\tsol89\t1989\tonly\t-\tJan\t7\t12:06:15s -0:06:15 -\nRule\tsol89\t1989\tonly\t-\tJan\t8\t12:06:45s -0:06:45 -\nRule\tsol89\t1989\tonly\t-\tJan\t9\t12:07:10s -0:07:10 -\nRule\tsol89\t1989\tonly\t-\tJan\t10\t12:07:35s -0:07:35 -\nRule\tsol89\t1989\tonly\t-\tJan\t11\t12:07:55s -0:07:55 -\nRule\tsol89\t1989\tonly\t-\tJan\t12\t12:08:20s -0:08:20 -\nRule\tsol89\t1989\tonly\t-\tJan\t13\t12:08:45s -0:08:45 -\nRule\tsol89\t1989\tonly\t-\tJan\t14\t12:09:05s -0:09:05 -\nRule\tsol89\t1989\tonly\t-\tJan\t15\t12:09:25s -0:09:25 -\nRule\tsol89\t1989\tonly\t-\tJan\t16\t12:09:45s -0:09:45 -\nRule\tsol89\t1989\tonly\t-\tJan\t17\t12:10:05s -0:10:05 -\nRule\tsol89\t1989\tonly\t-\tJan\t18\t12:10:25s -0:10:25 -\nRule\tsol89\t1989\tonly\t-\tJan\t19\t12:10:45s -0:10:45 -\nRule\tsol89\t1989\tonly\t-\tJan\t20\t12:11:05s -0:11:05 -\nRule\tsol89\t1989\tonly\t-\tJan\t21\t12:11:20s -0:11:20 -\nRule\tsol89\t1989\tonly\t-\tJan\t22\t12:11:35s -0:11:35 -\nRule\tsol89\t1989\tonly\t-\tJan\t23\t12:11:55s -0:11:55 -\nRule\tsol89\t1989\tonly\t-\tJan\t24\t12:12:10s -0:12:10 -\nRule\tsol89\t1989\tonly\t-\tJan\t25\t12:12:20s -0:12:20 -\nRule\tsol89\t1989\tonly\t-\tJan\t26\t12:12:35s -0:12:35 -\nRule\tsol89\t1989\tonly\t-\tJan\t27\t12:12:50s -0:12:50 -\nRule\tsol89\t1989\tonly\t-\tJan\t28\t12:13:00s -0:13:00 -\nRule\tsol89\t1989\tonly\t-\tJan\t29\t12:13:10s -0:13:10 -\nRule\tsol89\t1989\tonly\t-\tJan\t30\t12:13:20s -0:13:20 -\nRule\tsol89\t1989\tonly\t-\tJan\t31\t12:13:30s -0:13:30 -\nRule\tsol89\t1989\tonly\t-\tFeb\t1\t12:13:40s -0:13:40 -\nRule\tsol89\t1989\tonly\t-\tFeb\t2\t12:13:45s -0:13:45 -\nRule\tsol89\t1989\tonly\t-\tFeb\t3\t12:13:55s -0:13:55 -\nRule\tsol89\t1989\tonly\t-\tFeb\t4\t12:14:00s -0:14:00 -\nRule\tsol89\t1989\tonly\t-\tFeb\t5\t12:14:05s -0:14:05 -\nRule\tsol89\t1989\tonly\t-\tFeb\t6\t12:14:10s -0:14:10 -\nRule\tsol89\t1989\tonly\t-\tFeb\t7\t12:14:10s -0:14:10 -\nRule\tsol89\t1989\tonly\t-\tFeb\t8\t12:14:15s -0:14:15 -\nRule\tsol89\t1989\tonly\t-\tFeb\t9\t12:14:15s -0:14:15 -\nRule\tsol89\t1989\tonly\t-\tFeb\t10\t12:14:20s -0:14:20 -\nRule\tsol89\t1989\tonly\t-\tFeb\t11\t12:14:20s -0:14:20 -\nRule\tsol89\t1989\tonly\t-\tFeb\t12\t12:14:20s -0:14:20 -\nRule\tsol89\t1989\tonly\t-\tFeb\t13\t12:14:15s -0:14:15 -\nRule\tsol89\t1989\tonly\t-\tFeb\t14\t12:14:15s -0:14:15 -\nRule\tsol89\t1989\tonly\t-\tFeb\t15\t12:14:10s -0:14:10 -\nRule\tsol89\t1989\tonly\t-\tFeb\t16\t12:14:10s -0:14:10 -\nRule\tsol89\t1989\tonly\t-\tFeb\t17\t12:14:05s -0:14:05 -\nRule\tsol89\t1989\tonly\t-\tFeb\t18\t12:14:00s -0:14:00 -\nRule\tsol89\t1989\tonly\t-\tFeb\t19\t12:13:55s -0:13:55 -\nRule\tsol89\t1989\tonly\t-\tFeb\t20\t12:13:50s -0:13:50 -\nRule\tsol89\t1989\tonly\t-\tFeb\t21\t12:13:40s -0:13:40 -\nRule\tsol89\t1989\tonly\t-\tFeb\t22\t12:13:35s -0:13:35 -\nRule\tsol89\t1989\tonly\t-\tFeb\t23\t12:13:25s -0:13:25 -\nRule\tsol89\t1989\tonly\t-\tFeb\t24\t12:13:15s -0:13:15 -\nRule\tsol89\t1989\tonly\t-\tFeb\t25\t12:13:05s -0:13:05 -\nRule\tsol89\t1989\tonly\t-\tFeb\t26\t12:12:55s -0:12:55 -\nRule\tsol89\t1989\tonly\t-\tFeb\t27\t12:12:45s -0:12:45 -\nRule\tsol89\t1989\tonly\t-\tFeb\t28\t12:12:35s -0:12:35 -\nRule\tsol89\t1989\tonly\t-\tMar\t1\t12:12:25s -0:12:25 -\nRule\tsol89\t1989\tonly\t-\tMar\t2\t12:12:10s -0:12:10 -\nRule\tsol89\t1989\tonly\t-\tMar\t3\t12:12:00s -0:12:00 -\nRule\tsol89\t1989\tonly\t-\tMar\t4\t12:11:45s -0:11:45 -\nRule\tsol89\t1989\tonly\t-\tMar\t5\t12:11:35s -0:11:35 -\nRule\tsol89\t1989\tonly\t-\tMar\t6\t12:11:20s -0:11:20 -\nRule\tsol89\t1989\tonly\t-\tMar\t7\t12:11:05s -0:11:05 -\nRule\tsol89\t1989\tonly\t-\tMar\t8\t12:10:50s -0:10:50 -\nRule\tsol89\t1989\tonly\t-\tMar\t9\t12:10:35s -0:10:35 -\nRule\tsol89\t1989\tonly\t-\tMar\t10\t12:10:20s -0:10:20 -\nRule\tsol89\t1989\tonly\t-\tMar\t11\t12:10:05s -0:10:05 -\nRule\tsol89\t1989\tonly\t-\tMar\t12\t12:09:50s -0:09:50 -\nRule\tsol89\t1989\tonly\t-\tMar\t13\t12:09:30s -0:09:30 -\nRule\tsol89\t1989\tonly\t-\tMar\t14\t12:09:15s -0:09:15 -\nRule\tsol89\t1989\tonly\t-\tMar\t15\t12:09:00s -0:09:00 -\nRule\tsol89\t1989\tonly\t-\tMar\t16\t12:08:40s -0:08:40 -\nRule\tsol89\t1989\tonly\t-\tMar\t17\t12:08:25s -0:08:25 -\nRule\tsol89\t1989\tonly\t-\tMar\t18\t12:08:05s -0:08:05 -\nRule\tsol89\t1989\tonly\t-\tMar\t19\t12:07:50s -0:07:50 -\nRule\tsol89\t1989\tonly\t-\tMar\t20\t12:07:30s -0:07:30 -\nRule\tsol89\t1989\tonly\t-\tMar\t21\t12:07:15s -0:07:15 -\nRule\tsol89\t1989\tonly\t-\tMar\t22\t12:06:55s -0:06:55 -\nRule\tsol89\t1989\tonly\t-\tMar\t23\t12:06:35s -0:06:35 -\nRule\tsol89\t1989\tonly\t-\tMar\t24\t12:06:20s -0:06:20 -\nRule\tsol89\t1989\tonly\t-\tMar\t25\t12:06:00s -0:06:00 -\nRule\tsol89\t1989\tonly\t-\tMar\t26\t12:05:40s -0:05:40 -\nRule\tsol89\t1989\tonly\t-\tMar\t27\t12:05:25s -0:05:25 -\nRule\tsol89\t1989\tonly\t-\tMar\t28\t12:05:05s -0:05:05 -\nRule\tsol89\t1989\tonly\t-\tMar\t29\t12:04:50s -0:04:50 -\nRule\tsol89\t1989\tonly\t-\tMar\t30\t12:04:30s -0:04:30 -\nRule\tsol89\t1989\tonly\t-\tMar\t31\t12:04:10s -0:04:10 -\nRule\tsol89\t1989\tonly\t-\tApr\t1\t12:03:55s -0:03:55 -\nRule\tsol89\t1989\tonly\t-\tApr\t2\t12:03:35s -0:03:35 -\nRule\tsol89\t1989\tonly\t-\tApr\t3\t12:03:20s -0:03:20 -\nRule\tsol89\t1989\tonly\t-\tApr\t4\t12:03:00s -0:03:00 -\nRule\tsol89\t1989\tonly\t-\tApr\t5\t12:02:45s -0:02:45 -\nRule\tsol89\t1989\tonly\t-\tApr\t6\t12:02:25s -0:02:25 -\nRule\tsol89\t1989\tonly\t-\tApr\t7\t12:02:10s -0:02:10 -\nRule\tsol89\t1989\tonly\t-\tApr\t8\t12:01:50s -0:01:50 -\nRule\tsol89\t1989\tonly\t-\tApr\t9\t12:01:35s -0:01:35 -\nRule\tsol89\t1989\tonly\t-\tApr\t10\t12:01:20s -0:01:20 -\nRule\tsol89\t1989\tonly\t-\tApr\t11\t12:01:05s -0:01:05 -\nRule\tsol89\t1989\tonly\t-\tApr\t12\t12:00:50s -0:00:50 -\nRule\tsol89\t1989\tonly\t-\tApr\t13\t12:00:35s -0:00:35 -\nRule\tsol89\t1989\tonly\t-\tApr\t14\t12:00:20s -0:00:20 -\nRule\tsol89\t1989\tonly\t-\tApr\t15\t12:00:05s -0:00:05 -\nRule\tsol89\t1989\tonly\t-\tApr\t16\t11:59:50s 0:00:10 -\nRule\tsol89\t1989\tonly\t-\tApr\t17\t11:59:35s 0:00:25 -\nRule\tsol89\t1989\tonly\t-\tApr\t18\t11:59:20s 0:00:40 -\nRule\tsol89\t1989\tonly\t-\tApr\t19\t11:59:10s 0:00:50 -\nRule\tsol89\t1989\tonly\t-\tApr\t20\t11:58:55s 0:01:05 -\nRule\tsol89\t1989\tonly\t-\tApr\t21\t11:58:45s 0:01:15 -\nRule\tsol89\t1989\tonly\t-\tApr\t22\t11:58:30s 0:01:30 -\nRule\tsol89\t1989\tonly\t-\tApr\t23\t11:58:20s 0:01:40 -\nRule\tsol89\t1989\tonly\t-\tApr\t24\t11:58:10s 0:01:50 -\nRule\tsol89\t1989\tonly\t-\tApr\t25\t11:58:00s 0:02:00 -\nRule\tsol89\t1989\tonly\t-\tApr\t26\t11:57:50s 0:02:10 -\nRule\tsol89\t1989\tonly\t-\tApr\t27\t11:57:40s 0:02:20 -\nRule\tsol89\t1989\tonly\t-\tApr\t28\t11:57:30s 0:02:30 -\nRule\tsol89\t1989\tonly\t-\tApr\t29\t11:57:20s 0:02:40 -\nRule\tsol89\t1989\tonly\t-\tApr\t30\t11:57:15s 0:02:45 -\nRule\tsol89\t1989\tonly\t-\tMay\t1\t11:57:05s 0:02:55 -\nRule\tsol89\t1989\tonly\t-\tMay\t2\t11:57:00s 0:03:00 -\nRule\tsol89\t1989\tonly\t-\tMay\t3\t11:56:50s 0:03:10 -\nRule\tsol89\t1989\tonly\t-\tMay\t4\t11:56:45s 0:03:15 -\nRule\tsol89\t1989\tonly\t-\tMay\t5\t11:56:40s 0:03:20 -\nRule\tsol89\t1989\tonly\t-\tMay\t6\t11:56:35s 0:03:25 -\nRule\tsol89\t1989\tonly\t-\tMay\t7\t11:56:30s 0:03:30 -\nRule\tsol89\t1989\tonly\t-\tMay\t8\t11:56:30s 0:03:30 -\nRule\tsol89\t1989\tonly\t-\tMay\t9\t11:56:25s 0:03:35 -\nRule\tsol89\t1989\tonly\t-\tMay\t10\t11:56:25s 0:03:35 -\nRule\tsol89\t1989\tonly\t-\tMay\t11\t11:56:20s 0:03:40 -\nRule\tsol89\t1989\tonly\t-\tMay\t12\t11:56:20s 0:03:40 -\nRule\tsol89\t1989\tonly\t-\tMay\t13\t11:56:20s 0:03:40 -\nRule\tsol89\t1989\tonly\t-\tMay\t14\t11:56:20s 0:03:40 -\nRule\tsol89\t1989\tonly\t-\tMay\t15\t11:56:20s 0:03:40 -\nRule\tsol89\t1989\tonly\t-\tMay\t16\t11:56:20s 0:03:40 -\nRule\tsol89\t1989\tonly\t-\tMay\t17\t11:56:20s 0:03:40 -\nRule\tsol89\t1989\tonly\t-\tMay\t18\t11:56:25s 0:03:35 -\nRule\tsol89\t1989\tonly\t-\tMay\t19\t11:56:25s 0:03:35 -\nRule\tsol89\t1989\tonly\t-\tMay\t20\t11:56:30s 0:03:30 -\nRule\tsol89\t1989\tonly\t-\tMay\t21\t11:56:35s 0:03:25 -\nRule\tsol89\t1989\tonly\t-\tMay\t22\t11:56:35s 0:03:25 -\nRule\tsol89\t1989\tonly\t-\tMay\t23\t11:56:40s 0:03:20 -\nRule\tsol89\t1989\tonly\t-\tMay\t24\t11:56:45s 0:03:15 -\nRule\tsol89\t1989\tonly\t-\tMay\t25\t11:56:55s 0:03:05 -\nRule\tsol89\t1989\tonly\t-\tMay\t26\t11:57:00s 0:03:00 -\nRule\tsol89\t1989\tonly\t-\tMay\t27\t11:57:05s 0:02:55 -\nRule\tsol89\t1989\tonly\t-\tMay\t28\t11:57:15s 0:02:45 -\nRule\tsol89\t1989\tonly\t-\tMay\t29\t11:57:20s 0:02:40 -\nRule\tsol89\t1989\tonly\t-\tMay\t30\t11:57:30s 0:02:30 -\nRule\tsol89\t1989\tonly\t-\tMay\t31\t11:57:35s 0:02:25 -\nRule\tsol89\t1989\tonly\t-\tJun\t1\t11:57:45s 0:02:15 -\nRule\tsol89\t1989\tonly\t-\tJun\t2\t11:57:55s 0:02:05 -\nRule\tsol89\t1989\tonly\t-\tJun\t3\t11:58:05s 0:01:55 -\nRule\tsol89\t1989\tonly\t-\tJun\t4\t11:58:15s 0:01:45 -\nRule\tsol89\t1989\tonly\t-\tJun\t5\t11:58:25s 0:01:35 -\nRule\tsol89\t1989\tonly\t-\tJun\t6\t11:58:35s 0:01:25 -\nRule\tsol89\t1989\tonly\t-\tJun\t7\t11:58:45s 0:01:15 -\nRule\tsol89\t1989\tonly\t-\tJun\t8\t11:59:00s 0:01:00 -\nRule\tsol89\t1989\tonly\t-\tJun\t9\t11:59:10s 0:00:50 -\nRule\tsol89\t1989\tonly\t-\tJun\t10\t11:59:20s 0:00:40 -\nRule\tsol89\t1989\tonly\t-\tJun\t11\t11:59:35s 0:00:25 -\nRule\tsol89\t1989\tonly\t-\tJun\t12\t11:59:45s 0:00:15 -\nRule\tsol89\t1989\tonly\t-\tJun\t13\t12:00:00s 0:00:00 -\nRule\tsol89\t1989\tonly\t-\tJun\t14\t12:00:10s -0:00:10 -\nRule\tsol89\t1989\tonly\t-\tJun\t15\t12:00:25s -0:00:25 -\nRule\tsol89\t1989\tonly\t-\tJun\t16\t12:00:35s -0:00:35 -\nRule\tsol89\t1989\tonly\t-\tJun\t17\t12:00:50s -0:00:50 -\nRule\tsol89\t1989\tonly\t-\tJun\t18\t12:01:05s -0:01:05 -\nRule\tsol89\t1989\tonly\t-\tJun\t19\t12:01:15s -0:01:15 -\nRule\tsol89\t1989\tonly\t-\tJun\t20\t12:01:30s -0:01:30 -\nRule\tsol89\t1989\tonly\t-\tJun\t21\t12:01:40s -0:01:40 -\nRule\tsol89\t1989\tonly\t-\tJun\t22\t12:01:55s -0:01:55 -\nRule\tsol89\t1989\tonly\t-\tJun\t23\t12:02:10s -0:02:10 -\nRule\tsol89\t1989\tonly\t-\tJun\t24\t12:02:20s -0:02:20 -\nRule\tsol89\t1989\tonly\t-\tJun\t25\t12:02:35s -0:02:35 -\nRule\tsol89\t1989\tonly\t-\tJun\t26\t12:02:45s -0:02:45 -\nRule\tsol89\t1989\tonly\t-\tJun\t27\t12:03:00s -0:03:00 -\nRule\tsol89\t1989\tonly\t-\tJun\t28\t12:03:10s -0:03:10 -\nRule\tsol89\t1989\tonly\t-\tJun\t29\t12:03:25s -0:03:25 -\nRule\tsol89\t1989\tonly\t-\tJun\t30\t12:03:35s -0:03:35 -\nRule\tsol89\t1989\tonly\t-\tJul\t1\t12:03:45s -0:03:45 -\nRule\tsol89\t1989\tonly\t-\tJul\t2\t12:04:00s -0:04:00 -\nRule\tsol89\t1989\tonly\t-\tJul\t3\t12:04:10s -0:04:10 -\nRule\tsol89\t1989\tonly\t-\tJul\t4\t12:04:20s -0:04:20 -\nRule\tsol89\t1989\tonly\t-\tJul\t5\t12:04:30s -0:04:30 -\nRule\tsol89\t1989\tonly\t-\tJul\t6\t12:04:40s -0:04:40 -\nRule\tsol89\t1989\tonly\t-\tJul\t7\t12:04:50s -0:04:50 -\nRule\tsol89\t1989\tonly\t-\tJul\t8\t12:05:00s -0:05:00 -\nRule\tsol89\t1989\tonly\t-\tJul\t9\t12:05:10s -0:05:10 -\nRule\tsol89\t1989\tonly\t-\tJul\t10\t12:05:20s -0:05:20 -\nRule\tsol89\t1989\tonly\t-\tJul\t11\t12:05:25s -0:05:25 -\nRule\tsol89\t1989\tonly\t-\tJul\t12\t12:05:35s -0:05:35 -\nRule\tsol89\t1989\tonly\t-\tJul\t13\t12:05:40s -0:05:40 -\nRule\tsol89\t1989\tonly\t-\tJul\t14\t12:05:50s -0:05:50 -\nRule\tsol89\t1989\tonly\t-\tJul\t15\t12:05:55s -0:05:55 -\nRule\tsol89\t1989\tonly\t-\tJul\t16\t12:06:00s -0:06:00 -\nRule\tsol89\t1989\tonly\t-\tJul\t17\t12:06:05s -0:06:05 -\nRule\tsol89\t1989\tonly\t-\tJul\t18\t12:06:10s -0:06:10 -\nRule\tsol89\t1989\tonly\t-\tJul\t19\t12:06:15s -0:06:15 -\nRule\tsol89\t1989\tonly\t-\tJul\t20\t12:06:20s -0:06:20 -\nRule\tsol89\t1989\tonly\t-\tJul\t21\t12:06:20s -0:06:20 -\nRule\tsol89\t1989\tonly\t-\tJul\t22\t12:06:25s -0:06:25 -\nRule\tsol89\t1989\tonly\t-\tJul\t23\t12:06:25s -0:06:25 -\nRule\tsol89\t1989\tonly\t-\tJul\t24\t12:06:30s -0:06:30 -\nRule\tsol89\t1989\tonly\t-\tJul\t25\t12:06:30s -0:06:30 -\nRule\tsol89\t1989\tonly\t-\tJul\t26\t12:06:30s -0:06:30 -\nRule\tsol89\t1989\tonly\t-\tJul\t27\t12:06:30s -0:06:30 -\nRule\tsol89\t1989\tonly\t-\tJul\t28\t12:06:30s -0:06:30 -\nRule\tsol89\t1989\tonly\t-\tJul\t29\t12:06:25s -0:06:25 -\nRule\tsol89\t1989\tonly\t-\tJul\t30\t12:06:25s -0:06:25 -\nRule\tsol89\t1989\tonly\t-\tJul\t31\t12:06:20s -0:06:20 -\nRule\tsol89\t1989\tonly\t-\tAug\t1\t12:06:20s -0:06:20 -\nRule\tsol89\t1989\tonly\t-\tAug\t2\t12:06:15s -0:06:15 -\nRule\tsol89\t1989\tonly\t-\tAug\t3\t12:06:10s -0:06:10 -\nRule\tsol89\t1989\tonly\t-\tAug\t4\t12:06:05s -0:06:05 -\nRule\tsol89\t1989\tonly\t-\tAug\t5\t12:06:00s -0:06:00 -\nRule\tsol89\t1989\tonly\t-\tAug\t6\t12:05:50s -0:05:50 -\nRule\tsol89\t1989\tonly\t-\tAug\t7\t12:05:45s -0:05:45 -\nRule\tsol89\t1989\tonly\t-\tAug\t8\t12:05:35s -0:05:35 -\nRule\tsol89\t1989\tonly\t-\tAug\t9\t12:05:30s -0:05:30 -\nRule\tsol89\t1989\tonly\t-\tAug\t10\t12:05:20s -0:05:20 -\nRule\tsol89\t1989\tonly\t-\tAug\t11\t12:05:10s -0:05:10 -\nRule\tsol89\t1989\tonly\t-\tAug\t12\t12:05:00s -0:05:00 -\nRule\tsol89\t1989\tonly\t-\tAug\t13\t12:04:50s -0:04:50 -\nRule\tsol89\t1989\tonly\t-\tAug\t14\t12:04:40s -0:04:40 -\nRule\tsol89\t1989\tonly\t-\tAug\t15\t12:04:30s -0:04:30 -\nRule\tsol89\t1989\tonly\t-\tAug\t16\t12:04:15s -0:04:15 -\nRule\tsol89\t1989\tonly\t-\tAug\t17\t12:04:05s -0:04:05 -\nRule\tsol89\t1989\tonly\t-\tAug\t18\t12:03:50s -0:03:50 -\nRule\tsol89\t1989\tonly\t-\tAug\t19\t12:03:35s -0:03:35 -\nRule\tsol89\t1989\tonly\t-\tAug\t20\t12:03:25s -0:03:25 -\nRule\tsol89\t1989\tonly\t-\tAug\t21\t12:03:10s -0:03:10 -\nRule\tsol89\t1989\tonly\t-\tAug\t22\t12:02:55s -0:02:55 -\nRule\tsol89\t1989\tonly\t-\tAug\t23\t12:02:40s -0:02:40 -\nRule\tsol89\t1989\tonly\t-\tAug\t24\t12:02:20s -0:02:20 -\nRule\tsol89\t1989\tonly\t-\tAug\t25\t12:02:05s -0:02:05 -\nRule\tsol89\t1989\tonly\t-\tAug\t26\t12:01:50s -0:01:50 -\nRule\tsol89\t1989\tonly\t-\tAug\t27\t12:01:30s -0:01:30 -\nRule\tsol89\t1989\tonly\t-\tAug\t28\t12:01:15s -0:01:15 -\nRule\tsol89\t1989\tonly\t-\tAug\t29\t12:00:55s -0:00:55 -\nRule\tsol89\t1989\tonly\t-\tAug\t30\t12:00:40s -0:00:40 -\nRule\tsol89\t1989\tonly\t-\tAug\t31\t12:00:20s -0:00:20 -\nRule\tsol89\t1989\tonly\t-\tSep\t1\t12:00:00s 0:00:00 -\nRule\tsol89\t1989\tonly\t-\tSep\t2\t11:59:45s 0:00:15 -\nRule\tsol89\t1989\tonly\t-\tSep\t3\t11:59:25s 0:00:35 -\nRule\tsol89\t1989\tonly\t-\tSep\t4\t11:59:05s 0:00:55 -\nRule\tsol89\t1989\tonly\t-\tSep\t5\t11:58:45s 0:01:15 -\nRule\tsol89\t1989\tonly\t-\tSep\t6\t11:58:25s 0:01:35 -\nRule\tsol89\t1989\tonly\t-\tSep\t7\t11:58:05s 0:01:55 -\nRule\tsol89\t1989\tonly\t-\tSep\t8\t11:57:45s 0:02:15 -\nRule\tsol89\t1989\tonly\t-\tSep\t9\t11:57:20s 0:02:40 -\nRule\tsol89\t1989\tonly\t-\tSep\t10\t11:57:00s 0:03:00 -\nRule\tsol89\t1989\tonly\t-\tSep\t11\t11:56:40s 0:03:20 -\nRule\tsol89\t1989\tonly\t-\tSep\t12\t11:56:20s 0:03:40 -\nRule\tsol89\t1989\tonly\t-\tSep\t13\t11:56:00s 0:04:00 -\nRule\tsol89\t1989\tonly\t-\tSep\t14\t11:55:35s 0:04:25 -\nRule\tsol89\t1989\tonly\t-\tSep\t15\t11:55:15s 0:04:45 -\nRule\tsol89\t1989\tonly\t-\tSep\t16\t11:54:55s 0:05:05 -\nRule\tsol89\t1989\tonly\t-\tSep\t17\t11:54:35s 0:05:25 -\nRule\tsol89\t1989\tonly\t-\tSep\t18\t11:54:10s 0:05:50 -\nRule\tsol89\t1989\tonly\t-\tSep\t19\t11:53:50s 0:06:10 -\nRule\tsol89\t1989\tonly\t-\tSep\t20\t11:53:30s 0:06:30 -\nRule\tsol89\t1989\tonly\t-\tSep\t21\t11:53:10s 0:06:50 -\nRule\tsol89\t1989\tonly\t-\tSep\t22\t11:52:45s 0:07:15 -\nRule\tsol89\t1989\tonly\t-\tSep\t23\t11:52:25s 0:07:35 -\nRule\tsol89\t1989\tonly\t-\tSep\t24\t11:52:05s 0:07:55 -\nRule\tsol89\t1989\tonly\t-\tSep\t25\t11:51:45s 0:08:15 -\nRule\tsol89\t1989\tonly\t-\tSep\t26\t11:51:25s 0:08:35 -\nRule\tsol89\t1989\tonly\t-\tSep\t27\t11:51:05s 0:08:55 -\nRule\tsol89\t1989\tonly\t-\tSep\t28\t11:50:40s 0:09:20 -\nRule\tsol89\t1989\tonly\t-\tSep\t29\t11:50:20s 0:09:40 -\nRule\tsol89\t1989\tonly\t-\tSep\t30\t11:50:00s 0:10:00 -\nRule\tsol89\t1989\tonly\t-\tOct\t1\t11:49:45s 0:10:15 -\nRule\tsol89\t1989\tonly\t-\tOct\t2\t11:49:25s 0:10:35 -\nRule\tsol89\t1989\tonly\t-\tOct\t3\t11:49:05s 0:10:55 -\nRule\tsol89\t1989\tonly\t-\tOct\t4\t11:48:45s 0:11:15 -\nRule\tsol89\t1989\tonly\t-\tOct\t5\t11:48:30s 0:11:30 -\nRule\tsol89\t1989\tonly\t-\tOct\t6\t11:48:10s 0:11:50 -\nRule\tsol89\t1989\tonly\t-\tOct\t7\t11:47:50s 0:12:10 -\nRule\tsol89\t1989\tonly\t-\tOct\t8\t11:47:35s 0:12:25 -\nRule\tsol89\t1989\tonly\t-\tOct\t9\t11:47:20s 0:12:40 -\nRule\tsol89\t1989\tonly\t-\tOct\t10\t11:47:00s 0:13:00 -\nRule\tsol89\t1989\tonly\t-\tOct\t11\t11:46:45s 0:13:15 -\nRule\tsol89\t1989\tonly\t-\tOct\t12\t11:46:30s 0:13:30 -\nRule\tsol89\t1989\tonly\t-\tOct\t13\t11:46:15s 0:13:45 -\nRule\tsol89\t1989\tonly\t-\tOct\t14\t11:46:00s 0:14:00 -\nRule\tsol89\t1989\tonly\t-\tOct\t15\t11:45:50s 0:14:10 -\nRule\tsol89\t1989\tonly\t-\tOct\t16\t11:45:35s 0:14:25 -\nRule\tsol89\t1989\tonly\t-\tOct\t17\t11:45:20s 0:14:40 -\nRule\tsol89\t1989\tonly\t-\tOct\t18\t11:45:10s 0:14:50 -\nRule\tsol89\t1989\tonly\t-\tOct\t19\t11:45:00s 0:15:00 -\nRule\tsol89\t1989\tonly\t-\tOct\t20\t11:44:50s 0:15:10 -\nRule\tsol89\t1989\tonly\t-\tOct\t21\t11:44:40s 0:15:20 -\nRule\tsol89\t1989\tonly\t-\tOct\t22\t11:44:30s 0:15:30 -\nRule\tsol89\t1989\tonly\t-\tOct\t23\t11:44:20s 0:15:40 -\nRule\tsol89\t1989\tonly\t-\tOct\t24\t11:44:10s 0:15:50 -\nRule\tsol89\t1989\tonly\t-\tOct\t25\t11:44:05s 0:15:55 -\nRule\tsol89\t1989\tonly\t-\tOct\t26\t11:44:00s 0:16:00 -\nRule\tsol89\t1989\tonly\t-\tOct\t27\t11:43:50s 0:16:10 -\nRule\tsol89\t1989\tonly\t-\tOct\t28\t11:43:45s 0:16:15 -\nRule\tsol89\t1989\tonly\t-\tOct\t29\t11:43:40s 0:16:20 -\nRule\tsol89\t1989\tonly\t-\tOct\t30\t11:43:40s 0:16:20 -\nRule\tsol89\t1989\tonly\t-\tOct\t31\t11:43:35s 0:16:25 -\nRule\tsol89\t1989\tonly\t-\tNov\t1\t11:43:35s 0:16:25 -\nRule\tsol89\t1989\tonly\t-\tNov\t2\t11:43:35s 0:16:25 -\nRule\tsol89\t1989\tonly\t-\tNov\t3\t11:43:30s 0:16:30 -\nRule\tsol89\t1989\tonly\t-\tNov\t4\t11:43:35s 0:16:25 -\nRule\tsol89\t1989\tonly\t-\tNov\t5\t11:43:35s 0:16:25 -\nRule\tsol89\t1989\tonly\t-\tNov\t6\t11:43:35s 0:16:25 -\nRule\tsol89\t1989\tonly\t-\tNov\t7\t11:43:40s 0:16:20 -\nRule\tsol89\t1989\tonly\t-\tNov\t8\t11:43:45s 0:16:15 -\nRule\tsol89\t1989\tonly\t-\tNov\t9\t11:43:50s 0:16:10 -\nRule\tsol89\t1989\tonly\t-\tNov\t10\t11:43:55s 0:16:05 -\nRule\tsol89\t1989\tonly\t-\tNov\t11\t11:44:00s 0:16:00 -\nRule\tsol89\t1989\tonly\t-\tNov\t12\t11:44:05s 0:15:55 -\nRule\tsol89\t1989\tonly\t-\tNov\t13\t11:44:15s 0:15:45 -\nRule\tsol89\t1989\tonly\t-\tNov\t14\t11:44:25s 0:15:35 -\nRule\tsol89\t1989\tonly\t-\tNov\t15\t11:44:35s 0:15:25 -\nRule\tsol89\t1989\tonly\t-\tNov\t16\t11:44:45s 0:15:15 -\nRule\tsol89\t1989\tonly\t-\tNov\t17\t11:44:55s 0:15:05 -\nRule\tsol89\t1989\tonly\t-\tNov\t18\t11:45:10s 0:14:50 -\nRule\tsol89\t1989\tonly\t-\tNov\t19\t11:45:20s 0:14:40 -\nRule\tsol89\t1989\tonly\t-\tNov\t20\t11:45:35s 0:14:25 -\nRule\tsol89\t1989\tonly\t-\tNov\t21\t11:45:50s 0:14:10 -\nRule\tsol89\t1989\tonly\t-\tNov\t22\t11:46:05s 0:13:55 -\nRule\tsol89\t1989\tonly\t-\tNov\t23\t11:46:25s 0:13:35 -\nRule\tsol89\t1989\tonly\t-\tNov\t24\t11:46:40s 0:13:20 -\nRule\tsol89\t1989\tonly\t-\tNov\t25\t11:47:00s 0:13:00 -\nRule\tsol89\t1989\tonly\t-\tNov\t26\t11:47:20s 0:12:40 -\nRule\tsol89\t1989\tonly\t-\tNov\t27\t11:47:35s 0:12:25 -\nRule\tsol89\t1989\tonly\t-\tNov\t28\t11:47:55s 0:12:05 -\nRule\tsol89\t1989\tonly\t-\tNov\t29\t11:48:20s 0:11:40 -\nRule\tsol89\t1989\tonly\t-\tNov\t30\t11:48:40s 0:11:20 -\nRule\tsol89\t1989\tonly\t-\tDec\t1\t11:49:00s 0:11:00 -\nRule\tsol89\t1989\tonly\t-\tDec\t2\t11:49:25s 0:10:35 -\nRule\tsol89\t1989\tonly\t-\tDec\t3\t11:49:50s 0:10:10 -\nRule\tsol89\t1989\tonly\t-\tDec\t4\t11:50:15s 0:09:45 -\nRule\tsol89\t1989\tonly\t-\tDec\t5\t11:50:35s 0:09:25 -\nRule\tsol89\t1989\tonly\t-\tDec\t6\t11:51:00s 0:09:00 -\nRule\tsol89\t1989\tonly\t-\tDec\t7\t11:51:30s 0:08:30 -\nRule\tsol89\t1989\tonly\t-\tDec\t8\t11:51:55s 0:08:05 -\nRule\tsol89\t1989\tonly\t-\tDec\t9\t11:52:20s 0:07:40 -\nRule\tsol89\t1989\tonly\t-\tDec\t10\t11:52:50s 0:07:10 -\nRule\tsol89\t1989\tonly\t-\tDec\t11\t11:53:15s 0:06:45 -\nRule\tsol89\t1989\tonly\t-\tDec\t12\t11:53:45s 0:06:15 -\nRule\tsol89\t1989\tonly\t-\tDec\t13\t11:54:10s 0:05:50 -\nRule\tsol89\t1989\tonly\t-\tDec\t14\t11:54:40s 0:05:20 -\nRule\tsol89\t1989\tonly\t-\tDec\t15\t11:55:10s 0:04:50 -\nRule\tsol89\t1989\tonly\t-\tDec\t16\t11:55:40s 0:04:20 -\nRule\tsol89\t1989\tonly\t-\tDec\t17\t11:56:05s 0:03:55 -\nRule\tsol89\t1989\tonly\t-\tDec\t18\t11:56:35s 0:03:25 -\nRule\tsol89\t1989\tonly\t-\tDec\t19\t11:57:05s 0:02:55 -\nRule\tsol89\t1989\tonly\t-\tDec\t20\t11:57:35s 0:02:25 -\nRule\tsol89\t1989\tonly\t-\tDec\t21\t11:58:05s 0:01:55 -\nRule\tsol89\t1989\tonly\t-\tDec\t22\t11:58:35s 0:01:25 -\nRule\tsol89\t1989\tonly\t-\tDec\t23\t11:59:05s 0:00:55 -\nRule\tsol89\t1989\tonly\t-\tDec\t24\t11:59:35s 0:00:25 -\nRule\tsol89\t1989\tonly\t-\tDec\t25\t12:00:05s -0:00:05 -\nRule\tsol89\t1989\tonly\t-\tDec\t26\t12:00:35s -0:00:35 -\nRule\tsol89\t1989\tonly\t-\tDec\t27\t12:01:05s -0:01:05 -\nRule\tsol89\t1989\tonly\t-\tDec\t28\t12:01:35s -0:01:35 -\nRule\tsol89\t1989\tonly\t-\tDec\t29\t12:02:00s -0:02:00 -\nRule\tsol89\t1989\tonly\t-\tDec\t30\t12:02:30s -0:02:30 -\nRule\tsol89\t1989\tonly\t-\tDec\t31\t12:03:00s -0:03:00 -\n\n# Riyadh is at about 46 degrees 46 minutes East:  3 hrs, 7 mins, 4 secs\n# Before and after 1989, we'll operate on local mean solar time.\n\n# Zone\tNAME\t\tGMTOFF\tRULES/SAVE\tFORMAT\t[UNTIL]\nZone\tAsia/Riyadh89\t3:07:04\t-\t\tzzz\t1989\n\t\t\t3:07:04\tsol89\t\tzzz\t1990\n\t\t\t3:07:04\t-\t\tzzz\n# For backward compatibility...\nLink\tAsia/Riyadh89\tMideast/Riyadh89\n";

zone_files['southamerica'] = "# <pre>\n# This file is in the public domain, so clarified as of\n# 2009-05-17 by Arthur David Olson.\n\n# This data is by no means authoritative; if you think you know better,\n# go ahead and edit the file (and please send any changes to\n# tz@iana.org for general use in the future).\n\n# From Paul Eggert (2006-03-22):\n# A good source for time zone historical data outside the U.S. is\n# Thomas G. Shanks and Rique Pottenger, The International Atlas (6th edition),\n# San Diego: ACS Publications, Inc. (2003).\n#\n# For data circa 1899, a common source is:\n# Milne J. Civil time. Geogr J. 1899 Feb;13(2):173-94\n# <http://www.jstor.org/stable/1774359>.\n#\n# Gwillim Law writes that a good source\n# for recent time zone data is the International Air Transport\n# Association's Standard Schedules Information Manual (IATA SSIM),\n# published semiannually.  Law sent in several helpful summaries\n# of the IATA's data after 1990.\n#\n# Except where otherwise noted, Shanks & Pottenger is the source for\n# entries through 1990, and IATA SSIM is the source for entries afterwards.\n#\n# Earlier editions of these tables used the North American style (e.g. ARST and\n# ARDT for Argentine Standard and Daylight Time), but the following quote\n# suggests that it's better to use European style (e.g. ART and ARST).\n#\tI suggest the use of _Summer time_ instead of the more cumbersome\n#\t_daylight-saving time_.  _Summer time_ seems to be in general use\n#\tin Europe and South America.\n#\t-- E O Cutler, _New York Times_ (1937-02-14), quoted in\n#\tH L Mencken, _The American Language: Supplement I_ (1960), p 466\n#\n# Earlier editions of these tables also used the North American style\n# for time zones in Brazil, but this was incorrect, as Brazilians say\n# \"summer time\".  Reinaldo Goulart, a Sao Paulo businessman active in\n# the railroad sector, writes (1999-07-06):\n#\tThe subject of time zones is currently a matter of discussion/debate in\n#\tBrazil.  Let's say that \"the Brasilia time\" is considered the\n#\t\"official time\" because Brasilia is the capital city.\n#\tThe other three time zones are called \"Brasilia time \"minus one\" or\n#\t\"plus one\" or \"plus two\".  As far as I know there is no such\n#\tname/designation as \"Eastern Time\" or \"Central Time\".\n# So I invented the following (English-language) abbreviations for now.\n# Corrections are welcome!\n#\t\tstd\tdst\n#\t-2:00\tFNT\tFNST\tFernando de Noronha\n#\t-3:00\tBRT\tBRST\tBrasilia\n#\t-4:00\tAMT\tAMST\tAmazon\n#\t-5:00\tACT\tACST\tAcre\n\n###############################################################################\n\n###############################################################################\n\n# Argentina\n\n# From Bob Devine (1988-01-28):\n# Argentina: first Sunday in October to first Sunday in April since 1976.\n# Double Summer time from 1969 to 1974.  Switches at midnight.\n\n# From U. S. Naval Observatory (1988-01-199):\n# ARGENTINA           3 H BEHIND   UTC\n\n# From Hernan G. Otero (1995-06-26):\n# I am sending modifications to the Argentine time zone table...\n# AR was chosen because they are the ISO letters that represent Argentina.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tArg\t1930\tonly\t-\tDec\t 1\t0:00\t1:00\tS\nRule\tArg\t1931\tonly\t-\tApr\t 1\t0:00\t0\t-\nRule\tArg\t1931\tonly\t-\tOct\t15\t0:00\t1:00\tS\nRule\tArg\t1932\t1940\t-\tMar\t 1\t0:00\t0\t-\nRule\tArg\t1932\t1939\t-\tNov\t 1\t0:00\t1:00\tS\nRule\tArg\t1940\tonly\t-\tJul\t 1\t0:00\t1:00\tS\nRule\tArg\t1941\tonly\t-\tJun\t15\t0:00\t0\t-\nRule\tArg\t1941\tonly\t-\tOct\t15\t0:00\t1:00\tS\nRule\tArg\t1943\tonly\t-\tAug\t 1\t0:00\t0\t-\nRule\tArg\t1943\tonly\t-\tOct\t15\t0:00\t1:00\tS\nRule\tArg\t1946\tonly\t-\tMar\t 1\t0:00\t0\t-\nRule\tArg\t1946\tonly\t-\tOct\t 1\t0:00\t1:00\tS\nRule\tArg\t1963\tonly\t-\tOct\t 1\t0:00\t0\t-\nRule\tArg\t1963\tonly\t-\tDec\t15\t0:00\t1:00\tS\nRule\tArg\t1964\t1966\t-\tMar\t 1\t0:00\t0\t-\nRule\tArg\t1964\t1966\t-\tOct\t15\t0:00\t1:00\tS\nRule\tArg\t1967\tonly\t-\tApr\t 2\t0:00\t0\t-\nRule\tArg\t1967\t1968\t-\tOct\tSun>=1\t0:00\t1:00\tS\nRule\tArg\t1968\t1969\t-\tApr\tSun>=1\t0:00\t0\t-\nRule\tArg\t1974\tonly\t-\tJan\t23\t0:00\t1:00\tS\nRule\tArg\t1974\tonly\t-\tMay\t 1\t0:00\t0\t-\nRule\tArg\t1988\tonly\t-\tDec\t 1\t0:00\t1:00\tS\n#\n# From Hernan G. Otero (1995-06-26):\n# These corrections were contributed by InterSoft Argentina S.A.,\n# obtaining the data from the:\n# Talleres de Hidrografia Naval Argentina\n# (Argentine Naval Hydrography Institute)\nRule\tArg\t1989\t1993\t-\tMar\tSun>=1\t0:00\t0\t-\nRule\tArg\t1989\t1992\t-\tOct\tSun>=15\t0:00\t1:00\tS\n#\n# From Hernan G. Otero (1995-06-26):\n# From this moment on, the law that mandated the daylight saving\n# time corrections was derogated and no more modifications\n# to the time zones (for daylight saving) are now made.\n#\n# From Rives McDow (2000-01-10):\n# On October 3, 1999, 0:00 local, Argentina implemented daylight savings time,\n# which did not result in the switch of a time zone, as they stayed 9 hours\n# from the International Date Line.\nRule\tArg\t1999\tonly\t-\tOct\tSun>=1\t0:00\t1:00\tS\n# From Paul Eggert (2007-12-28):\n# DST was set to expire on March 5, not March 3, but since it was converted\n# to standard time on March 3 it's more convenient for us to pretend that\n# it ended on March 3.\nRule\tArg\t2000\tonly\t-\tMar\t3\t0:00\t0\t-\n#\n# From Peter Gradelski via Steffen Thorsen (2000-03-01):\n# We just checked with our Sao Paulo office and they say the government of\n# Argentina decided not to become one of the countries that go on or off DST.\n# So Buenos Aires should be -3 hours from GMT at all times.\n#\n# From Fabian L. Arce Jofre (2000-04-04):\n# The law that claimed DST for Argentina was derogated by President Fernando\n# de la Rua on March 2, 2000, because it would make people spend more energy\n# in the winter time, rather than less.  The change took effect on March 3.\n#\n# From Mariano Absatz (2001-06-06):\n# one of the major newspapers here in Argentina said that the 1999\n# Timezone Law (which never was effectively applied) will (would?) be\n# in effect.... The article is at\n# http://ar.clarin.com/diario/2001-06-06/e-01701.htm\n# ... The Law itself is \"Ley No 25155\", sanctioned on 1999-08-25, enacted\n# 1999-09-17, and published 1999-09-21.  The official publication is at:\n# http://www.boletin.jus.gov.ar/BON/Primera/1999/09-Septiembre/21/PDF/BO21-09-99LEG.PDF\n# Regretfully, you have to subscribe (and pay) for the on-line version....\n#\n# (2001-06-12):\n# the timezone for Argentina will not change next Sunday.\n# Apparently it will do so on Sunday 24th....\n# http://ar.clarin.com/diario/2001-06-12/s-03501.htm\n#\n# (2001-06-25):\n# Last Friday (yes, the last working day before the date of the change), the\n# Senate annulled the 1999 law that introduced the changes later postponed.\n# http://www.clarin.com.ar/diario/2001-06-22/s-03601.htm\n# It remains the vote of the Deputies..., but it will be the same....\n# This kind of things had always been done this way in Argentina.\n# We are still -03:00 all year round in all of the country.\n#\n# From Steffen Thorsen (2007-12-21):\n# A user (Leonardo Chaim) reported that Argentina will adopt DST....\n# all of the country (all Zone-entries) are affected.  News reports like\n# http://www.lanacion.com.ar/opinion/nota.asp?nota_id=973037 indicate\n# that Argentina will use DST next year as well, from October to\n# March, although exact rules are not given.\n#\n# From Jesper Norgaard Welen (2007-12-26)\n# The last hurdle of Argentina DST is over, the proposal was approved in\n# the lower chamber too (Deputados) with a vote 192 for and 2 against.\n# By the way thanks to Mariano Absatz and Daniel Mario Vega for the link to\n# the original scanned proposal, where the dates and the zero hours are\n# clear and unambiguous...This is the article about final approval:\n# <a href=\"http://www.lanacion.com.ar/politica/nota.asp?nota_id=973996\">\n# http://www.lanacion.com.ar/politica/nota.asp?nota_id=973996\n# </a>\n#\n# From Paul Eggert (2007-12-22):\n# For dates after mid-2008, the following rules are my guesses and\n# are quite possibly wrong, but are more likely than no DST at all.\n\n# From Alexander Krivenyshev (2008-09-05):\n# As per message from Carlos Alberto Fonseca Arauz (Nicaragua),\n# Argentina will start DST on Sunday October 19, 2008.\n#\n# <a href=\"http://www.worldtimezone.com/dst_news/dst_news_argentina03.html\">\n# http://www.worldtimezone.com/dst_news/dst_news_argentina03.html\n# </a>\n# OR\n# <a href=\"http://www.impulsobaires.com.ar/nota.php?id=57832 (in spanish)\">\n# http://www.impulsobaires.com.ar/nota.php?id=57832 (in spanish)\n# </a>\n\n# From Rodrigo Severo (2008-10-06):\n# Here is some info available at a Gentoo bug related to TZ on Argentina's DST:\n# ...\n# ------- Comment #1 from [jmdocile]  2008-10-06 16:28 0000 -------\n# Hi, there is a problem with timezone-data-2008e and maybe with\n# timezone-data-2008f\n# Argentinian law [Number] 25.155 is no longer valid.\n# <a href=\"http://www.infoleg.gov.ar/infolegInternet/anexos/60000-64999/60036/norma.htm\">\n# http://www.infoleg.gov.ar/infolegInternet/anexos/60000-64999/60036/norma.htm\n# </a>\n# The new one is law [Number] 26.350\n# <a href=\"http://www.infoleg.gov.ar/infolegInternet/anexos/135000-139999/136191/norma.htm\">\n# http://www.infoleg.gov.ar/infolegInternet/anexos/135000-139999/136191/norma.htm\n# </a>\n# So there is no summer time in Argentina for now.\n\n# From Mariano Absatz (2008-10-20):\n# Decree 1693/2008 applies Law 26.350 for the summer 2008/2009 establishing DST in Argentina\n# From 2008-10-19 until 2009-03-15\n# <a href=\"http://www.boletinoficial.gov.ar/Bora.Portal/CustomControls/PdfContent.aspx?fp=16102008&pi=3&pf=4&s=0&sec=01\">\n# http://www.boletinoficial.gov.ar/Bora.Portal/CustomControls/PdfContent.aspx?fp=16102008&pi=3&pf=4&s=0&sec=01\n# </a>\n#\n# Decree 1705/2008 excepting 12 Provinces from applying DST in the summer 2008/2009:\n# Catamarca, La Rioja, Mendoza, Salta, San Juan, San Luis, La Pampa, Neuquen, Rio Negro, Chubut, Santa Cruz\n# and Tierra del Fuego\n# <a href=\"http://www.boletinoficial.gov.ar/Bora.Portal/CustomControls/PdfContent.aspx?fp=17102008&pi=1&pf=1&s=0&sec=01\">\n# http://www.boletinoficial.gov.ar/Bora.Portal/CustomControls/PdfContent.aspx?fp=17102008&pi=1&pf=1&s=0&sec=01\n# </a>\n#\n# Press release 235 dated Saturday October 18th, from the Government of the Province of Jujuy saying\n# it will not apply DST either (even when it was not included in Decree 1705/2008)\n# <a href=\"http://www.jujuy.gov.ar/index2/partes_prensa/18_10_08/235-181008.doc\">\n# http://www.jujuy.gov.ar/index2/partes_prensa/18_10_08/235-181008.doc\n# </a>\n\n# From fullinet (2009-10-18):\n# As announced in\n# <a hef=\"http://www.argentina.gob.ar/argentina/portal/paginas.dhtml?pagina=356\">\n# http://www.argentina.gob.ar/argentina/portal/paginas.dhtml?pagina=356\n# </a>\n# (an official .gob.ar) under title: \"Sin Cambio de Hora\" (english: \"No hour change\")\n#\n# \"Por el momento, el Gobierno Nacional resolvio no modificar la hora\n# oficial, decision que estaba en estudio para su implementacion el\n# domingo 18 de octubre. Desde el Ministerio de Planificacion se anuncio\n# que la Argentina hoy, en estas condiciones meteorologicas, no necesita\n# la modificacion del huso horario, ya que 2009 nos encuentra con\n# crecimiento en la produccion y distribucion energetica.\"\n\nRule\tArg\t2007\tonly\t-\tDec\t30\t0:00\t1:00\tS\nRule\tArg\t2008\t2009\t-\tMar\tSun>=15\t0:00\t0\t-\nRule\tArg\t2008\tonly\t-\tOct\tSun>=15\t0:00\t1:00\tS\n\n# From Mariano Absatz (2004-05-21):\n# Today it was officially published that the Province of Mendoza is changing\n# its timezone this winter... starting tomorrow night....\n# http://www.gobernac.mendoza.gov.ar/boletin/pdf/20040521-27158-normas.pdf\n# From Paul Eggert (2004-05-24):\n# It's Law No. 7,210.  This change is due to a public power emergency, so for\n# now we'll assume it's for this year only.\n#\n# From Paul Eggert (2006-03-22):\n# <a href=\"http://www.spicasc.net/horvera.html\">\n# Hora de verano para la Republica Argentina (2003-06-08)\n# </a> says that standard time in Argentina from 1894-10-31\n# to 1920-05-01 was -4:16:48.25.  Go with this more-precise value\n# over Shanks & Pottenger.\n#\n# From Mariano Absatz (2004-06-05):\n# These media articles from a major newspaper mostly cover the current state:\n# http://www.lanacion.com.ar/04/05/27/de_604825.asp\n# http://www.lanacion.com.ar/04/05/28/de_605203.asp\n#\n# The following eight (8) provinces pulled clocks back to UTC-04:00 at\n# midnight Monday May 31st. (that is, the night between 05/31 and 06/01).\n# Apparently, all nine provinces would go back to UTC-03:00 at the same\n# time in October 17th.\n#\n# Catamarca, Chubut, La Rioja, San Juan, San Luis, Santa Cruz,\n# Tierra del Fuego, Tucuman.\n#\n# From Mariano Absatz (2004-06-14):\n# ... this weekend, the Province of Tucuman decided it'd go back to UTC-03:00\n# yesterday midnight (that is, at 24:00 Saturday 12th), since the people's\n# annoyance with the change is much higher than the power savings obtained....\n#\n# From Gwillim Law (2004-06-14):\n# http://www.lanacion.com.ar/04/06/10/de_609078.asp ...\n#     \"The time change in Tierra del Fuego was a conflicted decision from\n#   the start.  The government had decreed that the measure would take\n#   effect on June 1, but a normative error forced the new time to begin\n#   three days earlier, from a Saturday to a Sunday....\n# Our understanding was that the change was originally scheduled to take place\n# on June 1 at 00:00 in Chubut, Santa Cruz, Tierra del Fuego (and some other\n# provinces).  Sunday was May 30, only two days earlier.  So the article\n# contains a contradiction.  I would give more credence to the Saturday/Sunday\n# date than the \"three days earlier\" phrase, and conclude that Tierra del\n# Fuego set its clocks back at 2004-05-30 00:00.\n#\n# From Steffen Thorsen (2004-10-05):\n# The previous law 7210 which changed the province of Mendoza's time zone\n# back in May have been modified slightly in a new law 7277, which set the\n# new end date to 2004-09-26 (original date was 2004-10-17).\n# http://www.gobernac.mendoza.gov.ar/boletin/pdf/20040924-27244-normas.pdf\n#\n# From Mariano Absatz (2004-10-05):\n# San Juan changed from UTC-03:00 to UTC-04:00 at midnight between\n# Sunday, May 30th and Monday, May 31st.  It changed back to UTC-03:00\n# at midnight between Saturday, July 24th and Sunday, July 25th....\n# http://www.sanjuan.gov.ar/prensa/archivo/000329.html\n# http://www.sanjuan.gov.ar/prensa/archivo/000426.html\n# http://www.sanjuan.gov.ar/prensa/archivo/000441.html\n\n# From Alex Krivenyshev (2008-01-17):\n# Here are articles that Argentina Province San Luis is planning to end DST\n# as earlier as upcoming Monday January 21, 2008 or February 2008:\n#\n# Provincia argentina retrasa reloj y marca diferencia con resto del pais\n# (Argentine Province delayed clock and mark difference with the rest of the\n# country)\n# <a href=\"http://cl.invertia.com/noticias/noticia.aspx?idNoticia=200801171849_EFE_ET4373&idtel\">\n# http://cl.invertia.com/noticias/noticia.aspx?idNoticia=200801171849_EFE_ET4373&idtel\n# </a>\n#\n# Es inminente que en San Luis atrasen una hora los relojes\n# (It is imminent in San Luis clocks one hour delay)\n# <a href=\"http://www.lagaceta.com.ar/vernotae.asp?id_nota=253414\">\n# http://www.lagaceta.com.ar/vernotae.asp?id_nota=253414\n# </a>\n#\n# <a href=\"http://www.worldtimezone.net/dst_news/dst_news_argentina02.html\">\n# http://www.worldtimezone.net/dst_news/dst_news_argentina02.html\n# </a>\n\n# From Jesper Norgaard Welen (2008-01-18):\n# The page of the San Luis provincial government\n# <a href=\"http://www.sanluis.gov.ar/notas.asp?idCanal=0&id=22812\">\n# http://www.sanluis.gov.ar/notas.asp?idCanal=0&id=22812\n# </a>\n# confirms what Alex Krivenyshev has earlier sent to the tz\n# emailing list about that San Luis plans to return to standard\n# time much earlier than the rest of the country. It also\n# confirms that upon request the provinces San Juan and Mendoza\n# refused to follow San Luis in this change.\n#\n# The change is supposed to take place Monday the 21.st at 0:00\n# hours. As far as I understand it if this goes ahead, we need\n# a new timezone for San Luis (although there are also documented\n# independent changes in the southamerica file of San Luis in\n# 1990 and 1991 which has not been confirmed).\n\n# From Jesper Norgaard Welen (2008-01-25):\n# Unfortunately the below page has become defunct, about the San Luis\n# time change. Perhaps because it now is part of a group of pages \"Most\n# important pages of 2008.\"\n#\n# You can use\n# <a href=\"http://www.sanluis.gov.ar/notas.asp?idCanal=8141&id=22834\">\n# http://www.sanluis.gov.ar/notas.asp?idCanal=8141&id=22834\n# </a>\n# instead it seems. Or use \"Buscador\" from the main page of the San Luis\n# government, and fill in \"huso\" and click OK, and you will get 3 pages\n# from which the first one is identical to the above.\n\n# From Mariano Absatz (2008-01-28):\n# I can confirm that the Province of San Luis (and so far only that\n# province) decided to go back to UTC-3 effective midnight Jan 20th 2008\n# (that is, Monday 21st at 0:00 is the time the clocks were delayed back\n# 1 hour), and they intend to keep UTC-3 as their timezone all year round\n# (that is, unless they change their mind any minute now).\n#\n# So we'll have to add yet another city to 'southamerica' (I think San\n# Luis city is the mos populated city in the Province, so it'd be\n# America/Argentina/San_Luis... of course I can't remember if San Luis's\n# history of particular changes goes along with Mendoza or San Juan :-(\n# (I only remember not being able to collect hard facts about San Luis\n# back in 2004, when these provinces changed to UTC-4 for a few days, I\n# mailed them personally and never got an answer).\n\n# From Paul Eggert (2008-06-30):\n# Unless otherwise specified, data are from Shanks & Pottenger through 1992,\n# from the IATA otherwise.  As noted below, Shanks & Pottenger say that\n# America/Cordoba split into 6 subregions during 1991/1992, one of which\n# was America/San_Luis, but we haven't verified this yet so for now we'll\n# keep America/Cordoba a single region rather than splitting it into the\n# other 5 subregions.\n\n# From Mariano Absatz (2009-03-13):\n# Yesterday (with our usual 2-day notice) the Province of San Luis\n# decided that next Sunday instead of \"staying\" @utc-03:00 they will go\n# to utc-04:00 until the second Saturday in October...\n#\n# The press release is at\n# <a href=\"http://www.sanluis.gov.ar/SL/Paginas/NoticiaDetalle.asp?TemaId=1&InfoPrensaId=3102\">\n# http://www.sanluis.gov.ar/SL/Paginas/NoticiaDetalle.asp?TemaId=1&InfoPrensaId=3102\n# </a>\n# (I couldn't find the decree, but\n# <a href=\"http://www.sanluis.gov.ar\">\n# www.sanluis.gov.ar\n# <a/>\n# is the official page for the Province Government).\n#\n# There's also a note in only one of the major national papers ...\n# http://www.lanacion.com.ar/nota.asp?nota_id=1107912\n#\n# The press release says [quick and dirty translation]:\n# ... announced that next Sunday, at 00:00, Puntanos (the San Luis\n# inhabitants) will have to turn back one hour their clocks\n#\n# Since then, San Luis will establish its own Province timezone. Thus,\n# during 2009, this timezone change will run from 00:00 the third Sunday\n# in March until 24:00 of the second Saturday in October.\n\n# From Mariano Absatz (2009-10-16):\n# ...the Province of San Luis is a case in itself.\n#\n# The Law at\n# <a href=\"http://www.diputadossanluis.gov.ar/diputadosasp/paginas/verNorma.asp?NormaID=276>\"\n# http://www.diputadossanluis.gov.ar/diputadosasp/paginas/verNorma.asp?NormaID=276\n# </a>\n# is ambiguous because establishes a calendar from the 2nd Sunday in\n# October at 0:00 thru the 2nd Saturday in March at 24:00 and the\n# complement of that starting on the 2nd Sunday of March at 0:00 and\n# ending on the 2nd Saturday of March at 24:00.\n#\n# This clearly breaks every time the 1st of March or October is a Sunday.\n#\n# IMHO, the \"spirit of the Law\" is to make the changes at 0:00 on the 2nd\n# Sunday of October and March.\n#\n# The problem is that the changes in the rest of the Provinces that did\n# change in 2007/2008, were made according to the Federal Law and Decrees\n# that did so on the 3rd Sunday of October and March.\n#\n# In fact, San Luis actually switched from UTC-4 to UTC-3 last Sunday\n# (October 11th) at 0:00.\n#\n# So I guess a new set of rules, besides \"Arg\", must be made and the last\n# America/Argentina/San_Luis entries should change to use these...\n#\n# I'm enclosing a patch that does what I say... regretfully, the San Luis\n# timezone must be called \"WART/WARST\" even when most of the time (like,\n# right now) WARST == ART... that is, since last Sunday, all the country\n# is using UTC-3, but in my patch, San Luis calls it \"WARST\" and the rest\n# of the country calls it \"ART\".\n# ...\n\n# From Alexander Krivenyshev (2010-04-09):\n# According to news reports from El Diario de la Republica Province San\n# Luis, Argentina (standard time UTC-04) will keep Daylight Saving Time\n# after April 11, 2010--will continue to have same time as rest of\n# Argentina (UTC-3) (no DST).\n#\n# Confirmaron la pr&oacute;rroga del huso horario de verano (Spanish)\n# <a href=\"http://www.eldiariodelarepublica.com/index.php?option=com_content&task=view&id=29383&Itemid=9\">\n# http://www.eldiariodelarepublica.com/index.php?option=com_content&task=view&id=29383&Itemid=9\n# </a>\n# or (some English translation):\n# <a href=\"http://www.worldtimezone.com/dst_news/dst_news_argentina08.html\">\n# http://www.worldtimezone.com/dst_news/dst_news_argentina08.html\n# </a>\n\n# From Mariano Absatz (2010-04-12):\n# yes...I can confirm this...and given that San Luis keeps calling\n# UTC-03:00 \"summer time\", we should't just let San Luis go back to \"Arg\"\n# rules...San Luis is still using \"Western ARgentina Time\" and it got\n# stuck on Summer daylight savings time even though the summer is over.\n\n# From Paul Eggert (2013-09-05):\n# Perhaps San Luis operates on the legal fiction that it is at UTC-4\n# with perpetual summer time, but ordinary usage typically seems to\n# just say it's at UTC-3; see, for example,\n# <http://es.wikipedia.org/wiki/Hora_oficial_argentina>.\n# We've documented similar situations as being plain changes to\n# standard time, so let's do that here too.  This does not change UTC\n# offsets, only tm_isdst and the time zone abbreviations.  One minor\n# plus is that this silences a zic complaint that there's no POSIX TZ\n# setting for time stamps past 2038.\n\n# From Paul Eggert (2013-02-21):\n# Milne says Cordoba time was -4:16:48.2.  Round to the nearest second.\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\n#\n# Buenos Aires (BA), Capital Federal (CF),\nZone America/Argentina/Buenos_Aires -3:53:48 - LMT 1894 Oct 31\n\t\t\t-4:16:48 -\tCMT\t1920 May # Cordoba Mean Time\n\t\t\t-4:00\t-\tART\t1930 Dec\n\t\t\t-4:00\tArg\tAR%sT\t1969 Oct  5\n\t\t\t-3:00\tArg\tAR%sT\t1999 Oct  3\n\t\t\t-4:00\tArg\tAR%sT\t2000 Mar  3\n\t\t\t-3:00\tArg\tAR%sT\n#\n# Cordoba (CB), Santa Fe (SF), Entre Rios (ER), Corrientes (CN), Misiones (MN),\n# Chaco (CC), Formosa (FM), Santiago del Estero (SE)\n#\n# Shanks & Pottenger also make the following claims, which we haven't verified:\n# - Formosa switched to -3:00 on 1991-01-07.\n# - Misiones switched to -3:00 on 1990-12-29.\n# - Chaco switched to -3:00 on 1991-01-04.\n# - Santiago del Estero switched to -4:00 on 1991-04-01,\n#   then to -3:00 on 1991-04-26.\n#\nZone America/Argentina/Cordoba -4:16:48 - LMT\t1894 Oct 31\n\t\t\t-4:16:48 -\tCMT\t1920 May\n\t\t\t-4:00\t-\tART\t1930 Dec\n\t\t\t-4:00\tArg\tAR%sT\t1969 Oct  5\n\t\t\t-3:00\tArg\tAR%sT\t1991 Mar  3\n\t\t\t-4:00\t-\tWART\t1991 Oct 20\n\t\t\t-3:00\tArg\tAR%sT\t1999 Oct  3\n\t\t\t-4:00\tArg\tAR%sT\t2000 Mar  3\n\t\t\t-3:00\tArg\tAR%sT\n#\n# Salta (SA), La Pampa (LP), Neuquen (NQ), Rio Negro (RN)\nZone America/Argentina/Salta -4:21:40 - LMT\t1894 Oct 31\n\t\t\t-4:16:48 -\tCMT\t1920 May\n\t\t\t-4:00\t-\tART\t1930 Dec\n\t\t\t-4:00\tArg\tAR%sT\t1969 Oct  5\n\t\t\t-3:00\tArg\tAR%sT\t1991 Mar  3\n\t\t\t-4:00\t-\tWART\t1991 Oct 20\n\t\t\t-3:00\tArg\tAR%sT\t1999 Oct  3\n\t\t\t-4:00\tArg\tAR%sT\t2000 Mar  3\n\t\t\t-3:00\tArg\tAR%sT\t2008 Oct 18\n\t\t\t-3:00\t-\tART\n#\n# Tucuman (TM)\nZone America/Argentina/Tucuman -4:20:52 - LMT\t1894 Oct 31\n\t\t\t-4:16:48 -\tCMT\t1920 May\n\t\t\t-4:00\t-\tART\t1930 Dec\n\t\t\t-4:00\tArg\tAR%sT\t1969 Oct  5\n\t\t\t-3:00\tArg\tAR%sT\t1991 Mar  3\n\t\t\t-4:00\t-\tWART\t1991 Oct 20\n\t\t\t-3:00\tArg\tAR%sT\t1999 Oct  3\n\t\t\t-4:00\tArg\tAR%sT\t2000 Mar  3\n\t\t\t-3:00\t-\tART\t2004 Jun  1\n\t\t\t-4:00\t-\tWART\t2004 Jun 13\n\t\t\t-3:00\tArg\tAR%sT\n#\n# La Rioja (LR)\nZone America/Argentina/La_Rioja -4:27:24 - LMT\t1894 Oct 31\n\t\t\t-4:16:48 -\tCMT\t1920 May\n\t\t\t-4:00\t-\tART\t1930 Dec\n\t\t\t-4:00\tArg\tAR%sT\t1969 Oct  5\n\t\t\t-3:00\tArg\tAR%sT\t1991 Mar  1\n\t\t\t-4:00\t-\tWART\t1991 May  7\n\t\t\t-3:00\tArg\tAR%sT\t1999 Oct  3\n\t\t\t-4:00\tArg\tAR%sT\t2000 Mar  3\n\t\t\t-3:00\t-\tART\t2004 Jun  1\n\t\t\t-4:00\t-\tWART\t2004 Jun 20\n\t\t\t-3:00\tArg\tAR%sT\t2008 Oct 18\n\t\t\t-3:00\t-\tART\n#\n# San Juan (SJ)\nZone America/Argentina/San_Juan -4:34:04 - LMT\t1894 Oct 31\n\t\t\t-4:16:48 -\tCMT\t1920 May\n\t\t\t-4:00\t-\tART\t1930 Dec\n\t\t\t-4:00\tArg\tAR%sT\t1969 Oct  5\n\t\t\t-3:00\tArg\tAR%sT\t1991 Mar  1\n\t\t\t-4:00\t-\tWART\t1991 May  7\n\t\t\t-3:00\tArg\tAR%sT\t1999 Oct  3\n\t\t\t-4:00\tArg\tAR%sT\t2000 Mar  3\n\t\t\t-3:00\t-\tART\t2004 May 31\n\t\t\t-4:00\t-\tWART\t2004 Jul 25\n\t\t\t-3:00\tArg\tAR%sT\t2008 Oct 18\n\t\t\t-3:00\t-\tART\n#\n# Jujuy (JY)\nZone America/Argentina/Jujuy -4:21:12 -\tLMT\t1894 Oct 31\n\t\t\t-4:16:48 -\tCMT\t1920 May\n\t\t\t-4:00\t-\tART\t1930 Dec\n\t\t\t-4:00\tArg\tAR%sT\t1969 Oct  5\n\t\t\t-3:00\tArg\tAR%sT\t1990 Mar  4\n\t\t\t-4:00\t-\tWART\t1990 Oct 28\n\t\t\t-4:00\t1:00\tWARST\t1991 Mar 17\n\t\t\t-4:00\t-\tWART\t1991 Oct  6\n\t\t\t-3:00\t1:00\tARST\t1992\n\t\t\t-3:00\tArg\tAR%sT\t1999 Oct  3\n\t\t\t-4:00\tArg\tAR%sT\t2000 Mar  3\n\t\t\t-3:00\tArg\tAR%sT\t2008 Oct 18\n\t\t\t-3:00\t-\tART\n#\n# Catamarca (CT), Chubut (CH)\nZone America/Argentina/Catamarca -4:23:08 - LMT\t1894 Oct 31\n\t\t\t-4:16:48 -\tCMT\t1920 May\n\t\t\t-4:00\t-\tART\t1930 Dec\n\t\t\t-4:00\tArg\tAR%sT\t1969 Oct  5\n\t\t\t-3:00\tArg\tAR%sT\t1991 Mar  3\n\t\t\t-4:00\t-\tWART\t1991 Oct 20\n\t\t\t-3:00\tArg\tAR%sT\t1999 Oct  3\n\t\t\t-4:00\tArg\tAR%sT\t2000 Mar  3\n\t\t\t-3:00\t-\tART\t2004 Jun  1\n\t\t\t-4:00\t-\tWART\t2004 Jun 20\n\t\t\t-3:00\tArg\tAR%sT\t2008 Oct 18\n\t\t\t-3:00\t-\tART\n#\n# Mendoza (MZ)\nZone America/Argentina/Mendoza -4:35:16 - LMT\t1894 Oct 31\n\t\t\t-4:16:48 -\tCMT\t1920 May\n\t\t\t-4:00\t-\tART\t1930 Dec\n\t\t\t-4:00\tArg\tAR%sT\t1969 Oct  5\n\t\t\t-3:00\tArg\tAR%sT\t1990 Mar  4\n\t\t\t-4:00\t-\tWART\t1990 Oct 15\n\t\t\t-4:00\t1:00\tWARST\t1991 Mar  1\n\t\t\t-4:00\t-\tWART\t1991 Oct 15\n\t\t\t-4:00\t1:00\tWARST\t1992 Mar  1\n\t\t\t-4:00\t-\tWART\t1992 Oct 18\n\t\t\t-3:00\tArg\tAR%sT\t1999 Oct  3\n\t\t\t-4:00\tArg\tAR%sT\t2000 Mar  3\n\t\t\t-3:00\t-\tART\t2004 May 23\n\t\t\t-4:00\t-\tWART\t2004 Sep 26\n\t\t\t-3:00\tArg\tAR%sT\t2008 Oct 18\n\t\t\t-3:00\t-\tART\n#\n# San Luis (SL)\n\nRule\tSanLuis\t2008\t2009\t-\tMar\tSun>=8\t0:00\t0\t-\nRule\tSanLuis\t2007\t2008\t-\tOct\tSun>=8\t0:00\t1:00\tS\n\nZone America/Argentina/San_Luis -4:25:24 - LMT\t1894 Oct 31\n\t\t\t-4:16:48 -\tCMT\t1920 May\n\t\t\t-4:00\t-\tART\t1930 Dec\n\t\t\t-4:00\tArg\tAR%sT\t1969 Oct  5\n\t\t\t-3:00\tArg\tAR%sT\t1990\n\t\t\t-3:00\t1:00\tARST\t1990 Mar 14\n\t\t\t-4:00\t-\tWART\t1990 Oct 15\n\t\t\t-4:00\t1:00\tWARST\t1991 Mar  1\n\t\t\t-4:00\t-\tWART\t1991 Jun  1\n\t\t\t-3:00\t-\tART\t1999 Oct  3\n\t\t\t-4:00\t1:00\tWARST\t2000 Mar  3\n\t\t\t-3:00\t-\tART\t2004 May 31\n\t\t\t-4:00\t-\tWART\t2004 Jul 25\n\t\t\t-3:00\tArg\tAR%sT\t2008 Jan 21\n\t\t\t-4:00\tSanLuis\tWAR%sT\t2009 Oct 11\n\t\t\t-3:00\t-\tART\n#\n# Santa Cruz (SC)\nZone America/Argentina/Rio_Gallegos -4:36:52 - LMT 1894 Oct 31\n\t\t\t-4:16:48 -\tCMT\t1920 May # Cordoba Mean Time\n\t\t\t-4:00\t-\tART\t1930 Dec\n\t\t\t-4:00\tArg\tAR%sT\t1969 Oct  5\n\t\t\t-3:00\tArg\tAR%sT\t1999 Oct  3\n\t\t\t-4:00\tArg\tAR%sT\t2000 Mar  3\n\t\t\t-3:00\t-\tART\t2004 Jun  1\n\t\t\t-4:00\t-\tWART\t2004 Jun 20\n\t\t\t-3:00\tArg\tAR%sT\t2008 Oct 18\n\t\t\t-3:00\t-\tART\n#\n# Tierra del Fuego, Antartida e Islas del Atlantico Sur (TF)\nZone America/Argentina/Ushuaia -4:33:12 - LMT 1894 Oct 31\n\t\t\t-4:16:48 -\tCMT\t1920 May # Cordoba Mean Time\n\t\t\t-4:00\t-\tART\t1930 Dec\n\t\t\t-4:00\tArg\tAR%sT\t1969 Oct  5\n\t\t\t-3:00\tArg\tAR%sT\t1999 Oct  3\n\t\t\t-4:00\tArg\tAR%sT\t2000 Mar  3\n\t\t\t-3:00\t-\tART\t2004 May 30\n\t\t\t-4:00\t-\tWART\t2004 Jun 20\n\t\t\t-3:00\tArg\tAR%sT\t2008 Oct 18\n\t\t\t-3:00\t-\tART\n\n# Aruba\nLink America/Curacao America/Aruba\n\n# Bolivia\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAmerica/La_Paz\t-4:32:36 -\tLMT\t1890\n\t\t\t-4:32:36 -\tCMT\t1931 Oct 15 # Calamarca MT\n\t\t\t-4:32:36 1:00\tBOST\t1932 Mar 21 # Bolivia ST\n\t\t\t-4:00\t-\tBOT\t# Bolivia Time\n\n# Brazil\n\n# From Paul Eggert (1993-11-18):\n# The mayor of Rio recently attempted to change the time zone rules\n# just in his city, in order to leave more summer time for the tourist trade.\n# The rule change lasted only part of the day;\n# the federal government refused to follow the city's rules, and business\n# was in a chaos, so the mayor backed down that afternoon.\n\n# From IATA SSIM (1996-02):\n# _Only_ the following states in BR1 observe DST: Rio Grande do Sul (RS),\n# Santa Catarina (SC), Parana (PR), Sao Paulo (SP), Rio de Janeiro (RJ),\n# Espirito Santo (ES), Minas Gerais (MG), Bahia (BA), Goias (GO),\n# Distrito Federal (DF), Tocantins (TO), Sergipe [SE] and Alagoas [AL].\n# [The last three states are new to this issue of the IATA SSIM.]\n\n# From Gwillim Law (1996-10-07):\n# Geography, history (Tocantins was part of Goias until 1989), and other\n# sources of time zone information lead me to believe that AL, SE, and TO were\n# always in BR1, and so the only change was whether or not they observed DST....\n# The earliest issue of the SSIM I have is 2/91.  Each issue from then until\n# 9/95 says that DST is observed only in the ten states I quoted from 9/95,\n# along with Mato Grosso (MT) and Mato Grosso do Sul (MS), which are in BR2\n# (UTC-4)....  The other two time zones given for Brazil are BR3, which is\n# UTC-5, no DST, and applies only in the state of Acre (AC); and BR4, which is\n# UTC-2, and applies to Fernando de Noronha (formerly FN, but I believe it's\n# become part of the state of Pernambuco).  The boundary between BR1 and BR2\n# has never been clearly stated.  They've simply been called East and West.\n# However, some conclusions can be drawn from another IATA manual: the Airline\n# Coding Directory, which lists close to 400 airports in Brazil.  For each\n# airport it gives a time zone which is coded to the SSIM.  From that\n# information, I'm led to conclude that the states of Amapa (AP), Ceara (CE),\n# Maranhao (MA), Paraiba (PR), Pernambuco (PE), Piaui (PI), and Rio Grande do\n# Norte (RN), and the eastern part of Para (PA) are all in BR1 without DST.\n\n# From Marcos Tadeu (1998-09-27):\n# <a href=\"http://pcdsh01.on.br/verao1.html\">\n# Brazilian official page\n# </a>\n\n# From Jesper Norgaard (2000-11-03):\n# [For an official list of which regions in Brazil use which time zones, see:]\n# http://pcdsh01.on.br/Fusbr.htm\n# http://pcdsh01.on.br/Fusbrhv.htm\n\n# From Celso Doria via David Madeo (2002-10-09):\n# The reason for the delay this year has to do with elections in Brazil.\n#\n# Unlike in the United States, elections in Brazil are 100% computerized and\n# the results are known almost immediately.  Yesterday, it was the first\n# round of the elections when 115 million Brazilians voted for President,\n# Governor, Senators, Federal Deputies, and State Deputies.  Nobody is\n# counting (or re-counting) votes anymore and we know there will be a second\n# round for the Presidency and also for some Governors.  The 2nd round will\n# take place on October 27th.\n#\n# The reason why the DST will only begin November 3rd is that the thousands\n# of electoral machines used cannot have their time changed, and since the\n# Constitution says the elections must begin at 8:00 AM and end at 5:00 PM,\n# the Government decided to postpone DST, instead of changing the Constitution\n# (maybe, for the next elections, it will be possible to change the clock)...\n\n# From Rodrigo Severo (2004-10-04):\n# It's just the biannual change made necessary by the much hyped, supposedly\n# modern Brazilian eletronic voting machines which, apparently, can't deal\n# with a time change between the first and the second rounds of the elections.\n\n# From Steffen Thorsen (2007-09-20):\n# Brazil will start DST on 2007-10-14 00:00 and end on 2008-02-17 00:00:\n# http://www.mme.gov.br/site/news/detail.do;jsessionid=BBA06811AFCAAC28F0285210913513DA?newsId=13975\n\n# From Paul Schulze (2008-06-24):\n# ...by law number 11.662 of April 24, 2008 (published in the \"Diario\n# Oficial da Uniao\"...) in Brazil there are changes in the timezones,\n# effective today (00:00am at June 24, 2008) as follows:\n#\n# a) The timezone UTC+5 is e[x]tinguished, with all the Acre state and the\n# part of the Amazonas state that had this timezone now being put to the\n# timezone UTC+4\n# b) The whole Para state now is put at timezone UTC+3, instead of just\n# part of it, as was before.\n#\n# This change follows a proposal of senator Tiao Viana of Acre state, that\n# proposed it due to concerns about open television channels displaying\n# programs inappropriate to youths in the states that had the timezone\n# UTC+5 too early in the night. In the occasion, some more corrections\n# were proposed, trying to unify the timezones of any given state. This\n# change modifies timezone rules defined in decree 2.784 of 18 June,\n# 1913.\n\n# From Rodrigo Severo (2008-06-24):\n# Just correcting the URL:\n# <a href=\"https://www.in.gov.br/imprensa/visualiza/index.jsp?jornal=do&secao=1&pagina=1&data=25/04/2008\">\n# https://www.in.gov.br/imprensa/visualiza/index.jsp?jornal=do&secao=1&pagina=1&data=25/04/2008\n# </a>\n#\n# As a result of the above Decree I believe the America/Rio_Branco\n# timezone shall be modified from UTC-5 to UTC-4 and a new timezone shall\n# be created to represent the...west side of the Para State. I\n# suggest this new timezone be called Santarem as the most\n# important/populated city in the affected area.\n#\n# This new timezone would be the same as the Rio_Branco timezone up to\n# the 2008/06/24 change which would be to UTC-3 instead of UTC-4.\n\n# From Alex Krivenyshev (2008-06-24):\n# This is a quick reference page for New and Old Brazil Time Zones map.\n# <a href=\"http://www.worldtimezone.com/brazil-time-new-old.php\">\n# http://www.worldtimezone.com/brazil-time-new-old.php\n# </a>\n#\n# - 4 time zones replaced by 3 time zones-eliminating time zone UTC- 05\n# (state Acre and the part of the Amazonas will be UTC/GMT- 04) - western\n# part of Par state is moving to one timezone UTC- 03 (from UTC -04).\n\n# From Paul Eggert (2002-10-10):\n# The official decrees referenced below are mostly taken from\n# <a href=\"http://pcdsh01.on.br/DecHV.html\">\n# Decretos sobre o Horario de Verao no Brasil\n# </a>.\n\n# From Steffen Thorsen (2008-08-29):\n# As announced by the government and many newspapers in Brazil late\n# yesterday, Brazil will start DST on 2008-10-19 (need to change rule) and\n# it will end on 2009-02-15 (current rule for Brazil is fine). Based on\n# past years experience with the elections, there was a good chance that\n# the start was postponed to November, but it did not happen this year.\n#\n# It has not yet been posted to http://pcdsh01.on.br/DecHV.html\n#\n# An official page about it:\n# <a href=\"http://www.mme.gov.br/site/news/detail.do?newsId=16722\">\n# http://www.mme.gov.br/site/news/detail.do?newsId=16722\n# </a>\n# Note that this link does not always work directly, but must be accessed\n# by going to\n# <a href=\"http://www.mme.gov.br/first\">\n# http://www.mme.gov.br/first\n# </a>\n#\n# One example link that works directly:\n# <a href=\"http://jornale.com.br/index.php?option=com_content&task=view&id=13530&Itemid=54\">\n# http://jornale.com.br/index.php?option=com_content&task=view&id=13530&Itemid=54\n# (Portuguese)\n# </a>\n#\n# We have a written a short article about it as well:\n# <a href=\"http://www.timeanddate.com/news/time/brazil-dst-2008-2009.html\">\n# http://www.timeanddate.com/news/time/brazil-dst-2008-2009.html\n# </a>\n#\n# From Alexander Krivenyshev (2011-10-04):\n# State Bahia will return to Daylight savings time this year after 8 years off.\n# The announcement was made by Governor Jaques Wagner in an interview to a\n# television station in Salvador.\n\n# In Portuguese:\n# <a href=\"http://g1.globo.com/bahia/noticia/2011/10/governador-jaques-wagner-confirma-horario-de-verao-na-bahia.html\">\n# http://g1.globo.com/bahia/noticia/2011/10/governador-jaques-wagner-confirma-horario-de-verao-na-bahia.html\n# </a> and\n# <a href=\"http://noticias.terra.com.br/brasil/noticias/0,,OI5390887-EI8139,00-Bahia+volta+a+ter+horario+de+verao+apos+oito+anos.html\">\n# http://noticias.terra.com.br/brasil/noticias/0,,OI5390887-EI8139,00-Bahia+volta+a+ter+horario+de+verao+apos+oito+anos.html\n# </a>\n\n# From Guilherme Bernardes Rodrigues (2011-10-07):\n# There is news in the media, however there is still no decree about it.\n# I just send a e-mail to Zulmira Brandao at\n# <a href=\"http://pcdsh01.on.br/\">http://pcdsh01.on.br/</a> the\n# official agency about time in Brazil, and she confirmed that the old rule is\n# still in force.\n\n# From Guilherme Bernardes Rodrigues (2011-10-14)\n# It's official, the President signed a decree that includes Bahia in summer\n# time.\n#\t [ and in a second message (same day): ]\n# I found the decree.\n#\n# DECRETO No- 7.584, DE 13 DE OUTUBRO DE 2011\n# Link :\n# <a href=\"http://www.in.gov.br/visualiza/index.jsp?data=13/10/2011&jornal=1000&pagina=6&totalArquivos=6\">\n# http://www.in.gov.br/visualiza/index.jsp?data=13/10/2011&jornal=1000&pagina=6&totalArquivos=6\n# </a>\n\n# From Kelley Cook (2012-10-16):\n# The governor of state of Bahia in Brazil announced on Thursday that\n# due to public pressure, he is reversing the DST policy they implemented\n# last year and will not be going to Summer Time on October 21st....\n# http://www.correio24horas.com.br/r/artigo/apos-pressoes-wagner-suspende-horario-de-verao-na-bahia\n\n# From Rodrigo Severo (2012-10-16):\n# Tocantins state will have DST.\n# http://noticias.terra.com.br/brasil/noticias/0,,OI6232536-EI306.html\n\n# From Steffen Thorsen (2013-09-20):\n# Tocantins in Brazil is very likely not to observe DST from October....\n# http://conexaoto.com.br/2013/09/18/ministerio-confirma-que-tocantins-esta-fora-do-horario-de-verao-em-2013-mas-falta-publicacao-de-decreto\n# We will keep this article updated when this is confirmed:\n# http://www.timeanddate.com/news/time/brazil-starts-dst-2013.html\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\n# Decree <a href=\"http://pcdsh01.on.br/HV20466.htm\">20,466</a> (1931-10-01)\n# Decree <a href=\"http://pcdsh01.on.br/HV21896.htm\">21,896</a> (1932-01-10)\nRule\tBrazil\t1931\tonly\t-\tOct\t 3\t11:00\t1:00\tS\nRule\tBrazil\t1932\t1933\t-\tApr\t 1\t 0:00\t0\t-\nRule\tBrazil\t1932\tonly\t-\tOct\t 3\t 0:00\t1:00\tS\n# Decree <a href=\"http://pcdsh01.on.br/HV23195.htm\">23,195</a> (1933-10-10)\n# revoked DST.\n# Decree <a href=\"http://pcdsh01.on.br/HV27496.htm\">27,496</a> (1949-11-24)\n# Decree <a href=\"http://pcdsh01.on.br/HV27998.htm\">27,998</a> (1950-04-13)\nRule\tBrazil\t1949\t1952\t-\tDec\t 1\t 0:00\t1:00\tS\nRule\tBrazil\t1950\tonly\t-\tApr\t16\t 1:00\t0\t-\nRule\tBrazil\t1951\t1952\t-\tApr\t 1\t 0:00\t0\t-\n# Decree <a href=\"http://pcdsh01.on.br/HV32308.htm\">32,308</a> (1953-02-24)\nRule\tBrazil\t1953\tonly\t-\tMar\t 1\t 0:00\t0\t-\n# Decree <a href=\"http://pcdsh01.on.br/HV34724.htm\">34,724</a> (1953-11-30)\n# revoked DST.\n# Decree <a href=\"http://pcdsh01.on.br/HV52700.htm\">52,700</a> (1963-10-18)\n# established DST from 1963-10-23 00:00 to 1964-02-29 00:00\n# in SP, RJ, GB, MG, ES, due to the prolongation of the drought.\n# Decree <a href=\"http://pcdsh01.on.br/HV53071.htm\">53,071</a> (1963-12-03)\n# extended the above decree to all of the national territory on 12-09.\nRule\tBrazil\t1963\tonly\t-\tDec\t 9\t 0:00\t1:00\tS\n# Decree <a href=\"http://pcdsh01.on.br/HV53604.htm\">53,604</a> (1964-02-25)\n# extended summer time by one day to 1964-03-01 00:00 (start of school).\nRule\tBrazil\t1964\tonly\t-\tMar\t 1\t 0:00\t0\t-\n# Decree <a href=\"http://pcdsh01.on.br/HV55639.htm\">55,639</a> (1965-01-27)\nRule\tBrazil\t1965\tonly\t-\tJan\t31\t 0:00\t1:00\tS\nRule\tBrazil\t1965\tonly\t-\tMar\t31\t 0:00\t0\t-\n# Decree <a href=\"http://pcdsh01.on.br/HV57303.htm\">57,303</a> (1965-11-22)\nRule\tBrazil\t1965\tonly\t-\tDec\t 1\t 0:00\t1:00\tS\n# Decree <a href=\"http://pcdsh01.on.br/HV57843.htm\">57,843</a> (1966-02-18)\nRule\tBrazil\t1966\t1968\t-\tMar\t 1\t 0:00\t0\t-\nRule\tBrazil\t1966\t1967\t-\tNov\t 1\t 0:00\t1:00\tS\n# Decree <a href=\"http://pcdsh01.on.br/HV63429.htm\">63,429</a> (1968-10-15)\n# revoked DST.\n# Decree <a href=\"http://pcdsh01.on.br/HV91698.htm\">91,698</a> (1985-09-27)\nRule\tBrazil\t1985\tonly\t-\tNov\t 2\t 0:00\t1:00\tS\n# Decree 92,310 (1986-01-21)\n# Decree 92,463 (1986-03-13)\nRule\tBrazil\t1986\tonly\t-\tMar\t15\t 0:00\t0\t-\n# Decree 93,316 (1986-10-01)\nRule\tBrazil\t1986\tonly\t-\tOct\t25\t 0:00\t1:00\tS\nRule\tBrazil\t1987\tonly\t-\tFeb\t14\t 0:00\t0\t-\n# Decree <a href=\"http://pcdsh01.on.br/HV94922.htm\">94,922</a> (1987-09-22)\nRule\tBrazil\t1987\tonly\t-\tOct\t25\t 0:00\t1:00\tS\nRule\tBrazil\t1988\tonly\t-\tFeb\t 7\t 0:00\t0\t-\n# Decree <a href=\"http://pcdsh01.on.br/HV96676.htm\">96,676</a> (1988-09-12)\n# except for the states of AC, AM, PA, RR, RO, and AP (then a territory)\nRule\tBrazil\t1988\tonly\t-\tOct\t16\t 0:00\t1:00\tS\nRule\tBrazil\t1989\tonly\t-\tJan\t29\t 0:00\t0\t-\n# Decree <a href=\"http://pcdsh01.on.br/HV98077.htm\">98,077</a> (1989-08-21)\n# with the same exceptions\nRule\tBrazil\t1989\tonly\t-\tOct\t15\t 0:00\t1:00\tS\nRule\tBrazil\t1990\tonly\t-\tFeb\t11\t 0:00\t0\t-\n# Decree <a href=\"http://pcdsh01.on.br/HV99530.htm\">99,530</a> (1990-09-17)\n# adopted by RS, SC, PR, SP, RJ, ES, MG, GO, MS, DF.\n# Decree 99,629 (1990-10-19) adds BA, MT.\nRule\tBrazil\t1990\tonly\t-\tOct\t21\t 0:00\t1:00\tS\nRule\tBrazil\t1991\tonly\t-\tFeb\t17\t 0:00\t0\t-\n# <a href=\"http://pcdsh01.on.br/HV1991.htm\">Unnumbered decree</a> (1991-09-25)\n# adopted by RS, SC, PR, SP, RJ, ES, MG, BA, GO, MT, MS, DF.\nRule\tBrazil\t1991\tonly\t-\tOct\t20\t 0:00\t1:00\tS\nRule\tBrazil\t1992\tonly\t-\tFeb\t 9\t 0:00\t0\t-\n# <a href=\"http://pcdsh01.on.br/HV1992.htm\">Unnumbered decree</a> (1992-10-16)\n# adopted by same states.\nRule\tBrazil\t1992\tonly\t-\tOct\t25\t 0:00\t1:00\tS\nRule\tBrazil\t1993\tonly\t-\tJan\t31\t 0:00\t0\t-\n# Decree <a href=\"http://pcdsh01.on.br/HV942.htm\">942</a> (1993-09-28)\n# adopted by same states, plus AM.\n# Decree <a href=\"http://pcdsh01.on.br/HV1252.htm\">1,252</a> (1994-09-22;\n# web page corrected 2004-01-07) adopted by same states, minus AM.\n# Decree <a href=\"http://pcdsh01.on.br/HV1636.htm\">1,636</a> (1995-09-14)\n# adopted by same states, plus MT and TO.\n# Decree <a href=\"http://pcdsh01.on.br/HV1674.htm\">1,674</a> (1995-10-13)\n# adds AL, SE.\nRule\tBrazil\t1993\t1995\t-\tOct\tSun>=11\t 0:00\t1:00\tS\nRule\tBrazil\t1994\t1995\t-\tFeb\tSun>=15\t 0:00\t0\t-\nRule\tBrazil\t1996\tonly\t-\tFeb\t11\t 0:00\t0\t-\n# Decree <a href=\"http://pcdsh01.on.br/HV2000.htm\">2,000</a> (1996-09-04)\n# adopted by same states, minus AL, SE.\nRule\tBrazil\t1996\tonly\t-\tOct\t 6\t 0:00\t1:00\tS\nRule\tBrazil\t1997\tonly\t-\tFeb\t16\t 0:00\t0\t-\n# From Daniel C. Sobral (1998-02-12):\n# In 1997, the DS began on October 6. The stated reason was that\n# because international television networks ignored Brazil's policy on DS,\n# they bought the wrong times on satellite for coverage of Pope's visit.\n# This year, the ending date of DS was postponed to March 1\n# to help dealing with the shortages of electric power.\n#\n# Decree 2,317 (1997-09-04), adopted by same states.\nRule\tBrazil\t1997\tonly\t-\tOct\t 6\t 0:00\t1:00\tS\n# Decree <a href=\"http://pcdsh01.on.br/figuras/HV2495.JPG\">2,495</a>\n# (1998-02-10)\nRule\tBrazil\t1998\tonly\t-\tMar\t 1\t 0:00\t0\t-\n# Decree <a href=\"http://pcdsh01.on.br/figuras/Hv98.jpg\">2,780</a> (1998-09-11)\n# adopted by the same states as before.\nRule\tBrazil\t1998\tonly\t-\tOct\t11\t 0:00\t1:00\tS\nRule\tBrazil\t1999\tonly\t-\tFeb\t21\t 0:00\t0\t-\n# Decree <a href=\"http://pcdsh01.on.br/figuras/HV3150.gif\">3,150</a>\n# (1999-08-23) adopted by same states.\n# Decree <a href=\"http://pcdsh01.on.br/DecHV99.gif\">3,188</a> (1999-09-30)\n# adds SE, AL, PB, PE, RN, CE, PI, MA and RR.\nRule\tBrazil\t1999\tonly\t-\tOct\t 3\t 0:00\t1:00\tS\nRule\tBrazil\t2000\tonly\t-\tFeb\t27\t 0:00\t0\t-\n# Decree <a href=\"http://pcdsh01.on.br/DEC3592.htm\">3,592</a> (2000-09-06)\n# adopted by the same states as before.\n# Decree <a href=\"http://pcdsh01.on.br/Dec3630.jpg\">3,630</a> (2000-10-13)\n# repeals DST in PE and RR, effective 2000-10-15 00:00.\n# Decree <a href=\"http://pcdsh01.on.br/Dec3632.jpg\">3,632</a> (2000-10-17)\n# repeals DST in SE, AL, PB, RN, CE, PI and MA, effective 2000-10-22 00:00.\n# Decree <a href=\"http://pcdsh01.on.br/figuras/HV3916.gif\">3,916</a>\n# (2001-09-13) reestablishes DST in AL, CE, MA, PB, PE, PI, RN, SE.\nRule\tBrazil\t2000\t2001\t-\tOct\tSun>=8\t 0:00\t1:00\tS\nRule\tBrazil\t2001\t2006\t-\tFeb\tSun>=15\t 0:00\t0\t-\n# Decree 4,399 (2002-10-01) repeals DST in AL, CE, MA, PB, PE, PI, RN, SE.\n# <a href=\"http://www.presidencia.gov.br/CCIVIL/decreto/2002/D4399.htm\">4,399</a>\nRule\tBrazil\t2002\tonly\t-\tNov\t 3\t 0:00\t1:00\tS\n# Decree 4,844 (2003-09-24; corrected 2003-09-26) repeals DST in BA, MT, TO.\n# <a href=\"http://www.presidencia.gov.br/CCIVIL/decreto/2003/D4844.htm\">4,844</a>\nRule\tBrazil\t2003\tonly\t-\tOct\t19\t 0:00\t1:00\tS\n# Decree 5,223 (2004-10-01) reestablishes DST in MT.\n# <a href=\"http://www.planalto.gov.br/ccivil_03/_Ato2004-2006/2004/Decreto/D5223.htm\">5,223</a>\nRule\tBrazil\t2004\tonly\t-\tNov\t 2\t 0:00\t1:00\tS\n# Decree <a href=\"http://pcdsh01.on.br/DecHV5539.gif\">5,539</a> (2005-09-19),\n# adopted by the same states as before.\nRule\tBrazil\t2005\tonly\t-\tOct\t16\t 0:00\t1:00\tS\n# Decree <a href=\"http://pcdsh01.on.br/DecHV5920.gif\">5,920</a> (2006-10-03),\n# adopted by the same states as before.\nRule\tBrazil\t2006\tonly\t-\tNov\t 5\t 0:00\t1:00\tS\nRule\tBrazil\t2007\tonly\t-\tFeb\t25\t 0:00\t0\t-\n# Decree <a href=\"http://pcdsh01.on.br/DecHV6212.gif\">6,212</a> (2007-09-26),\n# adopted by the same states as before.\nRule\tBrazil\t2007\tonly\t-\tOct\tSun>=8\t 0:00\t1:00\tS\n# From Frederico A. C. Neves (2008-09-10):\n# According to this decree\n# <a href=\"http://www.planalto.gov.br/ccivil_03/_Ato2007-2010/2008/Decreto/D6558.htm\">\n# http://www.planalto.gov.br/ccivil_03/_Ato2007-2010/2008/Decreto/D6558.htm\n# </a>\n# [t]he DST period in Brazil now on will be from the 3rd Oct Sunday to the\n# 3rd Feb Sunday. There is an exception on the return date when this is\n# the Carnival Sunday then the return date will be the next Sunday...\nRule\tBrazil\t2008\tmax\t-\tOct\tSun>=15\t0:00\t1:00\tS\nRule\tBrazil\t2008\t2011\t-\tFeb\tSun>=15\t0:00\t0\t-\nRule\tBrazil\t2012\tonly\t-\tFeb\tSun>=22\t0:00\t0\t-\nRule\tBrazil\t2013\t2014\t-\tFeb\tSun>=15\t0:00\t0\t-\nRule\tBrazil\t2015\tonly\t-\tFeb\tSun>=22\t0:00\t0\t-\nRule\tBrazil\t2016\t2022\t-\tFeb\tSun>=15\t0:00\t0\t-\nRule\tBrazil\t2023\tonly\t-\tFeb\tSun>=22\t0:00\t0\t-\nRule\tBrazil\t2024\t2025\t-\tFeb\tSun>=15\t0:00\t0\t-\nRule\tBrazil\t2026\tonly\t-\tFeb\tSun>=22\t0:00\t0\t-\nRule\tBrazil\t2027\t2033\t-\tFeb\tSun>=15\t0:00\t0\t-\nRule\tBrazil\t2034\tonly\t-\tFeb\tSun>=22\t0:00\t0\t-\nRule\tBrazil\t2035\t2036\t-\tFeb\tSun>=15\t0:00\t0\t-\nRule\tBrazil\t2037\tonly\t-\tFeb\tSun>=22\t0:00\t0\t-\n# From Arthur David Olson (2008-09-29):\n# The next is wrong in some years but is better than nothing.\nRule\tBrazil\t2038\tmax\t-\tFeb\tSun>=15\t0:00\t0\t-\n\n# The latest ruleset listed above says that the following states observe DST:\n# DF, ES, GO, MG, MS, MT, PR, RJ, RS, SC, SP.\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\n#\n# Fernando de Noronha (administratively part of PE)\nZone America/Noronha\t-2:09:40 -\tLMT\t1914\n\t\t\t-2:00\tBrazil\tFN%sT\t1990 Sep 17\n\t\t\t-2:00\t-\tFNT\t1999 Sep 30\n\t\t\t-2:00\tBrazil\tFN%sT\t2000 Oct 15\n\t\t\t-2:00\t-\tFNT\t2001 Sep 13\n\t\t\t-2:00\tBrazil\tFN%sT\t2002 Oct  1\n\t\t\t-2:00\t-\tFNT\n# Other Atlantic islands have no permanent settlement.\n# These include Trindade and Martin Vaz (administratively part of ES),\n# Atol das Rocas (RN), and Penedos de Sao Pedro e Sao Paulo (PE).\n# Fernando de Noronha was a separate territory from 1942-09-02 to 1989-01-01;\n# it also included the Penedos.\n#\n# Amapa (AP), east Para (PA)\n# East Para includes Belem, Maraba, Serra Norte, and Sao Felix do Xingu.\n# The division between east and west Para is the river Xingu.\n# In the north a very small part from the river Javary (now Jari I guess,\n# the border with Amapa) to the Amazon, then to the Xingu.\nZone America/Belem\t-3:13:56 -\tLMT\t1914\n\t\t\t-3:00\tBrazil\tBR%sT\t1988 Sep 12\n\t\t\t-3:00\t-\tBRT\n#\n# west Para (PA)\n# West Para includes Altamira, Oribidos, Prainha, Oriximina, and Santarem.\nZone America/Santarem\t-3:38:48 -\tLMT\t1914\n\t\t\t-4:00\tBrazil\tAM%sT\t1988 Sep 12\n\t\t\t-4:00\t-\tAMT\t2008 Jun 24 00:00\n\t\t\t-3:00\t-\tBRT\n#\n# Maranhao (MA), Piaui (PI), Ceara (CE), Rio Grande do Norte (RN),\n# Paraiba (PB)\nZone America/Fortaleza\t-2:34:00 -\tLMT\t1914\n\t\t\t-3:00\tBrazil\tBR%sT\t1990 Sep 17\n\t\t\t-3:00\t-\tBRT\t1999 Sep 30\n\t\t\t-3:00\tBrazil\tBR%sT\t2000 Oct 22\n\t\t\t-3:00\t-\tBRT\t2001 Sep 13\n\t\t\t-3:00\tBrazil\tBR%sT\t2002 Oct  1\n\t\t\t-3:00\t-\tBRT\n#\n# Pernambuco (PE) (except Atlantic islands)\nZone America/Recife\t-2:19:36 -\tLMT\t1914\n\t\t\t-3:00\tBrazil\tBR%sT\t1990 Sep 17\n\t\t\t-3:00\t-\tBRT\t1999 Sep 30\n\t\t\t-3:00\tBrazil\tBR%sT\t2000 Oct 15\n\t\t\t-3:00\t-\tBRT\t2001 Sep 13\n\t\t\t-3:00\tBrazil\tBR%sT\t2002 Oct  1\n\t\t\t-3:00\t-\tBRT\n#\n# Tocantins (TO)\nZone America/Araguaina\t-3:12:48 -\tLMT\t1914\n\t\t\t-3:00\tBrazil\tBR%sT\t1990 Sep 17\n\t\t\t-3:00\t-\tBRT\t1995 Sep 14\n\t\t\t-3:00\tBrazil\tBR%sT\t2003 Sep 24\n\t\t\t-3:00\t-\tBRT\t2012 Oct 21\n\t\t\t-3:00\tBrazil\tBR%sT\t2013 Sep\n\t\t\t-3:00\t-\tBRT\n#\n# Alagoas (AL), Sergipe (SE)\nZone America/Maceio\t-2:22:52 -\tLMT\t1914\n\t\t\t-3:00\tBrazil\tBR%sT\t1990 Sep 17\n\t\t\t-3:00\t-\tBRT\t1995 Oct 13\n\t\t\t-3:00\tBrazil\tBR%sT\t1996 Sep  4\n\t\t\t-3:00\t-\tBRT\t1999 Sep 30\n\t\t\t-3:00\tBrazil\tBR%sT\t2000 Oct 22\n\t\t\t-3:00\t-\tBRT\t2001 Sep 13\n\t\t\t-3:00\tBrazil\tBR%sT\t2002 Oct  1\n\t\t\t-3:00\t-\tBRT\n#\n# Bahia (BA)\n# There are too many Salvadors elsewhere, so use America/Bahia instead\n# of America/Salvador.\nZone America/Bahia\t-2:34:04 -\tLMT\t1914\n\t\t\t-3:00\tBrazil\tBR%sT\t2003 Sep 24\n\t\t\t-3:00\t-\tBRT\t2011 Oct 16\n\t\t\t-3:00\tBrazil\tBR%sT\t2012 Oct 21\n\t\t\t-3:00\t-\tBRT\n#\n# Goias (GO), Distrito Federal (DF), Minas Gerais (MG),\n# Espirito Santo (ES), Rio de Janeiro (RJ), Sao Paulo (SP), Parana (PR),\n# Santa Catarina (SC), Rio Grande do Sul (RS)\nZone America/Sao_Paulo\t-3:06:28 -\tLMT\t1914\n\t\t\t-3:00\tBrazil\tBR%sT\t1963 Oct 23 00:00\n\t\t\t-3:00\t1:00\tBRST\t1964\n\t\t\t-3:00\tBrazil\tBR%sT\n#\n# Mato Grosso do Sul (MS)\nZone America/Campo_Grande -3:38:28 -\tLMT\t1914\n\t\t\t-4:00\tBrazil\tAM%sT\n#\n# Mato Grosso (MT)\nZone America/Cuiaba\t-3:44:20 -\tLMT\t1914\n\t\t\t-4:00\tBrazil\tAM%sT\t2003 Sep 24\n\t\t\t-4:00\t-\tAMT\t2004 Oct  1\n\t\t\t-4:00\tBrazil\tAM%sT\n#\n# Rondonia (RO)\nZone America/Porto_Velho -4:15:36 -\tLMT\t1914\n\t\t\t-4:00\tBrazil\tAM%sT\t1988 Sep 12\n\t\t\t-4:00\t-\tAMT\n#\n# Roraima (RR)\nZone America/Boa_Vista\t-4:02:40 -\tLMT\t1914\n\t\t\t-4:00\tBrazil\tAM%sT\t1988 Sep 12\n\t\t\t-4:00\t-\tAMT\t1999 Sep 30\n\t\t\t-4:00\tBrazil\tAM%sT\t2000 Oct 15\n\t\t\t-4:00\t-\tAMT\n#\n# east Amazonas (AM): Boca do Acre, Jutai, Manaus, Floriano Peixoto\n# The great circle line from Tabatinga to Porto Acre divides\n# east from west Amazonas.\nZone America/Manaus\t-4:00:04 -\tLMT\t1914\n\t\t\t-4:00\tBrazil\tAM%sT\t1988 Sep 12\n\t\t\t-4:00\t-\tAMT\t1993 Sep 28\n\t\t\t-4:00\tBrazil\tAM%sT\t1994 Sep 22\n\t\t\t-4:00\t-\tAMT\n#\n# west Amazonas (AM): Atalaia do Norte, Boca do Maoco, Benjamin Constant,\n#\tEirunepe, Envira, Ipixuna\nZone America/Eirunepe\t-4:39:28 -\tLMT\t1914\n\t\t\t-5:00\tBrazil\tAC%sT\t1988 Sep 12\n\t\t\t-5:00\t-\tACT\t1993 Sep 28\n\t\t\t-5:00\tBrazil\tAC%sT\t1994 Sep 22\n\t\t\t-5:00\t-\tACT\t2008 Jun 24 00:00\n\t\t\t-4:00\t-\tAMT\n#\n# Acre (AC)\nZone America/Rio_Branco\t-4:31:12 -\tLMT\t1914\n\t\t\t-5:00\tBrazil\tAC%sT\t1988 Sep 12\n\t\t\t-5:00\t-\tACT\t2008 Jun 24 00:00\n\t\t\t-4:00\t-\tAMT\n\n# Chile\n\n# From Eduardo Krell (1995-10-19):\n# The law says to switch to DST at midnight [24:00] on the second SATURDAY\n# of October....  The law is the same for March and October.\n# (1998-09-29):\n# Because of the drought this year, the government decided to go into\n# DST earlier (saturday 9/26 at 24:00). This is a one-time change only ...\n# (unless there's another dry season next year, I guess).\n\n# From Julio I. Pacheco Troncoso (1999-03-18):\n# Because of the same drought, the government decided to end DST later,\n# on April 3, (one-time change).\n\n# From Oscar van Vlijmen (2006-10-08):\n# http://www.horaoficial.cl/cambio.htm\n\n# From Jesper Norgaard Welen (2006-10-08):\n# I think that there are some obvious mistakes in the suggested link\n# from Oscar van Vlijmen,... for instance entry 66 says that GMT-4\n# ended 1990-09-12 while entry 67 only begins GMT-3 at 1990-09-15\n# (they should have been 1990-09-15 and 1990-09-16 respectively), but\n# anyhow it clears up some doubts too.\n\n# From Paul Eggert (2006-12-27):\n# The following data for Chile and America/Santiago are from\n# <http://www.horaoficial.cl/horaof.htm> (2006-09-20), transcribed by\n# Jesper Norgaard Welen.  The data for Pacific/Easter are from Shanks\n# & Pottenger, except with DST transitions after 1932 cloned from\n# America/Santiago.  The pre-1980 Pacific/Easter data are dubious,\n# but we have no other source.\n\n# From German Poo-Caaman~o (2008-03-03):\n# Due to drought, Chile extends Daylight Time in three weeks.  This\n# is one-time change (Saturday 3/29 at 24:00 for America/Santiago\n# and Saturday 3/29 at 22:00 for Pacific/Easter)\n# The Supreme Decree is located at\n# <a href=\"http://www.shoa.cl/servicios/supremo316.pdf\">\n# http://www.shoa.cl/servicios/supremo316.pdf\n# </a>\n# and the instructions for 2008 are located in:\n# <a href=\"http://www.horaoficial.cl/cambio.htm\">\n# http://www.horaoficial.cl/cambio.htm\n# </a>.\n\n# From Jose Miguel Garrido (2008-03-05):\n# ...\n# You could see the announces of the change on\n# <a href=\"http://www.shoa.cl/noticias/2008/04hora/hora.htm\">\n# http://www.shoa.cl/noticias/2008/04hora/hora.htm\n# </a>.\n\n# From Angel Chiang (2010-03-04):\n# Subject: DST in Chile exceptionally extended to 3 April due to earthquake\n# <a href=\"http://www.gobiernodechile.cl/viewNoticia.aspx?idArticulo=30098\">\n# http://www.gobiernodechile.cl/viewNoticia.aspx?idArticulo=30098\n# </a>\n# (in Spanish, last paragraph).\n#\n# This is breaking news. There should be more information available later.\n\n# From Arthur Daivd Olson (2010-03-06):\n# Angel Chiang's message confirmed by Julio Pacheco; Julio provided a patch.\n\n# From Glenn Eychaner (2011-03-02): [geychaner@mac.com]\n# It appears that the Chilean government has decided to postpone the\n# change from summer time to winter time again, by three weeks to April\n# 2nd:\n# <a href=\"http://www.emol.com/noticias/nacional/detalle/detallenoticias.asp?idnoticia=467651\">\n# http://www.emol.com/noticias/nacional/detalle/detallenoticias.asp?idnoticia=467651\n# </a>\n#\n# This is not yet reflected in the official \"cambio de hora\" site, but\n# probably will be soon:\n# <a href=\"http://www.horaoficial.cl/cambio.htm\">\n# http://www.horaoficial.cl/cambio.htm\n# </a>\n\n# From Arthur David Olson (2011-03-02):\n# The emol.com article mentions a water shortage as the cause of the\n# postponement, which may mean that it's not a permanent change.\n\n# From Glenn Eychaner (2011-03-28):\n# The article:\n# <a href=\"http://diario.elmercurio.com/2011/03/28/_portada/_portada/noticias/7565897A-CA86-49E6-9E03-660B21A4883E.htm?id=3D{7565897A-CA86-49E6-9E03-660B21A4883E}\">\n# http://diario.elmercurio.com/2011/03/28/_portada/_portada/noticias/7565897A-CA86-49E6-9E03-660B21A4883E.htm?id=3D{7565897A-CA86-49E6-9E03-660B21A4883E}\n# </a>\n#\n# In English:\n# Chile's clocks will go back an hour this year on the 7th of May instead\n# of this Saturday. They will go forward again the 3rd Saturday in\n# August, not in October as they have since 1968. This is a pilot plan\n# which will be reevaluated in 2012.\n\n# From Mauricio Parada (2012-02-22), translated by Glenn Eychaner (2012-02-23):\n# As stated in the website of the Chilean Energy Ministry\n# http://www.minenergia.cl/ministerio/noticias/generales/gobierno-anuncia-fechas-de-cambio-de.html\n# The Chilean Government has decided to postpone the entrance into winter time\n# (to leave DST) from March 11 2012 to April 28th 2012. The decision has not\n# been yet formalized but it will within the next days.\n# Quote from the website communication:\n#\n# 6. For the year 2012, the dates of entry into winter time will be as follows:\n# a. Saturday April 28, 2012, clocks should go back 60 minutes; that is, at\n# 23:59:59, instead of passing to 0:00, the time should be adjusted to be 23:00\n# of the same day.\n# b. Saturday, September 1, 2012, clocks should go forward 60 minutes; that is,\n# at 23:59:59, instead of passing to 0:00, the time should be adjusted to be\n# 01:00 on September 2.\n\n# From Steffen Thorsen (2013-02-15):\n# According to several news sources, Chile has extended DST this year,\n# they will end DST later and start DST earlier than planned.  They\n# hope to save energy.  The new end date is 2013-04-28 00:00 and new\n# start date is 2013-09-08 00:00....\n# http://www.gob.cl/informa/2013/02/15/gobierno-anuncia-fechas-de-cambio-de-hora-para-el-ano-2013.htm\n\n# NOTE: ChileAQ rules for Antarctic bases are stored separately in the\n# 'antarctica' file.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tChile\t1927\t1932\t-\tSep\t 1\t0:00\t1:00\tS\nRule\tChile\t1928\t1932\t-\tApr\t 1\t0:00\t0\t-\nRule\tChile\t1942\tonly\t-\tJun\t 1\t4:00u\t0\t-\nRule\tChile\t1942\tonly\t-\tAug\t 1\t5:00u\t1:00\tS\nRule\tChile\t1946\tonly\t-\tJul\t15\t4:00u\t1:00\tS\nRule\tChile\t1946\tonly\t-\tSep\t 1\t3:00u\t0:00\t-\nRule\tChile\t1947\tonly\t-\tApr\t 1\t4:00u\t0\t-\nRule\tChile\t1968\tonly\t-\tNov\t 3\t4:00u\t1:00\tS\nRule\tChile\t1969\tonly\t-\tMar\t30\t3:00u\t0\t-\nRule\tChile\t1969\tonly\t-\tNov\t23\t4:00u\t1:00\tS\nRule\tChile\t1970\tonly\t-\tMar\t29\t3:00u\t0\t-\nRule\tChile\t1971\tonly\t-\tMar\t14\t3:00u\t0\t-\nRule\tChile\t1970\t1972\t-\tOct\tSun>=9\t4:00u\t1:00\tS\nRule\tChile\t1972\t1986\t-\tMar\tSun>=9\t3:00u\t0\t-\nRule\tChile\t1973\tonly\t-\tSep\t30\t4:00u\t1:00\tS\nRule\tChile\t1974\t1987\t-\tOct\tSun>=9\t4:00u\t1:00\tS\nRule\tChile\t1987\tonly\t-\tApr\t12\t3:00u\t0\t-\nRule\tChile\t1988\t1989\t-\tMar\tSun>=9\t3:00u\t0\t-\nRule\tChile\t1988\tonly\t-\tOct\tSun>=1\t4:00u\t1:00\tS\nRule\tChile\t1989\tonly\t-\tOct\tSun>=9\t4:00u\t1:00\tS\nRule\tChile\t1990\tonly\t-\tMar\t18\t3:00u\t0\t-\nRule\tChile\t1990\tonly\t-\tSep\t16\t4:00u\t1:00\tS\nRule\tChile\t1991\t1996\t-\tMar\tSun>=9\t3:00u\t0\t-\nRule\tChile\t1991\t1997\t-\tOct\tSun>=9\t4:00u\t1:00\tS\nRule\tChile\t1997\tonly\t-\tMar\t30\t3:00u\t0\t-\nRule\tChile\t1998\tonly\t-\tMar\tSun>=9\t3:00u\t0\t-\nRule\tChile\t1998\tonly\t-\tSep\t27\t4:00u\t1:00\tS\nRule\tChile\t1999\tonly\t-\tApr\t 4\t3:00u\t0\t-\nRule\tChile\t1999\t2010\t-\tOct\tSun>=9\t4:00u\t1:00\tS\nRule\tChile\t2000\t2007\t-\tMar\tSun>=9\t3:00u\t0\t-\n# N.B.: the end of March 29 in Chile is March 30 in Universal time,\n# which is used below in specifying the transition.\nRule\tChile\t2008\tonly\t-\tMar\t30\t3:00u\t0\t-\nRule\tChile\t2009\tonly\t-\tMar\tSun>=9\t3:00u\t0\t-\nRule\tChile\t2010\tonly\t-\tApr\tSun>=1\t3:00u\t0\t-\nRule\tChile\t2011\tonly\t-\tMay\tSun>=2\t3:00u\t0\t-\nRule\tChile\t2011\tonly\t-\tAug\tSun>=16\t4:00u\t1:00\tS\nRule\tChile\t2012\tmax\t-\tApr\tSun>=23\t3:00u\t0\t-\nRule\tChile\t2012\tmax\t-\tSep\tSun>=2\t4:00u\t1:00\tS\n# IATA SSIM anomalies: (1992-02) says 1992-03-14;\n# (1996-09) says 1998-03-08.  Ignore these.\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Santiago\t-4:42:46 -\tLMT\t1890\n\t\t\t-4:42:46 -\tSMT\t1910 \t    # Santiago Mean Time\n\t\t\t-5:00\t-\tCLT\t1916 Jul  1 # Chile Time\n\t\t\t-4:42:46 -\tSMT\t1918 Sep  1 # Santiago Mean Time\n\t\t\t-4:00\t-\tCLT\t1919 Jul  1 # Chile Time\n\t\t\t-4:42:46 -\tSMT\t1927 Sep  1 # Santiago Mean Time\n\t\t\t-5:00\tChile\tCL%sT\t1947 May 22 # Chile Time\n\t\t\t-4:00\tChile\tCL%sT\nZone Pacific/Easter\t-7:17:44 -\tLMT\t1890\n\t\t\t-7:17:28 -\tEMT\t1932 Sep    # Easter Mean Time\n\t\t\t-7:00\tChile\tEAS%sT\t1982 Mar 13 21:00 # Easter I Time\n\t\t\t-6:00\tChile\tEAS%sT\n#\n# Sala y Gomez Island is like Pacific/Easter.\n# Other Chilean locations, including Juan Fernandez Is, San Ambrosio,\n# San Felix, and Antarctic bases, are like America/Santiago.\n\n# Colombia\n\n# Milne gives 4:56:16.4 for Bogota time in 1899; round to nearest.  He writes,\n# \"A variation of fifteen minutes in the public clocks of Bogota is not rare.\"\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tCO\t1992\tonly\t-\tMay\t 3\t0:00\t1:00\tS\nRule\tCO\t1993\tonly\t-\tApr\t 4\t0:00\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAmerica/Bogota\t-4:56:16 -\tLMT\t1884 Mar 13\n\t\t\t-4:56:16 -\tBMT\t1914 Nov 23 # Bogota Mean Time\n\t\t\t-5:00\tCO\tCO%sT\t# Colombia Time\n# Malpelo, Providencia, San Andres\n# no information; probably like America/Bogota\n\n# Curacao\n\n# Milne gives 4:35:46.9 for Curacao mean time; round to nearest.\n#\n# From Paul Eggert (2006-03-22):\n# Shanks & Pottenger say that The Bottom and Philipsburg have been at\n# -4:00 since standard time was introduced on 1912-03-02; and that\n# Kralendijk and Rincon used Kralendijk Mean Time (-4:33:08) from\n# 1912-02-02 to 1965-01-01.  The former is dubious, since S&P also say\n# Saba Island has been like Curacao.\n# This all predates our 1970 cutoff, though.\n#\n# By July 2007 Curacao and St Maarten are planned to become\n# associated states within the Netherlands, much like Aruba;\n# Bonaire, Saba and St Eustatius would become directly part of the\n# Netherlands as Kingdom Islands.  This won't affect their time zones\n# though, as far as we know.\n#\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAmerica/Curacao\t-4:35:47 -\tLMT\t1912 Feb 12\t# Willemstad\n\t\t\t-4:30\t-\tANT\t1965 # Netherlands Antilles Time\n\t\t\t-4:00\t-\tAST\n\n# From Arthur David Olson (2011-06-15):\n# use links for places with new iso3166 codes.\n# The name \"Lower Prince's Quarter\" is both longer than fourteen charaters\n# and contains an apostrophe; use \"Lower_Princes\" below.\n\nLink\tAmerica/Curacao\tAmerica/Lower_Princes\t# Sint Maarten\nLink\tAmerica/Curacao\tAmerica/Kralendijk\t# Caribbean Netherlands\n\n# Ecuador\n#\n# Milne says the Sentral and South American Telegraph Company used -5:24:15.\n#\n# From Paul Eggert (2007-03-04):\n# Apparently Ecuador had a failed experiment with DST in 1992.\n# <http://midena.gov.ec/content/view/1261/208/> (2007-02-27) and\n# <http://www.hoy.com.ec/NoticiaNue.asp?row_id=249856> (2006-11-06) both\n# talk about \"hora Sixto\".  Leave this alone for now, as we have no data.\n#\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Guayaquil\t-5:19:20 -\tLMT\t1890\n\t\t\t-5:14:00 -\tQMT\t1931 # Quito Mean Time\n\t\t\t-5:00\t-\tECT\t     # Ecuador Time\nZone Pacific/Galapagos\t-5:58:24 -\tLMT\t1931 # Puerto Baquerizo Moreno\n\t\t\t-5:00\t-\tECT\t1986\n\t\t\t-6:00\t-\tGALT\t     # Galapagos Time\n\n# Falklands\n\n# From Paul Eggert (2006-03-22):\n# Between 1990 and 2000 inclusive, Shanks & Pottenger and the IATA agree except\n# the IATA gives 1996-09-08.  Go with Shanks & Pottenger.\n\n# From Falkland Islands Government Office, London (2001-01-22)\n# via Jesper Norgaard:\n# ... the clocks revert back to Local Mean Time at 2 am on Sunday 15\n# April 2001 and advance one hour to summer time at 2 am on Sunday 2\n# September.  It is anticipated that the clocks will revert back at 2\n# am on Sunday 21 April 2002 and advance to summer time at 2 am on\n# Sunday 1 September.\n\n# From Rives McDow (2001-02-13):\n#\n# I have communicated several times with people there, and the last\n# time I had communications that was helpful was in 1998.  Here is\n# what was said then:\n#\n# \"The general rule was that Stanley used daylight saving and the Camp\n# did not. However for various reasons many people in the Camp have\n# started to use daylight saving (known locally as 'Stanley Time')\n# There is no rule as to who uses daylight saving - it is a matter of\n# personal choice and so it is impossible to draw a map showing who\n# uses it and who does not. Any list would be out of date as soon as\n# it was produced. This year daylight saving ended on April 18/19th\n# and started again on September 12/13th.  I do not know what the rule\n# is, but can find out if you like.  We do not change at the same time\n# as UK or Chile.\"\n#\n# I did have in my notes that the rule was \"Second Saturday in Sep at\n# 0:00 until third Saturday in Apr at 0:00\".  I think that this does\n# not agree in some cases with Shanks; is this true?\n#\n# Also, there is no mention in the list that some areas in the\n# Falklands do not use DST.  I have found in my communications there\n# that these areas are on the western half of East Falkland and all of\n# West Falkland.  Stanley is the only place that consistently observes\n# DST.  Again, as in other places in the world, the farmers don't like\n# it.  West Falkland is almost entirely sheep farmers.\n#\n# I know one lady there that keeps a list of which farm keeps DST and\n# which doesn't each year.  She runs a shop in Stanley, and says that\n# the list changes each year.  She uses it to communicate to her\n# customers, catching them when they are home for lunch or dinner.\n\n# From Paul Eggert (2001-03-05):\n# For now, we'll just record the time in Stanley, since we have no\n# better info.\n\n# From Steffen Thorsen (2011-04-01):\n# The Falkland Islands will not turn back clocks this winter, but stay on\n# daylight saving time.\n#\n# One source:\n# <a href=\"http://www.falklandnews.com/public/story.cfm?get=5914&source=3\">\n# http://www.falklandnews.com/public/story.cfm?get=5914&source=3\n# </a>\n#\n# We have gotten this confirmed by a clerk of the legislative assembly:\n# Normally the clocks revert to Local Mean Time (UTC/GMT -4 hours) on the\n# third Sunday of April at 0200hrs and advance to Summer Time (UTC/GMT -3\n# hours) on the first Sunday of September at 0200hrs.\n#\n# IMPORTANT NOTE: During 2011, on a trial basis, the Falkland Islands\n# will not revert to local mean time, but clocks will remain on Summer\n# time (UTC/GMT - 3 hours) throughout the whole of 2011.  Any long term\n# change to local time following the trial period will be notified.\n#\n# From Andrew Newman (2012-02-24)\n# A letter from Justin McPhee, Chief Executive,\n# Cable & Wireless Falkland Islands (dated 2012-02-22)\n# states...\n#   The current Atlantic/Stanley entry under South America expects the\n#   clocks to go back to standard Falklands Time (FKT) on the 15th April.\n#   The database entry states that in 2011 Stanley was staying on fixed\n#   summer time on a trial basis only.  FIG need to contact IANA and/or\n#   the maintainers of the database to inform them we're adopting\n#   the same policy this year and suggest recommendations for future years.\n#\n# For now we will assume permanent summer time for the Falklands\n# until advised differently (to apply for 2012 and beyond, after the 2011\n# experiment was apparently successful.)\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tFalk\t1937\t1938\t-\tSep\tlastSun\t0:00\t1:00\tS\nRule\tFalk\t1938\t1942\t-\tMar\tSun>=19\t0:00\t0\t-\nRule\tFalk\t1939\tonly\t-\tOct\t1\t0:00\t1:00\tS\nRule\tFalk\t1940\t1942\t-\tSep\tlastSun\t0:00\t1:00\tS\nRule\tFalk\t1943\tonly\t-\tJan\t1\t0:00\t0\t-\nRule\tFalk\t1983\tonly\t-\tSep\tlastSun\t0:00\t1:00\tS\nRule\tFalk\t1984\t1985\t-\tApr\tlastSun\t0:00\t0\t-\nRule\tFalk\t1984\tonly\t-\tSep\t16\t0:00\t1:00\tS\nRule\tFalk\t1985\t2000\t-\tSep\tSun>=9\t0:00\t1:00\tS\nRule\tFalk\t1986\t2000\t-\tApr\tSun>=16\t0:00\t0\t-\nRule\tFalk\t2001\t2010\t-\tApr\tSun>=15\t2:00\t0\t-\nRule\tFalk\t2001\t2010\t-\tSep\tSun>=1\t2:00\t1:00\tS\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Atlantic/Stanley\t-3:51:24 -\tLMT\t1890\n\t\t\t-3:51:24 -\tSMT\t1912 Mar 12  # Stanley Mean Time\n\t\t\t-4:00\tFalk\tFK%sT\t1983 May     # Falkland Is Time\n\t\t\t-3:00\tFalk\tFK%sT\t1985 Sep 15\n\t\t\t-4:00\tFalk\tFK%sT\t2010 Sep 5 02:00\n\t\t\t-3:00\t-\tFKST\n\n# French Guiana\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Cayenne\t-3:29:20 -\tLMT\t1911 Jul\n\t\t\t-4:00\t-\tGFT\t1967 Oct # French Guiana Time\n\t\t\t-3:00\t-\tGFT\n\n# Guyana\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAmerica/Guyana\t-3:52:40 -\tLMT\t1915 Mar\t# Georgetown\n\t\t\t-3:45\t-\tGBGT\t1966 May 26 # Br Guiana Time\n\t\t\t-3:45\t-\tGYT\t1975 Jul 31 # Guyana Time\n\t\t\t-3:00\t-\tGYT\t1991\n# IATA SSIM (1996-06) says -4:00.  Assume a 1991 switch.\n\t\t\t-4:00\t-\tGYT\n\n# Paraguay\n#\n# From Paul Eggert (2006-03-22):\n# Shanks & Pottenger say that spring transitions are from 01:00 -> 02:00,\n# and autumn transitions are from 00:00 -> 23:00.  Go with pre-1999\n# editions of Shanks, and with the IATA, who say transitions occur at 00:00.\n#\n# From Waldemar Villamayor-Venialbo (2013-09-20):\n# No time of the day is established for the adjustment, so people normally\n# adjust their clocks at 0 hour of the given dates.\n#\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tPara\t1975\t1988\t-\tOct\t 1\t0:00\t1:00\tS\nRule\tPara\t1975\t1978\t-\tMar\t 1\t0:00\t0\t-\nRule\tPara\t1979\t1991\t-\tApr\t 1\t0:00\t0\t-\nRule\tPara\t1989\tonly\t-\tOct\t22\t0:00\t1:00\tS\nRule\tPara\t1990\tonly\t-\tOct\t 1\t0:00\t1:00\tS\nRule\tPara\t1991\tonly\t-\tOct\t 6\t0:00\t1:00\tS\nRule\tPara\t1992\tonly\t-\tMar\t 1\t0:00\t0\t-\nRule\tPara\t1992\tonly\t-\tOct\t 5\t0:00\t1:00\tS\nRule\tPara\t1993\tonly\t-\tMar\t31\t0:00\t0\t-\nRule\tPara\t1993\t1995\t-\tOct\t 1\t0:00\t1:00\tS\nRule\tPara\t1994\t1995\t-\tFeb\tlastSun\t0:00\t0\t-\nRule\tPara\t1996\tonly\t-\tMar\t 1\t0:00\t0\t-\n# IATA SSIM (2000-02) says 1999-10-10; ignore this for now.\n# From Steffen Thorsen (2000-10-02):\n# I have three independent reports that Paraguay changed to DST this Sunday\n# (10-01).\n#\n# Translated by Gwillim Law (2001-02-27) from\n# <a href=\"http://www.diarionoticias.com.py/011000/nacional/naciona1.htm\">\n# Noticias, a daily paper in Asuncion, Paraguay (2000-10-01)\n# </a>:\n# Starting at 0:00 today, the clock will be set forward 60 minutes, in\n# fulfillment of Decree No. 7,273 of the Executive Power....  The time change\n# system has been operating for several years.  Formerly there was a separate\n# decree each year; the new law has the same effect, but permanently.  Every\n# year, the time will change on the first Sunday of October; likewise, the\n# clock will be set back on the first Sunday of March.\n#\nRule\tPara\t1996\t2001\t-\tOct\tSun>=1\t0:00\t1:00\tS\n# IATA SSIM (1997-09) says Mar 1; go with Shanks & Pottenger.\nRule\tPara\t1997\tonly\t-\tFeb\tlastSun\t0:00\t0\t-\n# Shanks & Pottenger say 1999-02-28; IATA SSIM (1999-02) says 1999-02-27, but\n# (1999-09) reports no date; go with above sources and Gerd Knops (2001-02-27).\nRule\tPara\t1998\t2001\t-\tMar\tSun>=1\t0:00\t0\t-\n# From Rives McDow (2002-02-28):\n# A decree was issued in Paraguay (no. 16350) on 2002-02-26 that changed the\n# dst method to be from the first Sunday in September to the first Sunday in\n# April.\nRule\tPara\t2002\t2004\t-\tApr\tSun>=1\t0:00\t0\t-\nRule\tPara\t2002\t2003\t-\tSep\tSun>=1\t0:00\t1:00\tS\n#\n# From Jesper Norgaard Welen (2005-01-02):\n# There are several sources that claim that Paraguay made\n# a timezone rule change in autumn 2004.\n# From Steffen Thorsen (2005-01-05):\n# Decree 1,867 (2004-03-05)\n# From Carlos Raul Perasso via Jesper Norgaard Welen (2006-10-13)\n# <http://www.presidencia.gov.py/decretos/D1867.pdf>\nRule\tPara\t2004\t2009\t-\tOct\tSun>=15\t0:00\t1:00\tS\nRule\tPara\t2005\t2009\t-\tMar\tSun>=8\t0:00\t0\t-\n# From Carlos Raul Perasso (2010-02-18):\n# By decree number 3958 issued yesterday (\n# <a href=\"http://www.presidencia.gov.py/v1/wp-content/uploads/2010/02/decreto3958.pdf\">\n# http://www.presidencia.gov.py/v1/wp-content/uploads/2010/02/decreto3958.pdf\n# </a>\n# )\n# Paraguay changes its DST schedule, postponing the March rule to April and\n# modifying the October date. The decree reads:\n# ...\n# Art. 1. It is hereby established that from the second Sunday of the month of\n# April of this year (2010), the official time is to be set back 60 minutes,\n# and that on the first Sunday of the month of October, it is to be set\n# forward 60 minutes, in all the territory of the Paraguayan Republic.\n# ...\nRule\tPara\t2010\tmax\t-\tOct\tSun>=1\t0:00\t1:00\tS\nRule\tPara\t2010\t2012\t-\tApr\tSun>=8\t0:00\t0\t-\n#\n# From Steffen Thorsen (2013-03-07):\n# Paraguay will end DST on 2013-03-24 00:00....\n# http://www.ande.gov.py/interna.php?id=1075\n#\n# From Carlos Raul Perasso (2013-03-15):\n# The change in Paraguay is now final.  Decree number 10780\n# http://www.presidencia.gov.py/uploads/pdf/presidencia-3b86ff4b691c79d4f5927ca964922ec74772ce857c02ca054a52a37b49afc7fb.pdf\nRule\tPara\t2013\tmax\t-\tMar\tSun>=22\t0:00\t0\t-\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Asuncion\t-3:50:40 -\tLMT\t1890\n\t\t\t-3:50:40 -\tAMT\t1931 Oct 10 # Asuncion Mean Time\n\t\t\t-4:00\t-\tPYT\t1972 Oct # Paraguay Time\n\t\t\t-3:00\t-\tPYT\t1974 Apr\n\t\t\t-4:00\tPara\tPY%sT\n\n# Peru\n#\n# <a href=\"news:xrGmb.39935$gA1.13896113@news4.srv.hcvlny.cv.net\">\n# From Evelyn C. Leeper via Mark Brader (2003-10-26):</a>\n# When we were in Peru in 1985-1986, they apparently switched over\n# sometime between December 29 and January 3 while we were on the Amazon.\n#\n# From Paul Eggert (2006-03-22):\n# Shanks & Pottenger don't have this transition.  Assume 1986 was like 1987.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tPeru\t1938\tonly\t-\tJan\t 1\t0:00\t1:00\tS\nRule\tPeru\t1938\tonly\t-\tApr\t 1\t0:00\t0\t-\nRule\tPeru\t1938\t1939\t-\tSep\tlastSun\t0:00\t1:00\tS\nRule\tPeru\t1939\t1940\t-\tMar\tSun>=24\t0:00\t0\t-\nRule\tPeru\t1986\t1987\t-\tJan\t 1\t0:00\t1:00\tS\nRule\tPeru\t1986\t1987\t-\tApr\t 1\t0:00\t0\t-\nRule\tPeru\t1990\tonly\t-\tJan\t 1\t0:00\t1:00\tS\nRule\tPeru\t1990\tonly\t-\tApr\t 1\t0:00\t0\t-\n# IATA is ambiguous for 1993/1995; go with Shanks & Pottenger.\nRule\tPeru\t1994\tonly\t-\tJan\t 1\t0:00\t1:00\tS\nRule\tPeru\t1994\tonly\t-\tApr\t 1\t0:00\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAmerica/Lima\t-5:08:12 -\tLMT\t1890\n\t\t\t-5:08:36 -\tLMT\t1908 Jul 28 # Lima Mean Time?\n\t\t\t-5:00\tPeru\tPE%sT\t# Peru Time\n\n# South Georgia\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone Atlantic/South_Georgia -2:26:08 -\tLMT\t1890\t\t# Grytviken\n\t\t\t-2:00\t-\tGST\t# South Georgia Time\n\n# South Sandwich Is\n# uninhabited; scientific personnel have wintered\n\n# Suriname\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Paramaribo\t-3:40:40 -\tLMT\t1911\n\t\t\t-3:40:52 -\tPMT\t1935     # Paramaribo Mean Time\n\t\t\t-3:40:36 -\tPMT\t1945 Oct # The capital moved?\n\t\t\t-3:30\t-\tNEGT\t1975 Nov 20 # Dutch Guiana Time\n\t\t\t-3:30\t-\tSRT\t1984 Oct # Suriname Time\n\t\t\t-3:00\t-\tSRT\n\n# Trinidad and Tobago\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Port_of_Spain -4:06:04 -\tLMT\t1912 Mar 2\n\t\t\t-4:00\t-\tAST\n\nLink America/Port_of_Spain America/Anguilla\nLink America/Port_of_Spain America/Dominica\nLink America/Port_of_Spain America/Grenada\nLink America/Port_of_Spain America/Guadeloupe\nLink America/Port_of_Spain America/Marigot\nLink America/Port_of_Spain America/Montserrat\nLink America/Port_of_Spain America/St_Barthelemy\nLink America/Port_of_Spain America/St_Kitts\nLink America/Port_of_Spain America/St_Lucia\nLink America/Port_of_Spain America/St_Thomas\nLink America/Port_of_Spain America/St_Vincent\nLink America/Port_of_Spain America/Tortola\n\n# Uruguay\n# From Paul Eggert (1993-11-18):\n# Uruguay wins the prize for the strangest peacetime manipulation of the rules.\n# From Shanks & Pottenger:\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\n# Whitman gives 1923 Oct 1; go with Shanks & Pottenger.\nRule\tUruguay\t1923\tonly\t-\tOct\t 2\t 0:00\t0:30\tHS\nRule\tUruguay\t1924\t1926\t-\tApr\t 1\t 0:00\t0\t-\nRule\tUruguay\t1924\t1925\t-\tOct\t 1\t 0:00\t0:30\tHS\nRule\tUruguay\t1933\t1935\t-\tOct\tlastSun\t 0:00\t0:30\tHS\n# Shanks & Pottenger give 1935 Apr 1 0:00 & 1936 Mar 30 0:00; go with Whitman.\nRule\tUruguay\t1934\t1936\t-\tMar\tSat>=25\t23:30s\t0\t-\nRule\tUruguay\t1936\tonly\t-\tNov\t 1\t 0:00\t0:30\tHS\nRule\tUruguay\t1937\t1941\t-\tMar\tlastSun\t 0:00\t0\t-\n# Whitman gives 1937 Oct 3; go with Shanks & Pottenger.\nRule\tUruguay\t1937\t1940\t-\tOct\tlastSun\t 0:00\t0:30\tHS\n# Whitman gives 1941 Oct 24 - 1942 Mar 27, 1942 Dec 14 - 1943 Apr 13,\n# and 1943 Apr 13 \"to present time\"; go with Shanks & Pottenger.\nRule\tUruguay\t1941\tonly\t-\tAug\t 1\t 0:00\t0:30\tHS\nRule\tUruguay\t1942\tonly\t-\tJan\t 1\t 0:00\t0\t-\nRule\tUruguay\t1942\tonly\t-\tDec\t14\t 0:00\t1:00\tS\nRule\tUruguay\t1943\tonly\t-\tMar\t14\t 0:00\t0\t-\nRule\tUruguay\t1959\tonly\t-\tMay\t24\t 0:00\t1:00\tS\nRule\tUruguay\t1959\tonly\t-\tNov\t15\t 0:00\t0\t-\nRule\tUruguay\t1960\tonly\t-\tJan\t17\t 0:00\t1:00\tS\nRule\tUruguay\t1960\tonly\t-\tMar\t 6\t 0:00\t0\t-\nRule\tUruguay\t1965\t1967\t-\tApr\tSun>=1\t 0:00\t1:00\tS\nRule\tUruguay\t1965\tonly\t-\tSep\t26\t 0:00\t0\t-\nRule\tUruguay\t1966\t1967\t-\tOct\t31\t 0:00\t0\t-\nRule\tUruguay\t1968\t1970\t-\tMay\t27\t 0:00\t0:30\tHS\nRule\tUruguay\t1968\t1970\t-\tDec\t 2\t 0:00\t0\t-\nRule\tUruguay\t1972\tonly\t-\tApr\t24\t 0:00\t1:00\tS\nRule\tUruguay\t1972\tonly\t-\tAug\t15\t 0:00\t0\t-\nRule\tUruguay\t1974\tonly\t-\tMar\t10\t 0:00\t0:30\tHS\nRule\tUruguay\t1974\tonly\t-\tDec\t22\t 0:00\t1:00\tS\nRule\tUruguay\t1976\tonly\t-\tOct\t 1\t 0:00\t0\t-\nRule\tUruguay\t1977\tonly\t-\tDec\t 4\t 0:00\t1:00\tS\nRule\tUruguay\t1978\tonly\t-\tApr\t 1\t 0:00\t0\t-\nRule\tUruguay\t1979\tonly\t-\tOct\t 1\t 0:00\t1:00\tS\nRule\tUruguay\t1980\tonly\t-\tMay\t 1\t 0:00\t0\t-\nRule\tUruguay\t1987\tonly\t-\tDec\t14\t 0:00\t1:00\tS\nRule\tUruguay\t1988\tonly\t-\tMar\t14\t 0:00\t0\t-\nRule\tUruguay\t1988\tonly\t-\tDec\t11\t 0:00\t1:00\tS\nRule\tUruguay\t1989\tonly\t-\tMar\t12\t 0:00\t0\t-\nRule\tUruguay\t1989\tonly\t-\tOct\t29\t 0:00\t1:00\tS\n# Shanks & Pottenger say no DST was observed in 1990/1 and 1991/2,\n# and that 1992/3's DST was from 10-25 to 03-01.  Go with IATA.\nRule\tUruguay\t1990\t1992\t-\tMar\tSun>=1\t 0:00\t0\t-\nRule\tUruguay\t1990\t1991\t-\tOct\tSun>=21\t 0:00\t1:00\tS\nRule\tUruguay\t1992\tonly\t-\tOct\t18\t 0:00\t1:00\tS\nRule\tUruguay\t1993\tonly\t-\tFeb\t28\t 0:00\t0\t-\n# From Eduardo Cota (2004-09-20):\n# The uruguayan government has decreed a change in the local time....\n# http://www.presidencia.gub.uy/decretos/2004091502.htm\nRule\tUruguay\t2004\tonly\t-\tSep\t19\t 0:00\t1:00\tS\n# From Steffen Thorsen (2005-03-11):\n# Uruguay's DST was scheduled to end on Sunday, 2005-03-13, but in order to\n# save energy ... it was postponed two weeks....\n# http://www.presidencia.gub.uy/_Web/noticias/2005/03/2005031005.htm\nRule\tUruguay\t2005\tonly\t-\tMar\t27\t 2:00\t0\t-\n# From Eduardo Cota (2005-09-27):\n# http://www.presidencia.gub.uy/_Web/decretos/2005/09/CM%20119_09%2009%202005_00001.PDF\n# This means that from 2005-10-09 at 02:00 local time, until 2006-03-12 at\n# 02:00 local time, official time in Uruguay will be at GMT -2.\nRule\tUruguay\t2005\tonly\t-\tOct\t 9\t 2:00\t1:00\tS\nRule\tUruguay\t2006\tonly\t-\tMar\t12\t 2:00\t0\t-\n# From Jesper Norgaard Welen (2006-09-06):\n# http://www.presidencia.gub.uy/_web/decretos/2006/09/CM%20210_08%2006%202006_00001.PDF\nRule\tUruguay\t2006\tmax\t-\tOct\tSun>=1\t 2:00\t1:00\tS\nRule\tUruguay\t2007\tmax\t-\tMar\tSun>=8\t 2:00\t0\t-\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone America/Montevideo\t-3:44:44 -\tLMT\t1898 Jun 28\n\t\t\t-3:44:44 -\tMMT\t1920 May  1\t# Montevideo MT\n\t\t\t-3:30\tUruguay\tUY%sT\t1942 Dec 14\t# Uruguay Time\n\t\t\t-3:00\tUruguay\tUY%sT\n\n# Venezuela\n#\n# From John Stainforth (2007-11-28):\n# ... the change for Venezuela originally expected for 2007-12-31 has\n# been brought forward to 2007-12-09.  The official announcement was\n# published today in the \"Gaceta Oficial de la Republica Bolivariana\n# de Venezuela, numero 38.819\" (official document for all laws or\n# resolution publication)\n# http://www.globovision.com/news.php?nid=72208\n\n# Zone\tNAME\t\tGMTOFF\tRULES\tFORMAT\t[UNTIL]\nZone\tAmerica/Caracas\t-4:27:44 -\tLMT\t1890\n\t\t\t-4:27:40 -\tCMT\t1912 Feb 12 # Caracas Mean Time?\n\t\t\t-4:30\t-\tVET\t1965\t     # Venezuela Time\n\t\t\t-4:00\t-\tVET\t2007 Dec  9 03:00\n\t\t\t-4:30\t-\tVET\n";

zone_files['systemv'] = "# <pre>\n# This file is in the public domain, so clarified as of\n# 2009-05-17 by Arthur David Olson.\n\n# Old rules, should the need arise.\n# No attempt is made to handle Newfoundland, since it cannot be expressed\n# using the System V \"TZ\" scheme (half-hour offset), or anything outside\n# North America (no support for non-standard DST start/end dates), nor\n# the changes in the DST rules in the US after 1976 (which occurred after\n# the old rules were written).\n#\n# If you need the old rules, uncomment ## lines.\n# Compile this *without* leap second correction for true conformance.\n\n# Rule\tNAME\tFROM\tTO\tTYPE\tIN\tON\tAT\tSAVE\tLETTER/S\nRule\tSystemV\tmin\t1973\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tSystemV\tmin\t1973\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tSystemV\t1974\tonly\t-\tJan\t6\t2:00\t1:00\tD\nRule\tSystemV\t1974\tonly\t-\tNov\tlastSun\t2:00\t0\tS\nRule\tSystemV\t1975\tonly\t-\tFeb\t23\t2:00\t1:00\tD\nRule\tSystemV\t1975\tonly\t-\tOct\tlastSun\t2:00\t0\tS\nRule\tSystemV\t1976\tmax\t-\tApr\tlastSun\t2:00\t1:00\tD\nRule\tSystemV\t1976\tmax\t-\tOct\tlastSun\t2:00\t0\tS\n\n# Zone\tNAME\t\tGMTOFF\tRULES/SAVE\tFORMAT\t[UNTIL]\n## Zone\tSystemV/AST4ADT\t-4:00\tSystemV\t\tA%sT\n## Zone\tSystemV/EST5EDT\t-5:00\tSystemV\t\tE%sT\n## Zone\tSystemV/CST6CDT\t-6:00\tSystemV\t\tC%sT\n## Zone\tSystemV/MST7MDT\t-7:00\tSystemV\t\tM%sT\n## Zone\tSystemV/PST8PDT\t-8:00\tSystemV\t\tP%sT\n## Zone\tSystemV/YST9YDT\t-9:00\tSystemV\t\tY%sT\n## Zone\tSystemV/AST4\t-4:00\t-\t\tAST\n## Zone\tSystemV/EST5\t-5:00\t-\t\tEST\n## Zone\tSystemV/CST6\t-6:00\t-\t\tCST\n## Zone\tSystemV/MST7\t-7:00\t-\t\tMST\n## Zone\tSystemV/PST8\t-8:00\t-\t\tPST\n## Zone\tSystemV/YST9\t-9:00\t-\t\tYST\n## Zone\tSystemV/HST10\t-10:00\t-\t\tHST\n";

zone_files['zone.tab'] = "# TZ zone descriptions\n#\n# This file is in the public domain, so clarified as of\n# 2009-05-17 by Arthur David Olson.\n#\n# From Paul Eggert (2013-08-14):\n#\n# This file contains a table where each row stands for an area that is\n# the intersection of a region identified by a country code and of a\n# zone where civil clocks have agreed since 1970.  The columns of the\n# table are as follows:\n#\n# 1.  ISO 3166 2-character country code.  See the file 'iso3166.tab'.\n# 2.  Latitude and longitude of the area's principal location\n#     in ISO 6709 sign-degrees-minutes-seconds format,\n#     either +-DDMM+-DDDMM or +-DDMMSS+-DDDMMSS,\n#     first latitude (+ is north), then longitude (+ is east).\n# 3.  Zone name used in value of TZ environment variable.\n#     Please see the 'Theory' file for how zone names are chosen.\n#     If multiple zones overlap a country, each has a row in the\n#     table, with column 1 being duplicated.\n# 4.  Comments; present if and only if the country has multiple rows.\n#\n# Columns are separated by a single tab.\n# The table is sorted first by country, then an order within the country that\n# (1) makes some geographical sense, and\n# (2) puts the most populous areas first, where that does not contradict (1).\n#\n# Lines beginning with '#' are comments.\n#\n# This table is intended as an aid for users, to help them select time\n# zone data appropriate for their practical needs.  It is not intended\n# to take or endorse any position on legal or territorial claims.\n#\n#country-\n#code\tcoordinates\tTZ\t\t\tcomments\nAD\t+4230+00131\tEurope/Andorra\nAE\t+2518+05518\tAsia/Dubai\nAF\t+3431+06912\tAsia/Kabul\nAG\t+1703-06148\tAmerica/Antigua\nAI\t+1812-06304\tAmerica/Anguilla\nAL\t+4120+01950\tEurope/Tirane\nAM\t+4011+04430\tAsia/Yerevan\nAO\t-0848+01314\tAfrica/Luanda\nAQ\t-7750+16636\tAntarctica/McMurdo\tMcMurdo, South Pole, Scott (New Zealand time)\nAQ\t-6734-06808\tAntarctica/Rothera\tRothera Station, Adelaide Island\nAQ\t-6448-06406\tAntarctica/Palmer\tPalmer Station, Anvers Island\nAQ\t-6736+06253\tAntarctica/Mawson\tMawson Station, Holme Bay\nAQ\t-6835+07758\tAntarctica/Davis\tDavis Station, Vestfold Hills\nAQ\t-6617+11031\tAntarctica/Casey\tCasey Station, Bailey Peninsula\nAQ\t-7824+10654\tAntarctica/Vostok\tVostok Station, Lake Vostok\nAQ\t-6640+14001\tAntarctica/DumontDUrville\tDumont-d'Urville Station, Terre Adelie\nAQ\t-690022+0393524\tAntarctica/Syowa\tSyowa Station, E Ongul I\nAR\t-3436-05827\tAmerica/Argentina/Buenos_Aires\tBuenos Aires (BA, CF)\nAR\t-3124-06411\tAmerica/Argentina/Cordoba\tmost locations (CB, CC, CN, ER, FM, MN, SE, SF)\nAR\t-2447-06525\tAmerica/Argentina/Salta\t(SA, LP, NQ, RN)\nAR\t-2411-06518\tAmerica/Argentina/Jujuy\tJujuy (JY)\nAR\t-2649-06513\tAmerica/Argentina/Tucuman\tTucuman (TM)\nAR\t-2828-06547\tAmerica/Argentina/Catamarca\tCatamarca (CT), Chubut (CH)\nAR\t-2926-06651\tAmerica/Argentina/La_Rioja\tLa Rioja (LR)\nAR\t-3132-06831\tAmerica/Argentina/San_Juan\tSan Juan (SJ)\nAR\t-3253-06849\tAmerica/Argentina/Mendoza\tMendoza (MZ)\nAR\t-3319-06621\tAmerica/Argentina/San_Luis\tSan Luis (SL)\nAR\t-5138-06913\tAmerica/Argentina/Rio_Gallegos\tSanta Cruz (SC)\nAR\t-5448-06818\tAmerica/Argentina/Ushuaia\tTierra del Fuego (TF)\nAS\t-1416-17042\tPacific/Pago_Pago\nAT\t+4813+01620\tEurope/Vienna\nAU\t-3133+15905\tAustralia/Lord_Howe\tLord Howe Island\nAU\t-5430+15857\tAntarctica/Macquarie\tMacquarie Island\nAU\t-4253+14719\tAustralia/Hobart\tTasmania - most locations\nAU\t-3956+14352\tAustralia/Currie\tTasmania - King Island\nAU\t-3749+14458\tAustralia/Melbourne\tVictoria\nAU\t-3352+15113\tAustralia/Sydney\tNew South Wales - most locations\nAU\t-3157+14127\tAustralia/Broken_Hill\tNew South Wales - Yancowinna\nAU\t-2728+15302\tAustralia/Brisbane\tQueensland - most locations\nAU\t-2016+14900\tAustralia/Lindeman\tQueensland - Holiday Islands\nAU\t-3455+13835\tAustralia/Adelaide\tSouth Australia\nAU\t-1228+13050\tAustralia/Darwin\tNorthern Territory\nAU\t-3157+11551\tAustralia/Perth\tWestern Australia - most locations\nAU\t-3143+12852\tAustralia/Eucla\tWestern Australia - Eucla area\nAW\t+1230-06958\tAmerica/Aruba\nAX\t+6006+01957\tEurope/Mariehamn\nAZ\t+4023+04951\tAsia/Baku\nBA\t+4352+01825\tEurope/Sarajevo\nBB\t+1306-05937\tAmerica/Barbados\nBD\t+2343+09025\tAsia/Dhaka\nBE\t+5050+00420\tEurope/Brussels\nBF\t+1222-00131\tAfrica/Ouagadougou\nBG\t+4241+02319\tEurope/Sofia\nBH\t+2623+05035\tAsia/Bahrain\nBI\t-0323+02922\tAfrica/Bujumbura\nBJ\t+0629+00237\tAfrica/Porto-Novo\nBL\t+1753-06251\tAmerica/St_Barthelemy\nBM\t+3217-06446\tAtlantic/Bermuda\nBN\t+0456+11455\tAsia/Brunei\nBO\t-1630-06809\tAmerica/La_Paz\nBQ\t+120903-0681636\tAmerica/Kralendijk\nBR\t-0351-03225\tAmerica/Noronha\tAtlantic islands\nBR\t-0127-04829\tAmerica/Belem\tAmapa, E Para\nBR\t-0343-03830\tAmerica/Fortaleza\tNE Brazil (MA, PI, CE, RN, PB)\nBR\t-0803-03454\tAmerica/Recife\tPernambuco\nBR\t-0712-04812\tAmerica/Araguaina\tTocantins\nBR\t-0940-03543\tAmerica/Maceio\tAlagoas, Sergipe\nBR\t-1259-03831\tAmerica/Bahia\tBahia\nBR\t-2332-04637\tAmerica/Sao_Paulo\tS & SE Brazil (GO, DF, MG, ES, RJ, SP, PR, SC, RS)\nBR\t-2027-05437\tAmerica/Campo_Grande\tMato Grosso do Sul\nBR\t-1535-05605\tAmerica/Cuiaba\tMato Grosso\nBR\t-0226-05452\tAmerica/Santarem\tW Para\nBR\t-0846-06354\tAmerica/Porto_Velho\tRondonia\nBR\t+0249-06040\tAmerica/Boa_Vista\tRoraima\nBR\t-0308-06001\tAmerica/Manaus\tE Amazonas\nBR\t-0640-06952\tAmerica/Eirunepe\tW Amazonas\nBR\t-0958-06748\tAmerica/Rio_Branco\tAcre\nBS\t+2505-07721\tAmerica/Nassau\nBT\t+2728+08939\tAsia/Thimphu\nBW\t-2439+02555\tAfrica/Gaborone\nBY\t+5354+02734\tEurope/Minsk\nBZ\t+1730-08812\tAmerica/Belize\nCA\t+4734-05243\tAmerica/St_Johns\tNewfoundland Time, including SE Labrador\nCA\t+4439-06336\tAmerica/Halifax\tAtlantic Time - Nova Scotia (most places), PEI\nCA\t+4612-05957\tAmerica/Glace_Bay\tAtlantic Time - Nova Scotia - places that did not observe DST 1966-1971\nCA\t+4606-06447\tAmerica/Moncton\tAtlantic Time - New Brunswick\nCA\t+5320-06025\tAmerica/Goose_Bay\tAtlantic Time - Labrador - most locations\nCA\t+5125-05707\tAmerica/Blanc-Sablon\tAtlantic Standard Time - Quebec - Lower North Shore\nCA\t+4339-07923\tAmerica/Toronto\tEastern Time - Ontario & Quebec - most locations\nCA\t+4901-08816\tAmerica/Nipigon\tEastern Time - Ontario & Quebec - places that did not observe DST 1967-1973\nCA\t+4823-08915\tAmerica/Thunder_Bay\tEastern Time - Thunder Bay, Ontario\nCA\t+6344-06828\tAmerica/Iqaluit\tEastern Time - east Nunavut - most locations\nCA\t+6608-06544\tAmerica/Pangnirtung\tEastern Time - Pangnirtung, Nunavut\nCA\t+744144-0944945\tAmerica/Resolute\tCentral Standard Time - Resolute, Nunavut\nCA\t+484531-0913718\tAmerica/Atikokan\tEastern Standard Time - Atikokan, Ontario and Southampton I, Nunavut\nCA\t+624900-0920459\tAmerica/Rankin_Inlet\tCentral Time - central Nunavut\nCA\t+4953-09709\tAmerica/Winnipeg\tCentral Time - Manitoba & west Ontario\nCA\t+4843-09434\tAmerica/Rainy_River\tCentral Time - Rainy River & Fort Frances, Ontario\nCA\t+5024-10439\tAmerica/Regina\tCentral Standard Time - Saskatchewan - most locations\nCA\t+5017-10750\tAmerica/Swift_Current\tCentral Standard Time - Saskatchewan - midwest\nCA\t+5333-11328\tAmerica/Edmonton\tMountain Time - Alberta, east British Columbia & west Saskatchewan\nCA\t+690650-1050310\tAmerica/Cambridge_Bay\tMountain Time - west Nunavut\nCA\t+6227-11421\tAmerica/Yellowknife\tMountain Time - central Northwest Territories\nCA\t+682059-1334300\tAmerica/Inuvik\tMountain Time - west Northwest Territories\nCA\t+4906-11631\tAmerica/Creston\tMountain Standard Time - Creston, British Columbia\nCA\t+5946-12014\tAmerica/Dawson_Creek\tMountain Standard Time - Dawson Creek & Fort Saint John, British Columbia\nCA\t+4916-12307\tAmerica/Vancouver\tPacific Time - west British Columbia\nCA\t+6043-13503\tAmerica/Whitehorse\tPacific Time - south Yukon\nCA\t+6404-13925\tAmerica/Dawson\tPacific Time - north Yukon\nCC\t-1210+09655\tIndian/Cocos\nCD\t-0418+01518\tAfrica/Kinshasa\twest Dem. Rep. of Congo\nCD\t-1140+02728\tAfrica/Lubumbashi\teast Dem. Rep. of Congo\nCF\t+0422+01835\tAfrica/Bangui\nCG\t-0416+01517\tAfrica/Brazzaville\nCH\t+4723+00832\tEurope/Zurich\nCI\t+0519-00402\tAfrica/Abidjan\nCK\t-2114-15946\tPacific/Rarotonga\nCL\t-3327-07040\tAmerica/Santiago\tmost locations\nCL\t-2709-10926\tPacific/Easter\tEaster Island & Sala y Gomez\nCM\t+0403+00942\tAfrica/Douala\nCN\t+3114+12128\tAsia/Shanghai\teast China - Beijing, Guangdong, Shanghai, etc.\nCN\t+4545+12641\tAsia/Harbin\tHeilongjiang (except Mohe), Jilin\nCN\t+2934+10635\tAsia/Chongqing\tcentral China - Sichuan, Yunnan, Guangxi, Shaanxi, Guizhou, etc.\nCN\t+4348+08735\tAsia/Urumqi\tmost of Tibet & Xinjiang\nCN\t+3929+07559\tAsia/Kashgar\twest Tibet & Xinjiang\nCO\t+0436-07405\tAmerica/Bogota\nCR\t+0956-08405\tAmerica/Costa_Rica\nCU\t+2308-08222\tAmerica/Havana\nCV\t+1455-02331\tAtlantic/Cape_Verde\nCW\t+1211-06900\tAmerica/Curacao\nCX\t-1025+10543\tIndian/Christmas\nCY\t+3510+03322\tAsia/Nicosia\nCZ\t+5005+01426\tEurope/Prague\nDE\t+5230+01322\tEurope/Berlin\tmost locations\nDE\t+4742+00841\tEurope/Busingen\tBusingen\nDJ\t+1136+04309\tAfrica/Djibouti\nDK\t+5540+01235\tEurope/Copenhagen\nDM\t+1518-06124\tAmerica/Dominica\nDO\t+1828-06954\tAmerica/Santo_Domingo\nDZ\t+3647+00303\tAfrica/Algiers\nEC\t-0210-07950\tAmerica/Guayaquil\tmainland\nEC\t-0054-08936\tPacific/Galapagos\tGalapagos Islands\nEE\t+5925+02445\tEurope/Tallinn\nEG\t+3003+03115\tAfrica/Cairo\nEH\t+2709-01312\tAfrica/El_Aaiun\nER\t+1520+03853\tAfrica/Asmara\nES\t+4024-00341\tEurope/Madrid\tmainland\nES\t+3553-00519\tAfrica/Ceuta\tCeuta & Melilla\nES\t+2806-01524\tAtlantic/Canary\tCanary Islands\nET\t+0902+03842\tAfrica/Addis_Ababa\nFI\t+6010+02458\tEurope/Helsinki\nFJ\t-1808+17825\tPacific/Fiji\nFK\t-5142-05751\tAtlantic/Stanley\nFM\t+0725+15147\tPacific/Chuuk\tChuuk (Truk) and Yap\nFM\t+0658+15813\tPacific/Pohnpei\tPohnpei (Ponape)\nFM\t+0519+16259\tPacific/Kosrae\tKosrae\nFO\t+6201-00646\tAtlantic/Faroe\nFR\t+4852+00220\tEurope/Paris\nGA\t+0023+00927\tAfrica/Libreville\nGB\t+513030-0000731\tEurope/London\nGD\t+1203-06145\tAmerica/Grenada\nGE\t+4143+04449\tAsia/Tbilisi\nGF\t+0456-05220\tAmerica/Cayenne\nGG\t+4927-00232\tEurope/Guernsey\nGH\t+0533-00013\tAfrica/Accra\nGI\t+3608-00521\tEurope/Gibraltar\nGL\t+6411-05144\tAmerica/Godthab\tmost locations\nGL\t+7646-01840\tAmerica/Danmarkshavn\teast coast, north of Scoresbysund\nGL\t+7029-02158\tAmerica/Scoresbysund\tScoresbysund / Ittoqqortoormiit\nGL\t+7634-06847\tAmerica/Thule\tThule / Pituffik\nGM\t+1328-01639\tAfrica/Banjul\nGN\t+0931-01343\tAfrica/Conakry\nGP\t+1614-06132\tAmerica/Guadeloupe\nGQ\t+0345+00847\tAfrica/Malabo\nGR\t+3758+02343\tEurope/Athens\nGS\t-5416-03632\tAtlantic/South_Georgia\nGT\t+1438-09031\tAmerica/Guatemala\nGU\t+1328+14445\tPacific/Guam\nGW\t+1151-01535\tAfrica/Bissau\nGY\t+0648-05810\tAmerica/Guyana\nHK\t+2217+11409\tAsia/Hong_Kong\nHN\t+1406-08713\tAmerica/Tegucigalpa\nHR\t+4548+01558\tEurope/Zagreb\nHT\t+1832-07220\tAmerica/Port-au-Prince\nHU\t+4730+01905\tEurope/Budapest\nID\t-0610+10648\tAsia/Jakarta\tJava & Sumatra\nID\t-0002+10920\tAsia/Pontianak\twest & central Borneo\nID\t-0507+11924\tAsia/Makassar\teast & south Borneo, Sulawesi (Celebes), Bali, Nusa Tengarra, west Timor\nID\t-0232+14042\tAsia/Jayapura\twest New Guinea (Irian Jaya) & Malukus (Moluccas)\nIE\t+5320-00615\tEurope/Dublin\nIL\t+314650+0351326\tAsia/Jerusalem\nIM\t+5409-00428\tEurope/Isle_of_Man\nIN\t+2232+08822\tAsia/Kolkata\nIO\t-0720+07225\tIndian/Chagos\nIQ\t+3321+04425\tAsia/Baghdad\nIR\t+3540+05126\tAsia/Tehran\nIS\t+6409-02151\tAtlantic/Reykjavik\nIT\t+4154+01229\tEurope/Rome\nJE\t+4912-00207\tEurope/Jersey\nJM\t+175805-0764736\tAmerica/Jamaica\nJO\t+3157+03556\tAsia/Amman\nJP\t+353916+1394441\tAsia/Tokyo\nKE\t-0117+03649\tAfrica/Nairobi\nKG\t+4254+07436\tAsia/Bishkek\nKH\t+1133+10455\tAsia/Phnom_Penh\nKI\t+0125+17300\tPacific/Tarawa\tGilbert Islands\nKI\t-0308-17105\tPacific/Enderbury\tPhoenix Islands\nKI\t+0152-15720\tPacific/Kiritimati\tLine Islands\nKM\t-1141+04316\tIndian/Comoro\nKN\t+1718-06243\tAmerica/St_Kitts\nKP\t+3901+12545\tAsia/Pyongyang\nKR\t+3733+12658\tAsia/Seoul\nKW\t+2920+04759\tAsia/Kuwait\nKY\t+1918-08123\tAmerica/Cayman\nKZ\t+4315+07657\tAsia/Almaty\tmost locations\nKZ\t+4448+06528\tAsia/Qyzylorda\tQyzylorda (Kyzylorda, Kzyl-Orda)\nKZ\t+5017+05710\tAsia/Aqtobe\tAqtobe (Aktobe)\nKZ\t+4431+05016\tAsia/Aqtau\tAtyrau (Atirau, Gur'yev), Mangghystau (Mankistau)\nKZ\t+5113+05121\tAsia/Oral\tWest Kazakhstan\nLA\t+1758+10236\tAsia/Vientiane\nLB\t+3353+03530\tAsia/Beirut\nLC\t+1401-06100\tAmerica/St_Lucia\nLI\t+4709+00931\tEurope/Vaduz\nLK\t+0656+07951\tAsia/Colombo\nLR\t+0618-01047\tAfrica/Monrovia\nLS\t-2928+02730\tAfrica/Maseru\nLT\t+5441+02519\tEurope/Vilnius\nLU\t+4936+00609\tEurope/Luxembourg\nLV\t+5657+02406\tEurope/Riga\nLY\t+3254+01311\tAfrica/Tripoli\nMA\t+3339-00735\tAfrica/Casablanca\nMC\t+4342+00723\tEurope/Monaco\nMD\t+4700+02850\tEurope/Chisinau\nME\t+4226+01916\tEurope/Podgorica\nMF\t+1804-06305\tAmerica/Marigot\nMG\t-1855+04731\tIndian/Antananarivo\nMH\t+0709+17112\tPacific/Majuro\tmost locations\nMH\t+0905+16720\tPacific/Kwajalein\tKwajalein\nMK\t+4159+02126\tEurope/Skopje\nML\t+1239-00800\tAfrica/Bamako\nMM\t+1647+09610\tAsia/Rangoon\nMN\t+4755+10653\tAsia/Ulaanbaatar\tmost locations\nMN\t+4801+09139\tAsia/Hovd\tBayan-Olgiy, Govi-Altai, Hovd, Uvs, Zavkhan\nMN\t+4804+11430\tAsia/Choibalsan\tDornod, Sukhbaatar\nMO\t+2214+11335\tAsia/Macau\nMP\t+1512+14545\tPacific/Saipan\nMQ\t+1436-06105\tAmerica/Martinique\nMR\t+1806-01557\tAfrica/Nouakchott\nMS\t+1643-06213\tAmerica/Montserrat\nMT\t+3554+01431\tEurope/Malta\nMU\t-2010+05730\tIndian/Mauritius\nMV\t+0410+07330\tIndian/Maldives\nMW\t-1547+03500\tAfrica/Blantyre\nMX\t+1924-09909\tAmerica/Mexico_City\tCentral Time - most locations\nMX\t+2105-08646\tAmerica/Cancun\tCentral Time - Quintana Roo\nMX\t+2058-08937\tAmerica/Merida\tCentral Time - Campeche, Yucatan\nMX\t+2540-10019\tAmerica/Monterrey\tMexican Central Time - Coahuila, Durango, Nuevo Leon, Tamaulipas away from US border\nMX\t+2550-09730\tAmerica/Matamoros\tUS Central Time - Coahuila, Durango, Nuevo Leon, Tamaulipas near US border\nMX\t+2313-10625\tAmerica/Mazatlan\tMountain Time - S Baja, Nayarit, Sinaloa\nMX\t+2838-10605\tAmerica/Chihuahua\tMexican Mountain Time - Chihuahua away from US border\nMX\t+2934-10425\tAmerica/Ojinaga\tUS Mountain Time - Chihuahua near US border\nMX\t+2904-11058\tAmerica/Hermosillo\tMountain Standard Time - Sonora\nMX\t+3232-11701\tAmerica/Tijuana\tUS Pacific Time - Baja California near US border\nMX\t+3018-11452\tAmerica/Santa_Isabel\tMexican Pacific Time - Baja California away from US border\nMX\t+2048-10515\tAmerica/Bahia_Banderas\tMexican Central Time - Bahia de Banderas\nMY\t+0310+10142\tAsia/Kuala_Lumpur\tpeninsular Malaysia\nMY\t+0133+11020\tAsia/Kuching\tSabah & Sarawak\nMZ\t-2558+03235\tAfrica/Maputo\nNA\t-2234+01706\tAfrica/Windhoek\nNC\t-2216+16627\tPacific/Noumea\nNE\t+1331+00207\tAfrica/Niamey\nNF\t-2903+16758\tPacific/Norfolk\nNG\t+0627+00324\tAfrica/Lagos\nNI\t+1209-08617\tAmerica/Managua\nNL\t+5222+00454\tEurope/Amsterdam\nNO\t+5955+01045\tEurope/Oslo\nNP\t+2743+08519\tAsia/Kathmandu\nNR\t-0031+16655\tPacific/Nauru\nNU\t-1901-16955\tPacific/Niue\nNZ\t-3652+17446\tPacific/Auckland\tmost locations\nNZ\t-4357-17633\tPacific/Chatham\tChatham Islands\nOM\t+2336+05835\tAsia/Muscat\nPA\t+0858-07932\tAmerica/Panama\nPE\t-1203-07703\tAmerica/Lima\nPF\t-1732-14934\tPacific/Tahiti\tSociety Islands\nPF\t-0900-13930\tPacific/Marquesas\tMarquesas Islands\nPF\t-2308-13457\tPacific/Gambier\tGambier Islands\nPG\t-0930+14710\tPacific/Port_Moresby\nPH\t+1435+12100\tAsia/Manila\nPK\t+2452+06703\tAsia/Karachi\nPL\t+5215+02100\tEurope/Warsaw\nPM\t+4703-05620\tAmerica/Miquelon\nPN\t-2504-13005\tPacific/Pitcairn\nPR\t+182806-0660622\tAmerica/Puerto_Rico\nPS\t+3130+03428\tAsia/Gaza\tGaza Strip\nPS\t+313200+0350542\tAsia/Hebron\tWest Bank\nPT\t+3843-00908\tEurope/Lisbon\tmainland\nPT\t+3238-01654\tAtlantic/Madeira\tMadeira Islands\nPT\t+3744-02540\tAtlantic/Azores\tAzores\nPW\t+0720+13429\tPacific/Palau\nPY\t-2516-05740\tAmerica/Asuncion\nQA\t+2517+05132\tAsia/Qatar\nRE\t-2052+05528\tIndian/Reunion\nRO\t+4426+02606\tEurope/Bucharest\nRS\t+4450+02030\tEurope/Belgrade\nRU\t+5443+02030\tEurope/Kaliningrad\tMoscow-01 - Kaliningrad\nRU\t+5545+03735\tEurope/Moscow\tMoscow+00 - west Russia\nRU\t+4844+04425\tEurope/Volgograd\tMoscow+00 - Caspian Sea\nRU\t+5312+05009\tEurope/Samara\tMoscow+00 - Samara, Udmurtia\nRU\t+5651+06036\tAsia/Yekaterinburg\tMoscow+02 - Urals\nRU\t+5500+07324\tAsia/Omsk\tMoscow+03 - west Siberia\nRU\t+5502+08255\tAsia/Novosibirsk\tMoscow+03 - Novosibirsk\nRU\t+5345+08707\tAsia/Novokuznetsk\tMoscow+03 - Novokuznetsk\nRU\t+5601+09250\tAsia/Krasnoyarsk\tMoscow+04 - Yenisei River\nRU\t+5216+10420\tAsia/Irkutsk\tMoscow+05 - Lake Baikal\nRU\t+6200+12940\tAsia/Yakutsk\tMoscow+06 - Lena River\nRU\t+623923+1353314\tAsia/Khandyga\tMoscow+06 - Tomponsky, Ust-Maysky\nRU\t+4310+13156\tAsia/Vladivostok\tMoscow+07 - Amur River\nRU\t+4658+14242\tAsia/Sakhalin\tMoscow+07 - Sakhalin Island\nRU\t+643337+1431336\tAsia/Ust-Nera\tMoscow+07 - Oymyakonsky\nRU\t+5934+15048\tAsia/Magadan\tMoscow+08 - Magadan\nRU\t+5301+15839\tAsia/Kamchatka\tMoscow+08 - Kamchatka\nRU\t+6445+17729\tAsia/Anadyr\tMoscow+08 - Bering Sea\nRW\t-0157+03004\tAfrica/Kigali\nSA\t+2438+04643\tAsia/Riyadh\nSB\t-0932+16012\tPacific/Guadalcanal\nSC\t-0440+05528\tIndian/Mahe\nSD\t+1536+03232\tAfrica/Khartoum\nSE\t+5920+01803\tEurope/Stockholm\nSG\t+0117+10351\tAsia/Singapore\nSH\t-1555-00542\tAtlantic/St_Helena\nSI\t+4603+01431\tEurope/Ljubljana\nSJ\t+7800+01600\tArctic/Longyearbyen\nSK\t+4809+01707\tEurope/Bratislava\nSL\t+0830-01315\tAfrica/Freetown\nSM\t+4355+01228\tEurope/San_Marino\nSN\t+1440-01726\tAfrica/Dakar\nSO\t+0204+04522\tAfrica/Mogadishu\nSR\t+0550-05510\tAmerica/Paramaribo\nSS\t+0451+03136\tAfrica/Juba\nST\t+0020+00644\tAfrica/Sao_Tome\nSV\t+1342-08912\tAmerica/El_Salvador\nSX\t+180305-0630250\tAmerica/Lower_Princes\nSY\t+3330+03618\tAsia/Damascus\nSZ\t-2618+03106\tAfrica/Mbabane\nTC\t+2128-07108\tAmerica/Grand_Turk\nTD\t+1207+01503\tAfrica/Ndjamena\nTF\t-492110+0701303\tIndian/Kerguelen\nTG\t+0608+00113\tAfrica/Lome\nTH\t+1345+10031\tAsia/Bangkok\nTJ\t+3835+06848\tAsia/Dushanbe\nTK\t-0922-17114\tPacific/Fakaofo\nTL\t-0833+12535\tAsia/Dili\nTM\t+3757+05823\tAsia/Ashgabat\nTN\t+3648+01011\tAfrica/Tunis\nTO\t-2110-17510\tPacific/Tongatapu\nTR\t+4101+02858\tEurope/Istanbul\nTT\t+1039-06131\tAmerica/Port_of_Spain\nTV\t-0831+17913\tPacific/Funafuti\nTW\t+2503+12130\tAsia/Taipei\nTZ\t-0648+03917\tAfrica/Dar_es_Salaam\nUA\t+5026+03031\tEurope/Kiev\tmost locations\nUA\t+4837+02218\tEurope/Uzhgorod\tRuthenia\nUA\t+4750+03510\tEurope/Zaporozhye\tZaporozh'ye, E Lugansk / Zaporizhia, E Luhansk\nUA\t+4457+03406\tEurope/Simferopol\tcentral Crimea\nUG\t+0019+03225\tAfrica/Kampala\nUM\t+1645-16931\tPacific/Johnston\tJohnston Atoll\nUM\t+2813-17722\tPacific/Midway\tMidway Islands\nUM\t+1917+16637\tPacific/Wake\tWake Island\nUS\t+404251-0740023\tAmerica/New_York\tEastern Time\nUS\t+421953-0830245\tAmerica/Detroit\tEastern Time - Michigan - most locations\nUS\t+381515-0854534\tAmerica/Kentucky/Louisville\tEastern Time - Kentucky - Louisville area\nUS\t+364947-0845057\tAmerica/Kentucky/Monticello\tEastern Time - Kentucky - Wayne County\nUS\t+394606-0860929\tAmerica/Indiana/Indianapolis\tEastern Time - Indiana - most locations\nUS\t+384038-0873143\tAmerica/Indiana/Vincennes\tEastern Time - Indiana - Daviess, Dubois, Knox & Martin Counties\nUS\t+410305-0863611\tAmerica/Indiana/Winamac\tEastern Time - Indiana - Pulaski County\nUS\t+382232-0862041\tAmerica/Indiana/Marengo\tEastern Time - Indiana - Crawford County\nUS\t+382931-0871643\tAmerica/Indiana/Petersburg\tEastern Time - Indiana - Pike County\nUS\t+384452-0850402\tAmerica/Indiana/Vevay\tEastern Time - Indiana - Switzerland County\nUS\t+415100-0873900\tAmerica/Chicago\tCentral Time\nUS\t+375711-0864541\tAmerica/Indiana/Tell_City\tCentral Time - Indiana - Perry County\nUS\t+411745-0863730\tAmerica/Indiana/Knox\tCentral Time - Indiana - Starke County\nUS\t+450628-0873651\tAmerica/Menominee\tCentral Time - Michigan - Dickinson, Gogebic, Iron & Menominee Counties\nUS\t+470659-1011757\tAmerica/North_Dakota/Center\tCentral Time - North Dakota - Oliver County\nUS\t+465042-1012439\tAmerica/North_Dakota/New_Salem\tCentral Time - North Dakota - Morton County (except Mandan area)\nUS\t+471551-1014640\tAmerica/North_Dakota/Beulah\tCentral Time - North Dakota - Mercer County\nUS\t+394421-1045903\tAmerica/Denver\tMountain Time\nUS\t+433649-1161209\tAmerica/Boise\tMountain Time - south Idaho & east Oregon\nUS\t+332654-1120424\tAmerica/Phoenix\tMountain Standard Time - Arizona (except Navajo)\nUS\t+340308-1181434\tAmerica/Los_Angeles\tPacific Time\nUS\t+611305-1495401\tAmerica/Anchorage\tAlaska Time\nUS\t+581807-1342511\tAmerica/Juneau\tAlaska Time - Alaska panhandle\nUS\t+571035-1351807\tAmerica/Sitka\tAlaska Time - southeast Alaska panhandle\nUS\t+593249-1394338\tAmerica/Yakutat\tAlaska Time - Alaska panhandle neck\nUS\t+643004-1652423\tAmerica/Nome\tAlaska Time - west Alaska\nUS\t+515248-1763929\tAmerica/Adak\tAleutian Islands\nUS\t+550737-1313435\tAmerica/Metlakatla\tMetlakatla Time - Annette Island\nUS\t+211825-1575130\tPacific/Honolulu\tHawaii\nUY\t-3453-05611\tAmerica/Montevideo\nUZ\t+3940+06648\tAsia/Samarkand\twest Uzbekistan\nUZ\t+4120+06918\tAsia/Tashkent\teast Uzbekistan\nVA\t+415408+0122711\tEurope/Vatican\nVC\t+1309-06114\tAmerica/St_Vincent\nVE\t+1030-06656\tAmerica/Caracas\nVG\t+1827-06437\tAmerica/Tortola\nVI\t+1821-06456\tAmerica/St_Thomas\nVN\t+1045+10640\tAsia/Ho_Chi_Minh\nVU\t-1740+16825\tPacific/Efate\nWF\t-1318-17610\tPacific/Wallis\nWS\t-1350-17144\tPacific/Apia\nYE\t+1245+04512\tAsia/Aden\nYT\t-1247+04514\tIndian/Mayotte\nZA\t-2615+02800\tAfrica/Johannesburg\nZM\t-1525+02817\tAfrica/Lusaka\nZW\t-1750+03103\tAfrica/Harare\n";


},{}],18:[function(require,module,exports){
var $, jQuery;

$ = jQuery = require('jquery-browserify');

this.logger = function(txt) {
  var elem;
  console.log(txt);
  elem = $('<span></span>');
  elem.text(txt);
  return ($('#logger')).prepend(elem);
};


},{"jquery-browserify":8}]},{},[15])
;